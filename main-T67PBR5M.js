import{B as Qo,C as gn,D as hr,I as Jo,J as cr,L as qo,Q as _o,a as ys,b as Wo,c as Xo,d as Te,e as Ts,f as Ki,g as jo,h as or,i as Ko,j as pn,k as Ss,l as $o,m as Zo,n as mn,o as lr,p as mt,q as Ee,r as ce,s as gt,t as we,u as Cs,v as Ms}from"./chunk-V37T7U6W.js";import{$ as cn,$a as Io,A as je,Aa as Wi,Ab as Ho,B as yi,Ba as Xi,Bb as Yo,C as ti,Ca as Po,Cb as si,D as Ti,Da as wo,Db as nt,E as ns,Ea as zo,Eb as vn,F as Bt,Fa as Ao,Fb as nr,G as Gi,Ga as Do,Gb as ms,H as Si,Ha as Fo,Hb as rr,I as Ht,Ia as Lo,Ib as Ai,J as ii,Ja as jt,Jb as No,K as rs,Ka as Ro,Kb as gs,L as po,La as un,Lb as Uo,M as mo,Ma as qe,Mb as sr,N as go,Na as he,Nb as pt,O as Xt,Oa as hs,Ob as Go,P as ct,Pa as At,Pb as ko,Q as Se,Qa as Oo,Qb as Me,R as xo,Ra as cs,Rb as ar,S as Ke,Sa as Dt,Sb as xs,T as Fe,Ta as St,U as se,Ua as ri,V as ze,Va as dn,W as yo,Wa as fn,X as ve,Xa as ut,Y as ss,Ya as bo,Z as ee,Za as Vo,_ as te,_a as lt,a as re,aa as $e,ab as us,b as Ne,ba as Ae,bb as tr,c as ho,ca as Ze,cb as We,d as v2,da as Tt,db as wi,e as p2,ea as To,eb as _e,f as _r,fa as So,fb as Ft,g as It,ga as ni,gb as Ge,h as co,ha as Rt,hb as Qe,i as xi,ia as Ue,ib as et,j as es,ja as Ci,jb as ds,k as ts,ka as Mi,kb as fs,l as de,la as ki,lb as ji,m as ke,ma as Co,mb as vs,n as _t,na as Ei,o as ot,oa as er,ob as vt,p as ue,pa as Ie,pb as it,q as ln,qa as Le,qb as Ot,r as _n,ra as as,rb as Ct,s as uo,sa as Oe,sb as Ut,t as pe,ta as Mo,tb as ir,u as ei,ua as os,ub as Mt,v as ft,va as Eo,vb as Et,w as fo,wa as Yt,wb as zi,x as is,xa as Nt,xb as Kt,y as vo,ya as Pi,yb as ps,z as hn,za as ls,zb as Bo}from"./chunk-PTQAILQI.js";var f1=v2((Xn,Ea)=>{"use strict";(function(P,S){typeof Xn=="object"&&typeof Ea=="object"?Ea.exports=S():typeof define=="function"&&define.amd?define("Phaser",[],S):typeof Xn=="object"?Xn.Phaser=S():P.Phaser=S()})(Xn,()=>(()=>{var M={50792:u=>{"use strict";var x=Object.prototype.hasOwnProperty,e="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(e=!1));function p(t,n,h){this.fn=t,this.context=n,this.once=h||!1}function a(t,n,h,i,o){if(typeof h!="function")throw new TypeError("The listener must be a function");var c=new p(h,i||t,o),d=e?e+n:n;return t._events[d]?t._events[d].fn?t._events[d]=[t._events[d],c]:t._events[d].push(c):(t._events[d]=c,t._eventsCount++),t}function s(t,n){--t._eventsCount===0?t._events=new l:delete t._events[n]}function r(){this._events=new l,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],h,i;if(this._eventsCount===0)return n;for(i in h=this._events)x.call(h,i)&&n.push(e?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(h)):n},r.prototype.listeners=function(n){var h=e?e+n:n,i=this._events[h];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,c=i.length,d=new Array(c);o<c;o++)d[o]=i[o].fn;return d},r.prototype.listenerCount=function(n){var h=e?e+n:n,i=this._events[h];return i?i.fn?1:i.length:0},r.prototype.emit=function(n,h,i,o,c,d){var f=e?e+n:n;if(!this._events[f])return!1;var v=this._events[f],m=arguments.length,g,y;if(v.fn){switch(v.once&&this.removeListener(n,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,i),!0;case 4:return v.fn.call(v.context,h,i,o),!0;case 5:return v.fn.call(v.context,h,i,o,c),!0;case 6:return v.fn.call(v.context,h,i,o,c,d),!0}for(y=1,g=new Array(m-1);y<m;y++)g[y-1]=arguments[y];v.fn.apply(v.context,g)}else{var T=v.length,C;for(y=0;y<T;y++)switch(v[y].once&&this.removeListener(n,v[y].fn,void 0,!0),m){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,h);break;case 3:v[y].fn.call(v[y].context,h,i);break;case 4:v[y].fn.call(v[y].context,h,i,o);break;default:if(!g)for(C=1,g=new Array(m-1);C<m;C++)g[C-1]=arguments[C];v[y].fn.apply(v[y].context,g)}}return!0},r.prototype.on=function(n,h,i){return a(this,n,h,i,!1)},r.prototype.once=function(n,h,i){return a(this,n,h,i,!0)},r.prototype.removeListener=function(n,h,i,o){var c=e?e+n:n;if(!this._events[c])return this;if(!h)return s(this,c),this;var d=this._events[c];if(d.fn)d.fn===h&&(!o||d.once)&&(!i||d.context===i)&&s(this,c);else{for(var f=0,v=[],m=d.length;f<m;f++)(d[f].fn!==h||o&&!d[f].once||i&&d[f].context!==i)&&v.push(d[f]);v.length?this._events[c]=v.length===1?v[0]:v:s(this,c)}return this},r.prototype.removeAllListeners=function(n){var h;return n?(h=e?e+n:n,this._events[h]&&s(this,h)):(this._events=new l,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=e,r.EventEmitter=r,u.exports=r},11517:(u,x,e)=>{var l=e(38829),p=function(a,s,r,t){for(var n=a[0],h=1;h<a.length;h++){var i=a[h];l(i,n,s,r,t),n=i}return a};u.exports=p},80318:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n){return l(a,"angle",s,r,t,n)};u.exports=p},60757:u=>{var x=function(e,l,p){for(var a=0;a<e.length;a++){var s=e[a];l.call(p,s)}return e};u.exports=x},69927:u=>{var x=function(e,l,p){p===void 0&&(p=0);for(var a=p;a<e.length;a++){var s=e[a],r=!0;for(var t in l)s[t]!==l[t]&&(r=!1);if(r)return s}return null};u.exports=x},32265:u=>{var x=function(e,l,p){p===void 0&&(p=0);for(var a=e.length-1;a>=p;a--){var s=e[a],r=!0;for(var t in l)s[t]!==l[t]&&(r=!1);if(r)return s}return null};u.exports=x},94420:(u,x,e)=>{var l=e(11879),p=e(60461),a=e(95540),s=e(29747),r=e(41481),t=new r({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),n=function(h,i){i===void 0&&(i={});var o=i.hasOwnProperty("width"),c=i.hasOwnProperty("height"),d=a(i,"width",-1),f=a(i,"height",-1),v=a(i,"cellWidth",1),m=a(i,"cellHeight",v),g=a(i,"position",p.TOP_LEFT),y=a(i,"x",0),T=a(i,"y",0),C=0,E=0,z=d*v,D=f*m;t.setPosition(y,T),t.setSize(v,m);for(var A=0;A<h.length;A++)if(l(h[A],t,g),o&&d===-1)t.x+=v;else if(c&&f===-1)t.y+=m;else if(c&&!o){if(E+=m,t.y+=m,E===D&&(E=0,C+=v,t.y=T,t.x+=v,C===z))break}else if(C+=v,t.x+=v,C===z&&(C=0,E+=m,t.x=y,t.y+=m,E===D))break;return h};u.exports=n},41721:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n){return l(a,"alpha",s,r,t,n)};u.exports=p},67285:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n){return l(a,"x",s,r,t,n)};u.exports=p},9074:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n,h,i){return r==null&&(r=s),l(a,"x",s,t,h,i),l(a,"y",r,n,h,i)};u.exports=p},75222:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n){return l(a,"y",s,r,t,n)};u.exports=p},22983:u=>{var x=function(e,l,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var s=p,r=(a-p)/e.length,t=l.x,n=l.y,h=l.radius,i=0;i<e.length;i++)e[i].x=t+h*Math.cos(s),e[i].y=n+h*Math.sin(s),s+=r;return e};u.exports=x},95253:u=>{var x=function(e,l,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var s=p,r=(a-p)/e.length,t=l.width/2,n=l.height/2,h=0;h<e.length;h++)e[h].x=l.x+t*Math.cos(s),e[h].y=l.y+n*Math.sin(s),s+=r;return e};u.exports=x},88505:(u,x,e)=>{var l=e(15258),p=e(26708),a=function(s,r,t){var n;t?n=p(r,t,s.length):n=l(r,s.length);for(var h=0;h<s.length;h++){var i=s[h],o=n[h];i.x=o.x,i.y=o.y}return s};u.exports=a},41346:(u,x,e)=>{var l=e(14649),p=e(86003),a=e(49498),s=function(r,t,n){n===void 0&&(n=0);var h=l(t,!1,r.length);n>0?p(h,n):n<0&&a(h,Math.abs(n));for(var i=0;i<r.length;i++)r[i].x=h[i].x,r[i].y=h[i].y;return r};u.exports=s},11575:(u,x,e)=>{var l=e(84993),p=function(a,s,r){var t=l({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},r),n=l({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},r),h=l({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},r);t.pop(),n.pop(),h.pop(),t=t.concat(n,h);for(var i=t.length/a.length,o=0,c=0;c<a.length;c++){var d=a[c],f=t[Math.floor(o)];d.x=f.x,d.y=f.y,o+=i}return a};u.exports=p},29953:u=>{var x=function(e,l,p){for(var a=0;a<e.length;a++){var s=e[a];s.anims&&s.anims.play(l,p)}return e};u.exports=x},66979:u=>{var x=function(e,l,p,a,s,r){a===void 0&&(a=0),s===void 0&&(s=0),r===void 0&&(r=1);var t,n=0,h=e.length;if(r===1)for(t=s;t<h;t++)e[t][l]+=p+n*a,n++;else for(t=s;t>=0;t--)e[t][l]+=p+n*a,n++;return e};u.exports=x},43967:u=>{var x=function(e,l,p,a,s,r){a===void 0&&(a=0),s===void 0&&(s=0),r===void 0&&(r=1);var t,n=0,h=e.length;if(r===1)for(t=s;t<h;t++)e[t][l]=p+n*a,n++;else for(t=s;t>=0;t--)e[t][l]=p+n*a,n++;return e};u.exports=x},88926:(u,x,e)=>{var l=e(28176),p=function(a,s){for(var r=0;r<a.length;r++)l(s,a[r]);return a};u.exports=p},33286:(u,x,e)=>{var l=e(24820),p=function(a,s){for(var r=0;r<a.length;r++)l(s,a[r]);return a};u.exports=p},96e3:(u,x,e)=>{var l=e(65822),p=function(a,s){for(var r=0;r<a.length;r++)l(s,a[r]);return a};u.exports=p},28789:(u,x,e)=>{var l=e(26597),p=function(a,s){for(var r=0;r<a.length;r++)l(s,a[r]);return a};u.exports=p},97154:(u,x,e)=>{var l=e(90260),p=function(a,s){for(var r=0;r<a.length;r++)l(s,a[r]);return a};u.exports=p},20510:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n){return l(a,"rotation",s,r,t,n)};u.exports=p},91051:(u,x,e)=>{var l=e(1163),p=e(20339),a=function(s,r,t){for(var n=r.x,h=r.y,i=0;i<s.length;i++){var o=s[i];l(o,n,h,t,Math.max(1,p(o.x,o.y,n,h)))}return s};u.exports=a},76332:(u,x,e)=>{var l=e(1163),p=function(a,s,r,t){var n=s.x,h=s.y;if(t===0)return a;for(var i=0;i<a.length;i++)l(a[i],n,h,r,t);return a};u.exports=p},61619:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n){return l(a,"scaleX",s,r,t,n)};u.exports=p},94868:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n,h,i){return r==null&&(r=s),l(a,"scaleX",s,t,h,i),l(a,"scaleY",r,n,h,i)};u.exports=p},95532:(u,x,e)=>{var l=e(66979),p=function(a,s,r,t,n){return l(a,"scaleY",s,r,t,n)};u.exports=p},8689:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"alpha",s,r,t,n)};u.exports=p},2645:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t){return l(a,"blendMode",s,0,r,t)};u.exports=p},32372:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"depth",s,r,t,n)};u.exports=p},85373:u=>{var x=function(e,l,p){for(var a=0;a<e.length;a++)e[a].setInteractive(l,p);return e};u.exports=x},81583:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n,h,i){return r==null&&(r=s),l(a,"originX",s,t,h,i),l(a,"originY",r,n,h,i),a.forEach(function(o){o.updateDisplayOrigin()}),a};u.exports=p},79939:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"rotation",s,r,t,n)};u.exports=p},2699:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n,h,i){return r==null&&(r=s),l(a,"scaleX",s,t,h,i),l(a,"scaleY",r,n,h,i)};u.exports=p},98739:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"scaleX",s,r,t,n)};u.exports=p},98476:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"scaleY",s,r,t,n)};u.exports=p},6207:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n,h,i){return r==null&&(r=s),l(a,"scrollFactorX",s,t,h,i),l(a,"scrollFactorY",r,n,h,i)};u.exports=p},6607:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"scrollFactorX",s,r,t,n)};u.exports=p},72248:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"scrollFactorY",s,r,t,n)};u.exports=p},14036:u=>{var x=function(e,l,p,a,s){for(var r=0;r<e.length;r++)e[r].setTint(l,p,a,s);return e};u.exports=x},50159:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t){return l(a,"visible",s,0,r,t)};u.exports=p},77597:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"x",s,r,t,n)};u.exports=p},83194:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n,h,i){return r==null&&(r=s),l(a,"x",s,t,h,i),l(a,"y",r,n,h,i)};u.exports=p},67678:(u,x,e)=>{var l=e(43967),p=function(a,s,r,t,n){return l(a,"y",s,r,t,n)};u.exports=p},35850:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n){t===void 0&&(t=0),n===void 0&&(n=new l);var h,i,o=a.length;if(o===1)h=a[0].x,i=a[0].y,a[0].x=s,a[0].y=r;else{var c=1,d=0;t===0&&(d=o-1,c=o-2),h=a[d].x,i=a[d].y,a[d].x=s,a[d].y=r;for(var f=0;f<o;f++)if(!(c>=o||c===-1)){var v=a[c],m=v.x,g=v.y;v.x=h,v.y=i,h=m,i=g,t===0?c--:c++}}return n.x=h,n.y=i,n};u.exports=p},8628:(u,x,e)=>{var l=e(33680),p=function(a){return l(a)};u.exports=p},21837:(u,x,e)=>{var l=e(7602),p=function(a,s,r,t,n){n===void 0&&(n=!1);var h=Math.abs(t-r)/a.length,i;if(n)for(i=0;i<a.length;i++)a[i][s]+=l(i*h,r,t);else for(i=0;i<a.length;i++)a[i][s]=l(i*h,r,t);return a};u.exports=p},21910:(u,x,e)=>{var l=e(54261),p=function(a,s,r,t,n){n===void 0&&(n=!1);var h=Math.abs(t-r)/a.length,i;if(n)for(i=0;i<a.length;i++)a[i][s]+=l(i*h,r,t);else for(i=0;i<a.length;i++)a[i][s]=l(i*h,r,t);return a};u.exports=p},62054:u=>{var x=function(e,l,p,a,s){if(s===void 0&&(s=!1),e.length===0)return e;if(e.length===1)return s?e[0][l]+=(a+p)/2:e[0][l]=(a+p)/2,e;var r=Math.abs(a-p)/(e.length-1),t;if(s)for(t=0;t<e.length;t++)e[t][l]+=t*r+p;else for(t=0;t<e.length;t++)e[t][l]=t*r+p;return e};u.exports=x},79815:u=>{var x=function(e){for(var l=0;l<e.length;l++)e[l].visible=!e[l].visible;return e};u.exports=x},39665:(u,x,e)=>{var l=e(15994),p=function(a,s,r){r===void 0&&(r=0);for(var t=0;t<a.length;t++){var n=a[t];n.x=l(n.x,s.left-r,s.right+r),n.y=l(n.y,s.top-r,s.bottom+r)}return a};u.exports=p},61061:(u,x,e)=>{u.exports={AlignTo:e(11517),Angle:e(80318),Call:e(60757),GetFirst:e(69927),GetLast:e(32265),GridAlign:e(94420),IncAlpha:e(41721),IncX:e(67285),IncXY:e(9074),IncY:e(75222),PlaceOnCircle:e(22983),PlaceOnEllipse:e(95253),PlaceOnLine:e(88505),PlaceOnRectangle:e(41346),PlaceOnTriangle:e(11575),PlayAnimation:e(29953),PropertyValueInc:e(66979),PropertyValueSet:e(43967),RandomCircle:e(88926),RandomEllipse:e(33286),RandomLine:e(96e3),RandomRectangle:e(28789),RandomTriangle:e(97154),Rotate:e(20510),RotateAround:e(91051),RotateAroundDistance:e(76332),ScaleX:e(61619),ScaleXY:e(94868),ScaleY:e(95532),SetAlpha:e(8689),SetBlendMode:e(2645),SetDepth:e(32372),SetHitArea:e(85373),SetOrigin:e(81583),SetRotation:e(79939),SetScale:e(2699),SetScaleX:e(98739),SetScaleY:e(98476),SetScrollFactor:e(6207),SetScrollFactorX:e(6607),SetScrollFactorY:e(72248),SetTint:e(14036),SetVisible:e(50159),SetX:e(77597),SetXY:e(83194),SetY:e(67678),ShiftPosition:e(35850),Shuffle:e(8628),SmootherStep:e(21910),SmoothStep:e(21837),Spread:e(62054),ToggleVisible:e(79815),WrapInRectangle:e(39665)}},42099:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(74943),s=e(81957),r=e(41138),t=e(35154),n=e(90126),h=new p({initialize:function(o,c,d){this.manager=o,this.key=c,this.type="frame",this.frames=this.getFrames(o.textureManager,t(d,"frames",[]),t(d,"defaultTextureKey",null),t(d,"sortFrames",!0)),this.frameRate=t(d,"frameRate",null),this.duration=t(d,"duration",null),this.msPerFrame,this.skipMissedFrames=t(d,"skipMissedFrames",!0),this.delay=t(d,"delay",0),this.repeat=t(d,"repeat",0),this.repeatDelay=t(d,"repeatDelay",0),this.yoyo=t(d,"yoyo",!1),this.showBeforeDelay=t(d,"showBeforeDelay",!1),this.showOnStart=t(d,"showOnStart",!1),this.hideOnComplete=t(d,"hideOnComplete",!1),this.randomFrame=t(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,o,c,d){c===null&&d===null?(i.frameRate=24,i.duration=24/o*1e3):c&&d===null?(i.duration=c,i.frameRate=o/(c/1e3)):(i.frameRate=d,i.duration=o/d*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,o){var c=this.getFrames(this.manager.textureManager,o);if(c.length>0){if(i===0)this.frames=c.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(c);else{var d=this.frames.slice(0,i),f=this.frames.slice(i);this.frames=d.concat(c,f)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,o,c,d){d===void 0&&(d=!0);var f=[],v,m,g=1,y,T;if(typeof o=="string"){if(T=o,!i.exists(T))return console.warn('Texture "%s" not found',T),f;var C=i.get(T),E=C.getFrameNames();d&&n(E),o=[],E.forEach(function(F){o.push({key:T,frame:F})})}if(!Array.isArray(o)||o.length===0)return f;for(y=0;y<o.length;y++){var z=o[y],D=t(z,"key",c);if(D){var A=t(z,"frame",0),L=i.getFrame(D,A);if(!L){console.warn('Texture "%s" not found',D);continue}m=new r(D,A,g,L),m.duration=t(z,"duration",0),m.isFirst=!v,v&&(v.nextFrame=m,m.prevFrame=v),f.push(m),v=m,g++}}if(f.length>0){m.isLast=!0,m.nextFrame=f[0],f[0].prevFrame=m;var b=1/(f.length-1);for(y=0;y<f.length;y++)f[y].progress=y*b}return f},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameByProgress:function(i){return i=l(i,0,1),s(i,this.frames,"progress")},nextFrame:function(i){var o=i.currentFrame;o.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,o.nextFrame)},handleYoyoFrame:function(i,o){if(o||(o=!1),i.inReverse===!o&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=o),this.repeatAnimation(i);return}if(i.inReverse!==o&&i.repeatCounter===0){i.complete();return}i.forward=o;var c=o?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,c)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var o=i.currentFrame;o.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,o.prevFrame)},updateAndGetNextTick:function(i,o){i.setCurrentFrame(o),this.getNextTick(i)},removeFrame:function(i){var o=this.frames.indexOf(i);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){i.frames.push(o.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,o=1/(i-1),c,d=0;d<i;d++)c=this.frames[d],c.index=d+1,c.isFirst=!1,c.isLast=!1,c.progress=d*o,d===0?(c.isFirst=!0,i===1?(c.isLast=!0,c.nextFrame=c,c.prevFrame=c):(c.isLast=!1,c.prevFrame=this.frames[i-1],c.nextFrame=this.frames[d+1])):d===i-1&&i>1?(c.isLast=!0,c.prevFrame=this.frames[i-2],c.nextFrame=this.frames[0]):i>1&&(c.prevFrame=this.frames[d-1],c.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});u.exports=h},41138:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t,n,h){h===void 0&&(h=!1),this.textureKey=s,this.textureFrame=r,this.index=t,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});u.exports=p},60848:(u,x,e)=>{var l=e(42099),p=e(83419),a=e(90330),s=e(50792),r=e(74943),t=e(8443),n=e(95540),h=e(35154),i=e(36383),o=e(20283),c=e(41836),d=new p({Extends:s,initialize:function(v){s.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",v.events.once(t.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(t.DESTROY,this.destroy,this)},addMix:function(f,v,m){var g=this.anims,y=this.mixes,T=typeof f=="string"?f:f.key,C=typeof v=="string"?v:v.key;if(g.has(T)&&g.has(C)){var E=y.get(T);E||(E={}),E[C]=m,y.set(T,E)}return this},removeMix:function(f,v){var m=this.mixes,g=typeof f=="string"?f:f.key,y=m.get(g);if(y)if(v){var T=typeof v=="string"?v:v.key;y.hasOwnProperty(T)&&delete y[T]}else v||m.delete(g);return this},getMix:function(f,v){var m=this.mixes,g=typeof f=="string"?f:f.key,y=typeof v=="string"?v:v.key,T=m.get(g);return T&&T.hasOwnProperty(y)?T[y]:0},add:function(f,v){return this.anims.has(f)?(console.warn("Animation key exists: "+f),this):(v.key=f,this.anims.set(f,v),this.emit(r.ADD_ANIMATION,f,v),this)},exists:function(f){return this.anims.has(f)},createFromAseprite:function(f,v,m){var g=[],y=this.game.cache.json.get(f);if(!y)return console.warn("No Aseprite data found for: "+f),g;var T=this,C=h(y,"meta",null),E=h(y,"frames",null);if(C&&E){var z=h(C,"frameTags",[]);z.forEach(function(D){var A=[],L=n(D,"name",null),b=n(D,"from",0),F=n(D,"to",0),V=n(D,"direction","forward");if(L&&(!v||v&&v.indexOf(L)>-1)){for(var B=0,N=b;N<=F;N++){var U=N.toString(),I=E[U];if(I){var H=n(I,"duration",i.MAX_SAFE_INTEGER);A.push({key:f,frame:U,duration:H}),B+=H}}V==="reverse"&&(A=A.reverse());var O={key:L,frames:A,duration:B,yoyo:V==="pingpong"},R;m?m.anims&&(R=m.anims.create(O)):R=T.create(O),R&&g.push(R)}})}return g},create:function(f){var v=f.key,m=!1;return v&&(m=this.get(v),m?console.warn("AnimationManager key already exists: "+v):(m=new l(this,v,f),this.anims.set(v,m),this.emit(r.ADD_ANIMATION,v,m))),m},fromJSON:function(f,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof f=="string"&&(f=JSON.parse(f));var m=[];if(f.hasOwnProperty("anims")&&Array.isArray(f.anims)){for(var g=0;g<f.anims.length;g++)m.push(this.create(f.anims[g]));f.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=f.globalTimeScale)}else f.hasOwnProperty("key")&&f.type==="frame"&&m.push(this.create(f));return m},generateFrameNames:function(f,v){var m=h(v,"prefix",""),g=h(v,"start",0),y=h(v,"end",0),T=h(v,"suffix",""),C=h(v,"zeroPad",0),E=h(v,"outputArray",[]),z=h(v,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),E;var D=this.textureManager.get(f);if(!D)return E;var A;if(v)for(z||(z=o(g,y)),A=0;A<z.length;A++){var L=m+c(z[A],C,"0",1)+T;D.has(L)?E.push({key:f,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,f)}else for(z=D.getFrameNames(),A=0;A<z.length;A++)E.push({key:f,frame:z[A]});return E},generateFrameNumbers:function(f,v){var m=h(v,"start",0),g=h(v,"end",-1),y=h(v,"first",!1),T=h(v,"outputArray",[]),C=h(v,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),T;var E=this.textureManager.get(f);if(!E)return T;y&&E.has(y)&&T.push({key:f,frame:y}),C||(g===-1&&(g=E.frameTotal-2),C=o(m,g));for(var z=0;z<C.length;z++){var D=C[z];E.has(D)?T.push({key:f,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,f)}return T},get:function(f){return this.anims.get(f)},getAnimsFromTexture:function(f){for(var v=this.textureManager.get(f),m=v.key,g=this.anims.getArray(),y=[],T=0;T<g.length;T++)for(var C=g[T],E=C.frames,z=0;z<E.length;z++)if(E[z].textureKey===m){y.push(C.key);break}return y},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(f,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)v[m].anims.play(f);return this},staggerPlay:function(f,v,m,g){m===void 0&&(m=0),g===void 0&&(g=!0),Array.isArray(v)||(v=[v]);var y=v.length;g||y--;for(var T=0;T<v.length;T++){var C=m<0?Math.abs(m)*(y-T):m*T;v[T].anims.playAfterDelay(f,C)}return this},remove:function(f){var v=this.get(f);return v&&(this.emit(r.REMOVE_ANIMATION,f,v),this.anims.delete(f),this.removeMix(f)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(f){var v={anims:[],globalTimeScale:this.globalTimeScale};return f!==void 0&&f!==""?v.anims.push(this.anims.get(f).toJSON()):this.anims.each(function(m,g){v.anims.push(g.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});u.exports=d},9674:(u,x,e)=>{var l=e(42099),p=e(30976),a=e(83419),s=e(90330),r=e(74943),t=e(95540),n=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(h){var i=this.parent;if(h===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(h)||(h=[h]);for(var o=0;o<h.length;o++){var c=h[o];this.nextAnim?this.nextAnimsQueue.push(c):this.nextAnim=c}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var i=this.animationManager,o=typeof h=="string"?h:t(h,"key",null),c=this.exists(o)?this.get(o):i.get(o);if(!c)console.warn("Missing animation: "+o);else{this.currentAnim=c;var d=c.getTotalFrames(),f=t(h,"frameRate",c.frameRate),v=t(h,"duration",c.duration);c.calculateDuration(this,d,v,f),this.delay=t(h,"delay",c.delay),this.repeat=t(h,"repeat",c.repeat),this.repeatDelay=t(h,"repeatDelay",c.repeatDelay),this.yoyo=t(h,"yoyo",c.yoyo),this.showBeforeDelay=t(h,"showBeforeDelay",c.showBeforeDelay),this.showOnStart=t(h,"showOnStart",c.showOnStart),this.hideOnComplete=t(h,"hideOnComplete",c.hideOnComplete),this.skipMissedFrames=t(h,"skipMissedFrames",c.skipMissedFrames),this.randomFrame=t(h,"randomFrame",c.randomFrame),this.timeScale=t(h,"timeScale",this.timeScale);var m=t(h,"startFrame",0);m>d&&(m=0),this.randomFrame&&(m=p(0,d-1));var g=c.frames[m];m===0&&!this.forward&&(g=c.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(h){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),h!==void 0&&this.setCurrentFrame(h),this.parent},resume:function(h){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),h!==void 0&&this.setCurrentFrame(h),this.parent},playAfterDelay:function(h,i){if(!this.isPlaying)this.delayCounter=i,this.play(h,!0);else{var o=this.nextAnim,c=this.nextAnimsQueue;o&&c.unshift(o),this.nextAnim=h,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(h,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(h);else{var o=this.nextAnim,c=this.nextAnimsQueue;o&&c.unshift(o),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=h,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(h,i){i===void 0&&(i=!1);var o=this.currentAnim,c=this.parent,d=typeof h=="string"?h:h.key;if(i&&this.isPlaying&&o.key===d)return c;if(o&&this.isPlaying){var f=this.animationManager.getMix(o.key,h);if(f>0)return this.playAfterDelay(h,f)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h)},playReverse:function(h,i){i===void 0&&(i=!1);var o=typeof h=="string"?h:h.key;return i&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h))},startAnimation:function(h){this.load(h);var i=this.currentAnim,o=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,i){var o=this.currentAnim;if(o){var c=this.currentFrame,d=this.parent,f=c.textureFrame;d.emit(h,o,c,d,f),i&&d.emit(i+o.key,o,c,d,f)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;var i=h.progress;return this.inReverse&&(i*=-1),i},setProgress:function(h){return this.forward||(h=1-h),this.setCurrentFrame(this.currentAnim.getFrameByProgress(h)),this.parent},setRepeat:function(h){return this.repeatCounter=h===-1?Number.MAX_VALUE:h,this.parent},globalRemove:function(h,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,i){h===void 0&&(h=!1),i===void 0&&(i=!1);var o=this.currentAnim,c=this.parent;return o?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!h,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(h)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(h)}return this.parent},stopAfterDelay:function(h){return this._pendingStop=1,this._pendingStopValue=h,this.parent},stopAfterRepeat:function(h){return h===void 0&&(h=1),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=h,this.parent},stopOnFrame:function(h){return this._pendingStop=3,this._pendingStopValue=h,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(h,i){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do this.forward?o.nextFrame(this):o.previousFrame(this),c++;while(this.isPlaying&&this.accumulator>this.nextTick&&c<60)}}},setCurrentFrame:function(h){var i=this.parent;return this.currentFrame=h,i.texture=h.frame.texture,i.frame=h.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),h.setAlpha&&(i.alpha=h.alpha),i.setSizeToFrame(),i._originComponent&&(h.frame.customPivot?i.setOrigin(h.frame.pivotX,h.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===h&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var i=h.key,o=!1;return i&&(o=this.get(i),o?console.warn("Animation key already exists: "+i):(o=new l(this,i,h),this.anims||(this.anims=new s),this.anims.set(i,o))),o},createFromAseprite:function(h,i){return this.animationManager.createFromAseprite(h,i,this.parent)},generateFrameNames:function(h,i){return this.animationManager.generateFrameNames(h,i)},generateFrameNumbers:function(h,i){return this.animationManager.generateFrameNumbers(h,i)},remove:function(h){var i=this.get(h);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(h)),i},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});u.exports=n},57090:u=>{u.exports="add"},25312:u=>{u.exports="animationcomplete"},89580:u=>{u.exports="animationcomplete-"},52860:u=>{u.exports="animationrepeat"},63850:u=>{u.exports="animationrestart"},99085:u=>{u.exports="animationstart"},28087:u=>{u.exports="animationstop"},1794:u=>{u.exports="animationupdate"},52562:u=>{u.exports="pauseall"},57953:u=>{u.exports="remove"},68339:u=>{u.exports="resumeall"},74943:(u,x,e)=>{u.exports={ADD_ANIMATION:e(57090),ANIMATION_COMPLETE:e(25312),ANIMATION_COMPLETE_KEY:e(89580),ANIMATION_REPEAT:e(52860),ANIMATION_RESTART:e(63850),ANIMATION_START:e(99085),ANIMATION_STOP:e(28087),ANIMATION_UPDATE:e(1794),PAUSE_ALL:e(52562),REMOVE_ANIMATION:e(57953),RESUME_ALL:e(68339)}},60421:(u,x,e)=>{u.exports={Animation:e(42099),AnimationFrame:e(41138),AnimationManager:e(60848),AnimationState:e(9674),Events:e(74943)}},2161:(u,x,e)=>{var l=e(83419),p=e(90330),a=e(50792),s=e(24736),r=new l({initialize:function(){this.entries=new p,this.events=new a},add:function(t,n){return this.entries.set(t,n),this.events.emit(s.ADD,this,t,n),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var n=this.get(t);return n&&(this.entries.delete(t),this.events.emit(s.REMOVE,this,t,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});u.exports=r},24047:(u,x,e)=>{var l=e(2161),p=e(83419),a=e(8443),s=new p({initialize:function(t){this.game=t,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new l),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],t=0;t<r.length;t++)this[r[t]].destroy(),this[r[t]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});u.exports=s},51464:u=>{u.exports="add"},59261:u=>{u.exports="remove"},24736:(u,x,e)=>{u.exports={ADD:e(51464),REMOVE:e(59261)}},83388:(u,x,e)=>{u.exports={BaseCache:e(2161),CacheManager:e(24047),Events:e(24736)}},71911:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(39506),s=e(50792),r=e(19715),t=e(87841),n=e(61340),h=e(80333),i=e(26099),o=new l({Extends:s,Mixins:[p.AlphaSingle,p.Visible],initialize:function(d,f,v,m){d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new t,this.dirty=!0,this._x=d,this._y=f,this._width=v,this._height=m,this._bounds=new t,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(v/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(c){this.renderList.push(c)},setOrigin:function(c,d){return c===void 0&&(c=.5),d===void 0&&(d=c),this.originX=c,this.originY=d,this},getScroll:function(c,d,f){f===void 0&&(f=new i);var v=this.width*.5,m=this.height*.5;return f.x=c-v,f.y=d-m,this.useBounds&&(f.x=this.clampX(f.x),f.y=this.clampY(f.y)),f},centerOnX:function(c){var d=this.width*.5;return this.midPoint.x=c,this.scrollX=c-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(c){var d=this.height*.5;return this.midPoint.y=c,this.scrollY=c-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(c,d){return this.centerOnX(c),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var c=this._bounds,d=this.width*.5,f=this.height*.5;this.midPoint.set(c.centerX,c.centerY),this.scrollX=c.centerX-d,this.scrollY=c.centerY-f}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(c){if(this.disableCull)return c;var d=this.matrix.matrix,f=d[0],v=d[1],m=d[2],g=d[3],y=f*g-v*m;if(!y)return c;var T=d[4],C=d[5],E=this.scrollX,z=this.scrollY,D=this.width,A=this.height,L=this.y,b=L+A,F=this.x,V=F+D,B=this.culledObjects,N=c.length;y=1/y,B.length=0;for(var U=0;U<N;++U){var I=c[U];if(!I.hasOwnProperty("width")||I.parentContainer){B.push(I);continue}var H=I.width,O=I.height,R=I.x-E*I.scrollFactorX-H*I.originX,Y=I.y-z*I.scrollFactorY-O*I.originY,G=R*f+Y*m+T,k=R*v+Y*g+C,W=(R+H)*f+(Y+O)*m+T,X=(R+H)*v+(Y+O)*g+C;W>F&&G<V&&X>L&&k<b&&B.push(I)}return B},getWorldPoint:function(c,d,f){f===void 0&&(f=new i);var v=this.matrix.matrix,m=v[0],g=v[1],y=v[2],T=v[3],C=v[4],E=v[5],z=m*T-g*y;if(!z)return f.x=c,f.y=d,f;z=1/z;var D=T*z,A=-g*z,L=-y*z,b=m*z,F=(y*E-T*C)*z,V=(g*C-m*E)*z,B=Math.cos(this.rotation),N=Math.sin(this.rotation),U=this.zoomX,I=this.zoomY,H=this.scrollX,O=this.scrollY,R=c+(H*B-O*N)*U,Y=d+(H*N+O*B)*I;return f.x=R*D+Y*L+F,f.y=R*A+Y*b+V,f},ignore:function(c){var d=this.id;Array.isArray(c)||(c=[c]);for(var f=0;f<c.length;f++){var v=c[f];Array.isArray(v)?this.ignore(v):v.isParent?this.ignore(v.getChildren()):v.cameraFilter|=d}return this},clampX:function(c){var d=this._bounds,f=this.displayWidth,v=d.x+(f-this.width)/2,m=Math.max(v,v+d.width-f);return c<v?c=v:c>m&&(c=m),c},clampY:function(c){var d=this._bounds,f=this.displayHeight,v=d.y+(f-this.height)/2,m=Math.max(v,v+d.height-f);return c<v?c=v:c>m&&(c=m),c},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(c){return c===void 0&&(c=0),this.rotation=a(c),this},setBackgroundColor:function(c){return c===void 0&&(c="rgba(0,0,0,0)"),this.backgroundColor=h(c),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(c,d,f,v,m){return m===void 0&&(m=!1),this._bounds.setTo(c,d,f,v),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(c){c===void 0&&(c=new t);var d=this._bounds;return c.setTo(d.x,d.y,d.width,d.height),c},setName:function(c){return c===void 0&&(c=""),this.name=c,this},setPosition:function(c,d){return d===void 0&&(d=c),this.x=c,this.y=d,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setRoundPixels:function(c){return this.roundPixels=c,this},setScene:function(c,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=c,this.isSceneCamera=d;var f=c.sys;return this.sceneManager=f.game.scene,this.scaleManager=f.scale,this.cameraManager=f.cameras,this.updateSystem(),this},setScroll:function(c,d){return d===void 0&&(d=c),this.scrollX=c,this.scrollY=d,this},setSize:function(c,d){return d===void 0&&(d=c),this.width=c,this.height=d,this},setViewport:function(c,d,f,v){return this.x=c,this.y=d,this.width=f,this.height=v,this},setZoom:function(c,d){return c===void 0&&(c=1),d===void 0&&(d=c),c===0&&(c=.001),d===0&&(d=.001),this.zoomX=c,this.zoomY=d,this},setMask:function(c,d){return d===void 0&&(d=!0),this.mask=c,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var c={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(c.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),c},update:function(){},setIsSceneCamera:function(c){return this.isSceneCamera=c,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var c=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;c&&!this._customViewport?d.customViewports++:!c&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=c}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(c){this._x=c,this.updateSystem()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.updateSystem()}},width:{get:function(){return this._width},set:function(c){this._width=c,this.updateSystem()}},height:{get:function(){return this._height},set:function(c){this._height=c,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(c){c!==this._scrollX&&(this._scrollX=c,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(c){c!==this._scrollY&&(this._scrollY=c,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(c){this._zoomX=c,this._zoomY=c,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(c){this._zoomX=c,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(c){this._zoomY=c,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});u.exports=o},38058:(u,x,e)=>{var l=e(71911),p=e(67502),a=e(45319),s=e(83419),r=e(31401),t=e(20052),n=e(19715),h=e(28915),i=e(87841),o=e(26099),c=new s({Extends:l,Mixins:[r.PostPipeline],initialize:function(f,v,m,g){l.call(this,f,v,m,g),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new t.Fade(this),this.flashEffect=new t.Flash(this),this.shakeEffect=new t.Shake(this),this.panEffect=new t.Pan(this),this.rotateToEffect=new t.RotateTo(this),this.zoomEffect=new t.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(d,f){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=f):this.deadzone=new i(0,0,d,f),this._follow){var v=this.width/2,m=this.height/2,g=this._follow.x-this.followOffset.x,y=this._follow.y-this.followOffset.y;this.midPoint.set(g,y),this.scrollX=g-v,this.scrollY=y-m}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,f,v,m,g,y){return this.fadeEffect.start(!1,d,f,v,m,!0,g,y)},fadeOut:function(d,f,v,m,g,y){return this.fadeEffect.start(!0,d,f,v,m,!0,g,y)},fadeFrom:function(d,f,v,m,g,y,T){return this.fadeEffect.start(!1,d,f,v,m,g,y,T)},fade:function(d,f,v,m,g,y,T){return this.fadeEffect.start(!0,d,f,v,m,g,y,T)},flash:function(d,f,v,m,g,y,T){return this.flashEffect.start(d,f,v,m,g,y,T)},shake:function(d,f,v,m,g){return this.shakeEffect.start(d,f,v,m,g)},pan:function(d,f,v,m,g,y,T){return this.panEffect.start(d,f,v,m,g,y,T)},rotateTo:function(d,f,v,m,g,y,T){return this.rotateToEffect.start(d,f,v,m,g,y,T)},zoomTo:function(d,f,v,m,g,y){return this.zoomEffect.start(d,f,v,m,g,y)},preRender:function(){this.renderList.length=0;var d=this.width,f=this.height,v=d*.5,m=f*.5,g=this.zoomX,y=this.zoomY,T=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(g)&&Number.isInteger(y);var C=d*this.originX,E=f*this.originY,z=this._follow,D=this.deadzone,A=this.scrollX,L=this.scrollY;D&&p(D,this.midPoint.x,this.midPoint.y);var b=!1;if(z&&!this.panEffect.isRunning){var F=this.lerp,V=z.x-this.followOffset.x,B=z.y-this.followOffset.y;D?(V<D.x?A=h(A,A-(D.x-V),F.x):V>D.right&&(A=h(A,A+(V-D.right),F.x)),B<D.y?L=h(L,L-(D.y-B),F.y):B>D.bottom&&(L=h(L,L+(B-D.bottom),F.y))):(A=h(A,V-C,F.x),L=h(L,B-E,F.y)),b=!0}this.roundPixels&&(A=Math.floor(A),L=Math.floor(L)),this.useBounds&&(A=this.clampX(A),L=this.clampY(L)),this.scrollX=A,this.scrollY=L;var N=A+v,U=L+m;this.midPoint.set(N,U);var I=Math.floor(d/g+.5),H=Math.floor(f/y+.5),O=Math.floor(N-I/2+.5),R=Math.floor(U-H/2+.5);this.worldView.setTo(O,R,I,H),T.applyITRS(Math.floor(this.x+C+.5),Math.floor(this.y+E+.5),this.rotation,g,y),T.translate(-C,-E),this.shakeEffect.preRender(),b&&this.emit(n.FOLLOW_UPDATE,this,z)},setLerp:function(d,f){return d===void 0&&(d=1),f===void 0&&(f=d),this.lerp.set(d,f),this},setFollowOffset:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=0),this.followOffset.set(d,f),this},startFollow:function(d,f,v,m,g,y){f===void 0&&(f=!1),v===void 0&&(v=1),m===void 0&&(m=v),g===void 0&&(g=0),y===void 0&&(y=g),this._follow=d,this.roundPixels=f,v=a(v,0,1),m=a(m,0,1),this.lerp.set(v,m),this.followOffset.set(g,y);var T=this.width/2,C=this.height/2,E=d.x-g,z=d.y-y;return this.midPoint.set(E,z),this.scrollX=E-T,this.scrollY=z-C,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,f){this.visible&&(this.rotateToEffect.update(d,f),this.panEffect.update(d,f),this.zoomEffect.update(d,f),this.shakeEffect.update(d,f),this.flashEffect.update(d,f),this.fadeEffect.update(d,f))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});u.exports=c},32743:(u,x,e)=>{var l=e(38058),p=e(83419),a=e(95540),s=e(37277),r=e(37303),t=e(97480),n=e(44594),h=new p({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(n.BOOT,this.boot,this),o.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(t.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(n.UPDATE,this.update,this),o.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,o,c,d,f,v){i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),f===void 0&&(f=!1),v===void 0&&(v="");var m=new l(i,o,c,d);return m.setName(v),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),f&&(this.main=m),m},addExisting:function(i,o){o===void 0&&(o=!1);var c=this.cameras.indexOf(i);return c===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),o&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,o=1,c=0;c<32;c++){for(var d=!1,f=0;f<i.length;f++){var v=i[f];if(v&&v.id===o){d=!0;continue}}if(d)o=o<<1;else return o}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var o=0,c=this.cameras,d=0;d<c.length;d++){var f=c[d];(!i||i&&f.visible)&&o++}return o},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var o=this.scene.sys.scale.width,c=this.scene.sys.scale.height,d=0;d<i.length;d++){var f=i[d],v=a(f,"x",0),m=a(f,"y",0),g=a(f,"width",o),y=a(f,"height",c),T=this.add(v,m,g,y);T.name=a(f,"name",""),T.zoom=a(f,"zoom",1),T.rotation=a(f,"rotation",0),T.scrollX=a(f,"scrollX",0),T.scrollY=a(f,"scrollY",0),T.roundPixels=a(f,"roundPixels",!1),T.visible=a(f,"visible",!0);var C=a(f,"backgroundColor",!1);C&&T.setBackgroundColor(C);var E=a(f,"bounds",null);if(E){var z=a(E,"x",0),D=a(E,"y",0),A=a(E,"width",o),L=a(E,"height",c);T.setBounds(z,D,A,L)}}return this},getCamera:function(i){for(var o=this.cameras,c=0;c<o.length;c++)if(o[c].name===i)return o[c];return null},getCamerasBelowPointer:function(i){for(var o=this.cameras,c=i.x,d=i.y,f=[],v=0;v<o.length;v++){var m=o[v];m.visible&&m.inputEnabled&&r(m,c,d)&&f.unshift(m)}return f},remove:function(i,o){o===void 0&&(o=!0),Array.isArray(i)||(i=[i]);for(var c=0,d=this.cameras,f=0;f<i.length;f++){var v=d.indexOf(i[f]);v!==-1&&(o?d[v].destroy():d[v].renderList=[],d.splice(v,1),c++)}return!this.main&&d[0]&&(this.main=d[0]),c},render:function(i,o){for(var c=this.scene,d=this.cameras,f=0;f<d.length;f++){var v=d[f];if(v.visible&&v.alpha>0){v.preRender();var m=this.getVisibleChildren(o.getChildren(),v);i.render(c,m,v)}}},getVisibleChildren:function(i,o){return i.filter(function(c){return c.willRender(o)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,o){for(var c=0;c<this.cameras.length;c++)this.cameras[c].update(i,o)},onResize:function(i,o,c,d,f){for(var v=0;v<this.cameras.length;v++){var m=this.cameras[v];m._x===0&&m._y===0&&m._width===d&&m._height===f&&m.setSize(o.width,o.height)}},resize:function(i,o){for(var c=0;c<this.cameras.length;c++)this.cameras[c].setSize(i,o)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var o=this.systems.events;o.off(n.UPDATE,this.update,this),o.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(t.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",h,"cameras"),u.exports=h},5020:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(19715),s=new p({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,t,n,h,i,o,c,d){if(r===void 0&&(r=!0),t===void 0&&(t=1e3),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=r,this.progress=0,this.red=n,this.green=h,this.blue=i,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d;var f=r?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(f,this.camera,this,t,n,h,i),this.camera},update:function(r,t){this.isRunning&&(this._elapsed+=t,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(r,t){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,h=this.red/255,i=this.green/255,o=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,t(o,i,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});u.exports=s},10662:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(19715),s=new p({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,t,n,h,i,o,c){return r===void 0&&(r=250),t===void 0&&(t=255),n===void 0&&(n=255),h===void 0&&(h=255),i===void 0&&(i=!1),o===void 0&&(o=null),c===void 0&&(c=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=t,this.green=n,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=c,this.camera.emit(a.FLASH_START,this.camera,this,r,t,n,h),this.camera)},update:function(r,t){this.isRunning&&(this._elapsed+=t,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var t=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(r,t){if(!this.isRunning)return!1;var n=this.camera,h=this.red/255,i=this.green/255,o=this.blue/255;return r.drawFillRect(n.x,n.y,n.width,n.height,t(o,i,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});u.exports=s},20359:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(62640),s=e(19715),r=e(26099),t=new p({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,h,i,o,c,d,f){i===void 0&&(i=1e3),o===void 0&&(o=a.Linear),c===void 0&&(c=!1),d===void 0&&(d=null),f===void 0&&(f=this.camera.scene);var v=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(v.scrollX,v.scrollY),this.destination.set(n,h),v.getScroll(n,h,this.current),typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=f,this.camera.emit(s.PAN_START,this.camera,this,i,n,h)),v},update:function(n,h){if(this.isRunning){this._elapsed+=h;var i=l(this._elapsed/this.duration,0,1);this.progress=i;var o=this.camera;if(this._elapsed<this.duration){var c=this.ease(i);o.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*c,f=this.source.y+(this.current.y-this.source.y)*c;o.setScroll(d,f),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,d,f)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,i,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});u.exports=t},34208:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(19715),s=e(62640),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(t,n,h,i,o,c,d){h===void 0&&(h=1e3),i===void 0&&(i=s.Linear),o===void 0&&(o=!1),c===void 0&&(c=null),d===void 0&&(d=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var f=t;t<0?(f=-1*t,this.clockwise=!1):this.clockwise=!0;var v=360*Math.PI/180;f=f-Math.floor(f/v)*v;var m=this.camera;if(!o&&this.isRunning)return m;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=m.rotation,this.destination=f,typeof i=="string"&&s.hasOwnProperty(i)?this.ease=s[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=d,this.shortestPath){var g=0,y=0;this.destination>this.source?g=Math.abs(this.destination-this.source):g=Math.abs(this.destination+v)-this.source,this.source>this.destination?y=Math.abs(this.source-this.destination):y=Math.abs(this.source+v)-this.destination,g<y?this.clockwise=!0:g>y&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,h,f),m},update:function(t,n){if(this.isRunning){this._elapsed+=n;var h=l(this._elapsed/this.duration,0,1);this.progress=h;var i=this.camera;if(this._elapsed<this.duration){var o=this.ease(h);this.current=i.rotation;var c=0,d=360*Math.PI/180,f=this.destination,v=this.current;this.clockwise===!1&&(f=this.current,v=this.destination),f>=v?c=Math.abs(f-v):c=Math.abs(f+d)-v;var m=0;this.clockwise?m=i.rotation+c*o:m=i.rotation-c*o,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});u.exports=r},30330:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(19715),s=e(26099),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,n,h,i,o){return t===void 0&&(t=100),n===void 0&&(n=.05),h===void 0&&(h=!1),i===void 0&&(i=null),o===void 0&&(o=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=o,this.camera.emit(a.SHAKE_START,this.camera,this,t,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,n){if(this.isRunning)if(this._elapsed+=n,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,i=this.camera.width,o=this.camera.height,c=this.camera.zoom;this._offsetX=(Math.random()*h.x*i*2-h.x*i)*c,this._offsetY=(Math.random()*h.y*o*2-h.y*o)*c,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});u.exports=r},45641:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(62640),s=e(19715),r=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,n,h,i,o,c){n===void 0&&(n=1e3),h===void 0&&(h=a.Linear),i===void 0&&(i=!1),o===void 0&&(o=null),c===void 0&&(c=this.camera.scene);var d=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=d.zoom,this.destination=t,typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=c,this.camera.emit(s.ZOOM_START,this.camera,this,n,t)),d},update:function(t,n){this.isRunning&&(this._elapsed+=n,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});u.exports=r},20052:(u,x,e)=>{u.exports={Fade:e(5020),Flash:e(10662),Pan:e(20359),Shake:e(30330),RotateTo:e(34208),Zoom:e(45641)}},16438:u=>{u.exports="cameradestroy"},32726:u=>{u.exports="camerafadeincomplete"},87807:u=>{u.exports="camerafadeinstart"},45917:u=>{u.exports="camerafadeoutcomplete"},95666:u=>{u.exports="camerafadeoutstart"},47056:u=>{u.exports="cameraflashcomplete"},91261:u=>{u.exports="cameraflashstart"},45047:u=>{u.exports="followupdate"},81927:u=>{u.exports="camerapancomplete"},74264:u=>{u.exports="camerapanstart"},54419:u=>{u.exports="postrender"},79330:u=>{u.exports="prerender"},93183:u=>{u.exports="camerarotatecomplete"},80112:u=>{u.exports="camerarotatestart"},62252:u=>{u.exports="camerashakecomplete"},86017:u=>{u.exports="camerashakestart"},539:u=>{u.exports="camerazoomcomplete"},51892:u=>{u.exports="camerazoomstart"},19715:(u,x,e)=>{u.exports={DESTROY:e(16438),FADE_IN_COMPLETE:e(32726),FADE_IN_START:e(87807),FADE_OUT_COMPLETE:e(45917),FADE_OUT_START:e(95666),FLASH_COMPLETE:e(47056),FLASH_START:e(91261),FOLLOW_UPDATE:e(45047),PAN_COMPLETE:e(81927),PAN_START:e(74264),POST_RENDER:e(54419),PRE_RENDER:e(79330),ROTATE_COMPLETE:e(93183),ROTATE_START:e(80112),SHAKE_COMPLETE:e(62252),SHAKE_START:e(86017),ZOOM_COMPLETE:e(539),ZOOM_START:e(51892)}},87969:(u,x,e)=>{u.exports={Camera:e(38058),BaseCamera:e(71911),CameraManager:e(32743),Effects:e(20052),Events:e(19715)}},63091:(u,x,e)=>{var l=e(83419),p=e(35154),a=new l({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var t=p(r,"speed",null);typeof t=="number"?(this.speedX=t,this.speedY=t):(this.speedX=p(r,"speed.x",0),this.speedY=p(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});u.exports=a},58818:(u,x,e)=>{var l=e(83419),p=e(35154),a=new l({initialize:function(r){this.camera=p(r,"camera",null),this.left=p(r,"left",null),this.right=p(r,"right",null),this.up=p(r,"up",null),this.down=p(r,"down",null),this.zoomIn=p(r,"zoomIn",null),this.zoomOut=p(r,"zoomOut",null),this.zoomSpeed=p(r,"zoomSpeed",.01),this.minZoom=p(r,"minZoom",.001),this.maxZoom=p(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var t=p(r,"acceleration",null);typeof t=="number"?(this.accelX=t,this.accelY=t):(this.accelX=p(r,"acceleration.x",0),this.accelY=p(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=p(r,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=p(r,"drag.x",0),this.dragY=p(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=p(r,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=p(r,"maxSpeed.x",0),this.maxSpeedY=p(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});u.exports=a},38865:(u,x,e)=>{u.exports={FixedKeyControl:e(63091),SmoothedKeyControl:e(58818)}},26638:(u,x,e)=>{u.exports={Controls:e(38865),Scene2D:e(87969)}},8054:(u,x,e)=>{var l={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:e(10312),ScaleModes:e(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};u.exports=l},69547:(u,x,e)=>{var l=e(83419),p=e(8054),a=e(42363),s=e(82264),r=e(95540),t=e(35154),n=e(41212),h=e(29747),i=e(75508),o=e(36060),c=e(80333),d=new l({initialize:function(v){v===void 0&&(v={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],g="#ffffff",y=t(v,"scale",null);this.width=t(y,"width",1024,v),this.height=t(y,"height",768,v),this.zoom=t(y,"zoom",1,v),this.parent=t(y,"parent",void 0,v),this.scaleMode=t(y,y?"mode":"scaleMode",0,v),this.expandParent=t(y,"expandParent",!0,v),this.autoRound=t(y,"autoRound",!1,v),this.autoCenter=t(y,"autoCenter",0,v),this.resizeInterval=t(y,"resizeInterval",500,v),this.fullscreenTarget=t(y,"fullscreenTarget",null,v),this.minWidth=t(y,"min.width",0,v),this.maxWidth=t(y,"max.width",0,v),this.minHeight=t(y,"min.height",0,v),this.maxHeight=t(y,"max.height",0,v),this.snapWidth=t(y,"snap.width",0,v),this.snapHeight=t(y,"snap.height",0,v),this.renderType=t(v,"type",p.AUTO),this.canvas=t(v,"canvas",null),this.context=t(v,"context",null),this.canvasStyle=t(v,"canvasStyle",null),this.customEnvironment=t(v,"customEnvironment",!1),this.sceneConfig=t(v,"scene",null),this.seed=t(v,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=t(v,"title",""),this.gameURL=t(v,"url","https://phaser.io/"+p.LOG_VERSION),this.gameVersion=t(v,"version",""),this.autoFocus=t(v,"autoFocus",!0),this.stableSort=t(v,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=t(v,"dom.createContainer",!1),this.domPointerEvents=t(v,"dom.pointerEvents","none"),this.inputKeyboard=t(v,"input.keyboard",!0),this.inputKeyboardEventTarget=t(v,"input.keyboard.target",window),this.inputKeyboardCapture=t(v,"input.keyboard.capture",[]),this.inputMouse=t(v,"input.mouse",!0),this.inputMouseEventTarget=t(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=t(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=t(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=t(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=t(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=t(v,"input.touch",s.input.touch),this.inputTouchEventTarget=t(v,"input.touch.target",null),this.inputTouchCapture=t(v,"input.touch.capture",!0),this.inputActivePointers=t(v,"input.activePointers",1),this.inputSmoothFactor=t(v,"input.smoothFactor",0),this.inputWindowEvents=t(v,"input.windowEvents",!0),this.inputGamepad=t(v,"input.gamepad",!1),this.inputGamepadEventTarget=t(v,"input.gamepad.target",window),this.disableContextMenu=t(v,"disableContextMenu",!1),this.audio=t(v,"audio",{}),this.hideBanner=t(v,"banner",null)===!1,this.hidePhaser=t(v,"banner.hidePhaser",!1),this.bannerTextColor=t(v,"banner.text",g),this.bannerBackgroundColor=t(v,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=t(v,"fps",null),this.disablePreFX=t(v,"disablePreFX",!1),this.disablePostFX=t(v,"disablePostFX",!1);var T=t(v,"render",null);this.pipeline=t(T,"pipeline",null,v),this.autoMobilePipeline=t(T,"autoMobilePipeline",!0,v),this.defaultPipeline=t(T,"defaultPipeline",o.MULTI_PIPELINE,v),this.antialias=t(T,"antialias",!0,v),this.antialiasGL=t(T,"antialiasGL",!0,v),this.mipmapFilter=t(T,"mipmapFilter","",v),this.desynchronized=t(T,"desynchronized",!1,v),this.roundPixels=t(T,"roundPixels",!1,v),this.pixelArt=t(T,"pixelArt",this.zoom!==1,v),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=t(T,"transparent",!1,v),this.clearBeforeRender=t(T,"clearBeforeRender",!0,v),this.preserveDrawingBuffer=t(T,"preserveDrawingBuffer",!1,v),this.premultipliedAlpha=t(T,"premultipliedAlpha",!0,v),this.failIfMajorPerformanceCaveat=t(T,"failIfMajorPerformanceCaveat",!1,v),this.powerPreference=t(T,"powerPreference","default",v),this.batchSize=t(T,"batchSize",4096,v),this.maxTextures=t(T,"maxTextures",-1,v),this.maxLights=t(T,"maxLights",10,v);var C=t(v,"backgroundColor",0);this.backgroundColor=c(C),this.transparent&&(this.backgroundColor=c(0),this.backgroundColor.alpha=0),this.preBoot=t(v,"callbacks.preBoot",h),this.postBoot=t(v,"callbacks.postBoot",h),this.physics=t(v,"physics",{}),this.defaultPhysicsSystem=t(this.physics,"default",!1),this.loaderBaseURL=t(v,"loader.baseURL",""),this.loaderPath=t(v,"loader.path",""),this.loaderMaxParallelDownloads=t(v,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=t(v,"loader.crossOrigin",void 0),this.loaderResponseType=t(v,"loader.responseType",""),this.loaderAsync=t(v,"loader.async",!0),this.loaderUser=t(v,"loader.user",""),this.loaderPassword=t(v,"loader.password",""),this.loaderTimeout=t(v,"loader.timeout",0),this.loaderMaxRetries=t(v,"loader.maxRetries",2),this.loaderWithCredentials=t(v,"loader.withCredentials",!1),this.loaderImageLoadType=t(v,"loader.imageLoadType","XHR"),this.loaderLocalScheme=t(v,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=t(v,"fx.glow.quality",.1),this.glowFXDistance=t(v,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var E=t(v,"plugins",null),z=a.DefaultScene;E&&(Array.isArray(E)?this.defaultPlugins=E:n(E)&&(this.installGlobalPlugins=r(E,"global",[]),this.installScenePlugins=r(E,"scene",[]),Array.isArray(E.default)?z=E.default:Array.isArray(E.defaultMerge)&&(z=z.concat(E.defaultMerge)))),this.defaultPlugins=z;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=t(v,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=t(v,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=t(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});u.exports=d},86054:(u,x,e)=>{var l=e(20623),p=e(27919),a=e(8054),s=e(89357),r=function(t){var n=t.config;if((n.customEnvironment||n.canvas)&&n.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==a.HEADLESS)if(n.renderType===a.AUTO&&(n.renderType=s.webGL?a.WEBGL:a.CANVAS),n.renderType===a.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===a.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||p.disableSmoothing();var h=t.scale.baseSize,i=h.width,o=h.height;if(n.canvas?(t.canvas=n.canvas,t.canvas.width=i,t.canvas.height=o):t.canvas=p.create(t,i,o,n.renderType),n.canvasStyle&&(t.canvas.style=n.canvasStyle),n.antialias||l.setCrisp(t.canvas),n.renderType!==a.HEADLESS){var c,d;c=e(68627),d=e(74797),n.renderType===a.WEBGL?t.renderer=new d(t):(t.renderer=new c(t),t.context=t.renderer.gameContext)}};u.exports=r},96391:(u,x,e)=>{var l=e(8054),p=function(a){var s=a.config;if(!s.hideBanner){var r="WebGL";s.renderType===l.CANVAS?r="Canvas":s.renderType===l.HEADLESS&&(r="Headless");var t=s.audio,n=a.device.audio,h;if(n.webAudio&&!t.disableWebAudio?h="Web Audio":t.noAudio||!n.webAudio&&!n.audioData?h="No Audio":h="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var i="",o=[i];if(Array.isArray(s.bannerBackgroundColor)){var c;s.bannerBackgroundColor.forEach(function(f){i=i.concat("%c "),o.push("background: "+f),c=f}),o[o.length-1]="color: "+s.bannerTextColor+"; background: "+c}else i=i.concat("%c "),o.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);o.push("background: transparent"),s.gameTitle&&(i=i.concat(s.gameTitle),s.gameVersion&&(i=i.concat(" v"+s.gameVersion)),s.hidePhaser||(i=i.concat(" / ")));var d="";s.hidePhaser||(i=i.concat("Phaser v"+l.VERSION+d+" ("+r+" | "+h+")")),i=i.concat(" %c "+s.gameURL),o[0]=i,console.log.apply(console,o)}}};u.exports=p},50127:(u,x,e)=>{var l=e(40366),p=e(60848),a=e(24047),s=e(27919),r=e(83419),t=e(69547),n=e(83719),h=e(86054),i=e(45893),o=e(96391),c=e(82264),d=e(57264),f=e(50792),v=e(8443),m=e(7003),g=e(37277),y=e(77332),T=e(76531),C=e(60903),E=e(69442),z=e(17130),D=e(65898),A=e(51085),L=e(14747);if(0)var b;var F=new r({initialize:function(B){this.config=new t(B),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new f,this.anims=new p(this),this.textures=new z(this),this.cache=new a(this),this.registry=new i(this,new f),this.input=new m(this,this.config),this.scene=new C(this,this.config.sceneConfig),this.device=c,this.scale=new T(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new D(this,this.config.fps),this.plugins=new y(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!g.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),n(this),o(this),l(this.canvas,this.config.parent),this.textures.once(E.READY,this.texturesReady,this),this.events.emit(v.BOOT)},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var V=this.events;V.on(v.HIDDEN,this.onHidden,this),V.on(v.VISIBLE,this.onVisible,this),V.on(v.BLUR,this.onBlur,this),V.on(v.FOCUS,this.onFocus,this)},step:function(V,B){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var N=this.events;N.emit(v.PRE_STEP,V,B),N.emit(v.STEP,V,B),this.scene.update(V,B),N.emit(v.POST_STEP,V,B);var U=this.renderer;U.preRender(),N.emit(v.PRE_RENDER,U,V,B),this.scene.render(U),U.postRender(),N.emit(v.POST_RENDER,U,V,B)}},headlessStep:function(V,B){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var N=this.events;N.emit(v.PRE_STEP,V,B),N.emit(v.STEP,V,B),this.scene.update(V,B),N.emit(v.POST_STEP,V,B),this.scene.isProcessing=!1,N.emit(v.PRE_RENDER,null,V,B),N.emit(v.POST_RENDER,null,V,B)}},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},pause:function(){var V=this.isPaused;this.isPaused=!0,V||this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME,this.loop.pauseDuration)},resume:function(){var V=this.isPaused;this.isPaused=!1,V&&this.events.emit(v.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(V,B){B===void 0&&(B=!1),this.pendingDestroy=!0,this.removeCanvas=V,this.noReturn=B},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});u.exports=F},65898:(u,x,e)=>{var l=e(83419),p=e(35154),a=e(29747),s=e(43092),r=new l({initialize:function(n,h){this.game=n,this.raf=new s,this.started=!1,this.running=!1,this.minFps=p(h,"min",5),this.targetFps=p(h,"target",60),this.fpsLimit=p(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=p(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(h,"deltaHistory",10),this.panicMax=p(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(t){var n=this.deltaIndex,h=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,t=Math.min(t,this._target)),t>this._min&&(t=h[n],t=Math.min(t,this._min)),h[n]=t,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var o=0,c=0;c<i;c++)o+=h[c];return o/=i,o},updateFPS:function(t){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0},stepLimitFPS:function(t){this.now=t;var n=Math.max(0,t-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,t>=this.nextFpsUpdate&&this.updateFPS(t),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(t,this.delta),this.delta=0),this.lastTime=t,this.frame++},step:function(t){this.now=t;var n=Math.max(0,t-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,t>=this.nextFpsUpdate&&this.updateFPS(t),this.framesThisSecond++,this.callback(t,n),this.lastTime=t,this.frame++},tick:function(){var t=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(t):this.step(t)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){t===void 0&&(t=!1);var n=window.performance.now();if(!this.running){t&&(this.startTime+=-this.lastTime+(this.lastTime+n));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});u.exports=r},51085:(u,x,e)=>{var l=e(8443),p=function(a){var s,r=a.events;if(document.hidden!==void 0)s="visibilitychange";else{var t=["webkit","moz","ms"];t.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},s=h+"visibilitychange")})}var n=function(h){document.hidden||h.type==="pause"?r.emit(l.HIDDEN):r.emit(l.VISIBLE)};s&&document.addEventListener(s,n,!1),window.onblur=function(){r.emit(l.BLUR)},window.onfocus=function(){r.emit(l.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};u.exports=p},97217:u=>{u.exports="blur"},47548:u=>{u.exports="boot"},19814:u=>{u.exports="contextlost"},68446:u=>{u.exports="destroy"},41700:u=>{u.exports="focus"},25432:u=>{u.exports="hidden"},65942:u=>{u.exports="pause"},59211:u=>{u.exports="postrender"},47789:u=>{u.exports="poststep"},39066:u=>{u.exports="prerender"},460:u=>{u.exports="prestep"},16175:u=>{u.exports="ready"},42331:u=>{u.exports="resume"},11966:u=>{u.exports="step"},32969:u=>{u.exports="systemready"},94830:u=>{u.exports="visible"},8443:(u,x,e)=>{u.exports={BLUR:e(97217),BOOT:e(47548),CONTEXT_LOST:e(19814),DESTROY:e(68446),FOCUS:e(41700),HIDDEN:e(25432),PAUSE:e(65942),POST_RENDER:e(59211),POST_STEP:e(47789),PRE_RENDER:e(39066),PRE_STEP:e(460),READY:e(16175),RESUME:e(42331),STEP:e(11966),SYSTEM_READY:e(32969),VISIBLE:e(94830)}},42857:(u,x,e)=>{u.exports={Config:e(69547),CreateRenderer:e(86054),DebugHeader:e(96391),Events:e(8443),TimeStep:e(65898),VisibilityHandler:e(51085)}},99584:(u,x,e)=>{var l=e(5290),p=e(27919),a=e(35154),s=function(r){var t=a(r,"data",[]),n=a(r,"canvas",null),h=a(r,"palette",l),i=a(r,"pixelWidth",1),o=a(r,"pixelHeight",i),c=a(r,"resizeCanvas",!0),d=a(r,"clearCanvas",!0),f=a(r,"preRender",null),v=a(r,"postRender",null),m=Math.floor(Math.abs(t[0].length*i)),g=Math.floor(Math.abs(t.length*o));n||(n=p.create2D(this,m,g),c=!1,d=!1),c&&(n.width=m,n.height=g);var y=n.getContext("2d",{willReadFrequently:!0});d&&y.clearRect(0,0,m,g),f&&f(n,y);for(var T=0;T<t.length;T++)for(var C=t[T],E=0;E<C.length;E++){var z=C[E];z!=="."&&z!==" "&&(y.fillStyle=h[z],y.fillRect(E*i,T*o,i,o))}return v&&v(n,y),n};u.exports=s},15822:(u,x,e)=>{u.exports={GenerateTexture:e(99584),Palettes:e(57763)}},5290:u=>{u.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:u=>{u.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:u=>{u.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:u=>{u.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:u=>{u.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(u,x,e)=>{u.exports={ARNE16:e(5290),C64:e(23816),CGA:e(9866),JMP:e(77552),MSX:e(92259)}},46728:(u,x,e)=>{var l=e(83419),p=e(36316),a=e(80021),s=e(26099),r=new l({Extends:a,initialize:function(n,h,i,o){a.call(this,"CubicBezierCurve"),Array.isArray(n)&&(o=new s(n[6],n[7]),i=new s(n[4],n[5]),h=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=h,this.p2=i,this.p3=o},getStartPoint:function(t){return t===void 0&&(t=new s),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,n){n===void 0&&(n=new s);var h=this.p0,i=this.p1,o=this.p2,c=this.p3;return n.set(p(t,h.x,i.x,o.x,c.x),p(t,h.y,i.y,o.y,c.y))},draw:function(t,n){n===void 0&&(n=32);var h=this.getPoints(n);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)t.lineTo(h[i].x,h[i].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(t){var n=t.points,h=new s(n[0],n[1]),i=new s(n[2],n[3]),o=new s(n[4],n[5]),c=new s(n[6],n[7]);return new r(h,i,o,c)},u.exports=r},80021:(u,x,e)=>{var l=e(83419),p=e(19217),a=e(87841),s=e(26099),r=new l({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(t,n){return n===void 0&&(n=32),t.strokePoints(this.getPoints(n))},getBounds:function(t,n){t||(t=new a),n===void 0&&(n=16);var h=this.getLength();n>h&&(n=h/2);var i=Math.max(1,Math.round(h/n));return p(this.getSpacedPoints(i),t)},getDistancePoints:function(t){var n=this.getLength(),h=Math.max(1,n/t);return this.getSpacedPoints(h)},getEndPoint:function(t){return t===void 0&&(t=new s),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],h,i=this.getPoint(0,this._tmpVec2A),o=0;n.push(0);for(var c=1;c<=t;c++)h=this.getPoint(c/t,this._tmpVec2B),o+=h.distance(i),n.push(o),i.copy(h);return this.cacheArcLengths=n,n},getPointAt:function(t,n){var h=this.getUtoTmapping(t);return this.getPoint(h,n)},getPoints:function(t,n,h){h===void 0&&(h=[]),t||(n?t=this.getLength()/n:t=this.defaultDivisions);for(var i=0;i<=t;i++)h.push(this.getPoint(i/t));return h},getRandomPoint:function(t){return t===void 0&&(t=new s),this.getPoint(Math.random(),t)},getSpacedPoints:function(t,n,h){h===void 0&&(h=[]),t||(n?t=this.getLength()/n:t=this.defaultDivisions);for(var i=0;i<=t;i++){var o=this.getUtoTmapping(i/t,null,t);h.push(this.getPoint(o))}return h},getStartPoint:function(t){return t===void 0&&(t=new s),this.getPointAt(0,t)},getTangent:function(t,n){n===void 0&&(n=new s);var h=1e-4,i=t-h,o=t+h;return i<0&&(i=0),o>1&&(o=1),this.getPoint(i,this._tmpVec2A),this.getPoint(o,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,n){var h=this.getUtoTmapping(t);return this.getTangent(h,n)},getTFromDistance:function(t,n){return t<=0?0:this.getUtoTmapping(0,t,n)},getUtoTmapping:function(t,n,h){var i=this.getLengths(h),o=0,c=i.length,d;n?d=Math.min(n,i[c-1]):d=t*i[c-1];for(var f=0,v=c-1,m;f<=v;)if(o=Math.floor(f+(v-f)/2),m=i[o]-d,m<0)f=o+1;else if(m>0)v=o-1;else{v=o;break}if(o=v,i[o]===d)return o/(c-1);var g=i[o],y=i[o+1],T=y-g,C=(d-g)/T;return(o+C)/(c-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});u.exports=r},73825:(u,x,e)=>{var l=e(83419),p=e(80021),a=e(39506),s=e(35154),r=e(43396),t=e(26099),n=new l({Extends:p,initialize:function(i,o,c,d,f,v,m,g){if(typeof i=="object"){var y=i;i=s(y,"x",0),o=s(y,"y",0),c=s(y,"xRadius",0),d=s(y,"yRadius",c),f=s(y,"startAngle",0),v=s(y,"endAngle",360),m=s(y,"clockwise",!1),g=s(y,"rotation",0)}else d===void 0&&(d=c),f===void 0&&(f=0),v===void 0&&(v=360),m===void 0&&(m=!1),g===void 0&&(g=0);p.call(this,"EllipseCurve"),this.p0=new t(i,o),this._xRadius=c,this._yRadius=d,this._startAngle=a(f),this._endAngle=a(v),this._clockwise=m,this._rotation=a(g)},getStartPoint:function(h){return h===void 0&&(h=new t),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,i){i===void 0&&(i=new t);for(var o=Math.PI*2,c=this._endAngle-this._startAngle,d=Math.abs(c)<Number.EPSILON;c<0;)c+=o;for(;c>o;)c-=o;c<Number.EPSILON&&(d?c=0:c=o),this._clockwise&&!d&&(c===o?c=-o:c=c-o);var f=this._startAngle+h*c,v=this.p0.x+this._xRadius*Math.cos(f),m=this.p0.y+this._yRadius*Math.sin(f);if(this._rotation!==0){var g=Math.cos(this._rotation),y=Math.sin(this._rotation),T=v-this.p0.x,C=m-this.p0.y;v=T*g-C*y+this.p0.x,m=T*y+C*g+this.p0.y}return i.set(v,m)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return r(this._startAngle)},set:function(h){this._startAngle=a(h)}},endAngle:{get:function(){return r(this._endAngle)},set:function(h){this._endAngle=a(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return r(this._rotation)},set:function(h){this._rotation=a(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});n.fromJSON=function(h){return new n(h)},u.exports=n},33951:(u,x,e)=>{var l=e(83419),p=e(80021),a=e(19217),s=e(87841),r=e(26099),t=new l({Extends:p,initialize:function(h,i){p.call(this,"LineCurve"),Array.isArray(h)&&(i=new r(h[2],h[3]),h=new r(h[0],h[1])),this.p0=h,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new s),a([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,h){return h===void 0&&(h=new r),n===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),h)},getPointAt:function(n,h){return this.getPoint(n,h)},getTangent:function(n,h){return h===void 0&&(h=new r),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(n,h,i){var o;if(h){var c=this.getLengths(i),d=c[c.length-1],f=Math.min(h,d);o=f/d}else o=n;return o},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});t.fromJSON=function(n){var h=n.points,i=new r(h[0],h[1]),o=new r(h[2],h[3]);return new t(i,o)},u.exports=t},14744:(u,x,e)=>{var l=e(83419),p=e(80021),a=e(32112),s=e(26099),r=new l({Extends:p,initialize:function(n,h,i){p.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new s(n[4],n[5]),h=new s(n[2],n[3]),n=new s(n[0],n[1])),this.p0=n,this.p1=h,this.p2=i},getStartPoint:function(t){return t===void 0&&(t=new s),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,n){n===void 0&&(n=new s);var h=this.p0,i=this.p1,o=this.p2;return n.set(a(t,h.x,i.x,o.x),a(t,h.y,i.y,o.y))},draw:function(t,n){n===void 0&&(n=32);var h=this.getPoints(n);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)t.lineTo(h[i].x,h[i].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(t){var n=t.points,h=new s(n[0],n[1]),i=new s(n[2],n[3]),o=new s(n[4],n[5]);return new r(h,i,o)},u.exports=r},42534:(u,x,e)=>{var l=e(87842),p=e(83419),a=e(80021),s=e(26099),r=new p({Extends:a,initialize:function(n){n===void 0&&(n=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(t){for(var n=0;n<t.length;n++){var h=new s;typeof t[n]=="number"?(h.x=t[n],h.y=t[n+1],n++):Array.isArray(t[n])?(h.x=t[n][0],h.y=t[n][1]):(h.x=t[n].x,h.y=t[n].y),this.points.push(h)}return this},addPoint:function(t,n){var h=new s(t,n);return this.points.push(h),h},getStartPoint:function(t){return t===void 0&&(t=new s),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,n){n===void 0&&(n=new s);var h=this.points,i=(h.length-1)*t,o=Math.floor(i),c=i-o,d=h[o===0?o:o-1],f=h[o],v=h[o>h.length-2?h.length-1:o+1],m=h[o>h.length-3?h.length-1:o+2];return n.set(l(c,d.x,f.x,v.x,m.x),l(c,d.y,f.y,v.y,m.y))},toJSON:function(){for(var t=[],n=0;n<this.points.length;n++)t.push(this.points[n].x),t.push(this.points[n].y);return{type:this.type,points:t}}});r.fromJSON=function(t){return new r(t.points)},u.exports=r},25410:(u,x,e)=>{u.exports={Path:e(46669),MoveTo:e(68618),CubicBezier:e(46728),Curve:e(80021),Ellipse:e(73825),Line:e(33951),QuadraticBezier:e(14744),Spline:e(42534)}},68618:(u,x,e)=>{var l=e(83419),p=e(26099),a=new l({initialize:function(r,t){this.active=!1,this.p0=new p(r,t)},getPoint:function(s,r){return r===void 0&&(r=new p),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});u.exports=a},46669:(u,x,e)=>{var l=e(83419),p=e(46728),a=e(73825),s=e(39429),r=e(33951),t=e(68618),n=e(14744),h=e(87841),i=e(42534),o=e(26099),c=e(36383),d=new l({initialize:function(v,m){v===void 0&&(v=0),m===void 0&&(m=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,m)},add:function(f){return this.curves.push(f),this},circleTo:function(f,v,m){return v===void 0&&(v=!1),this.ellipseTo(f,f,0,360,v,m)},closePath:function(){var f=this.curves[0].getPoint(0),v=this.curves[this.curves.length-1].getPoint(1);return f.equals(v)||this.curves.push(new r(v,f)),this},cubicBezierTo:function(f,v,m,g,y,T){var C=this.getEndPoint(),E,z,D;return f instanceof o?(E=f,z=v,D=m):(E=new o(m,g),z=new o(y,T),D=new o(f,v)),this.add(new p(C,E,z,D))},quadraticBezierTo:function(f,v,m,g){var y=this.getEndPoint(),T,C;return f instanceof o?(T=f,C=v):(T=new o(m,g),C=new o(f,v)),this.add(new n(y,T,C))},draw:function(f,v){for(var m=0;m<this.curves.length;m++){var g=this.curves[m];g.active&&g.draw(f,v)}return f},ellipseTo:function(f,v,m,g,y,T){var C=new a(0,0,f,v,m,g,y,T),E=this.getEndPoint(this._tmpVec2A),z=C.getStartPoint(this._tmpVec2B);return E.subtract(z),C.x=E.x,C.y=E.y,this.add(C)},fromJSON:function(f){this.curves=[],this.cacheLengths=[],this.startPoint.set(f.x,f.y),this.autoClose=f.autoClose;for(var v=0;v<f.curves.length;v++){var m=f.curves[v];switch(m.type){case"LineCurve":this.add(r.fromJSON(m));break;case"EllipseCurve":this.add(a.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(p.fromJSON(m));break;case"QuadraticBezierCurve":this.add(n.fromJSON(m));break}}return this},getBounds:function(f,v){f===void 0&&(f=new h),v===void 0&&(v=16),f.x=Number.MAX_VALUE,f.y=Number.MAX_VALUE;for(var m=new h,g=c.MIN_SAFE_INTEGER,y=c.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var C=this.curves[T];C.active&&(C.getBounds(m,v),f.x=Math.min(f.x,m.x),f.y=Math.min(f.y,m.y),g=Math.max(g,m.right),y=Math.max(y,m.bottom))}return f.right=g,f.bottom=y,f},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var f=[],v=0,m=0;m<this.curves.length;m++)v+=this.curves[m].getLength(),f.push(v);return this.cacheLengths=f,f},getCurveAt:function(f){for(var v=f*this.getLength(),m=this.getCurveLengths(),g=0;g<m.length;){if(m[g]>=v)return this.curves[g];g++}return null},getEndPoint:function(f){return f===void 0&&(f=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,f):f.copy(this.startPoint),f},getLength:function(){var f=this.getCurveLengths();return f[f.length-1]},getPoint:function(f,v){v===void 0&&(v=new o);for(var m=f*this.getLength(),g=this.getCurveLengths(),y=0;y<g.length;){if(g[y]>=m){var T=g[y]-m,C=this.curves[y],E=C.getLength(),z=E===0?0:1-T/E;return C.getPointAt(z,v)}y++}return null},getPoints:function(f,v){!f&&!v&&(f=this.defaultDivisions);for(var m=[],g,y=0;y<this.curves.length;y++){var T=this.curves[y];if(T.active)for(var C=T.getResolution(f),E=T.getPoints(C,v),z=0;z<E.length;z++){var D=E[z];g&&g.equals(D)||(m.push(D),g=D)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(f){return f===void 0&&(f=new o),this.getPoint(Math.random(),f)},getSpacedPoints:function(f){f===void 0&&(f=40);for(var v=[],m=0;m<=f;m++)v.push(this.getPoint(m/f));return this.autoClose&&v.push(v[0]),v},getStartPoint:function(f){return f===void 0&&(f=new o),f.copy(this.startPoint)},getTangent:function(f,v){v===void 0&&(v=new o);for(var m=f*this.getLength(),g=this.getCurveLengths(),y=0;y<g.length;){if(g[y]>=m){var T=g[y]-m,C=this.curves[y],E=C.getLength(),z=E===0?0:1-T/E;return C.getTangentAt(z,v)}y++}return null},lineTo:function(f,v){f instanceof o?this._tmpVec2B.copy(f):typeof f=="object"?this._tmpVec2B.setFromObject(f):this._tmpVec2B.set(f,v);var m=this.getEndPoint(this._tmpVec2A);return this.add(new r([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(f){return f.unshift(this.getEndPoint()),this.add(new i(f))},moveTo:function(f,v){return f instanceof o?this.add(new t(f.x,f.y)):this.add(new t(f,v))},toJSON:function(){for(var f=[],v=0;v<this.curves.length;v++)f.push(this.curves[v].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:f}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(f,v){return new d(f,v)}),u.exports=d},45893:(u,x,e)=>{var l=e(83419),p=e(24882),a=new l({initialize:function(r,t){this.parent=r,this.events=t,t||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var t=[],n=0;n<s.length;n++)t.push(r[s[n]]);return t}else return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var t in this.list)this.list.hasOwnProperty(t)&&t.match(s)&&(r[t]=this.list[t]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var t in s)this.setValue(t,s[t]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var t=this.get(s);return t===void 0&&(t=0),this.set(s,t+r),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,r){if(this._frozen)return this;if(this.has(s))this.values[s]=r;else{var t=this,n=this.list,h=this.events,i=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return n[s]},set:function(o){if(!t._frozen){var c=n[s];n[s]=o,h.emit(p.CHANGE_DATA,i,s,o,c),h.emit(p.CHANGE_DATA_KEY+s,i,o,c)}}}),n[s]=r,h.emit(p.SET_DATA,i,s,r)}return this},each:function(s,r){for(var t=[this.parent,null,void 0],n=1;n<arguments.length;n++)t.push(arguments[n]);for(var h in this.list)t[1]=h,t[2]=this.list[h],s.apply(r,t);return this},merge:function(s,r){r===void 0&&(r=!0);for(var t in s)s.hasOwnProperty(t)&&(r||!r&&!this.has(t))&&this.setValue(t,s[t]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var r=0;r<s.length;r++)this.removeValue(s[r]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var r=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)}return this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(p.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});u.exports=a},63646:(u,x,e)=>{var l=e(83419),p=e(45893),a=e(37277),s=e(44594),r=new l({Extends:p,initialize:function(n){p.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",r,"data"),u.exports=r},10700:u=>{u.exports="changedata"},93608:u=>{u.exports="changedata-"},60883:u=>{u.exports="destroy"},69780:u=>{u.exports="removedata"},22166:u=>{u.exports="setdata"},24882:(u,x,e)=>{u.exports={CHANGE_DATA:e(10700),CHANGE_DATA_KEY:e(93608),DESTROY:e(60883),REMOVE_DATA:e(69780),SET_DATA:e(22166)}},44965:(u,x,e)=>{u.exports={DataManager:e(45893),DataManagerPlugin:e(63646),Events:e(24882)}},7098:(u,x,e)=>{var l=e(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),r=!!s.canPlayType;try{if(r){var t=function(i,o){var c=s.canPlayType("audio/"+i).replace(/^no$/,"");return o?!!(c||s.canPlayType("audio/"+o).replace(/^no$/,"")):!!c};if(p.ogg=t('ogg; codecs="vorbis"'),p.opus=t('ogg; codecs="opus"',"opus"),p.mp3=t("mpeg"),p.wav=t("wav"),p.m4a=t("x-m4a"),p.aac=t("aac"),p.flac=t("flac","x-flac"),p.webm=t('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(l.edge)p.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(n===10&&h>=11||n>10)&&(p.dolby=!0)}}}}catch{}return p}u.exports=a()},84148:(u,x,e)=>{var l=e(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(p.edge=!0,p.es2019=!0):/OPR/.test(s)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(s)&&!l.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&l.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!l.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(p.silk=!0),p}u.exports=a()},89289:(u,x,e)=>{var l=e(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var i=new Image;i.onload=function(){var o=l.create2D(i,6),c=o.getContext("2d",{willReadFrequently:!0});if(c.globalCompositeOperation="multiply",c.drawImage(h,0,0),c.drawImage(i,2,0),!c.getImageData(2,0,1,1))return!1;var d=c.getImageData(2,0,1,1).data;l.remove(i),p.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},i.src=t+"/wCKxvRF"+n},h.src=t+"AP804Oa6"+n,!1}function s(){var t=l.create2D(this,2),n=t.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var h=n.getImageData(0,0,1,1);if(h===null)return!1;n.putImageData(h,1,0);var i=n.getImageData(1,0,1,1),o=i.data[0]===h.data[0]&&i.data[1]===h.data[1]&&i.data[2]===h.data[2]&&i.data[3]===h.data[3];return l.remove(this),o}function r(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=a(),p.supportInverseAlpha=s()),p}u.exports=r()},89357:(u,x,e)=>{var l=e(25892),p=e(84148),a=e(27919),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var n=new ArrayBuffer(4),h=new Uint8Array(n),i=new Uint32Array(n);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function t(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var n=!1,h=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),o=i.getContext("webgl")||i.getContext("experimental-webgl"),c=a.create2D(this),d=c.getContext("2d",{willReadFrequently:!0}),f=d.createImageData(1,1);return n=f.data instanceof Uint8ClampedArray,a.remove(i),a.remove(c),!!o}catch{return!1}return!1};return s.webGL=h(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(s.getUserMedia=!1),!l.iOS&&(p.ie||p.firefox||p.chrome)&&(s.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=r()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&n,s}u.exports=t()},91639:u=>{var x={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return x;var l,p="Fullscreen",a="FullScreen",s=["request"+p,"request"+a,"webkitRequest"+p,"webkitRequest"+a,"msRequest"+p,"msRequest"+a,"mozRequest"+a,"mozRequest"+p];for(l=0;l<s.length;l++)if(document.documentElement[s[l]]){x.available=!0,x.request=s[l];break}var r=["cancel"+a,"exit"+p,"webkitCancel"+a,"webkitExit"+p,"msCancel"+a,"msExit"+p,"mozCancel"+a,"mozExit"+p];if(x.available){for(l=0;l<r.length;l++)if(document[r[l]]){x.cancel=r[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}u.exports=e()},31784:(u,x,e)=>{var l=e(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}u.exports=a()},25892:u=>{var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return x;var l=navigator.userAgent;/Windows/.test(l)?x.windows=!0:/Mac OS/.test(l)&&!/like Mac OS/.test(l)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(l)?x.android=!0:/Linux/.test(l)?x.linux=!0:/iP[ao]d|iPhone/i.test(l)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=l.toLowerCase().indexOf("iphone")!==-1,x.iPad=l.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(l)||/\bKF[A-Z][A-Z]+/.test(l)||/Silk.*Mobile Safari/.test(l)?x.kindle=!0:/CrOS/.test(l)&&(x.chromeOS=!0),(/Windows Phone/i.test(l)||/IEMobile/i.test(l))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var p=/Silk/.test(l);return(x.windows||x.macOS||x.linux&&!p||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(l)&&/Touch/i.test(l))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(l)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}u.exports=e()},43267:(u,x,e)=>{var l=e(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return p;var s=document.createElement("video"),r=!!s.canPlayType,t=/^no$/;try{r&&(s.canPlayType('video/ogg; codecs="theora"').replace(t,"")&&(p.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(t,"")&&(p.h264=!0,p.mp4=!0),s.canPlayType("video/x-m4v").replace(t,"")&&(p.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(t,"")&&(p.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(t,"")&&(p.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(t,"")&&(p.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),p.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var i=l(n[h],"url",n[h]);if(i.indexOf("blob:")===0)return{url:i,type:""};var o;if(i.indexOf("data:")===0?o=i.split(",")[0].match(/\/(.*?);/):o=i.match(/\.([a-zA-Z0-9]+)($|\?)/),o=l(n[h],"type",o?o[1]:"").toLowerCase(),p[o])return{url:i,type:o}}return null},p}u.exports=a()},82264:(u,x,e)=>{u.exports={os:e(25892),browser:e(84148),features:e(89357),input:e(31784),audio:e(7098),video:e(43267),fullscreen:e(91639),canvasFeatures:e(89289)}},89422:(u,x,e)=>{var l=e(83419),p=new Float32Array(20),a=new l({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var t=s;return this.multiply([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var t=s*2/3+1,n=(t-1)*-.5;return this.multiply([t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var t=Math.cos(s),n=Math.sin(s),h=.213,i=.715,o=.072;return this.multiply([h+t*(1-h)+n*-h,i+t*-i+n*-i,o+t*-o+n*(1-o),0,0,h+t*-h+n*.143,i+t*(1-i)+n*.14,o+t*-o+n*-.283,0,0,h+t*-h+n*-(1-h),i+t*-i+n*i,o+t*(1-o)+n*o,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(a.BLACK_WHITE,s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var t=s+1,n=-.5*(t-1);return this.multiply([t,0,0,0,n,0,t,0,0,n,0,0,t,0,n,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply(a.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(a.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(a.SEPIA,s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(a.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(a.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(a.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(a.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(a.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(a.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(a.SHIFT_BGR,s)},multiply:function(s,r){r===void 0&&(r=!1),r||this.reset();var t=this._matrix,n=p;return n.set(t),t.set([n[0]*s[0]+n[1]*s[5]+n[2]*s[10]+n[3]*s[15],n[0]*s[1]+n[1]*s[6]+n[2]*s[11]+n[3]*s[16],n[0]*s[2]+n[1]*s[7]+n[2]*s[12]+n[3]*s[17],n[0]*s[3]+n[1]*s[8]+n[2]*s[13]+n[3]*s[18],n[0]*s[4]+n[1]*s[9]+n[2]*s[14]+n[3]*s[19]+n[4],n[5]*s[0]+n[6]*s[5]+n[7]*s[10]+n[8]*s[15],n[5]*s[1]+n[6]*s[6]+n[7]*s[11]+n[8]*s[16],n[5]*s[2]+n[6]*s[7]+n[7]*s[12]+n[8]*s[17],n[5]*s[3]+n[6]*s[8]+n[7]*s[13]+n[8]*s[18],n[5]*s[4]+n[6]*s[9]+n[7]*s[14]+n[8]*s[19]+n[9],n[10]*s[0]+n[11]*s[5]+n[12]*s[10]+n[13]*s[15],n[10]*s[1]+n[11]*s[6]+n[12]*s[11]+n[13]*s[16],n[10]*s[2]+n[11]*s[7]+n[12]*s[12]+n[13]*s[17],n[10]*s[3]+n[11]*s[8]+n[12]*s[13]+n[13]*s[18],n[10]*s[4]+n[11]*s[9]+n[12]*s[14]+n[13]*s[19]+n[14],n[15]*s[0]+n[16]*s[5]+n[17]*s[10]+n[18]*s[15],n[15]*s[1]+n[16]*s[6]+n[17]*s[11]+n[18]*s[16],n[15]*s[2]+n[16]*s[7]+n[17]*s[12]+n[18]*s[17],n[15]*s[3]+n[16]*s[8]+n[17]*s[13]+n[18]*s[18],n[15]*s[4]+n[16]*s[9]+n[17]*s[14]+n[18]*s[19]+n[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],u.exports=a},51767:(u,x,e)=>{var l=e(83419),p=e(29747),a=new l({initialize:function(r,t,n){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(r,t,n)},set:function(s,r,t){return s===void 0&&(s=0),r===void 0&&(r=0),t===void 0&&(t=0),this._rgb=[s,r,t],this.onChange(),this},equals:function(s,r,t){var n=this._rgb;return n[0]===s&&n[1]===r&&n[2]===t},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});u.exports=a},60461:u=>{var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};u.exports=x},54312:(u,x,e)=>{var l=e(62235),p=e(35893),a=e(86327),s=e(88417),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)+h),a(t,l(n)+i),t};u.exports=r},46768:(u,x,e)=>{var l=e(62235),p=e(26541),a=e(86327),s=e(385),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)-h),a(t,l(n)+i),t};u.exports=r},35827:(u,x,e)=>{var l=e(62235),p=e(54380),a=e(86327),s=e(40136),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)+h),a(t,l(n)+i),t};u.exports=r},46871:(u,x,e)=>{var l=e(66786),p=e(35893),a=e(7702),s=function(r,t,n,h){return n===void 0&&(n=0),h===void 0&&(h=0),l(r,p(t)+n,a(t)+h),r};u.exports=s},5198:(u,x,e)=>{var l=e(7702),p=e(26541),a=e(20786),s=e(385),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)-h),a(t,l(n)+i),t};u.exports=r},11879:(u,x,e)=>{var l=e(60461),p=[];p[l.BOTTOM_CENTER]=e(54312),p[l.BOTTOM_LEFT]=e(46768),p[l.BOTTOM_RIGHT]=e(35827),p[l.CENTER]=e(46871),p[l.LEFT_CENTER]=e(5198),p[l.RIGHT_CENTER]=e(80503),p[l.TOP_CENTER]=e(89698),p[l.TOP_LEFT]=e(922),p[l.TOP_RIGHT]=e(21373),p[l.LEFT_BOTTOM]=p[l.BOTTOM_LEFT],p[l.LEFT_TOP]=p[l.TOP_LEFT],p[l.RIGHT_BOTTOM]=p[l.BOTTOM_RIGHT],p[l.RIGHT_TOP]=p[l.TOP_RIGHT];var a=function(s,r,t,n,h){return p[t](s,r,n,h)};u.exports=a},80503:(u,x,e)=>{var l=e(7702),p=e(54380),a=e(20786),s=e(40136),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)+h),a(t,l(n)+i),t};u.exports=r},89698:(u,x,e)=>{var l=e(35893),p=e(17717),a=e(88417),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,l(n)+h),s(t,p(n)-i),t};u.exports=r},922:(u,x,e)=>{var l=e(26541),p=e(17717),a=e(385),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,l(n)-h),s(t,p(n)-i),t};u.exports=r},21373:(u,x,e)=>{var l=e(54380),p=e(17717),a=e(40136),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,l(n)+h),s(t,p(n)-i),t};u.exports=r},91660:(u,x,e)=>{u.exports={BottomCenter:e(54312),BottomLeft:e(46768),BottomRight:e(35827),Center:e(46871),LeftCenter:e(5198),QuickSet:e(11879),RightCenter:e(80503),TopCenter:e(89698),TopLeft:e(922),TopRight:e(21373)}},71926:(u,x,e)=>{var l=e(60461),p=e(79291),a={In:e(91660),To:e(16694)};a=p(!1,a,l),u.exports=a},21578:(u,x,e)=>{var l=e(62235),p=e(35893),a=e(88417),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,p(n)+h),s(t,l(n)+i),t};u.exports=r},10210:(u,x,e)=>{var l=e(62235),p=e(26541),a=e(385),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,p(n)-h),s(t,l(n)+i),t};u.exports=r},82341:(u,x,e)=>{var l=e(62235),p=e(54380),a=e(40136),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,p(n)+h),s(t,l(n)+i),t};u.exports=r},87958:(u,x,e)=>{var l=e(62235),p=e(26541),a=e(86327),s=e(40136),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)-h),a(t,l(n)+i),t};u.exports=r},40080:(u,x,e)=>{var l=e(7702),p=e(26541),a=e(20786),s=e(40136),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)-h),a(t,l(n)+i),t};u.exports=r},88466:(u,x,e)=>{var l=e(26541),p=e(17717),a=e(40136),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,l(n)-h),s(t,p(n)-i),t};u.exports=r},38829:(u,x,e)=>{var l=e(60461),p=[];p[l.BOTTOM_CENTER]=e(21578),p[l.BOTTOM_LEFT]=e(10210),p[l.BOTTOM_RIGHT]=e(82341),p[l.LEFT_BOTTOM]=e(87958),p[l.LEFT_CENTER]=e(40080),p[l.LEFT_TOP]=e(88466),p[l.RIGHT_BOTTOM]=e(19211),p[l.RIGHT_CENTER]=e(34609),p[l.RIGHT_TOP]=e(48741),p[l.TOP_CENTER]=e(49440),p[l.TOP_LEFT]=e(81288),p[l.TOP_RIGHT]=e(61323);var a=function(s,r,t,n,h){return p[t](s,r,n,h)};u.exports=a},19211:(u,x,e)=>{var l=e(62235),p=e(54380),a=e(86327),s=e(385),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)+h),a(t,l(n)+i),t};u.exports=r},34609:(u,x,e)=>{var l=e(7702),p=e(54380),a=e(20786),s=e(385),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,p(n)+h),a(t,l(n)+i),t};u.exports=r},48741:(u,x,e)=>{var l=e(54380),p=e(17717),a=e(385),s=e(66737),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,l(n)+h),s(t,p(n)-i),t};u.exports=r},49440:(u,x,e)=>{var l=e(35893),p=e(17717),a=e(86327),s=e(88417),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,l(n)+h),a(t,p(n)-i),t};u.exports=r},81288:(u,x,e)=>{var l=e(26541),p=e(17717),a=e(86327),s=e(385),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,l(n)-h),a(t,p(n)-i),t};u.exports=r},61323:(u,x,e)=>{var l=e(54380),p=e(17717),a=e(86327),s=e(40136),r=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),s(t,l(n)+h),a(t,p(n)-i),t};u.exports=r},16694:(u,x,e)=>{u.exports={BottomCenter:e(21578),BottomLeft:e(10210),BottomRight:e(82341),LeftBottom:e(87958),LeftCenter:e(40080),LeftTop:e(88466),QuickSet:e(38829),RightBottom:e(19211),RightCenter:e(34609),RightTop:e(48741),TopCenter:e(49440),TopLeft:e(81288),TopRight:e(61323)}},66786:(u,x,e)=>{var l=e(88417),p=e(20786),a=function(s,r,t){return l(s,r),p(s,t)};u.exports=a},62235:u=>{var x=function(e){return e.y+e.height-e.height*e.originY};u.exports=x},72873:(u,x,e)=>{var l=e(62235),p=e(26541),a=e(54380),s=e(17717),r=e(87841),t=function(n,h){h===void 0&&(h=new r);var i=p(n),o=s(n);return h.x=i,h.y=o,h.width=a(n)-i,h.height=l(n)-o,h};u.exports=t},35893:u=>{var x=function(e){return e.x-e.width*e.originX+e.width*.5};u.exports=x},7702:u=>{var x=function(e){return e.y-e.height*e.originY+e.height*.5};u.exports=x},26541:u=>{var x=function(e){return e.x-e.width*e.originX};u.exports=x},87431:u=>{var x=function(e){return e.width*e.originX};u.exports=x},46928:u=>{var x=function(e){return e.height*e.originY};u.exports=x},54380:u=>{var x=function(e){return e.x+e.width-e.width*e.originX};u.exports=x},17717:u=>{var x=function(e){return e.y-e.height*e.originY};u.exports=x},86327:u=>{var x=function(e,l){return e.y=l-e.height+e.height*e.originY,e};u.exports=x},88417:u=>{var x=function(e,l){var p=e.width*e.originX;return e.x=l+p-e.width*.5,e};u.exports=x},20786:u=>{var x=function(e,l){var p=e.height*e.originY;return e.y=l+p-e.height*.5,e};u.exports=x},385:u=>{var x=function(e,l){return e.x=l+e.width*e.originX,e};u.exports=x},40136:u=>{var x=function(e,l){return e.x=l-e.width+e.width*e.originX,e};u.exports=x},66737:u=>{var x=function(e,l){return e.y=l+e.height*e.originY,e};u.exports=x},58724:(u,x,e)=>{u.exports={CenterOn:e(66786),GetBottom:e(62235),GetBounds:e(72873),GetCenterX:e(35893),GetCenterY:e(7702),GetLeft:e(26541),GetOffsetX:e(87431),GetOffsetY:e(46928),GetRight:e(54380),GetTop:e(17717),SetBottom:e(86327),SetCenterX:e(88417),SetCenterY:e(20786),SetLeft:e(385),SetRight:e(40136),SetTop:e(66737)}},20623:u=>{var x={setCrisp:function(e){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(p){e.style["image-rendering"]=p}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};u.exports=x},27919:(u,x,e)=>{var l=e(8054),p=e(68703),a=[],s=!1,r=function(){var t=function(m,g,y,T,C){g===void 0&&(g=1),y===void 0&&(y=1),T===void 0&&(T=l.CANVAS),C===void 0&&(C=!1);var E,z=i(T);return z===null?(z={parent:m,canvas:document.createElement("canvas"),type:T},T===l.CANVAS&&a.push(z),E=z.canvas):(z.parent=m,E=z.canvas),C&&(z.parent=E),E.width=g,E.height=y,s&&T===l.CANVAS&&p.disable(E.getContext("2d",{willReadFrequently:!1})),E},n=function(m,g,y){return t(m,g,y,l.CANVAS)},h=function(m,g,y){return t(m,g,y,l.WEBGL)},i=function(m){if(m===void 0&&(m=l.CANVAS),m===l.WEBGL)return null;for(var g=0;g<a.length;g++){var y=a[g];if(!y.parent&&y.type===m)return y}return null},o=function(m){var g=m instanceof HTMLCanvasElement;a.forEach(function(y){(g&&y.canvas===m||!g&&y.parent===m)&&(y.parent=null,y.canvas.width=1,y.canvas.height=1)})},c=function(){var m=0;return a.forEach(function(g){g.parent&&m++}),m},d=function(){return a.length-c()},f=function(){s=!0},v=function(){s=!1};return{create2D:n,create:t,createWebGL:h,disableSmoothing:f,enableSmoothing:v,first:i,free:d,pool:a,remove:o,total:c}};u.exports=r()},68703:u=>{var x="",e=function(){var l=function(r){for(var t=["i","webkitI","msI","mozI","oI"],n=0;n<t.length;n++){var h=t[n]+"mageSmoothingEnabled";if(h in r)return h}return null},p=function(r){return x===""&&(x=l(r)),x&&(r[x]=!0),r},a=function(r){return x===""&&(x=l(r)),x&&(r[x]=!1),r},s=function(r){return x!==null?r[x]:null};return{disable:a,enable:p,getPrefix:l,isEnabled:s}};u.exports=e()},65208:u=>{var x=function(e,l){return l===void 0&&(l="none"),e.style.msTouchAction=l,e.style["ms-touch-action"]=l,e.style["touch-action"]=l,e};u.exports=x},91610:u=>{var x=function(e,l){l===void 0&&(l="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(a){e.style[a+"user-select"]=l}),e.style["-webkit-touch-callout"]=l,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};u.exports=x},26253:(u,x,e)=>{u.exports={CanvasInterpolation:e(20623),CanvasPool:e(27919),Smoothing:e(68703),TouchAction:e(65208),UserSelect:e(91610)}},40987:(u,x,e)=>{var l=e(83419),p=e(37589),a=e(1e3),s=e(7537),r=e(87837),t=new l({initialize:function(h,i,o,c){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,i,o,c)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,h,i,o,c){return o===void 0&&(o=255),c===void 0&&(c=!0),this._locked=!0,this.red=n,this.green=h,this.blue=i,this.alpha=o,this._locked=!1,this.update(c)},setGLTo:function(n,h,i,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=n,this.greenGL=h,this.blueGL=i,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,h,i){return s(n,h,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var h=this.r,i=this.g,o=this.b,c=this.a;return this._color=p(h,i,o),this._color32=a(h,i,o,c),this._rgba="rgba("+h+","+i+","+o+","+c/255+")",n&&r(h,i,o,this),this},updateHSV:function(){var n=this.r,h=this.g,i=this.b;return r(n,h,i,this),this},clone:function(){return new t(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var i=Math.floor(n+Math.random()*(h-n)),o=Math.floor(n+Math.random()*(h-n)),c=Math.floor(n+Math.random()*(h-n));return this.setTo(i,o,c)},randomGray:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var i=Math.floor(n+Math.random()*(h-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var h=this.r,i=this.g,o=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(n/100)))),this.setTo(h,i,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,s(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,s(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,s(this._h,this._s,n,this)}}});u.exports=t},92728:(u,x,e)=>{var l=e(37589),p=function(a){a===void 0&&(a=1024);var s=[],r=255,t,n=255,h=0,i=0;for(t=0;t<=r;t++)s.push({r:n,g:t,b:i,color:l(n,t,i)});for(h=255,t=r;t>=0;t--)s.push({r:t,g:h,b:i,color:l(t,h,i)});for(n=0,t=0;t<=r;t++,h--)s.push({r:n,g:h,b:t,color:l(n,h,t)});for(h=0,i=255,t=0;t<=r;t++,i--,n++)s.push({r:n,g:h,b:i,color:l(n,h,i)});if(a===1024)return s;var o=[],c=0,d=1024/a;for(t=0;t<a;t++)o.push(s[Math.floor(c)]),c+=d;return o};u.exports=p},91588:u=>{var x=function(e){var l={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(l.a=e>>>24),l};u.exports=x},62957:u=>{var x=function(e){var l=e.toString(16);return l.length===1?"0"+l:l};u.exports=x},37589:u=>{var x=function(e,l,p){return e<<16|l<<8|p};u.exports=x},1e3:u=>{var x=function(e,l,p,a){return a<<24|e<<16|l<<8|p};u.exports=x},62183:(u,x,e)=>{var l=e(40987),p=e(89528),a=function(s,r,t){var n=t,h=t,i=t;if(r!==0){var o=t<.5?t*(1+r):t+r-t*r,c=2*t-o;n=p(c,o,s+1/3),h=p(c,o,s),i=p(c,o,s-1/3)}var d=new l;return d.setGLTo(n,h,i,1)};u.exports=a},27939:(u,x,e)=>{var l=e(7537),p=function(a,s){a===void 0&&(a=1),s===void 0&&(s=1);for(var r=[],t=0;t<=359;t++)r.push(l(t/359,a,s));return r};u.exports=p},7537:(u,x,e)=>{var l=e(37589);function p(s,r,t,n){var h=(s+r*6)%6,i=Math.min(h,4-h,1);return Math.round(255*(n-n*t*Math.max(0,i)))}var a=function(s,r,t,n){r===void 0&&(r=1),t===void 0&&(t=1);var h=p(5,s,r,t),i=p(3,s,r,t),o=p(1,s,r,t);return n?n.setTo?n.setTo(h,i,o,n.alpha,!0):(n.r=h,n.g=i,n.b=o,n.color=l(h,i,o),n):{r:h,g:i,b:o,color:l(h,i,o)}};u.exports=a},70238:(u,x,e)=>{var l=e(40987),p=function(a){var s=new l;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,o,c,d){return o+o+c+c+d+d});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(r){var t=parseInt(r[1],16),n=parseInt(r[2],16),h=parseInt(r[3],16);s.setTo(t,n,h)}return s};u.exports=p},89528:u=>{var x=function(e,l,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?e+(l-e)*6*p:p<.5?l:p<.6666666666666666?e+(l-e)*(.6666666666666666-p)*6:e};u.exports=x},30100:(u,x,e)=>{var l=e(40987),p=e(90664),a=function(s){var r=p(s);return new l(r.r,r.g,r.b,r.a)};u.exports=a},90664:u=>{var x=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};u.exports=x},13699:(u,x,e)=>{var l=e(28915),p=function(r,t,n,h,i,o,c,d){c===void 0&&(c=100),d===void 0&&(d=0);var f=d/c;return{r:l(r,h,f),g:l(t,i,f),b:l(n,o,f)}},a=function(r,t,n,h){return n===void 0&&(n=100),h===void 0&&(h=0),p(r.r,r.g,r.b,t.r,t.g,t.b,n,h)},s=function(r,t,n,h,i,o){return i===void 0&&(i=100),o===void 0&&(o=0),p(r.r,r.g,r.b,t,n,h,i,o)};u.exports={RGBWithRGB:p,ColorWithRGB:s,ColorWithColor:a}},68957:(u,x,e)=>{var l=e(40987),p=function(a){return new l(a.r,a.g,a.b,a.a)};u.exports=p},87388:(u,x,e)=>{var l=e(40987),p=function(a){var s=new l,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(r){var t=parseInt(r[1],10),n=parseInt(r[2],10),h=parseInt(r[3],10),i=r[4]!==void 0?parseFloat(r[4]):1;s.setTo(t,n,h,i*255)}return s};u.exports=p},87837:u=>{var x=function(e,l,p,a){a===void 0&&(a={h:0,s:0,v:0}),e/=255,l/=255,p/=255;var s=Math.min(e,l,p),r=Math.max(e,l,p),t=r-s,n=0,h=r===0?0:t/r,i=r;return r!==s&&(r===e?n=(l-p)/t+(l<p?6:0):r===l?n=(p-e)/t+2:r===p&&(n=(e-l)/t+4),n/=6),a.hasOwnProperty("_h")?(a._h=n,a._s=h,a._v=i):(a.h=n,a.s=h,a.v=i),a};u.exports=x},75723:(u,x,e)=>{var l=e(62957),p=function(a,s,r,t,n){return t===void 0&&(t=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(a<<16)+(s<<8)+r).toString(16).slice(1,7):"0x"+l(t)+l(a)+l(s)+l(r)};u.exports=p},85386:(u,x,e)=>{var l=e(30976),p=e(40987),a=function(s,r){return s===void 0&&(s=0),r===void 0&&(r=255),new p(l(s,r),l(s,r),l(s,r))};u.exports=a},80333:(u,x,e)=>{var l=e(70238),p=e(30100),a=e(68957),s=e(87388),r=function(t){var n=typeof t;switch(n){case"string":return t.substr(0,3).toLowerCase()==="rgb"?s(t):l(t);case"number":return p(t);case"object":return a(t)}};u.exports=r},3956:(u,x,e)=>{var l=e(40987);l.ColorSpectrum=e(92728),l.ColorToRGBA=e(91588),l.ComponentToHex=e(62957),l.GetColor=e(37589),l.GetColor32=e(1e3),l.HexStringToColor=e(70238),l.HSLToColor=e(62183),l.HSVColorWheel=e(27939),l.HSVToRGB=e(7537),l.HueToComponent=e(89528),l.IntegerToColor=e(30100),l.IntegerToRGB=e(90664),l.Interpolate=e(13699),l.ObjectToColor=e(68957),l.RandomRGB=e(85386),l.RGBStringToColor=e(87388),l.RGBToHSV=e(87837),l.RGBToString=e(75723),l.ValueToColor=e(80333),u.exports=l},27460:(u,x,e)=>{u.exports={Align:e(71926),BaseShader:e(73894),Bounds:e(58724),Canvas:e(26253),Color:e(3956),ColorMatrix:e(89422),Masks:e(69781),RGB:e(51767)}},6858:(u,x,e)=>{var l=e(83419),p=e(39429),a=new l({initialize:function(r,t,n,h,i,o){t||(t=r.sys.make.image({x:n,y:h,key:i,frame:o,add:!1})),this.bitmapMask=t,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,r,t){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,t)},postRenderWebGL:function(s,r,t){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,t)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(s,r,t,n,h){return new a(this.scene,s,r,t,n,h)}),u.exports=a},80661:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,s,r){var t=a.gl;a.flush(),a.maskStack.length===0&&(t.enable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:r}),this.applyStencil(a,r,!0),a.maskCount++},applyStencil:function(a,s,r){var t=a.gl,n=this.geometryMask,h=a.maskCount,i=255;t.colorMask(!1,!1,!1,!1),r?(t.stencilFunc(t.EQUAL,h,i),t.stencilOp(t.KEEP,t.KEEP,t.INCR),h++):(t.stencilFunc(t.EQUAL,h+1,i),t.stencilOp(t.KEEP,t.KEEP,t.DECR)),this.level=h,n.renderWebGL(a,n,s),a.flush(),t.colorMask(!0,!0,!0,!0),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),this.invertAlpha?t.stencilFunc(t.NOTEQUAL,h,i):t.stencilFunc(t.EQUAL,h,i)},postRenderWebGL:function(a){var s=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var r=a.currentMask;if(a.maskStack.length===0)r.mask=null,s.disable(s.STENCIL_TEST);else{var t=a.maskStack[a.maskStack.length-1];t.mask.applyStencil(a,t.camera,!1),a.currentCameraMask.mask!==t.mask?(r.mask=t.mask,r.camera=t.camera):r.mask=null}},preRenderCanvas:function(a,s,r){var t=this.geometryMask;a.currentContext.save(),t.renderCanvas(a,t,r,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});u.exports=p},69781:(u,x,e)=>{u.exports={BitmapMask:e(6858),GeometryMask:e(80661)}},73894:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t,n){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!t||t==="")&&(t=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=s,this.fragmentSrc=r,this.vertexSrc=t,this.uniforms=n}});u.exports=p},40366:u=>{var x=function(e,l){var p;if(l)typeof l=="string"?p=document.getElementById(l):typeof l=="object"&&l.nodeType===1&&(p=l);else if(e.parentElement||l===null)return e;return p||(p=document.body),p.appendChild(e),e};u.exports=x},83719:(u,x,e)=>{var l=e(40366),p=function(a){var s=a.config;if(!(!s.parent||!s.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=r,l(r,s.parent)}};u.exports=p},57264:(u,x,e)=>{var l=e(25892),p=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),a()};document.body?l.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};u.exports=p},57811:u=>{var x=function(e){if(!e)return window.innerHeight;var l=Math.abs(window.orientation),p={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),p.w=l===90?a.offsetHeight:window.innerWidth,p.h=l===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?p.h:p.w};u.exports=x},45818:(u,x,e)=>{var l=e(13560),p=function(a,s){var r=window.screen,t=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(t&&typeof t.type=="string")return t.type;if(typeof t=="string")return t;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return l.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return l.ORIENTATION.LANDSCAPE}else return s>a?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE};u.exports=p},74403:u=>{var x=function(e){var l;return e!==""&&(typeof e=="string"?l=document.getElementById(e):e&&e.nodeType===1&&(l=e)),l||(l=document.body),l};u.exports=x},56836:u=>{var x=function(e){var l="";try{if(window.DOMParser){var p=new DOMParser;l=p.parseFromString(e,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(e)}catch{l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};u.exports=x},35846:u=>{var x=function(e){e.parentNode&&e.parentNode.removeChild(e)};u.exports=x},43092:(u,x,e)=>{var l=e(83419),p=e(29747),a=new l({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function t(n){r.callback(n),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(t))},this.stepTimeout=function t(){r.isRunning&&(r.timeOutID=window.setTimeout(t,r.delay)),r.callback(window.performance.now())}},start:function(s,r,t){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.delay=t,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});u.exports=a},84902:(u,x,e)=>{var l={AddToDOM:e(40366),DOMContentLoaded:e(57264),GetInnerHeight:e(57811),GetScreenOrientation:e(45818),GetTarget:e(74403),ParseXML:e(56836),RemoveFromDOM:e(35846),RequestAnimationFrame:e(43092)};u.exports=l},47565:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(37277),s=new l({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",s,"events"),u.exports=s},93055:(u,x,e)=>{u.exports={EventEmitter:e(47565)}},20122:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n){n===void 0&&(n=1),p.call(this,a.BARREL,t),this.amount=n}});u.exports=s},32251:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o,c,d){h===void 0&&(h=1),i===void 0&&(i=1),o===void 0&&(o=1),c===void 0&&(c=1),d===void 0&&(d=4),p.call(this,a.BLOOM,t),this.steps=d,this.offsetX=h,this.offsetY=i,this.blurStrength=o,this.strength=c,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var t=this.glcolor;t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255}}});u.exports=s},9047:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o,c,d){n===void 0&&(n=0),h===void 0&&(h=2),i===void 0&&(i=2),o===void 0&&(o=1),d===void 0&&(d=4),p.call(this,a.BLUR,t),this.quality=n,this.x=h,this.y=i,this.steps=d,this.strength=o,this.glcolor=[1,1,1],c!=null&&(this.color=c)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var t=this.glcolor;t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255}}});u.exports=s},27885:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o,c,d,f){n===void 0&&(n=.5),h===void 0&&(h=1),i===void 0&&(i=.2),o===void 0&&(o=!1),c===void 0&&(c=1),d===void 0&&(d=1),f===void 0&&(f=1),p.call(this,a.BOKEH,t),this.radius=n,this.amount=h,this.contrast=i,this.isTiltShift=o,this.strength=f,this.blurX=c,this.blurY=d}});u.exports=s},12578:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o,c){n===void 0&&(n=8),o===void 0&&(o=1),c===void 0&&(c=.005),p.call(this,a.CIRCLE,t),this.scale=o,this.feather=c,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),i!=null&&(this.backgroundColor=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var t=this.glcolor;t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var t=this.glcolor2;t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(r){this.glcolor2[3]=r}}});u.exports=s},15802:(u,x,e)=>{var l=e(83419),p=e(89422),a=e(14811),s=new l({Extends:p,initialize:function(t){p.call(this),this.type=a.COLOR_MATRIX,this.gameObject=t,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});u.exports=s},72898:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r){this.type=s,this.gameObject=r,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});u.exports=p},44553:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i){n===void 0&&(n="__WHITE"),h===void 0&&(h=.005),i===void 0&&(i=.005),p.call(this,a.DISPLACEMENT,t),this.x=h,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(r){var t=this.gameObject.scene.sys.textures.getFrame(r);return t&&(this.glTexture=t.glTexture),this}});u.exports=s},68531:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o){h===void 0&&(h=4),i===void 0&&(i=0),o===void 0&&(o=!1),p.call(this,a.GLOW,t),this.outerStrength=h,this.innerStrength=i,this.knockout=o,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var t=this.glcolor;t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255}}});u.exports=s},37102:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o,c,d,f,v){i===void 0&&(i=.2),o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=1),v===void 0&&(v=0),p.call(this,a.GRADIENT,t),this.alpha=i,this.size=v,this.fromX=o,this.fromY=c,this.toX=d,this.toY=f,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),h!=null&&(this.color2=h)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var t=this.glcolor1;t[0]=r>>16&255,t[1]=r>>8&255,t[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var t=this.glcolor2;t[0]=r>>16&255,t[1]=r>>8&255,t[2]=r&255}}});u.exports=s},86886:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n){n===void 0&&(n=1),p.call(this,a.PIXELATE,t),this.amount=n}});u.exports=s},92322:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o,c,d,f){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=.1),o===void 0&&(o=1),d===void 0&&(d=6),f===void 0&&(f=1),p.call(this,a.SHADOW,t),this.x=n,this.y=h,this.decay=i,this.power=o,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=f,c!==void 0&&(this.color=c)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var t=this.glcolor;t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255}}});u.exports=s},39563:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o){n===void 0&&(n=.5),h===void 0&&(h=.5),i===void 0&&(i=3),o===void 0&&(o=!1),p.call(this,a.SHINE,t),this.speed=n,this.lineWidth=h,this.gradient=i,this.reveal=o}});u.exports=s},56448:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o){n===void 0&&(n=.5),h===void 0&&(h=.5),i===void 0&&(i=.5),o===void 0&&(o=.5),p.call(this,a.VIGNETTE,t),this.x=n,this.y=h,this.radius=i,this.strength=o}});u.exports=s},38433:(u,x,e)=>{var l=e(83419),p=e(72898),a=e(14811),s=new l({Extends:p,initialize:function(t,n,h,i,o){n===void 0&&(n=.1),h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=!1),p.call(this,a.WIPE,t),this.progress=0,this.wipeWidth=n,this.direction=h,this.axis=i,this.reveal=o}});u.exports=s},14811:u=>{var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};u.exports=x},66064:(u,x,e)=>{var l=e(79291),p=e(14811),a={Barrel:e(20122),Controller:e(72898),Bloom:e(32251),Blur:e(9047),Bokeh:e(27885),Circle:e(12578),ColorMatrix:e(15802),Displacement:e(44553),Glow:e(68531),Gradient:e(37102),Pixelate:e(86886),Shadow:e(92322),Shine:e(39563),Vignette:e(56448),Wipe:e(38433)};a=l(!1,a,p),u.exports=a},25305:(u,x,e)=>{var l=e(10312),p=e(23568),a=function(s,r,t){r.x=p(t,"x",0),r.y=p(t,"y",0),r.depth=p(t,"depth",0),r.flipX=p(t,"flipX",!1),r.flipY=p(t,"flipY",!1);var n=p(t,"scale",null);typeof n=="number"?r.setScale(n):n!==null&&(r.scaleX=p(n,"x",1),r.scaleY=p(n,"y",1));var h=p(t,"scrollFactor",null);typeof h=="number"?r.setScrollFactor(h):h!==null&&(r.scrollFactorX=p(h,"x",1),r.scrollFactorY=p(h,"y",1)),r.rotation=p(t,"rotation",0);var i=p(t,"angle",null);i!==null&&(r.angle=i),r.alpha=p(t,"alpha",1);var o=p(t,"origin",null);if(typeof o=="number")r.setOrigin(o);else if(o!==null){var c=p(o,"x",.5),d=p(o,"y",.5);r.setOrigin(c,d)}r.blendMode=p(t,"blendMode",l.NORMAL),r.visible=p(t,"visible",!0);var f=p(t,"add",!0);return f&&s.sys.displayList.add(r),r.preUpdate&&s.sys.updateList.add(r),r};u.exports=a},13059:(u,x,e)=>{var l=e(23568),p=function(a,s){var r=l(s,"anims",null);if(r===null)return a;if(typeof r=="string")a.anims.play(r);else if(typeof r=="object"){var t=a.anims,n=l(r,"key",void 0);if(n){var h=l(r,"startFrame",void 0),i=l(r,"delay",0),o=l(r,"repeat",0),c=l(r,"repeatDelay",0),d=l(r,"yoyo",!1),f=l(r,"play",!1),v=l(r,"delayedPlay",0),m={key:n,delay:i,repeat:o,repeatDelay:c,yoyo:d,startFrame:h};f?t.play(m):v>0?t.playAfterDelay(m,v):t.load(m)}}return a};u.exports=p},8050:(u,x,e)=>{var l=e(83419),p=e(73162),a=e(37277),s=e(51708),r=e(44594),t=e(19186),n=new l({Extends:p,initialize:function(i){p.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(s.ADDED_TO_SCENE,h,this.scene),this.events.emit(r.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(s.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(t(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,i){return h._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",n,"displayList"),u.exports=n},95643:(u,x,e)=>{var l=e(83419),p=e(53774),a=e(45893),s=e(50792),r=e(51708),t=e(44594),n=new l({Extends:s,initialize:function(i,o){s.call(this),this.scene=i,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(h,i){return this.data||(this.data=new a(this)),this.data.set(h,i),this},incData:function(h,i){return this.data||(this.data=new a(this)),this.data.inc(h,i),this},toggleData:function(h){return this.data||(this.data=new a(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new a(this)),this.data.get(h)},setInteractive:function(h,i,o){return this.scene.sys.input.enable(this,h,i,o),this},disableInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.disable(this,h),this},removeInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.clear(this),h&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(h){var i=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,i=this.parentContainer,o=[];i&&(o.unshift(i.getIndex(h)),h=i,i.parentContainer);)i=i.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(h)):o.unshift(this.scene.sys.displayList.getIndex(h)),o},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),h.events.emit(t.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(t.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var h=null;return this.parentContainer?h=this.parentContainer.list:this.displayList&&(h=this.displayList.list),h},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,u.exports=n},44603:(u,x,e)=>{var l=e(83419),p=e(37277),a=e(44594),s=new l({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,t){s.prototype.hasOwnProperty(r)||(s.prototype[r]=t)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectCreator",s,"make"),u.exports=s},39429:(u,x,e)=>{var l=e(83419),p=e(37277),a=e(44594),s=new l({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,t){s.prototype.hasOwnProperty(r)||(s.prototype[r]=t)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},p.register("GameObjectFactory",s,"add"),u.exports=s},91296:(u,x,e)=>{var l=e(61340),p=new l,a=new l,s=new l,r={camera:p,sprite:a,calc:s},t=function(n,h,i){var o=p,c=a,d=s;return c.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),o.copyFrom(h.matrix),i?(o.multiplyWithOffset(i,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),c.e=n.x,c.f=n.y):(c.e-=h.scrollX*n.scrollFactorX,c.f-=h.scrollY*n.scrollFactorY),o.multiply(c,d),r};u.exports=t},45027:(u,x,e)=>{var l=e(83419),p=e(25774),a=e(37277),s=e(44594),r=new l({Extends:p,initialize:function(n){p.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(s.BOOT,this.boot,this),n.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(s.PRE_UPDATE,this.update,this),t.on(s.UPDATE,this.sceneUpdate,this),t.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(t,n){for(var h=this._active,i=h.length,o=0;o<i;o++){var c=h[o];c.active&&c.preUpdate.call(c,t,n)}},shutdown:function(){for(var t=this._active.length;t--;)this._active[t].destroy(!0);for(t=this._pending.length;t--;)this._pending[t].destroy(!0);for(t=this._destroy.length;t--;)this._destroy[t].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(s.PRE_UPDATE,this.update,this),n.off(s.UPDATE,this.sceneUpdate,this),n.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",r,"updateList"),u.exports=r},3217:u=>{var x=function(e,l,p,a,s,r,t,n,h,i,o,c,d,f,v){var m=p.x-l.displayOriginX+s,g=p.y-l.displayOriginY+r,y=m+p.w,T=g+p.h,C=t.a,E=t.b,z=t.c,D=t.d,A=t.e,L=t.f,b=m*C+g*z+A,F=m*E+g*D+L,V=m*C+T*z+A,B=m*E+T*D+L,N=y*C+T*z+A,U=y*E+T*D+L,I=y*C+g*z+A,H=y*E+g*D+L;n&&(b=Math.round(b),F=Math.round(F),V=Math.round(V),B=Math.round(B),N=Math.round(N),U=Math.round(U),I=Math.round(I),H=Math.round(H)),e.batchQuad(l,b,F,V,B,N,U,I,H,a.u0,a.v0,a.u1,a.v1,h,i,o,c,d,f,v)};u.exports=x},53048:u=>{var x=function(e,l,p,a){if(p===void 0&&(p=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var s=e.text,r=s.length,t=e.maxWidth,n=e.wordWrapCharCode,h=Number.MAX_VALUE,i=Number.MAX_VALUE,o=0,c=0,d=e.fontData.chars,f=e.fontData.lineHeight,v=e.letterSpacing,m=e.lineSpacing,g=0,y=0,T=0,C=null,E=e._align,z=0,D=0,A=e.fontSize/e.fontData.size,L=A*e.scaleX,b=A*e.scaleY,F=null,V=0,B=[],N=Number.MAX_VALUE,U=0,I=0,H=0,O,R,Y,G=[],k=[],W=null,X=function(be,Je){for(var Ce=0,Ve=0;Ve<be.length;Ve++){var Ye=be.charCodeAt(Ve),at=Je.chars[Ye];at&&(Ce+=at.xAdvance)}return Ce*L};if(t>0){Y=s.split(`
`);var j=[];for(O=0;O<Y.length;O++){var K=Y[O],$="",Z="",J="",Q="";for(R=0;R<K.length;R++)if(T=K.charCodeAt(R),$+=K[R],T===n||R===K.length-1){Q=J+$;var _=X(Q,e.fontData);_<=t?J=Q:(Z=Z.slice(0,-1),Z+=(Z?`
`:"")+J,J=$),$=""}Z=Z.slice(0,-1),Z+=(Z?`
`:"")+J,j.push(Z)}s=j.join(`
`),a.wrappedText=s,r=s.length}var ae=0;for(O=0;O<r;O++){if(T=s.charCodeAt(O),T===10){W!==null&&(G.push({word:W.word,i:W.i,x:W.x*L,y:W.y*b,w:W.w*L,h:W.h*b}),W=null),F=null,B[I]=H,H>U&&(U=H),H<N&&(N=H),I++,H=0,g=0,y=(f+m)*I;continue}if(C=d[T],!!C){if(z=g,D=y,F!==null){var oe=C.kerning[V];z+=oe!==void 0?oe:0}h>z&&(h=z),i>D&&(i=D);var le=z+C.xAdvance,q=D+f;o<le&&(o=le),c<q&&(c=q);var ie=C.xOffset+C.xAdvance+(oe!==void 0?oe:0);T===n?W!==null&&(G.push({word:W.word,i:W.i,x:W.x*L,y:W.y*b,w:W.w*L,h:W.h*b}),W=null):(W===null&&(W={word:"",i:ae,x:g,y,w:0,h:f}),W.word=W.word.concat(s[O]),W.w+=ie),k.push({i:ae,idx:O,char:s[O],code:T,x:(C.xOffset+z)*A,y:(C.yOffset+y)*A,w:C.width*A,h:C.height*A,t:y*A,r:le*A,b:f*A,line:I,glyph:C}),g+=C.xAdvance+v+(oe!==void 0?oe:0),F=C,V=T,H=le*A,ae++}}if(W!==null&&G.push({word:W.word,i:W.i,x:W.x*L,y:W.y*b,w:W.w*L,h:W.h*b}),B[I]=H,H>U&&(U=H),H<N&&(N=H),E>0)for(var ne=0;ne<k.length;ne++){var fe=k[ne];if(E===1){var ye=(U-B[fe.line])/2;fe.x+=ye,fe.r+=ye}else if(E===2){var Re=U-B[fe.line];fe.x+=Re,fe.r+=Re}}var ge=a.local,xe=a.global;return Y=a.lines,ge.x=h*A,ge.y=i*A,ge.width=o*A,ge.height=c*A,xe.x=e.x-e._displayOriginX+h*L,xe.y=e.y-e._displayOriginY+i*b,xe.width=o*L,xe.height=c*b,Y.shortest=N,Y.longest=U,Y.lengths=B,l&&(ge.x=Math.ceil(ge.x),ge.y=Math.ceil(ge.y),ge.width=Math.ceil(ge.width),ge.height=Math.ceil(ge.height),xe.x=Math.ceil(xe.x),xe.y=Math.ceil(xe.y),xe.width=Math.ceil(xe.width),xe.height=Math.ceil(xe.height),Y.shortest=Math.ceil(N),Y.longest=Math.ceil(U)),p&&(e._displayOriginX=e.originX*ge.width,e._displayOriginY=e.originY*ge.height,xe.x=e.x-e._displayOriginX*e.scaleX,xe.y=e.y-e._displayOriginY*e.scaleY,l&&(xe.x=Math.ceil(xe.x),xe.y=Math.ceil(xe.y))),a.words=G,a.characters=k,a.lines.height=f,a.scale=A,a.scaleX=e.scaleX,a.scaleY=e.scaleY,a};u.exports=x},61327:(u,x,e)=>{var l=e(21859),p=function(a,s,r,t,n,h,i){var o=a.sys.textures.get(r),c=o.get(t),d=a.sys.cache.xml.get(n);if(c&&d){var f=l(d,c,h,i,o);return a.sys.cache.bitmapFont.add(s,{data:f,texture:r,frame:t,fromAtlas:!0}),!0}else return!1};u.exports=p},6925:(u,x,e)=>{var l=e(35154),p=function(a,s){var r=s.width,t=s.height,n=Math.floor(r/2),h=Math.floor(t/2),i=l(s,"chars","");if(i!==""){var o=l(s,"image",""),c=a.sys.textures.getFrame(o),d=c.cutX,f=c.cutY,v=c.source.width,m=c.source.height,g=l(s,"offset.x",0),y=l(s,"offset.y",0),T=l(s,"spacing.x",0),C=l(s,"spacing.y",0),E=l(s,"lineSpacing",0),z=l(s,"charsPerRow",null);z===null&&(z=v/r,z>i.length&&(z=i.length));for(var D=g,A=y,L={retroFont:!0,font:o,size:r,lineHeight:t+E,chars:{}},b=0,F=0;F<i.length;F++){var V=i.charCodeAt(F),B=(d+D)/v,N=(f+A)/m,U=(d+D+r)/v,I=(f+A+t)/m;L.chars[V]={x:D,y:A,width:r,height:t,centerX:n,centerY:h,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:B,v0:N,u1:U,v1:I},b++,b===z?(b=0,D=g,A+=t+C):D+=r+T}var H={data:L,frame:null,texture:o};return H}};u.exports=p},21859:u=>{function x(l,p){return parseInt(l.getAttribute(p),10)}var e=function(l,p,a,s,r){a===void 0&&(a=0),s===void 0&&(s=0);var t=p.cutX,n=p.cutY,h=p.source.width,i=p.source.height,o=p.sourceIndex,c={},d=l.getElementsByTagName("info")[0],f=l.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=x(d,"size"),c.lineHeight=x(f,"lineHeight")+s,c.chars={};var v=l.getElementsByTagName("char"),m=p!==void 0&&p.trimmed;if(m)var g=p.height,y=p.width;for(var T=0;T<v.length;T++){var C=v[T],E=x(C,"id"),z=String.fromCharCode(E),D=x(C,"x"),A=x(C,"y"),L=x(C,"width"),b=x(C,"height");m&&(D<y&&(y=D),A<g&&(g=A)),m&&g!==0&&y!==0&&(D-=p.x,A-=p.y);var F=(t+D)/h,V=(n+A)/i,B=(t+D+L)/h,N=(n+A+b)/i;if(c.chars[E]={x:D,y:A,width:L,height:b,centerX:Math.floor(L/2),centerY:Math.floor(b/2),xOffset:x(C,"xoffset"),yOffset:x(C,"yoffset"),xAdvance:x(C,"xadvance")+a,data:{},kerning:{},u0:F,v0:V,u1:B,v1:N},r&&L!==0&&b!==0){var U=r.add(z,o,D,A,L,b);U&&U.setUVs(L,b,F,V,B,N)}}var I=l.getElementsByTagName("kerning");for(T=0;T<I.length;T++){var H=I[T],O=x(H,"first"),R=x(H,"second"),Y=x(H,"amount");c.chars[R].kerning[O]=Y}return c};u.exports=e},196:(u,x,e)=>{var l=e(87662),p=e(79291),a={Parse:e(6925)};a=p(!1,a,l),u.exports=a},87662:u=>{var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};u.exports=x},2638:(u,x,e)=>{var l=e(22186),p=e(83419),a=e(12310),s=new p({Extends:l,Mixins:[a],initialize:function(t,n,h,i,o,c,d){l.call(this,t,n,h,i,o,c,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,t){return this.cropWidth=r,this.cropHeight=t,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});u.exports=s},86741:(u,x,e)=>{var l=e(20926),p=function(a,s,r,t){var n=s._text,h=n.length,i=a.currentContext;if(!(h===0||!l(a,i,s,r,t))){r.addToRenderList(s);var o=s.fromAtlas?s.frame:s.texture.frames.__BASE,c=s.displayCallback,d=s.callbackData,f=s.fontData.chars,v=s.fontData.lineHeight,m=s._letterSpacing,g=0,y=0,T=0,C=null,E=0,z=0,D=0,A=0,L=0,b=0,F=null,V=0,B=s.frame.source.image,N=o.cutX,U=o.cutY,I=0,H=0,O=s._fontSize/s.fontData.size,R=s._align,Y=0,G=0;s.getTextBounds(!1);var k=s._bounds.lines;R===1?G=(k.longest-k.lengths[0])/2:R===2&&(G=k.longest-k.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);var W=r.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(i.beginPath(),i.rect(0,0,s.cropWidth,s.cropHeight),i.clip());for(var X=0;X<h;X++){if(H=O,I=0,T=n.charCodeAt(X),T===10){Y++,R===1?G=(k.longest-k.lengths[Y])/2:R===2&&(G=k.longest-k.lengths[Y]),g=0,y+=v,F=null;continue}if(C=f[T],!!C){if(E=N+C.x,z=U+C.y,D=C.width,A=C.height,L=C.xOffset+g-s.scrollX,b=C.yOffset+y-s.scrollY,F!==null){var j=C.kerning[V];L+=j!==void 0?j:0}if(c){d.index=X,d.charCode=T,d.x=L,d.y=b,d.scale=H,d.rotation=I,d.data=C.data;var K=c(d);L=K.x,b=K.y,H=K.scale,I=K.rotation}L*=H,b*=H,L+=G,g+=C.xAdvance+m+(j!==void 0?j:0),F=C,V=T,!(D===0||A===0||T===32)&&(W&&(L=Math.round(L),b=Math.round(b)),i.save(),i.translate(L,b),i.rotate(I),i.scale(H,H),i.drawImage(B,E,z,D,A,0,0,D,A),i.restore())}}i.restore()}};u.exports=p},11164:(u,x,e)=>{var l=e(2638),p=e(25305),a=e(44603),s=e(23568);a.register("dynamicBitmapText",function(r,t){r===void 0&&(r={});var n=s(r,"font",""),h=s(r,"text",""),i=s(r,"size",!1),o=new l(this.scene,0,0,n,h,i);return t!==void 0&&(r.add=t),p(this.scene,o,r),o})},72566:(u,x,e)=>{var l=e(2638),p=e(39429);p.register("dynamicBitmapText",function(a,s,r,t,n){return this.displayList.add(new l(this.scene,a,s,r,t,n))})},12310:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(73482),a=e(86741),u.exports={renderWebGL:p,renderCanvas:a}},73482:(u,x,e)=>{var l=e(91296),p=e(61340),a=e(70554),s=new p,r=function(t,n,h,i){var o=n.text,c=o.length;if(c!==0){h.addToRenderList(n);var d=t.pipelines.set(n.pipeline,n),f=l(n,h,i);t.pipelines.preBatch(n);var v=f.sprite,m=f.calc,g=s,y=n.cropWidth>0||n.cropHeight>0;y&&(d.flush(),t.pushScissor(m.tx,m.ty,n.cropWidth*m.scaleX,n.cropHeight*m.scaleY));var T=n.frame,C=T.glTexture,E=n.tintFill,z=a.getTintAppendFloatAlpha(n.tintTopLeft,h.alpha*n._alphaTL),D=a.getTintAppendFloatAlpha(n.tintTopRight,h.alpha*n._alphaTR),A=a.getTintAppendFloatAlpha(n.tintBottomLeft,h.alpha*n._alphaBL),L=a.getTintAppendFloatAlpha(n.tintBottomRight,h.alpha*n._alphaBR),b=d.setGameObject(n),F=0,V=0,B=0,N=0,U=n.letterSpacing,I,H=0,O=0,R,Y=n.scrollX,G=n.scrollY,k=n.fontData,W=k.chars,X=k.lineHeight,j=n.fontSize/k.size,K=0,$=n._align,Z=0,J=0,Q=n.getTextBounds(!1);n.maxWidth>0&&(o=Q.wrappedText,c=o.length);var _=n._bounds.lines;$===1?J=(_.longest-_.lengths[0])/2:$===2&&(J=_.longest-_.lengths[0]);for(var ae=h.roundPixels,oe=n.displayCallback,le=n.callbackData,q=0;q<c;q++){if(B=o.charCodeAt(q),B===10){Z++,$===1?J=(_.longest-_.lengths[Z])/2:$===2&&(J=_.longest-_.lengths[Z]),F=0,V+=X,R=null;continue}if(I=W[B],!!I){H=I.width,O=I.height;var ie=I.xOffset+F-Y,ne=I.yOffset+V-G;if(R!==null){var fe=I.kerning[N]||0;ie+=fe,F+=fe}if(F+=I.xAdvance+U,R=I,N=B,!(H===0||O===0||B===32)){if(j=n.fontSize/n.fontData.size,K=0,oe){le.color=0,le.tint.topLeft=z,le.tint.topRight=D,le.tint.bottomLeft=A,le.tint.bottomRight=L,le.index=q,le.charCode=B,le.x=ie,le.y=ne,le.scale=j,le.rotation=K,le.data=I.data;var ye=oe(le);ie=ye.x,ne=ye.y,j=ye.scale,K=ye.rotation,ye.color?(z=ye.color,D=ye.color,A=ye.color,L=ye.color):(z=ye.tint.topLeft,D=ye.tint.topRight,A=ye.tint.bottomLeft,L=ye.tint.bottomRight),z=a.getTintAppendFloatAlpha(z,h.alpha*n._alphaTL),D=a.getTintAppendFloatAlpha(D,h.alpha*n._alphaTR),A=a.getTintAppendFloatAlpha(A,h.alpha*n._alphaBL),L=a.getTintAppendFloatAlpha(L,h.alpha*n._alphaBR)}ie*=j,ne*=j,ie-=n.displayOriginX,ne-=n.displayOriginY,ie+=J,g.applyITRS(ie,ne,K,j,j),m.multiply(g,v);var Re=I.u0,ge=I.v0,xe=I.u1,be=I.v1,Je=H,Ce=O,Ve=v.e,Ye=v.f,at=Ce*v.c+v.e,fi=Ce*v.d+v.f,vi=Je*v.a+Ce*v.c+v.e,pi=Je*v.b+Ce*v.d+v.f,mi=Je*v.a+v.e,gi=Je*v.b+v.f;ae&&(Ve=Math.round(Ve),Ye=Math.round(Ye),at=Math.round(at),fi=Math.round(fi),vi=Math.round(vi),pi=Math.round(pi),mi=Math.round(mi),gi=Math.round(gi)),d.shouldFlush(6)&&(d.flush(),b=d.setGameObject(n)),d.batchQuad(n,Ve,Ye,at,fi,vi,pi,mi,gi,Re,ge,xe,be,z,D,A,L,E,C,b)}}}y&&(d.flush(),t.popScissor()),t.pipelines.postBatch(n)}};u.exports=r},22186:(u,x,e)=>{var l=e(83419),p=e(45319),a=e(31401),s=e(95643),r=e(53048),t=e(61327),n=e(21859),h=e(87841),i=e(18658),o=new l({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(d,f,v,m,g,y,T){g===void 0&&(g=""),T===void 0&&(T=0),s.call(this,d,"BitmapText"),this.font=m;var C=this.scene.sys.cache.bitmapFont.get(m);if(!C)throw new Error("Invalid BitmapText key: "+m);this.fontData=C.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=C.fromAtlas,this.setTexture(C.texture,C.frame),this.setPosition(f,v),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(g)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(c){return this._fontSize=c,this._dirty=!0,this},setLetterSpacing:function(c){return c===void 0&&(c=0),this._letterSpacing=c,this._dirty=!0,this},setLineSpacing:function(c){return c===void 0&&(c=0),this.lineSpacing=c,this},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this.text&&(this._text=c.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(c,d,f,v){return c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=.5),this.dropShadowX=c,this.dropShadowY=d,this.dropShadowColor=f,this.dropShadowAlpha=v,this},setCharacterTint:function(c,d,f,v,m,g,y){c===void 0&&(c=0),d===void 0&&(d=1),f===void 0&&(f=!1),v===void 0&&(v=-1),m===void 0&&(m=v,g=v,y=v);var T=this.text.length;d===-1&&(d=T),c<0&&(c=T+c),c=p(c,0,T-1);for(var C=p(c+d,c,T),E=this.charColors,z=c;z<C;z++){var D=E[z];if(v===-1)E[z]=null;else{var A=f?1:0;D?(D.tintEffect=A,D.tintTL=v,D.tintTR=m,D.tintBL=g,D.tintBR=y):E[z]={tintEffect:A,tintTL:v,tintTR:m,tintBL:g,tintBR:y}}}return this},setWordTint:function(c,d,f,v,m,g,y){d===void 0&&(d=1);for(var T=this.getTextBounds(),C=T.words,E=typeof c=="number",z=0,D=0;D<C.length;D++){var A=C[D];if((E&&D===c||!E&&A.word===c)&&(this.setCharacterTint(A.i,A.word.length,f,v,m,g,y),z++,z===d))return this}return this},getTextBounds:function(c){var d=this._bounds;return(this._dirty||c||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(r(this,c,!0,d),this._dirty=!1),d},getCharacterAt:function(c,d,f){for(var v=this.getLocalPoint(c,d,null,f),m=this.getTextBounds(),g=m.characters,y=new h,T=0;T<g.length;T++){var C=g[T];if(y.setTo(C.x,C.t,C.r-C.x,C.b),y.contains(v.x,v.y))return C}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(c,d,f){d===void 0&&(d=this._fontSize),f===void 0&&(f=this._align);var v=this.scene.sys.cache.bitmapFont.get(c);return v&&(this.font=c,this.fontData=v.data,this._fontSize=d,this._align=f,this.fromAtlas=v.fromAtlas===!0,this.setTexture(v.texture,v.frame),r(this,!1,!0,this._bounds)),this},setMaxWidth:function(c,d){return this._maxWidth=c,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(c){this._align=c,this._dirty=!0},get:function(){return this._align}},text:{set:function(c){this.setText(c)},get:function(){return this._text}},fontSize:{set:function(c){this._fontSize=c,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(c){this._letterSpacing=c,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(c){this._lineSpacing=c,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(c){this._maxWidth=c,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var c=a.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return c.data=d,c},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=t,o.ParseXMLBitmapFont=n,u.exports=o},37289:(u,x,e)=>{var l=e(20926),p=function(a,s,r,t){var n=s._text,h=n.length,i=a.currentContext;if(!(h===0||!l(a,i,s,r,t))){r.addToRenderList(s);var o=s.fromAtlas?s.frame:s.texture.frames.__BASE,c=s.fontData.chars,d=s.fontData.lineHeight,f=s._letterSpacing,v=s._lineSpacing,m=0,g=0,y=0,T=null,C=0,E=0,z=0,D=0,A=0,L=0,b=null,F=0,V=o.source.image,B=o.cutX,N=o.cutY,U=s._fontSize/s.fontData.size,I=s._align,H=0,O=0,R=s.getTextBounds(!1);s.maxWidth>0&&(n=R.wrappedText,h=n.length);var Y=s._bounds.lines;I===1?O=(Y.longest-Y.lengths[0])/2:I===2&&(O=Y.longest-Y.lengths[0]),i.translate(-s.displayOriginX,-s.displayOriginY);for(var G=r.roundPixels,k=0;k<h;k++){if(y=n.charCodeAt(k),y===10){H++,I===1?O=(Y.longest-Y.lengths[H])/2:I===2&&(O=Y.longest-Y.lengths[H]),m=0,g+=d+v,b=null;continue}if(T=c[y],!!T){if(C=B+T.x,E=N+T.y,z=T.width,D=T.height,A=T.xOffset+m,L=T.yOffset+g,b!==null){var W=T.kerning[F];A+=W!==void 0?W:0}A*=U,L*=U,A+=O,m+=T.xAdvance+f+(W!==void 0?W:0),b=T,F=y,!(z===0||D===0||y===32)&&(G&&(A=Math.round(A),L=Math.round(L)),i.save(),i.translate(A,L),i.scale(U,U),i.drawImage(V,C,E,z,D,0,0,z,D),i.restore())}}i.restore()}};u.exports=p},57336:(u,x,e)=>{var l=e(22186),p=e(25305),a=e(44603),s=e(23568),r=e(35154);a.register("bitmapText",function(t,n){t===void 0&&(t={});var h=r(t,"font",""),i=s(t,"text",""),o=s(t,"size",!1),c=r(t,"align",0),d=new l(this.scene,0,0,h,i,o,c);return n!==void 0&&(t.add=n),p(this.scene,d,t),d})},34914:(u,x,e)=>{var l=e(22186),p=e(39429);p.register("bitmapText",function(a,s,r,t,n,h){return this.displayList.add(new l(this.scene,a,s,r,t,n,h))})},18658:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(33590),a=e(37289),u.exports={renderWebGL:p,renderCanvas:a}},33590:(u,x,e)=>{var l=e(3217),p=e(91296),a=e(70554),s=function(r,t,n,h){var i=t._text,o=i.length;if(o!==0){n.addToRenderList(t);var c=r.pipelines.set(t.pipeline,t),d=p(t,n,h).calc;r.pipelines.preBatch(t);var f=n.roundPixels,v=n.alpha,m=t.charColors,g=t.tintFill,y=a.getTintAppendFloatAlpha,T=y(t.tintTopLeft,v*t._alphaTL),C=y(t.tintTopRight,v*t._alphaTR),E=y(t.tintBottomLeft,v*t._alphaBL),z=y(t.tintBottomRight,v*t._alphaBR),D=t.frame.glTexture,A=c.setGameObject(t),L=t.getTextBounds(!1),b,F,V,B=L.characters,N=t.dropShadowX,U=t.dropShadowY,I=N!==0||U!==0;if(I){var H=t.dropShadowColor,O=t.dropShadowAlpha,R=y(H,v*O*t._alphaTL),Y=y(H,v*O*t._alphaTR),G=y(H,v*O*t._alphaBL),k=y(H,v*O*t._alphaBR);for(b=0;b<B.length;b++)F=B[b],V=F.glyph,!(F.code===32||V.width===0||V.height===0)&&l(c,t,F,V,N,U,d,f,R,Y,G,k,1,D,A)}for(b=0;b<B.length;b++)if(F=B[b],V=F.glyph,!(F.code===32||V.width===0||V.height===0))if(c.shouldFlush(6)&&(c.flush(),A=c.setGameObject(t)),m[F.i]){var W=m[F.i],X=W.tintEffect,j=y(W.tintTL,v*t._alphaTL),K=y(W.tintTR,v*t._alphaTR),$=y(W.tintBL,v*t._alphaBL),Z=y(W.tintBR,v*t._alphaBR);l(c,t,F,V,0,0,d,f,j,K,$,Z,X,D,A)}else l(c,t,F,V,0,0,d,f,T,C,E,z,g,D,A);r.pipelines.postBatch(t)}};u.exports=s},6107:(u,x,e)=>{var l=e(48011),p=e(46590),a=e(83419),s=e(31401),r=e(4327),t=e(95643),n=e(73162),h=new a({Extends:t,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,l],initialize:function(o,c,d,f,v){t.call(this,o,"Blitter"),this.setTexture(f,v),this.setPosition(c,d),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,o,c,d,f){d===void 0&&(d=!0),f===void 0&&(f=this.children.length),c===void 0?c=this.frame:c instanceof r||(c=this.texture.get(c));var v=new p(this,i,o,c,d);return this.children.addAt(v,f,!1),this.dirty=!0,v},createFromCallback:function(i,o,c,d){for(var f=this.createMultiple(o,c,d),v=0;v<f.length;v++){var m=f[v];i.call(this,m,v)}return f},createMultiple:function(i,o,c){o===void 0&&(o=this.frame.name),c===void 0&&(c=!0),Array.isArray(o)||(o=[o]);var d=[],f=this;return o.forEach(function(v){for(var m=0;m<i;m++)d.push(f.create(0,0,v,c))}),d},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});u.exports=h},72396:u=>{var x=function(e,l,p,a){var s=l.getRenderList();if(s.length!==0){var r=e.currentContext,t=p.alpha*l.alpha;if(t!==0){p.addToRenderList(l),r.globalCompositeOperation=e.blendModes[l.blendMode],r.imageSmoothingEnabled=!l.frame.source.scaleMode;var n=l.x-p.scrollX*l.scrollFactorX,h=l.y-p.scrollY*l.scrollFactorY;r.save(),a&&a.copyToContext(r);for(var i=p.roundPixels,o=0;o<s.length;o++){var c=s[o],d=c.flipX||c.flipY,f=c.frame,v=f.canvasData,m=f.x,g=f.y,y=1,T=1,C=c.alpha*t;C!==0&&(r.globalAlpha=C,d?(c.flipX&&(y=-1,m-=v.width),c.flipY&&(T=-1,g-=v.height),v.width>0&&v.height>0&&(r.save(),r.translate(c.x+n,c.y+h),r.scale(y,T),r.drawImage(f.source.image,v.x,v.y,v.width,v.height,m,g,v.width,v.height),r.restore())):(i&&(m=Math.round(m),g=Math.round(g)),v.width>0&&v.height>0&&r.drawImage(f.source.image,v.x,v.y,v.width,v.height,m+c.x+n,g+c.y+h,v.width,v.height)))}r.restore()}}};u.exports=x},9403:(u,x,e)=>{var l=e(6107),p=e(25305),a=e(44603),s=e(23568);a.register("blitter",function(r,t){r===void 0&&(r={});var n=s(r,"key",null),h=s(r,"frame",null),i=new l(this.scene,0,0,n,h);return t!==void 0&&(r.add=t),p(this.scene,i,r),i})},12709:(u,x,e)=>{var l=e(6107),p=e(39429);p.register("blitter",function(a,s,r,t){return this.displayList.add(new l(this.scene,a,s,r,t))})},48011:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(99485),a=e(72396),u.exports={renderWebGL:p,renderCanvas:a}},99485:(u,x,e)=>{var l=e(61340),p=e(70554),a=new l,s=function(r,t,n,h){var i=t.getRenderList(),o=n.alpha*t.alpha;if(!(i.length===0||o===0)){n.addToRenderList(t);var c=r.pipelines.set(this.pipeline,t),d=n.scrollX*t.scrollFactorX,f=n.scrollY*t.scrollFactorY,v=a.copyFrom(n.matrix);h&&(v.multiplyWithOffset(h,-d,-f),d=0,f=0);var m=t.x-d,g=t.y-f,y=-1,T=!1,C=n.roundPixels;r.pipelines.preBatch(t);for(var E=0;E<i.length;E++){var z=i[E],D=z.frame,A=z.alpha*o;if(A!==0){var L=D.width,b=D.height,F=m+z.x+D.x,V=g+z.y+D.y;z.flipX&&(L*=-1,F+=D.width),z.flipY&&(b*=-1,V+=D.height);var B=v.setQuad(F,V,F+L,V+b,C),N=p.getTintAppendFloatAlpha(z.tint,A);if(D.sourceIndex!==y){var U=c.setGameObject(t,D);y=D.sourceIndex}c.batchQuad(t,B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],D.u0,D.v0,D.u1,D.v1,N,N,N,N,T,D.glTexture,U)&&(y=-1)}}r.pipelines.postBatch(t)}};u.exports=s},46590:(u,x,e)=>{var l=e(83419),p=e(4327),a=new l({initialize:function(r,t,n,h,i){this.parent=r,this.x=t,this.y=n,this.frame=h,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof p&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,t){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,t&&this.setFrame(t),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});u.exports=a},16005:(u,x,e)=>{var l=e(45319),p=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,r,t,n){return s===void 0&&(s=1),r===void 0?this.alpha=s:(this._alphaTL=l(s,0,1),this._alphaTR=l(r,0,1),this._alphaBL=l(t,0,1),this._alphaBR=l(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var r=l(s,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var r=l(s,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var r=l(s,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var r=l(s,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var r=l(s,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=p)}}};u.exports=a},88509:(u,x,e)=>{var l=e(45319),p=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var r=l(s,0,1);this._alpha=r,r===0?this.renderFlags&=~p:this.renderFlags|=p}}};u.exports=a},90065:(u,x,e)=>{var l=e(10312),p={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=l[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};u.exports=p},94215:u=>{var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,l){return this.width=e,this.height=l,this},setDisplaySize:function(e,l){return this.displayWidth=e,this.displayHeight=l,this}};u.exports=x},61683:u=>{var x={texture:null,frame:null,isCropped:!1,setCrop:function(e,l,p,a){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,l,p,a,this.flipX,this.flipY);else{var s=e;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};u.exports=x},89272:(u,x,e)=>{var l=e(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this},setToTop:function(){var a=this.getDisplayList();return a&&l.BringToTop(a,this),this},setToBack:function(){var a=this.getDisplayList();return a&&l.SendToBack(a,this),this},setAbove:function(a){var s=this.getDisplayList();return s&&a&&l.MoveAbove(s,this,a),this},setBelow:function(a){var s=this.getDisplayList();return s&&a&&l.MoveBelow(s,this,a),this}};u.exports=p},47059:(u,x,e)=>{var l=e(83419),p=e(66064),a=e(19133),s=new l({initialize:function(t,n){this.gameObject=t,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var t=this.gameObject.scene.sys.renderer;t&&t.pipelines?(this.gameObject.pipeline=t.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,t=0;t<r.length;t++)r[t].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var t;if(this.isPost){var n=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(n)||(n=[n]),t=0;t<n.length;t++){var h=n[t];if(h.controller===r){this.gameObject.removePostPipeline(h),r.destroy();break}}}else{var i=this.list;for(t=0;t<i.length;t++)i[t]===r&&(a(i,t),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,t){if(this.isPost){var n=String(r.type);this.gameObject.setPostPipeline(n,t);var h=this.gameObject.getPostPipeline(n);if(h)return Array.isArray(h)&&(h=h.pop()),h&&(h.controller=r),r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,t,n,h,i,o){return this.add(new p.Glow(this.gameObject,r,t,n,h),{quality:i,distance:o})},addShadow:function(r,t,n,h,i,o,c){return this.add(new p.Shadow(this.gameObject,r,t,n,h,i,o,c))},addPixelate:function(r){return this.add(new p.Pixelate(this.gameObject,r))},addVignette:function(r,t,n,h){return this.add(new p.Vignette(this.gameObject,r,t,n,h))},addShine:function(r,t,n,h){return this.add(new p.Shine(this.gameObject,r,t,n,h))},addBlur:function(r,t,n,h,i,o){return this.add(new p.Blur(this.gameObject,r,t,n,h,i,o))},addGradient:function(r,t,n,h,i,o,c,d){return this.add(new p.Gradient(this.gameObject,r,t,n,h,i,o,c,d))},addBloom:function(r,t,n,h,i,o){return this.add(new p.Bloom(this.gameObject,r,t,n,h,i,o))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(r,t,n,h,i){return this.add(new p.Circle(this.gameObject,r,t,n,h,i))},addBarrel:function(r){return this.add(new p.Barrel(this.gameObject,r))},addDisplacement:function(r,t,n){return this.add(new p.Displacement(this.gameObject,r,t,n))},addWipe:function(r,t,n){return this.add(new p.Wipe(this.gameObject,r,t,n))},addReveal:function(r,t,n){return this.add(new p.Wipe(this.gameObject,r,t,n,!0))},addBokeh:function(r,t,n){return this.add(new p.Bokeh(this.gameObject,r,t,n))},addTiltShift:function(r,t,n,h,i,o){return this.add(new p.Bokeh(this.gameObject,r,t,n,!0,h,i,o))},destroy:function(){this.clear(),this.gameObject=null}});u.exports=s},54434:u=>{var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,l){return this.flipX=e,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};u.exports=x},8004:(u,x,e)=>{var l=e(87841),p=e(11520),a=e(26099),s={prepareBoundsOutput:function(r,t){if(t===void 0&&(t=!1),this.rotation!==0&&p(r,this.x,this.y,this.rotation),t&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,t){return r===void 0&&(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,t)},getTopLeft:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,t)},getTopCenter:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,t)},getTopRight:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,t)},getLeftCenter:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,t)},getRightCenter:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,t)},getBottomLeft:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,t)},getBottomCenter:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,t)},getBottomRight:function(r,t){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,t)},getBounds:function(r){r===void 0&&(r=new l);var t,n,h,i,o,c,d,f;if(this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),v.transformPoint(r.x,r.y,r),t=r.x,n=r.y,this.getTopRight(r),v.transformPoint(r.x,r.y,r),h=r.x,i=r.y,this.getBottomLeft(r),v.transformPoint(r.x,r.y,r),o=r.x,c=r.y,this.getBottomRight(r),v.transformPoint(r.x,r.y,r),d=r.x,f=r.y}else this.getTopLeft(r),t=r.x,n=r.y,this.getTopRight(r),h=r.x,i=r.y,this.getBottomLeft(r),o=r.x,c=r.y,this.getBottomRight(r),d=r.x,f=r.y;return r.x=Math.min(t,h,o,d),r.y=Math.min(n,i,c,f),r.width=Math.max(t,h,o,d)-r.x,r.height=Math.max(n,i,c,f)-r.y,r}};u.exports=s},8573:(u,x,e)=>{var l=e(6858),p=e(80661),a={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,r,t,n,h){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new l(this.scene,s,r,t,n,h)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new p(this.scene,s)}};u.exports=a},27387:u=>{var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,l){return e===void 0&&(e=.5),l===void 0&&(l=e),this.originX=e,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,l){return e===void 0&&(e=0),l===void 0&&(l=e),this.displayOriginX=e,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};u.exports=x},37640:(u,x,e)=>{var l=e(39506),p=e(57355),a=e(35154),s=e(86353),r=e(26099),t={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(n,h){h===void 0&&(h=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,h&&this.startFollow(h),this},setRotateToPath:function(n,h){return h===void 0&&(h=0),this.rotateToPath=n,this.pathRotationOffset=h,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,h){n===void 0&&(n={}),h===void 0&&(h=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=a(n,"from",0),n.to=a(n,"to",1);var o=p(n,"positionOnPath",!1);this.rotateToPath=p(n,"rotateToPath",!1),this.pathRotationOffset=a(n,"rotationOffset",0);var c=a(n,"startAt",h);if(c&&(n.onStart=function(f){var v=f.data[0];v.progress=c,v.elapsed=v.duration*c;var m=v.ease(v.progress);v.current=v.start+(v.end-v.start)*m,v.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var h=n.data[0],i=this.pathDelta,o=this.pathVector;if(i.copy(o).negate(),h.state===s.COMPLETE){this.path.getPoint(h.end,o),i.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(h.state!==s.PLAYING_FORWARD&&h.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),o),i.add(o),o.add(this.pathOffset);var c=this.x,d=this.y;this.setPosition(o.x,o.y);var f=this.x-c,v=this.y-d;if(f===0&&v===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(v,f)+l(this.pathRotationOffset))}}};u.exports=t},72699:(u,x,e)=>{var l=e(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var r=s.pipelines;if(r){a===void 0&&(a=r.default);var t=r.get(a);if(t)return this.defaultPipeline=t,this.pipeline=t,!0}return!1},setPipeline:function(a,s,r){var t=this.scene.sys.renderer;if(!t)return this;var n=t.pipelines;if(n){var h=n.get(a);h&&(this.pipeline=h),s&&(this.pipelineData=r?l(s):s)}return this},setPipelineData:function(a,s){var r=this.pipelineData;return s===void 0?delete r[a]:r[a]=s,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};u.exports=p},17581:(u,x,e)=>{var l=e(62644),p=e(47059),a=e(19133),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),r&&(this.preFX=new p(this,!1))},setPostPipeline:function(r,t,n){var h=this.scene.sys.renderer;if(!h)return this;var i=h.pipelines;if(i){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var c=i.getPostPipeline(r[o],this,t);c&&this.postPipelines.push(c)}t&&(this.postPipelineData=n?l(t):t)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,t){var n=this.postPipelineData;return t===void 0?delete n[r]:n[r]=t,this},getPostPipeline:function(r){for(var t=typeof r=="string",n=this.postPipelines,h=[],i=0;i<n.length;i++){var o=n[i];(t&&o.name===r||!t&&o instanceof r)&&h.push(o)}return h.length===1?h[0]:h},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var t=this.postPipelines,n=0;n<t.length;n++)t[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var t=typeof r=="string",n=this.postPipelines,h=n.length-1;h>=0;h--){var i=n[h];(t&&i.name===r||!t&&i===r)&&(i.destroy(),a(n,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};u.exports=s},80227:u=>{var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,l){return l===void 0&&(l=e),this.scrollFactorX=e,this.scrollFactorY=l,this}};u.exports=x},16736:u=>{var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this},setSize:function(e,l){return this.width=e,this.height=l,this},setDisplaySize:function(e,l){return this.displayWidth=e,this.displayHeight=l,this}};u.exports=x},37726:(u,x,e)=>{var l=e(4327),p=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(s,r,t,n){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r,t,n)},setFrame:function(s,r,t){return r===void 0&&(r=!0),t===void 0&&(t=!0),s instanceof l?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&t&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};u.exports=a},79812:(u,x,e)=>{var l=e(4327),p=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(s,r,t,n){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,r,t,n,this.flipX,this.flipY);else{var h=s;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,t){return r===void 0&&(r=!0),t===void 0&&(t=!0),s instanceof l?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&t&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};u.exports=a},27472:u=>{var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,l,p,a){return e===void 0&&(e=16777215),l===void 0&&(l=e,p=e,a=e),this.tintTopLeft=e,this.tintTopRight=l,this.tintBottomLeft=p,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(e,l,p,a){return this.setTint(e,l,p,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};u.exports=x},53774:u=>{var x=function(e){var l={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(l.textureKey=e.texture.key,l.frameKey=e.frame.name),l};u.exports=x},16901:(u,x,e)=>{var l=e(36383),p=e(61340),a=e(85955),s=e(86554),r=e(30954),t=e(26099),n=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return r(this._rotation*l.RAD_TO_DEG)},set:function(i){this.rotation=r(i)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=s(i)}},setPosition:function(i,o,c,d){return i===void 0&&(i=0),o===void 0&&(o=i),c===void 0&&(c=0),d===void 0&&(d=0),this.x=i,this.y=o,this.z=c,this.w=d,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,o,c,d){return i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=i+Math.random()*c,this.y=o+Math.random()*d,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=i),this.scaleX=i,this.scaleY=o,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,o){i===void 0&&(i=new p);var c=this.parentContainer;if(!c)return this.getLocalTransformMatrix(i);for(o||(o=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);c;)o.applyITRS(c.x,c.y,c._rotation,c._scaleX,c._scaleY),o.multiply(i,i),c=c.parentContainer;return i},getLocalPoint:function(i,o,c,d){c||(c=new t),d||(d=this.scene.sys.cameras.main);var f=d.scrollX,v=d.scrollY,m=i+f*this.scrollFactorX-f,g=o+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,g,c):a(m,g,this.x,this.y,this.rotation,this.scaleX,this.scaleY,c),this._originComponent&&(c.x+=this._displayOriginX,c.y+=this._displayOriginY),c},getParentRotation:function(){for(var i=0,o=this.parentContainer;o;)i+=o.rotation,o=o.parentContainer;return i}};u.exports=h},61340:(u,x,e)=>{var l=e(83419),p=e(36383),a=e(26099),s=new l({initialize:function(t,n,h,i,o,c){t===void 0&&(t=1),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=1),o===void 0&&(o=0),c===void 0&&(c=0),this.matrix=new Float32Array([t,n,h,i,o,c,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,t=r[0],n=r[1],h=r[2],i=r[3];return t||n?n>0?Math.acos(t/this.scaleX):-Math.acos(t/this.scaleX):h||i?p.TAU-(i>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,t){var n=this.matrix;return n[4]=n[0]*r+n[2]*t+n[4],n[5]=n[1]*r+n[3]*t+n[5],this},scale:function(r,t){var n=this.matrix;return n[0]*=r,n[1]*=r,n[2]*=t,n[3]*=t,this},rotate:function(r){var t=Math.sin(r),n=Math.cos(r),h=this.matrix,i=h[0],o=h[1],c=h[2],d=h[3];return h[0]=i*n+c*t,h[1]=o*n+d*t,h[2]=i*-t+c*n,h[3]=o*-t+d*n,this},multiply:function(r,t){var n=this.matrix,h=r.matrix,i=n[0],o=n[1],c=n[2],d=n[3],f=n[4],v=n[5],m=h[0],g=h[1],y=h[2],T=h[3],C=h[4],E=h[5],z=t===void 0?n:t.matrix;return z[0]=m*i+g*c,z[1]=m*o+g*d,z[2]=y*i+T*c,z[3]=y*o+T*d,z[4]=C*i+E*c+f,z[5]=C*o+E*d+v,z},multiplyWithOffset:function(r,t,n){var h=this.matrix,i=r.matrix,o=h[0],c=h[1],d=h[2],f=h[3],v=h[4],m=h[5],g=t*o+n*d+v,y=t*c+n*f+m,T=i[0],C=i[1],E=i[2],z=i[3],D=i[4],A=i[5];return h[0]=T*o+C*d,h[1]=T*c+C*f,h[2]=E*o+z*d,h[3]=E*c+z*f,h[4]=D*o+A*d+g,h[5]=D*c+A*f+y,this},transform:function(r,t,n,h,i,o){var c=this.matrix,d=c[0],f=c[1],v=c[2],m=c[3],g=c[4],y=c[5];return c[0]=r*d+t*v,c[1]=r*f+t*m,c[2]=n*d+h*v,c[3]=n*f+h*m,c[4]=i*d+o*v+g,c[5]=i*f+o*m+y,this},transformPoint:function(r,t,n){n===void 0&&(n={x:0,y:0});var h=this.matrix,i=h[0],o=h[1],c=h[2],d=h[3],f=h[4],v=h[5];return n.x=r*i+t*c+f,n.y=r*o+t*d+v,n},invert:function(){var r=this.matrix,t=r[0],n=r[1],h=r[2],i=r[3],o=r[4],c=r[5],d=t*i-n*h;return r[0]=i/d,r[1]=-n/d,r[2]=-h/d,r[3]=t/d,r[4]=(h*c-i*o)/d,r[5]=-(t*c-n*o)/d,this},copyFrom:function(r){var t=this.matrix;return t[0]=r.a,t[1]=r.b,t[2]=r.c,t[3]=r.d,t[4]=r.e,t[5]=r.f,this},copyFromArray:function(r){var t=this.matrix;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],this},copyToContext:function(r){var t=this.matrix;return r.transform(t[0],t[1],t[2],t[3],t[4],t[5]),r},setToContext:function(r){return r.setTransform(this),r},copyToArray:function(r){var t=this.matrix;return r===void 0?r=[t[0],t[1],t[2],t[3],t[4],t[5]]:(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5]),r},setTransform:function(r,t,n,h,i,o){var c=this.matrix;return c[0]=r,c[1]=t,c[2]=n,c[3]=h,c[4]=i,c[5]=o,this},decomposeMatrix:function(){var r=this.decomposedMatrix,t=this.matrix,n=t[0],h=t[1],i=t[2],o=t[3],c=n*o-h*i;if(r.translateX=t[4],r.translateY=t[5],n||h){var d=Math.sqrt(n*n+h*h);r.rotation=h>0?Math.acos(n/d):-Math.acos(n/d),r.scaleX=d,r.scaleY=c/d}else if(i||o){var f=Math.sqrt(i*i+o*o);r.rotation=Math.PI*.5-(o>0?Math.acos(-i/f):-Math.acos(i/f)),r.scaleX=c/f,r.scaleY=f}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,t,n,h,i){var o=this.matrix,c=Math.sin(n),d=Math.cos(n);return o[4]=r,o[5]=t,o[0]=d*h,o[1]=c*h,o[2]=-c*i,o[3]=d*i,this},applyInverse:function(r,t,n){n===void 0&&(n=new a);var h=this.matrix,i=h[0],o=h[1],c=h[2],d=h[3],f=h[4],v=h[5],m=1/(i*d+c*-o);return n.x=d*m*r+-c*m*t+(v*c-f*d)*m,n.y=i*m*t+-o*m*r+(-v*i+f*o)*m,n},setQuad:function(r,t,n,h,i,o){i===void 0&&(i=!1),o===void 0&&(o=this.quad);var c=this.matrix,d=c[0],f=c[1],v=c[2],m=c[3],g=c[4],y=c[5],T=r*d+t*v+g,C=r*f+t*m+y,E=r*d+h*v+g,z=r*f+h*m+y,D=n*d+h*v+g,A=n*f+h*m+y,L=n*d+t*v+g,b=n*f+t*m+y;if(i){var F=Math.floor(T+.5),V=Math.floor(C+.5),B=F-T,N=V-C;o[0]=F,o[1]=V,o[2]=E+B,o[3]=z+N,o[4]=D+B,o[5]=A+N,o[6]=L+B,o[7]=b+N}else o[0]=T,o[1]=C,o[2]=E,o[3]=z,o[4]=D,o[5]=A,o[6]=L,o[7]=b;return o},getX:function(r,t){return r*this.a+t*this.c+this.e},getY:function(r,t){return r*this.b+t*this.d+this.f},getXRound:function(r,t,n){var h=this.getX(r,t);return n&&(h=Math.floor(h+.5)),h},getYRound:function(r,t,n){var h=this.getY(r,t);return n&&(h=Math.floor(h+.5)),h},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});u.exports=s},59715:u=>{var x=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(l){return this.visible=l,this}};u.exports=e},31401:(u,x,e)=>{u.exports={Alpha:e(16005),AlphaSingle:e(88509),BlendMode:e(90065),ComputedSize:e(94215),Crop:e(61683),Depth:e(89272),Flip:e(54434),FX:e(47059),GetBounds:e(8004),Mask:e(8573),Origin:e(27387),PathFollower:e(37640),Pipeline:e(72699),PostPipeline:e(17581),ScrollFactor:e(80227),Size:e(16736),Texture:e(37726),TextureCrop:e(79812),Tint:e(27472),ToJSON:e(53774),Transform:e(16901),TransformMatrix:e(61340),Visible:e(59715)}},31559:(u,x,e)=>{var l=e(37105),p=e(10312),a=e(83419),s=e(31401),r=e(51708),t=e(95643),n=e(87841),h=e(29959),i=e(36899),o=e(26099),c=new s.TransformMatrix,d=new a({Extends:t,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,h],initialize:function(v,m,g,y){t.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,g),this.setBlendMode(p.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(f){return f===void 0&&(f=!0),this.exclusive=f,this},getBounds:function(f){if(f===void 0&&(f=new n),f.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),m=v.transformPoint(this.x,this.y);f.setTo(m.x,m.y,0,0)}if(this.list.length>0){var g=this.list,y=new n,T=!1;f.setEmpty();for(var C=0;C<g.length;C++){var E=g[C];E.getBounds&&(E.getBounds(y),T?i(y,f,f):(f.setTo(y.x,y.y,y.width,y.height),T=!0))}}return f},addHandler:function(f){f.once(r.DESTROY,this.onChildDestroyed,this),this.exclusive&&(f.parentContainer&&f.parentContainer.remove(f),f.parentContainer=this,f.removeFromDisplayList(),f.addedToScene())},removeHandler:function(f){f.off(r.DESTROY,this.remove,this),this.exclusive&&(f.parentContainer=null,f.removedFromScene(),f.addToDisplayList())},pointToContainer:function(f,v){v===void 0&&(v=new o),this.parentContainer?this.parentContainer.pointToContainer(f,v):(v.x=f.x,v.y=f.y);var m=c;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(f.x,f.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(c,this.localTransform)},add:function(f){return l.Add(this.list,f,this.maxSize,this.addHandler,this),this},addAt:function(f,v){return l.AddAt(this.list,f,v,this.maxSize,this.addHandler,this),this},getAt:function(f){return this.list[f]},getIndex:function(f){return this.list.indexOf(f)},sort:function(f,v){return f?(v===void 0&&(v=function(m,g){return m[f]-g[f]}),l.StableSort(this.list,v),this):this},getByName:function(f){return l.GetFirst(this.list,"name",f)},getRandom:function(f,v){return l.GetRandom(this.list,f,v)},getFirst:function(f,v,m,g){return l.GetFirst(this.list,f,v,m,g)},getAll:function(f,v,m,g){return l.GetAll(this.list,f,v,m,g)},count:function(f,v,m,g){return l.CountAllMatching(this.list,f,v,m,g)},swap:function(f,v){return l.Swap(this.list,f,v),this},moveTo:function(f,v){return l.MoveTo(this.list,f,v),this},moveAbove:function(f,v){return l.MoveAbove(this.list,f,v),this},moveBelow:function(f,v){return l.MoveBelow(this.list,f,v),this},remove:function(f,v){var m=l.Remove(this.list,f,this.removeHandler,this);if(v&&m){Array.isArray(m)||(m=[m]);for(var g=0;g<m.length;g++)m[g].destroy()}return this},removeAt:function(f,v){var m=l.RemoveAt(this.list,f,this.removeHandler,this);return v&&m&&m.destroy(),this},removeBetween:function(f,v,m){var g=l.RemoveBetween(this.list,f,v,this.removeHandler,this);if(m)for(var y=0;y<g.length;y++)g[y].destroy();return this},removeAll:function(f){var v=this.list;if(f){for(var m=0;m<v.length;m++)v[m]&&v[m].scene&&(v[m].off(r.DESTROY,this.onChildDestroyed,this),v[m].destroy());this.list=[]}else l.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(f){return l.BringToTop(this.list,f),this},sendToBack:function(f){return l.SendToBack(this.list,f),this},moveUp:function(f){return l.MoveUp(this.list,f),this},moveDown:function(f){return l.MoveDown(this.list,f),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(f,v,m){var g=l.Replace(this.list,f,v);return g&&(this.addHandler(v),this.removeHandler(f),m&&f.destroy()),this},exists:function(f){return this.list.indexOf(f)>-1},setAll:function(f,v,m,g){return l.SetAll(this.list,f,v,m,g),this},each:function(f,v){var m=[null],g,y=this.list.slice(),T=y.length;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<T;g++)m[0]=y[g],f.apply(v,m);return this},iterate:function(f,v){var m=[null],g;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<this.list.length;g++)m[0]=this.list[g],f.apply(v,m);return this},setScrollFactor:function(f,v,m){return v===void 0&&(v=f),m===void 0&&(m=!1),this.scrollFactorX=f,this.scrollFactorY=v,m&&(l.SetAll(this.list,"scrollFactorX",f),l.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(f){l.Remove(this.list,f),this.exclusive&&(f.parentContainer=null,f.removedFromScene())}});u.exports=d},53584:u=>{var x=function(e,l,p,a){p.addToRenderList(l);var s=l.list;if(s.length!==0){var r=l.localTransform;a?(r.loadIdentity(),r.multiply(a),r.translate(l.x,l.y),r.rotate(l.rotation),r.scale(l.scaleX,l.scaleY)):r.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var t=l.blendMode!==-1;t||e.setBlendMode(0);var n=l._alpha,h=l.scrollFactorX,i=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(e,null,p);for(var o=0;o<s.length;o++){var c=s[o];if(c.willRender(p)){var d=c.alpha,f=c.scrollFactorX,v=c.scrollFactorY;!t&&c.blendMode!==e.currentBlendMode&&e.setBlendMode(c.blendMode),c.setScrollFactor(f*h,v*i),c.setAlpha(d*n),c.renderCanvas(e,c,p,r),c.setAlpha(d),c.setScrollFactor(f,v)}}l.mask&&l.mask.postRenderCanvas(e)}};u.exports=x},77143:(u,x,e)=>{var l=e(25305),p=e(31559),a=e(44603),s=e(23568),r=e(95540);a.register("container",function(t,n){t===void 0&&(t={});var h=s(t,"x",0),i=s(t,"y",0),o=r(t,"children",null),c=new p(this.scene,h,i,o);return n!==void 0&&(t.add=n),l(this.scene,c,t),c})},24961:(u,x,e)=>{var l=e(31559),p=e(39429);p.register("container",function(a,s,r){return this.displayList.add(new l(this.scene,a,s,r))})},29959:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(72249),a=e(53584),u.exports={renderWebGL:p,renderCanvas:a}},72249:u=>{var x=function(e,l,p,a){p.addToRenderList(l);var s=l.list,r=s.length;if(r!==0){var t=l.localTransform;a?(t.loadIdentity(),t.multiply(a),t.translate(l.x,l.y),t.rotate(l.rotation),t.scale(l.scaleX,l.scaleY)):t.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),e.pipelines.preBatch(l);var n=l.blendMode!==-1;n||e.setBlendMode(0);for(var h=l.alpha,i=l.scrollFactorX,o=l.scrollFactorY,c=0;c<r;c++){var d=s[c];if(d.willRender(p)){var f,v,m,g;if(d.alphaTopLeft!==void 0)f=d.alphaTopLeft,v=d.alphaTopRight,m=d.alphaBottomLeft,g=d.alphaBottomRight;else{var y=d.alpha;f=y,v=y,m=y,g=y}var T=d.scrollFactorX,C=d.scrollFactorY;!n&&d.blendMode!==e.currentBlendMode&&e.setBlendMode(d.blendMode);var E=d.mask;E&&E.preRenderWebGL(e,d,p);var z=d.type;z!==e.currentType&&(e.newType=!0,e.currentType=z),e.nextTypeMatch=c<r-1?s[c+1].type===e.currentType:!1,d.setScrollFactor(T*i,C*o),d.setAlpha(f*h,v*h,m*h,g*h),d.renderWebGL(e,d,p,t,l),d.setAlpha(f,v,m,g),d.setScrollFactor(T,C),E&&E.postRenderWebGL(e,p),e.newType=!1}}e.pipelines.postBatch(l)}};u.exports=x},47407:u=>{u.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(441),s=e(95643),r=e(41212),t=e(35846),n=e(44594),h=e(61369),i=new l({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,a],initialize:function(c,d,f,v,m,g){s.call(this,c,"DOMElement"),this.parent=c.sys.game.domContainer,this.cache=c.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,f),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),m,g):this.createElement(v,m,g):v&&this.setElement(v,m,g),c.sys.events.on(n.SLEEP,this.handleSceneEvent,this),c.sys.events.on(n.WAKE,this.handleSceneEvent,this),c.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var c=this.node,d=c.style;c&&(d.display=o.settings.visible?"block":"none")},setSkew:function(o,c){return o===void 0&&(o=0),c===void 0&&(c=o),this.skewX=o,this.skewY=c,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var c=0;c<o.length;c++)this.node.addEventListener(o[c],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var c=0;c<o.length;c++)this.node.removeEventListener(o[c],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,c,d){return this.setElement(document.createElement(o),c,d)},setElement:function(o,c,d){this.removeElement();var f;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),f=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(f=o),!f)return this;if(this.node=f,c&&r(c))for(var v in c)f.style[v]=c[v];else typeof c=="string"&&(f.style=c);return f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),d&&(f.innerText=d),this.updateSize()},createFromCache:function(o,c){var d=this.cache.get(o);return d&&this.createFromHTML(d,c),this},createFromHTML:function(o,c){c===void 0&&(c="div"),this.removeElement();var d=document.createElement(c);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(t(this.node),this.node=null),this},updateSize:function(){var o=this.node,c=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=c.width||0,this.displayHeight=c.height||0,this},getChildByProperty:function(o,c){if(this.node){for(var d=this.node.querySelectorAll("*"),f=0;f<d.length;f++)if(d[f][o]===c)return d[f]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,c=this.node;c&&o&&!o.willRender()&&(c.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});u.exports=i},49381:(u,x,e)=>{var l=e(47407),p=e(95643),a=e(61340),s=new a,r=new a,t=new a,n=function(h,i,o,c){if(i.node){var d=i.node.style,f=i.scene.sys.settings;if(!d||!f.visible||p.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&o.id||i.parentContainer&&!i.parentContainer.willRender()){d.display="none";return}var v=i.parentContainer,m=o.alpha*i.alpha;v&&(m*=v.alpha);var g=s,y=r,T=t,C=0,E=0,z="0%",D="0%";c?(C=i.width*i.scaleX*i.originX,E=i.height*i.scaleY*i.originY,y.applyITRS(i.x-C,i.y-E,i.rotation,i.scaleX,i.scaleY),g.copyFrom(o.matrix),g.multiplyWithOffset(c,-o.scrollX*i.scrollFactorX,-o.scrollY*i.scrollFactorY),y.e=i.x-C,y.f=i.y-E,g.multiply(y,T)):(C=i.width*i.originX,E=i.height*i.originY,y.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),g.copyFrom(o.matrix),z=100*i.originX+"%",D=100*i.originY+"%",y.e-=o.scrollX*i.scrollFactorX,y.f-=o.scrollY*i.scrollFactorY,g.multiply(y,T),T.e-=C,T.f-=E),i.transformOnly||(d.display="block",d.opacity=m,d.zIndex=i._depth,d.pointerEvents=i.pointerEvents,d.mixBlendMode=l[i._blendMode]),d.transform=T.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",d.transformOrigin=z+" "+D}};u.exports=n},2611:(u,x,e)=>{var l=e(3069),p=e(39429);p.register("dom",function(a,s,r,t,n){var h=new l(this.scene,a,s,r,t,n);return this.displayList.add(h),h})},441:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(49381),a=e(49381),u.exports={renderWebGL:p,renderCanvas:a}},62980:u=>{u.exports="addedtoscene"},41337:u=>{u.exports="destroy"},44947:u=>{u.exports="removedfromscene"},49358:u=>{u.exports="complete"},35163:u=>{u.exports="created"},97249:u=>{u.exports="error"},19483:u=>{u.exports="locked"},56059:u=>{u.exports="loop"},26772:u=>{u.exports="metadata"},64437:u=>{u.exports="playing"},83411:u=>{u.exports="play"},75780:u=>{u.exports="seeked"},67799:u=>{u.exports="seeking"},63500:u=>{u.exports="stalled"},55541:u=>{u.exports="stop"},53208:u=>{u.exports="textureready"},4992:u=>{u.exports="unlocked"},12:u=>{u.exports="unsupported"},51708:(u,x,e)=>{u.exports={ADDED_TO_SCENE:e(62980),DESTROY:e(41337),REMOVED_FROM_SCENE:e(44947),VIDEO_COMPLETE:e(49358),VIDEO_CREATED:e(35163),VIDEO_ERROR:e(97249),VIDEO_LOCKED:e(19483),VIDEO_LOOP:e(56059),VIDEO_METADATA:e(26772),VIDEO_PLAY:e(83411),VIDEO_PLAYING:e(64437),VIDEO_SEEKED:e(75780),VIDEO_SEEKING:e(67799),VIDEO_STALLED:e(63500),VIDEO_STOP:e(55541),VIDEO_TEXTURE:e(53208),VIDEO_UNLOCKED:e(4992),VIDEO_UNSUPPORTED:e(12)}},42421:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(95643),s=e(64993),r=new l({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,s],initialize:function(n){a.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});u.exports=r},70217:()=>{},56315:(u,x,e)=>{var l=e(42421),p=e(39429);p.register("extern",function(){var a=new l(this.scene);return this.displayList.add(a),a})},64993:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(80287),a=e(70217),u.exports={renderWebGL:p,renderCanvas:a}},80287:(u,x,e)=>{var l=e(91296),p=function(a,s,r,t){a.pipelines.clear();var n=l(s,r,t).calc;s.render.call(s,a,r,n),a.pipelines.rebind()};u.exports=p},85592:u=>{u.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(u,x,e)=>{var l=e(71911),p=e(83419),a=e(85592),s=e(31401),r=e(8497),t=e(95643),n=e(95540),h=e(35154),i=e(36383),o=e(84503),c=new p({Extends:t,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,o],initialize:function(f,v){var m=h(v,"x",0),g=h(v,"y",0);t.call(this,f,"Graphics"),this.setPosition(m,g),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(v)},setDefaultStyles:function(d){return h(d,"lineStyle",null)&&(this.defaultStrokeWidth=h(d,"lineStyle.width",1),this.defaultStrokeColor=h(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(d,"fillStyle",null)&&(this.defaultFillColor=h(d,"fillStyle.color",16777215),this.defaultFillAlpha=h(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,f,v){return v===void 0&&(v=1),this.commandBuffer.push(a.LINE_STYLE,d,f,v),this._lineWidth=d,this},fillStyle:function(d,f){return f===void 0&&(f=1),this.commandBuffer.push(a.FILL_STYLE,d,f),this},fillGradientStyle:function(d,f,v,m,g,y,T,C){return g===void 0&&(g=1),y===void 0&&(y=g),T===void 0&&(T=g),C===void 0&&(C=g),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,g,y,T,C,d,f,v,m),this},lineGradientStyle:function(d,f,v,m,g,y){return y===void 0&&(y=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,d,y,f,v,m,g),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,f,v){return this.beginPath(),this.arc(d,f,v,0,i.PI2),this.fillPath(),this},strokeCircle:function(d,f,v){return this.beginPath(),this.arc(d,f,v,0,i.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,f,v,m){return this.commandBuffer.push(a.FILL_RECT,d,f,v,m),this},strokeRect:function(d,f,v,m){var g=this._lineWidth/2,y=d-g,T=d+g;return this.beginPath(),this.moveTo(d,f),this.lineTo(d,f+m),this.strokePath(),this.beginPath(),this.moveTo(d+v,f),this.lineTo(d+v,f+m),this.strokePath(),this.beginPath(),this.moveTo(y,f),this.lineTo(T+v,f),this.strokePath(),this.beginPath(),this.moveTo(y,f+m),this.lineTo(T+v,f+m),this.strokePath(),this},fillRoundedRect:function(d,f,v,m,g){g===void 0&&(g=20);var y=g,T=g,C=g,E=g;typeof g!="number"&&(y=n(g,"tl",20),T=n(g,"tr",20),C=n(g,"bl",20),E=n(g,"br",20));var z=y>=0,D=T>=0,A=C>=0,L=E>=0;return y=Math.abs(y),T=Math.abs(T),C=Math.abs(C),E=Math.abs(E),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+v-T,f),D?this.arc(d+v-T,f+T,T,-i.TAU,0):this.arc(d+v,f,T,Math.PI,i.TAU,!0),this.lineTo(d+v,f+m-E),L?this.arc(d+v-E,f+m-E,E,0,i.TAU):this.arc(d+v,f+m,E,-i.TAU,Math.PI,!0),this.lineTo(d+C,f+m),A?this.arc(d+C,f+m-C,C,i.TAU,Math.PI):this.arc(d,f+m,C,0,-i.TAU,!0),this.lineTo(d,f+y),z?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,f,v,m,g){g===void 0&&(g=20);var y=g,T=g,C=g,E=g,z=Math.min(v,m)/2;typeof g!="number"&&(y=n(g,"tl",20),T=n(g,"tr",20),C=n(g,"bl",20),E=n(g,"br",20));var D=y>=0,A=T>=0,L=C>=0,b=E>=0;return y=Math.min(Math.abs(y),z),T=Math.min(Math.abs(T),z),C=Math.min(Math.abs(C),z),E=Math.min(Math.abs(E),z),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+v-T,f),this.moveTo(d+v-T,f),A?this.arc(d+v-T,f+T,T,-i.TAU,0):this.arc(d+v,f,T,Math.PI,i.TAU,!0),this.lineTo(d+v,f+m-E),this.moveTo(d+v,f+m-E),b?this.arc(d+v-E,f+m-E,E,0,i.TAU):this.arc(d+v,f+m,E,-i.TAU,Math.PI,!0),this.lineTo(d+C,f+m),this.moveTo(d+C,f+m),L?this.arc(d+C,f+m-C,C,i.TAU,Math.PI):this.arc(d,f+m,C,0,-i.TAU,!0),this.lineTo(d,f+y),this.moveTo(d,f+y),D?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,f){return this.fillPoint(d.x,d.y,f)},fillPoint:function(d,f,v){return!v||v<1?v=1:(d-=v/2,f-=v/2),this.commandBuffer.push(a.FILL_RECT,d,f,v,v),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,f,v,m,g,y){return this.commandBuffer.push(a.FILL_TRIANGLE,d,f,v,m,g,y),this},strokeTriangle:function(d,f,v,m,g,y){return this.commandBuffer.push(a.STROKE_TRIANGLE,d,f,v,m,g,y),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,f,v,m){return this.beginPath(),this.moveTo(d,f),this.lineTo(v,m),this.strokePath(),this},lineTo:function(d,f){return this.commandBuffer.push(a.LINE_TO,d,f),this},moveTo:function(d,f){return this.commandBuffer.push(a.MOVE_TO,d,f),this},strokePoints:function(d,f,v,m){f===void 0&&(f=!1),v===void 0&&(v=!1),m===void 0&&(m=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var g=1;g<m;g++)this.lineTo(d[g].x,d[g].y);return f&&this.lineTo(d[0].x,d[0].y),v&&this.closePath(),this.strokePath(),this},fillPoints:function(d,f,v,m){f===void 0&&(f=!1),v===void 0&&(v=!1),m===void 0&&(m=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var g=1;g<m;g++)this.lineTo(d[g].x,d[g].y);return f&&this.lineTo(d[0].x,d[0].y),v&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,f){f===void 0&&(f=32);var v=d.getPoints(f);return this.strokePoints(v,!0)},strokeEllipse:function(d,f,v,m,g){g===void 0&&(g=32);var y=new r(d,f,v,m),T=y.getPoints(g);return this.strokePoints(T,!0)},fillEllipseShape:function(d,f){f===void 0&&(f=32);var v=d.getPoints(f);return this.fillPoints(v,!0)},fillEllipse:function(d,f,v,m,g){g===void 0&&(g=32);var y=new r(d,f,v,m),T=y.getPoints(g);return this.fillPoints(T,!0)},arc:function(d,f,v,m,g,y,T){return y===void 0&&(y=!1),T===void 0&&(T=0),this.commandBuffer.push(a.ARC,d,f,v,m,g,y,T),this},slice:function(d,f,v,m,g,y,T){return y===void 0&&(y=!1),T===void 0&&(T=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,d,f),this.commandBuffer.push(a.ARC,d,f,v,m,g,y,T),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(d,f){return this.commandBuffer.push(a.TRANSLATE,d,f),this},scaleCanvas:function(d,f){return this.commandBuffer.push(a.SCALE,d,f),this},rotateCanvas:function(d){return this.commandBuffer.push(a.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,f,v){var m=this.scene.sys,g=m.game.renderer;f===void 0&&(f=m.scale.width),v===void 0&&(v=m.scale.height),c.TargetCamera.setScene(this.scene),c.TargetCamera.setViewport(0,0,f,v),c.TargetCamera.scrollX=this.x,c.TargetCamera.scrollY=this.y;var y,T,C={willReadFrequently:!0};if(typeof d=="string")if(m.textures.exists(d)){y=m.textures.get(d);var E=y.getSourceImage();E instanceof HTMLCanvasElement&&(T=E.getContext("2d",C))}else y=m.textures.createCanvas(d,f,v),T=y.getSourceImage().getContext("2d",C);else d instanceof HTMLCanvasElement&&(T=d.getContext("2d",C));return T&&(this.renderCanvas(g,this,c.TargetCamera,null,T,!1),y&&y.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});c.TargetCamera=new l,u.exports=c},32768:(u,x,e)=>{var l=e(85592),p=e(20926),a=function(s,r,t,n,h,i){var o=r.commandBuffer,c=o.length,d=h||s.currentContext;if(!(c===0||!p(s,d,r,t,n))){t.addToRenderList(r);var f=1,v=1,m=0,g=0,y=1,T=0,C=0,E=0;d.beginPath();for(var z=0;z<c;++z){var D=o[z];switch(D){case l.ARC:d.arc(o[z+1],o[z+2],o[z+3],o[z+4],o[z+5],o[z+6]),z+=7;break;case l.LINE_STYLE:y=o[z+1],m=o[z+2],f=o[z+3],T=(m&16711680)>>>16,C=(m&65280)>>>8,E=m&255,d.strokeStyle="rgba("+T+","+C+","+E+","+f+")",d.lineWidth=y,z+=3;break;case l.FILL_STYLE:g=o[z+1],v=o[z+2],T=(g&16711680)>>>16,C=(g&65280)>>>8,E=g&255,d.fillStyle="rgba("+T+","+C+","+E+","+v+")",z+=2;break;case l.BEGIN_PATH:d.beginPath();break;case l.CLOSE_PATH:d.closePath();break;case l.FILL_PATH:i||d.fill();break;case l.STROKE_PATH:i||d.stroke();break;case l.FILL_RECT:i?d.rect(o[z+1],o[z+2],o[z+3],o[z+4]):d.fillRect(o[z+1],o[z+2],o[z+3],o[z+4]),z+=4;break;case l.FILL_TRIANGLE:d.beginPath(),d.moveTo(o[z+1],o[z+2]),d.lineTo(o[z+3],o[z+4]),d.lineTo(o[z+5],o[z+6]),d.closePath(),i||d.fill(),z+=6;break;case l.STROKE_TRIANGLE:d.beginPath(),d.moveTo(o[z+1],o[z+2]),d.lineTo(o[z+3],o[z+4]),d.lineTo(o[z+5],o[z+6]),d.closePath(),i||d.stroke(),z+=6;break;case l.LINE_TO:d.lineTo(o[z+1],o[z+2]),z+=2;break;case l.MOVE_TO:d.moveTo(o[z+1],o[z+2]),z+=2;break;case l.LINE_FX_TO:d.lineTo(o[z+1],o[z+2]),z+=5;break;case l.MOVE_FX_TO:d.moveTo(o[z+1],o[z+2]),z+=5;break;case l.SAVE:d.save();break;case l.RESTORE:d.restore();break;case l.TRANSLATE:d.translate(o[z+1],o[z+2]),z+=2;break;case l.SCALE:d.scale(o[z+1],o[z+2]),z+=2;break;case l.ROTATE:d.rotate(o[z+1]),z+=1;break;case l.GRADIENT_FILL_STYLE:z+=5;break;case l.GRADIENT_LINE_STYLE:z+=6;break}}d.restore()}};u.exports=a},87079:(u,x,e)=>{var l=e(44603),p=e(43831);l.register("graphics",function(a,s){a===void 0&&(a={}),s!==void 0&&(a.add=s);var r=new p(this.scene,a);return a.add&&this.scene.sys.displayList.add(r),r})},1201:(u,x,e)=>{var l=e(43831),p=e(39429);p.register("graphics",function(a){return this.displayList.add(new l(this.scene,a))})},84503:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(77545),a=e(32768),a=e(32768),u.exports={renderWebGL:p,renderCanvas:a}},77545:(u,x,e)=>{var l=e(85592),p=e(91296),a=e(61340),s=e(70554),r=function(o,c,d){this.x=o,this.y=c,this.width=d},t=function(o,c,d){this.points=[],this.pointsLength=1,this.points[0]=new r(o,c,d)},n=[],h=new a,i=function(o,c,d,f){if(c.commandBuffer.length!==0){d.addToRenderList(c);var v=o.pipelines.set(c.pipeline,c);o.pipelines.preBatch(c);for(var m=p(c,d,f).calc,g=h.loadIdentity(),y=c.commandBuffer,T=d.alpha*c.alpha,C=1,E=v.fillTint,z=v.strokeTint,D=0,A=0,L=0,b=.01,F=Math.PI*2,V,B=[],N=0,U=!0,I=null,H=s.getTintAppendFloatAlpha,O=0;O<y.length;O++)switch(V=y[O],V){case l.BEGIN_PATH:{B.length=0,I=null,U=!0;break}case l.CLOSE_PATH:{U=!1,I&&I.points.length&&I.points.push(I.points[0]);break}case l.FILL_PATH:{for(N=0;N<B.length;N++)v.batchFillPath(B[N].points,g,m);break}case l.STROKE_PATH:{for(N=0;N<B.length;N++)v.batchStrokePath(B[N].points,C,U,g,m);break}case l.LINE_STYLE:{C=y[++O];var R=y[++O],Y=y[++O]*T,G=H(R,Y);z.TL=G,z.TR=G,z.BL=G,z.BR=G;break}case l.FILL_STYLE:{var k=y[++O],W=y[++O]*T,X=H(k,W);E.TL=X,E.TR=X,E.BL=X,E.BR=X;break}case l.GRADIENT_FILL_STYLE:{var j=y[++O]*T,K=y[++O]*T,$=y[++O]*T,Z=y[++O]*T;E.TL=H(y[++O],j),E.TR=H(y[++O],K),E.BL=H(y[++O],$),E.BR=H(y[++O],Z);break}case l.GRADIENT_LINE_STYLE:{C=y[++O];var J=y[++O]*T;z.TL=H(y[++O],J),z.TR=H(y[++O],J),z.BL=H(y[++O],J),z.BR=H(y[++O],J);break}case l.ARC:{var Q=0,_=y[++O],ae=y[++O],oe=y[++O],le=y[++O],q=y[++O],ie=y[++O],ne=y[++O];for(q-=le,ie?q<-F?q=-F:q>0&&(q=-F+q%F):q>F?q=F:q<0&&(q=F+q%F),I===null&&(I=new t(_+Math.cos(le)*oe,ae+Math.sin(le)*oe,C),B.push(I),Q+=b);Q<1+ne;)L=q*Q+le,D=_+Math.cos(L)*oe,A=ae+Math.sin(L)*oe,I.points.push(new r(D,A,C)),Q+=b;L=q+le,D=_+Math.cos(L)*oe,A=ae+Math.sin(L)*oe,I.points.push(new r(D,A,C));break}case l.FILL_RECT:{v.batchFillRect(y[++O],y[++O],y[++O],y[++O],g,m);break}case l.FILL_TRIANGLE:{v.batchFillTriangle(y[++O],y[++O],y[++O],y[++O],y[++O],y[++O],g,m);break}case l.STROKE_TRIANGLE:{v.batchStrokeTriangle(y[++O],y[++O],y[++O],y[++O],y[++O],y[++O],C,g,m);break}case l.LINE_TO:{I!==null?I.points.push(new r(y[++O],y[++O],C)):(I=new t(y[++O],y[++O],C),B.push(I));break}case l.MOVE_TO:{I=new t(y[++O],y[++O],C),B.push(I);break}case l.SAVE:{n.push(g.copyToArray());break}case l.RESTORE:{g.copyFromArray(n.pop());break}case l.TRANSLATE:{_=y[++O],ae=y[++O],g.translate(_,ae);break}case l.SCALE:{_=y[++O],ae=y[++O],g.scale(_,ae);break}case l.ROTATE:{g.rotate(y[++O]);break}}o.pipelines.postBatch(c)}};u.exports=i},26479:(u,x,e)=>{var l=e(61061),p=e(83419),a=e(51708),s=e(50792),r=e(46710),t=e(95540),n=e(35154),h=e(97022),i=e(41212),o=e(88492),c=e(35072),d=e(68287),f=new p({Extends:s,initialize:function(m,g,y){s.call(this),y?g&&!Array.isArray(g)&&(g=[g]):Array.isArray(g)?i(g[0])&&(y=g,g=null):i(g)&&(y=g,g=null),this.scene=m,this.children=new c,this.isParent=!0,this.type="Group",this.classType=t(y,"classType",d),this.name=t(y,"name",""),this.active=t(y,"active",!0),this.maxSize=t(y,"maxSize",-1),this.defaultKey=t(y,"defaultKey",null),this.defaultFrame=t(y,"defaultFrame",null),this.runChildUpdate=t(y,"runChildUpdate",!1),this.createCallback=t(y,"createCallback",null),this.removeCallback=t(y,"removeCallback",null),this.createMultipleCallback=t(y,"createMultipleCallback",null),this.internalCreateCallback=t(y,"internalCreateCallback",null),this.internalRemoveCallback=t(y,"internalRemoveCallback",null),g&&this.addMultiple(g),y&&this.createMultiple(y),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,m,g,y,T,C){if(v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=this.defaultKey),y===void 0&&(y=this.defaultFrame),T===void 0&&(T=!0),C===void 0&&(C=!0),this.isFull())return null;var E=new this.classType(this.scene,v,m,g,y);return E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList(),E.visible=T,E.setActive(C),this.add(E),E},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var m=[];if(v[0].key)for(var g=0;g<v.length;g++){var y=this.createFromConfig(v[g]);m=m.concat(y)}return m},createFromConfig:function(v){if(this.isFull())return[];this.classType=t(v,"classType",this.classType);var m=t(v,"key",void 0),g=t(v,"frame",null),y=t(v,"visible",!0),T=t(v,"active",!0),C=[];if(m===void 0)return C;Array.isArray(m)||(m=[m]),Array.isArray(g)||(g=[g]);var E=t(v,"repeat",0),z=t(v,"randomKey",!1),D=t(v,"randomFrame",!1),A=t(v,"yoyo",!1),L=t(v,"quantity",!1),b=t(v,"frameQuantity",1),F=t(v,"max",0),V=o(m,g,{max:F,qty:L||b,random:z,randomB:D,repeat:E,yoyo:A});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback),v.internalCreateCallback&&(this.internalCreateCallback=v.internalCreateCallback),v.internalRemoveCallback&&(this.internalRemoveCallback=v.internalRemoveCallback);for(var B=0;B<V.length;B++){var N=this.create(0,0,V[B].a,V[B].b,y,T);if(!N)break;C.push(N)}if(h(v,"setXY")){var U=n(v,"setXY.x",0),I=n(v,"setXY.y",0),H=n(v,"setXY.stepX",0),O=n(v,"setXY.stepY",0);l.SetXY(C,U,I,H,O)}if(h(v,"setRotation")){var R=n(v,"setRotation.value",0),Y=n(v,"setRotation.step",0);l.SetRotation(C,R,Y)}if(h(v,"setScale")){var G=n(v,"setScale.x",1),k=n(v,"setScale.y",G),W=n(v,"setScale.stepX",0),X=n(v,"setScale.stepY",0);l.SetScale(C,G,k,W,X)}if(h(v,"setOrigin")){var j=n(v,"setOrigin.x",.5),K=n(v,"setOrigin.y",j),$=n(v,"setOrigin.stepX",0),Z=n(v,"setOrigin.stepY",0);l.SetOrigin(C,j,K,$,Z)}if(h(v,"setAlpha")){var J=n(v,"setAlpha.value",1),Q=n(v,"setAlpha.step",0);l.SetAlpha(C,J,Q)}if(h(v,"setDepth")){var _=n(v,"setDepth.value",0),ae=n(v,"setDepth.step",0);l.SetDepth(C,_,ae)}if(h(v,"setScrollFactor")){var oe=n(v,"setScrollFactor.x",1),le=n(v,"setScrollFactor.y",oe),q=n(v,"setScrollFactor.stepX",0),ie=n(v,"setScrollFactor.stepY",0);l.SetScrollFactor(C,oe,le,q,ie)}var ne=t(v,"hitArea",null),fe=t(v,"hitAreaCallback",null);ne&&l.SetHitArea(C,ne,fe);var ye=t(v,"gridAlign",!1);return ye&&l.GridAlign(C,ye),this.createMultipleCallback&&this.createMultipleCallback.call(this,C),C},preUpdate:function(v,m){if(!(!this.runChildUpdate||this.children.size===0))for(var g=this.children.entries.slice(),y=0;y<g.length;y++){var T=g[y];T.active&&T.update(v,m)}},add:function(v,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),m&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(a.DESTROY,this.remove,this),this)},addMultiple:function(v,m){if(m===void 0&&(m=!1),Array.isArray(v))for(var g=0;g<v.length;g++)this.add(v[g],m);return this},remove:function(v,m,g){return m===void 0&&(m=!1),g===void 0&&(g=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(a.DESTROY,this.remove,this),g?v.destroy():m&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1);for(var g=this.children,y=0;y<g.size;y++){var T=g.entries[y];T.off(a.DESTROY,this.remove,this),m?T.destroy():v&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,m,g,y){return r(this.children.entries,v,m,g,y)},getFirst:function(v,m,g,y,T,C,E){return this.getHandler(!0,1,v,m,g,y,T,C,E)},getFirstNth:function(v,m,g,y,T,C,E,z){return this.getHandler(!0,v,m,g,y,T,C,E,z)},getLast:function(v,m,g,y,T,C,E){return this.getHandler(!1,1,v,m,g,y,T,C,E)},getLastNth:function(v,m,g,y,T,C,E,z){return this.getHandler(!1,v,m,g,y,T,C,E,z)},getHandler:function(v,m,g,y,T,C,E,z,D){g===void 0&&(g=!1),y===void 0&&(y=!1);var A,L,b=0,F=this.children.entries;if(v)for(L=0;L<F.length;L++)if(A=F[L],A.active===g){if(b++,b===m)break}else A=null;else for(L=F.length-1;L>=0;L--)if(A=F[L],A.active===g){if(b++,b===m)break}else A=null;return A?(typeof T=="number"&&(A.x=T),typeof C=="number"&&(A.y=C),A):y?this.create(T,C,E,z,D):null},get:function(v,m,g,y,T){return this.getFirst(!1,!0,v,m,g,y,T)},getFirstAlive:function(v,m,g,y,T,C){return this.getFirst(!0,v,m,g,y,T,C)},getFirstDead:function(v,m,g,y,T,C){return this.getFirst(!1,v,m,g,y,T,C)},playAnimation:function(v,m){return l.PlayAnimation(this.children.entries,v,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var m=0,g=0;g<this.children.size;g++)this.children.entries[g].active===v&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,m,g,y,T){return l.PropertyValueSet(this.children.entries,v,m,g,y,T),this},propertyValueInc:function(v,m,g,y,T){return l.PropertyValueInc(this.children.entries,v,m,g,y,T),this},setX:function(v,m){return l.SetX(this.children.entries,v,m),this},setY:function(v,m){return l.SetY(this.children.entries,v,m),this},setXY:function(v,m,g,y){return l.SetXY(this.children.entries,v,m,g,y),this},incX:function(v,m){return l.IncX(this.children.entries,v,m),this},incY:function(v,m){return l.IncY(this.children.entries,v,m),this},incXY:function(v,m,g,y){return l.IncXY(this.children.entries,v,m,g,y),this},shiftPosition:function(v,m,g){return l.ShiftPosition(this.children.entries,v,m,g),this},angle:function(v,m){return l.Angle(this.children.entries,v,m),this},rotate:function(v,m){return l.Rotate(this.children.entries,v,m),this},rotateAround:function(v,m){return l.RotateAround(this.children.entries,v,m),this},rotateAroundDistance:function(v,m,g){return l.RotateAroundDistance(this.children.entries,v,m,g),this},setAlpha:function(v,m){return l.SetAlpha(this.children.entries,v,m),this},setTint:function(v,m,g,y){return l.SetTint(this.children.entries,v,m,g,y),this},setOrigin:function(v,m,g,y){return l.SetOrigin(this.children.entries,v,m,g,y),this},scaleX:function(v,m){return l.ScaleX(this.children.entries,v,m),this},scaleY:function(v,m){return l.ScaleY(this.children.entries,v,m),this},scaleXY:function(v,m,g,y){return l.ScaleXY(this.children.entries,v,m,g,y),this},setDepth:function(v,m){return l.SetDepth(this.children.entries,v,m),this},setBlendMode:function(v){return l.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,m){return l.SetHitArea(this.children.entries,v,m),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,m,g){return l.SetVisible(this.children.entries,v,m,g),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,v),this.scene=void 0,this.children=void 0)}});u.exports=f},94975:(u,x,e)=>{var l=e(44603),p=e(26479);l.register("group",function(a){return new p(this.scene,null,a)})},3385:(u,x,e)=>{var l=e(26479),p=e(39429);p.register("group",function(a,s){return this.updateList.add(new l(this.scene,a,s))})},88571:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(95643),s=e(59819),r=new l({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,s],initialize:function(n,h,i,o,c){a.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,c),this.setPosition(h,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});u.exports=r},40652:u=>{var x=function(e,l,p,a){p.addToRenderList(l),e.batchSprite(l,l.frame,p,a)};u.exports=x},82459:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(88571);p.register("image",function(r,t){r===void 0&&(r={});var n=a(r,"key",null),h=a(r,"frame",null),i=new s(this.scene,0,0,n,h);return t!==void 0&&(r.add=t),l(this.scene,i,r),i})},2117:(u,x,e)=>{var l=e(88571),p=e(39429);p.register("image",function(a,s,r,t){return this.displayList.add(new l(this.scene,a,s,r,t))})},59819:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(99517),a=e(40652),u.exports={renderWebGL:p,renderCanvas:a}},99517:u=>{var x=function(e,l,p,a){p.addToRenderList(l),this.pipeline.batchSprite(l,p,a)};u.exports=x},77856:(u,x,e)=>{var l={Events:e(51708),DisplayList:e(8050),GameObjectCreator:e(44603),GameObjectFactory:e(39429),UpdateList:e(45027),Components:e(31401),GetCalcMatrix:e(91296),BuildGameObject:e(25305),BuildGameObjectAnimation:e(13059),GameObject:e(95643),BitmapText:e(22186),Blitter:e(6107),Bob:e(46590),Container:e(31559),DOMElement:e(3069),DynamicBitmapText:e(2638),Extern:e(42421),Graphics:e(43831),Group:e(26479),Image:e(88571),Layer:e(93595),Particles:e(18404),PathFollower:e(1159),RenderTexture:e(591),RetroFont:e(196),Rope:e(77757),Sprite:e(68287),Text:e(50171),GetTextSize:e(14220),MeasureText:e(79557),TextStyle:e(35762),TileSprite:e(20839),Zone:e(41481),Video:e(18471),Shape:e(17803),Arc:e(23629),Curve:e(89),Ellipse:e(19921),Grid:e(30479),IsoBox:e(61475),IsoTriangle:e(16933),Line:e(57847),Polygon:e(24949),Rectangle:e(74561),Star:e(55911),Triangle:e(36931),Factories:{Blitter:e(12709),Container:e(24961),DOMElement:e(2611),DynamicBitmapText:e(72566),Extern:e(56315),Graphics:e(1201),Group:e(3385),Image:e(2117),Layer:e(20005),Particles:e(676),PathFollower:e(90145),RenderTexture:e(60505),Rope:e(96819),Sprite:e(46409),StaticBitmapText:e(34914),Text:e(68005),TileSprite:e(91681),Zone:e(84175),Video:e(89025),Arc:e(42563),Curve:e(40511),Ellipse:e(1543),Grid:e(34137),IsoBox:e(3933),IsoTriangle:e(49803),Line:e(2481),Polygon:e(64827),Rectangle:e(87959),Star:e(93697),Triangle:e(45245)},Creators:{Blitter:e(9403),Container:e(77143),DynamicBitmapText:e(11164),Graphics:e(87079),Group:e(94975),Image:e(82459),Layer:e(25179),Particles:e(92730),RenderTexture:e(34495),Rope:e(26209),Sprite:e(15567),StaticBitmapText:e(57336),Text:e(71259),TileSprite:e(14167),Zone:e(95261),Video:e(11511)}};l.Shader=e(20071),l.Mesh=e(4703),l.NineSlice=e(28103),l.PointLight=e(80321),l.Plane=e(33663),l.Factories.Shader=e(74177),l.Factories.Mesh=e(9225),l.Factories.NineSlice=e(47521),l.Factories.PointLight=e(71255),l.Factories.Plane=e(30985),l.Creators.Shader=e(54935),l.Creators.Mesh=e(20527),l.Creators.NineSlice=e(28279),l.Creators.PointLight=e(39829),l.Creators.Plane=e(56015),l.Light=e(41432),l.LightsManager=e(61356),l.LightsPlugin=e(88992),u.exports=l},93595:(u,x,e)=>{var l=e(10312),p=e(83419),a=e(31401),s=e(53774),r=e(45893),t=e(50792),n=e(51708),h=e(73162),i=e(33963),o=e(44594),c=e(19186),d=new p({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,t,i],initialize:function(v,m){h.call(this,v),t.call(this),this.scene=v,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=v.sys,this.events=v.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),m&&this.add(m),v.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(f,v){return this.data||(this.data=new r(this)),this.data.set(f,v),this},incData:function(f,v){return this.data||(this.data=new r(this)),this.data.inc(f,v),this},toggleData:function(f){return this.data||(this.data=new r(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new r(this)),this.data.get(f)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(f){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,v=this.parentContainer,m=[];v&&(m.unshift(v.getIndex(f)),f=v,v.parentContainer);)v=v.parentContainer;return m.unshift(this.displayList.getIndex(f)),m},addChildCallback:function(f){var v=f.displayList;v&&v!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(n.ADDED_TO_SCENE,f,this.scene),this.events.emit(o.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(n.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,f,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,v){return f._depth-v._depth},getChildren:function(){return this.list},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),f.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(f){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var v=this.list;v.length;)v[0].destroy(f);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});u.exports=d},2956:u=>{var x=function(e,l,p){var a=l.list;if(a.length!==0){l.depthSort();var s=l.blendMode!==-1;s||e.setBlendMode(0);var r=l._alpha;l.mask&&l.mask.preRenderCanvas(e,null,p);for(var t=0;t<a.length;t++){var n=a[t];if(n.willRender(p)){var h=n.alpha;!s&&n.blendMode!==e.currentBlendMode&&e.setBlendMode(n.blendMode),n.setAlpha(h*r),n.renderCanvas(e,n,p),n.setAlpha(h)}}l.mask&&l.mask.postRenderCanvas(e)}};u.exports=x},25179:(u,x,e)=>{var l=e(25305),p=e(93595),a=e(44603),s=e(23568);a.register("layer",function(r,t){r===void 0&&(r={});var n=s(r,"children",null),h=new p(this.scene,n);return t!==void 0&&(r.add=t),l(this.scene,h,r),h})},20005:(u,x,e)=>{var l=e(93595),p=e(39429);p.register("layer",function(a){return this.displayList.add(new l(this.scene,a))})},33963:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(15869),a=e(2956),u.exports={renderWebGL:p,renderCanvas:a}},15869:u=>{var x=function(e,l,p){var a=l.list,s=a.length;if(s!==0){l.depthSort(),e.pipelines.preBatch(l);var r=l.blendMode!==-1;r||e.setBlendMode(0);for(var t=l.alpha,n=0;n<s;n++){var h=a[n];if(h.willRender(p)){var i,o,c,d;if(h.alphaTopLeft!==void 0)i=h.alphaTopLeft,o=h.alphaTopRight,c=h.alphaBottomLeft,d=h.alphaBottomRight;else{var f=h.alpha;i=f,o=f,c=f,d=f}!r&&h.blendMode!==e.currentBlendMode&&e.setBlendMode(h.blendMode);var v=h.mask;v&&v.preRenderWebGL(e,h,p);var m=h.type;m!==e.currentType&&(e.newType=!0,e.currentType=m),e.nextTypeMatch=n<s-1?a[n+1].type===e.currentType:!1,h.setAlpha(i*t,o*t,c*t,d*t),h.renderWebGL(e,h,p),h.setAlpha(i,o,c,d),v&&v.postRenderWebGL(e,p),e.newType=!1}}e.pipelines.postBatch(l)}};u.exports=x},41432:(u,x,e)=>{var l=e(96503),p=e(83419),a=e(31401),s=e(51767),r=e(70554),t=new p({Extends:l,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(h,i,o,c,d,f,v){l.call(this,h,i,o),this.color=new s(c,d,f),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(t.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var h=r.getFloatsFromUintRGB(n);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});t.RENDER_MASK=15,u.exports=t},61356:(u,x,e)=>{var l=e(81491),p=e(83419),a=e(20339),s=e(41432),r=e(80321),t=e(51767),n=e(19133),h=e(19186),i=e(70554),o=new p({initialize:function(){this.lights=[],this.ambientColor=new t(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(c,d,f,v,m,g){return this.systems.displayList.add(new r(this.scene,c,d,f,v,m,g))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(c){for(var d=this.lights,f=c.worldView,v=[],m=0;m<d.length;m++){var g=d[m];g.willRender(c)&&l(g,f)&&v.push({light:g,distance:a(g.x,g.y,f.centerX,f.centerY)})}return v.length>this.maxLights&&(h(v,this.sortByDistance),v=v.slice(0,this.maxLights)),this.visibleLights=v.length,v},sortByDistance:function(c,d){return c.distance>=d.distance},setAmbientColor:function(c){var d=i.getFloatsFromUintRGB(c);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(c,d,f,v,m){c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=128),v===void 0&&(v=16777215),m===void 0&&(m=1);var g=i.getFloatsFromUintRGB(v),y=new s(c,d,f,g[0],g[1],g[2],m);return this.lights.push(y),y},removeLight:function(c){var d=this.lights.indexOf(c);return d>=0&&n(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});u.exports=o},88992:(u,x,e)=>{var l=e(83419),p=e(61356),a=e(37277),s=e(44594),r=new l({Extends:p,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(s.BOOT,this.boot,this),p.call(this)},boot:function(){var t=this.systems.events;t.on(s.SHUTDOWN,this.shutdown,this),t.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",r,"lights"),u.exports=r},4703:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(39506),s=e(83997),r=e(95643),t=e(34684),n=e(92515),h=e(91296),i=e(37867),o=e(29807),c=e(43396),d=e(19186),f=e(25836),v=e(39318),m=new l({Extends:r,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,o],initialize:function(y,T,C,E,z,D,A,L,b,F,V,B){T===void 0&&(T=0),C===void 0&&(C=0),E===void 0&&(E="__WHITE"),r.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new f,this.modelScale=new f(1,1,1),this.modelRotation=new f,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new f,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var N=y.sys.renderer;this.setPosition(T,C),this.setTexture(E,z),this.setSize(N.width,N.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(N.width,N.height),D&&this.addVertices(D,A,L,b,F,V,B)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(g){return this.viewPosition.addScale(f.LEFT,g),this.dirtyCache[10]=1,this},panY:function(g){return this.viewPosition.y+=f.DOWN.y*g,this.dirtyCache[10]=1,this},panZ:function(g){return this.viewPosition.z+=g,this.dirtyCache[10]=1,this},setPerspective:function(g,y,T,C,E){return T===void 0&&(T=45),C===void 0&&(C=.01),E===void 0&&(E=1e3),this.fov=T,this.projectionMatrix.perspective(a(T),g/y,C,E),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(g,y,T,C){return g===void 0&&(g=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),T===void 0&&(T=-1e3),C===void 0&&(C=1e3),this.fov=0,this.projectionMatrix.ortho(-g,g,-y,y,T,C),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(g){g.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(g,y,T,C,E,z,D,A,L){var b=this.scene.sys.cache.obj.get(g),F;return b&&(F=t(b,this,y,T,C,E,z,D,A,L)),(!F||F.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",g),this},sortByDepth:function(g,y){return g.depth-y.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(g,y,T,C,E,z,D){var A=new v(g,y,T,C,E,z,D);return this.vertices.push(A),A},addFace:function(g,y,T){var C=new s(g,y,T);return this.faces.push(C),this.dirtyCache[9]=-1,C},addVertices:function(g,y,T,C,E,z,D){var A=n(g,y,T,C,E,z,D);return A?(this.faces=this.faces.concat(A.faces),this.vertices=this.vertices.concat(A.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(g){return this.faces[g]},hasFaceAt:function(g,y,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var C=h(this,T).calc,E=this.faces,z=0;z<E.length;z++){var D=E[z];if(D.contains(g,y,C))return!0}return!1},getFaceAt:function(g,y,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var C=h(this,T).calc,E=this.faces,z=[],D=0;D<E.length;D++){var A=E[D];A.contains(g,y,C)&&z.push(A)}return d(z,this.sortByDepth)},setDebug:function(g,y){return this.debugGraphic=g,!g&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var g=this.modelPosition,y=this.modelRotation,T=this.modelScale,C=this.dirtyCache,E=g.x,z=g.y,D=g.z,A=y.x,L=y.y,b=y.z,F=T.x,V=T.y,B=T.z,N=this.getFaceCount(),U=C[0],I=C[1],H=C[2],O=C[3],R=C[4],Y=C[5],G=C[6],k=C[7],W=C[8],X=C[9];return C[0]=E,C[1]=z,C[2]=D,C[3]=A,C[4]=L,C[5]=b,C[6]=F,C[7]=V,C[8]=B,C[9]=N,U!==E||I!==z||H!==D||O!==A||R!==L||Y!==b||G!==F||k!==V||W!==B||X!==N},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var g=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!g[10]&&!this.isDirty())){var y=this.width,T=this.height,C=this.viewMatrix,E=this.viewPosition;g[10]&&(C.identity(),C.translate(E),C.invert(),g[10]=0);var z=this.transformMatrix;z.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=E.z,A=this.faces,L=0;L<A.length;L++)A[L].transformCoordinatesLocal(z,y,T,D);this.depthSort()}},renderDebug:function(g,y){for(var T=g.debugGraphic,C=0;C<y.length;C++){var E=y[C],z=E.vertex1.tx,D=E.vertex1.ty,A=E.vertex2.tx,L=E.vertex2.ty,b=E.vertex3.tx,F=E.vertex3.ty;T.strokeTriangle(z,D,A,L,b,F)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(g){g===void 0&&(g={});var y=function(T,C,E){for(var z=this.faces,D=0;D<z.length;D++){var A=z[D];if(A.contains(C,E))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,g,y),this},setTint:function(g){g===void 0&&(g=16777215);for(var y=this.vertices,T=0;T<y.length;T++)y[T].color=g;return this},uvScroll:function(g,y){for(var T=this.faces,C=0;C<T.length;C++)T[C].scrollUV(g,y);return this},uvScale:function(g,y){for(var T=this.faces,C=0;C<T.length;C++)T[C].scaleUV(g,y);return this},tint:{set:function(g){this.setTint(g)}},rotateX:{get:function(){return c(this.modelRotation.x)},set:function(g){this.modelRotation.x=a(g)}},rotateY:{get:function(){return c(this.modelRotation.y)},set:function(g){this.modelRotation.y=a(g)}},rotateZ:{get:function(){return c(this.modelRotation.z)},set:function(g){this.modelRotation.z=a(g)}}});u.exports=m},36488:u=>{var x=function(){};u.exports=x},20527:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(35154),r=e(4703);p.register("mesh",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=a(t,"frame",null),o=s(t,"vertices",[]),c=s(t,"uvs",[]),d=s(t,"indicies",[]),f=s(t,"containsZ",!1),v=s(t,"normals",[]),m=s(t,"colors",16777215),g=s(t,"alphas",1),y=new r(this.scene,0,0,h,i,o,c,d,f,v,m,g);return n!==void 0&&(t.add=n),l(this.scene,y,t),y})},9225:(u,x,e)=>{var l=e(4703),p=e(39429);p.register("mesh",function(a,s,r,t,n,h,i,o,c,d,f){return this.displayList.add(new l(this.scene,a,s,r,t,n,h,i,o,c,d,f))})},29807:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(48833),a=e(36488),u.exports={renderWebGL:p,renderCanvas:a}},48833:(u,x,e)=>{var l=e(91296),p=function(a,s,r,t){var n=s.faces,h=n.length;if(h!==0){r.addToRenderList(s);var i=a.pipelines.set(s.pipeline,s),o=l(s,r,t).calc;a.pipelines.preBatch(s);for(var c=i.setGameObject(s),d=i.vertexViewF32,f=i.vertexViewU32,v=i.vertexCount*i.currentShader.vertexComponentCount-1,m=s.tintFill,g=[],y=s.debugCallback,T=o.a,C=o.b,E=o.c,z=o.d,D=o.e,A=o.f,L=s.viewPosition.z,b=s.hideCCW,F=r.roundPixels,V=r.alpha*s.alpha,B=0,N=0;N<h;N++){var U=n[N];U.isInView(r,b,L,V,T,C,E,z,D,A,F)&&(i.shouldFlush(3)&&(i.flush(),c=i.setGameObject(s),v=i.vertexCount*i.currentShader.vertexComponentCount-1),v=U.load(d,f,v,c,m),B++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,y&&g.push(U))}s.totalFrame+=B,y&&y.call(s,s,g),a.pipelines.postBatch(s)}};u.exports=p},28103:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(95643),s=e(78023),r=e(39318),t=new l({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,s],initialize:function(h,i,o,c,d,f,v,m,g,y,T){a.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var C=h.textures.getFrame(c,d);this.is3Slice=!y&&!T,C&&C.scale9&&(this.is3Slice=C.is3Slice);for(var E=this.is3Slice?18:54,z=0;z<E;z++)this.vertices.push(new r);this.setPosition(i,o),this.setTexture(c,d),this.setSlices(f,v,m,g,y,T,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,h,i,o,c,d,f){i===void 0&&(i=10),o===void 0&&(o=10),c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=!1);var v=this.frame,m=!1;if(this.is3Slice&&f&&c!==0&&d!==0&&(m=!0),m)console.warn("Cannot change 9 slice to 3 slice");else{if(v&&v.scale9&&!f){var g=v.data.scale9Borders,y=g.x,T=g.y;i=y,o=v.width-g.w-y,c=T,d=v.height-g.h-T,n===void 0&&(n=v.width),h===void 0&&(h=v.height)}else n===void 0&&(n=256),h===void 0&&(h=256);this._width=n,this._height=h,this.leftWidth=i,this.rightWidth=o,this.topHeight=c,this.bottomHeight=d,this.is3Slice&&(h=v.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,h=this.rightWidth,i=this.topHeight,o=this.bottomHeight,c=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,n/c,i/d),this.updateQuadUVs(6,n/c,0,1-h/c,i/d),this.updateQuadUVs(12,1-h/c,0,1,i/d),this.is3Slice||(this.updateQuadUVs(18,0,i/d,n/c,1-o/d),this.updateQuadUVs(24,n/c,i/d,1-h/c,1-o/d),this.updateQuadUVs(30,1-h/c,i/d,1,1-o/d),this.updateQuadUVs(36,0,1-o/d,n/c,1),this.updateQuadUVs(42,n/c,1-o/d,1-h/c,1),this.updateQuadUVs(48,1-h/c,1-o/d,1,1))},updateVertices:function(){var n=this.leftWidth,h=this.rightWidth,i=this.topHeight,o=this.bottomHeight,c=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+n/c,.5-i/d),this.updateQuad(6,-.5+n/c,.5,.5-h/c,.5-i/d),this.updateQuad(12,.5-h/c,.5,.5,.5-i/d),this.is3Slice||(this.updateQuad(18,-.5,.5-i/d,-.5+n/c,-.5+o/d),this.updateQuad(24,-.5+n/c,.5-i/d,.5-h/c,-.5+o/d),this.updateQuad(30,.5-h/c,.5-i/d,.5,-.5+o/d),this.updateQuad(36,-.5,-.5+o/d,-.5+n/c,-.5),this.updateQuad(42,-.5+n/c,-.5+o/d,.5-h/c,-.5),this.updateQuad(48,.5-h/c,-.5+o/d,.5,-.5))},updateQuad:function(n,h,i,o,c){var d=this.width,f=this.height,v=this.originX,m=this.originY,g=this.vertices;g[n+0].resize(h,i,d,f,v,m),g[n+1].resize(h,c,d,f,v,m),g[n+2].resize(o,i,d,f,v,m),g[n+3].resize(h,c,d,f,v,m),g[n+4].resize(o,c,d,f,v,m),g[n+5].resize(o,i,d,f,v,m)},updateQuadUVs:function(n,h,i,o,c){var d=this.vertices,f=this.frame,v=f.u0,m=f.v0,g=f.u1,y=f.v1;if(v!==0||g!==1){var T=g-v;h=v+h*T,o=v+o*T}if(m!==0||y!==1){var C=y-m;i=m+i*C,c=m+c*C}d[n+0].setUVs(h,i),d[n+1].setUVs(h,c),d[n+2].setUVs(o,i),d[n+3].setUVs(h,c),d[n+4].setUVs(o,c),d[n+5].setUVs(o,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,h){this.width=n,this.height=h,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,h){return this.displayWidth=n,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,h){return n===void 0&&(n=.5),h===void 0&&(h=n),this._originX=n,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});u.exports=t},28279:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(35154),r=e(28103);p.register("nineslice",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=a(t,"frame",null),o=s(t,"width",256),c=s(t,"height",256),d=s(t,"leftWidth",10),f=s(t,"rightWidth",10),v=s(t,"topHeight",0),m=s(t,"bottomHeight",0),g=new r(this.scene,0,0,h,i,o,c,d,f,v,m);return n!==void 0&&(t.add=n),l(this.scene,g,t),g})},47521:(u,x,e)=>{var l=e(28103),p=e(39429);p.register("nineslice",function(a,s,r,t,n,h,i,o,c,d){return this.displayList.add(new l(this.scene,a,s,r,t,n,h,i,o,c,d))})},78023:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(52230),u.exports={renderWebGL:p,renderCanvas:a}},52230:(u,x,e)=>{var l=e(91296),p=e(70554),a=function(s,r,t,n){var h=r.vertices,i=h.length;if(i!==0){t.addToRenderList(r);var o=s.pipelines.set(r.pipeline,r),c=l(r,t,n,!1).calc;s.pipelines.preBatch(r);var d=o.setGameObject(r),f=o.vertexViewF32,v=o.vertexViewU32,m=o.vertexCount*o.currentShader.vertexComponentCount-1,g=t.roundPixels,y=r.tintFill,T=t.alpha*r.alpha,C=p.getTintAppendFloatAlpha(r.tint,T),E=o.vertexAvailable(),z=-1;E<i&&(z=E);for(var D=0;D<i;D++){var A=h[D];D===z&&(o.flush(),d=o.setGameObject(r),m=0),f[++m]=c.getXRound(A.vx,A.vy,g),f[++m]=c.getYRound(A.vx,A.vy,g),f[++m]=A.u,f[++m]=A.v,f[++m]=d,f[++m]=y,v[++m]=C,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}s.pipelines.postBatch(r)}};u.exports=a},76472:(u,x,e)=>{var l=e(83419),p=e(44777),a=e(37589),s=e(6113),r=e(91389),t=e(90664),n=new l({Extends:p,initialize:function(i){p.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,i=h,o=this.defaultEmit,c=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=s("Linear"),this.interpolation=r("linear"),o=this.easedValueEmit,c=this.easeValueUpdate,i=h[0],this.active=!0;for(var d=0;d<h.length;d++){var f=t(h[d]);this.r.push(f.r),this.g.push(f.g),this.b.push(f.b)}}return this.onEmit=o,this.onUpdate=c,this.current=i,this},setEase:function(h){this.easeName=h,this.ease=s(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,i,o){var c=this.ease(o),d=this.interpolation(this.r,c),f=this.interpolation(this.g,c),v=this.interpolation(this.b,c),m=a(d,f,v);return this.current=m,m}});u.exports=n},44777:(u,x,e)=>{var l=e(30976),p=e(45319),a=e(83419),s=e(99472),r=e(6113),t=e(95540),n=e(91389),h=e(77720),i=e(15994),o=new a({initialize:function(d,f,v){v===void 0&&(v=!1),this.propertyKey=d,this.propertyValue=f,this.defaultValue=f,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(c,d){c===void 0&&(c={}),d&&(this.propertyKey=d),this.propertyValue=t(c,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(c){var d;switch(this.method){case 1:case 3:case 8:d=c;break;case 2:this.propertyValue.indexOf(c)>=0&&(d=c);break;case 4:var f=(this.end-this.start)/this.steps;d=h(c,f),this.counter=d;break;case 5:case 6:case 7:d=p(c,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var c=this.propertyValue;if(c===null)return 0;var d=typeof c;if(d==="number")return 1;if(Array.isArray(c))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(c,"start","end"))return this.has(c,"steps")?4:5;if(this.hasBoth(c,"min","max"))return 6;if(this.has(c,"random"))return 7;if(this.hasEither(c,"onEmit","onUpdate"))return 8;if(this.hasEither(c,"values","interpolation"))return 9}return 0},setMethods:function(){var c=this.propertyValue,d=c,f=this.defaultEmit,v=this.defaultUpdate;switch(this.method){case 1:f=this.staticValueEmit;break;case 2:f=this.randomStaticValueEmit,d=c[0];break;case 3:this._onEmit=c,f=this.proxyEmit;break;case 4:this.start=c.start,this.end=c.end,this.steps=c.steps,this.counter=this.start,this.yoyo=this.has(c,"yoyo")?c.yoyo:!1,this.direction=0,f=this.steppedEmit,d=this.start;break;case 5:this.start=c.start,this.end=c.end;var m=this.has(c,"ease")?c.ease:"Linear";this.ease=r(m,c.easeParams),f=this.has(c,"random")&&c.random?this.randomRangedValueEmit:this.easedValueEmit,v=this.easeValueUpdate,d=this.start;break;case 6:this.start=c.min,this.end=c.max,f=this.has(c,"int")&&c.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var g=c.random;Array.isArray(g)&&(this.start=g[0],this.end=g[1]),f=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(c,"onEmit")?c.onEmit:this.defaultEmit,this._onUpdate=this.has(c,"onUpdate")?c.onUpdate:this.defaultUpdate,f=this.proxyEmit,v=this.proxyUpdate;break;case 9:this.start=c.values;var y=this.has(c,"ease")?c.ease:"Linear";this.ease=r(y,c.easeParams),this.interpolation=n(c.interpolation),f=this.easedValueEmit,v=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=f,this.onUpdate=v,this.current=d,this},has:function(c,d){return c.hasOwnProperty(d)},hasBoth:function(c,d,f){return c.hasOwnProperty(d)&&c.hasOwnProperty(f)},hasEither:function(c,d,f){return c.hasOwnProperty(d)||c.hasOwnProperty(f)},defaultEmit:function(c,d,f){return f},defaultUpdate:function(c,d,f,v){return v},proxyEmit:function(c,d,f){var v=this._onEmit(c,d,f);return this.current=v,v},proxyUpdate:function(c,d,f,v){var m=this._onUpdate(c,d,f,v);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var c=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[c],this.current},randomRangedValueEmit:function(c,d){var f=s(this.start,this.end);return c&&c.data[d]&&(c.data[d].min=f,c.data[d].max=this.end),this.current=f,f},randomRangedIntEmit:function(c,d){var f=l(this.start,this.end);return c&&c.data[d]&&(c.data[d].min=f,c.data[d].max=this.end),this.current=f,f},steppedEmit:function(){var c=this.counter,d=c,f=(this.end-this.start)/this.steps;if(this.yoyo){var v;this.direction===0?(d+=f,d>=this.end&&(v=d-this.end,d=this.end-v,this.direction=1)):(d-=f,d<=this.start&&(v=this.start-d,d=this.start+v,this.direction=0)),this.counter=d}else this.counter=i(d+f,this.start,this.end);return this.current=c,c},easedValueEmit:function(c,d){if(c&&c.data[d]){var f=c.data[d];f.min=this.start,f.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(c,d,f){var v=c.data[d],m,g=this.ease(f);return this.interpolation?m=this.interpolation(this.start,g):m=(v.max-v.min)*g+v.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});u.exports=o},24502:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(20286),s=new l({Extends:a,initialize:function(t,n,h,i,o){if(typeof t=="object"){var c=t;t=p(c,"x",0),n=p(c,"y",0),h=p(c,"power",0),i=p(c,"epsilon",100),o=p(c,"gravity",50)}else t===void 0&&(t=0),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=100),o===void 0&&(o=50);a.call(this,t,n,!0),this._gravity=o,this._power=h*o,this._epsilon=i*i},update:function(r,t){var n=this.x-r.x,h=this.y-r.y,i=n*n+h*h;if(i!==0){var o=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var c=this._power*t/(i*o)*100;r.velocityX+=n*c,r.velocityY+=h*c}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var t=this.power;this._gravity=r,this.power=t}}});u.exports=s},56480:(u,x,e)=>{var l=e(9674),p=e(45319),a=e(83419),s=e(39506),r=e(87841),t=e(11520),n=e(26099),h=new a({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new l(this)),this.bounds=new r},emit:function(i,o,c,d,f,v){return this.emitter.emit(i,o,c,d,f,v)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,o){i===void 0&&(i=0),o===void 0&&(o=0),this.x=i,this.y=o},fire:function(i,o){var c=this.emitter,d=c.ops,f=c.getAnim();if(f?this.anims.play(f):(this.frame=c.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(c.getEmitZone(this),i===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=i+d.x.onEmit(this,"x"):this.x+=i,o===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=o+d.y.onEmit(this,"y"):this.y+=o,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),c.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&c.getDeathZone(this))return this.lifeCurrent=0,!1;var v=d.speedX.onEmit(this,"speedX"),m=d.speedY.active?d.speedY.onEmit(this,"speedY"):v;if(c.radial){var g=s(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(g)*Math.abs(v),this.velocityY=Math.sin(g)*Math.abs(m)}else if(c.moveTo){var y=d.moveToX.onEmit(this,"moveToX"),T=d.moveToY.onEmit(this,"moveToY"),C=this.life/1e3;this.velocityX=(y-this.x)/C,this.velocityY=(T-this.y)/C}else this.velocityX=v,this.velocityY=m;return c.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(i,o,c){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var d=this.emitter,f=d.ops,v=1-this.lifeCurrent/this.life;if(this.lifeT=v,this.x=f.x.onUpdate(this,"x",v,this.x),this.y=f.y.onUpdate(this,"y",v,this.y),d.moveTo){var m=f.moveToX.onUpdate(this,"moveToX",v,d.moveToX),g=f.moveToY.onUpdate(this,"moveToY",v,d.moveToY),y=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/y,this.velocityY=(g-this.y)/y}return this.computeVelocity(d,i,o,c,v),this.scaleX=f.scaleX.onUpdate(this,"scaleX",v,this.scaleX),f.scaleY.active?this.scaleY=f.scaleY.onUpdate(this,"scaleY",v,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",v,this.angle),this.rotation=s(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(f.alpha.onUpdate(this,"alpha",v,this.alpha),0,1),f.color.active?this.tint=f.color.onUpdate(this,"color",v,this.tint):this.tint=f.tint.onUpdate(this,"tint",v,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,o,c,d,f){var v=i.ops,m=this.velocityX,g=this.velocityY,y=v.accelerationX.onUpdate(this,"accelerationX",f,this.accelerationX),T=v.accelerationY.onUpdate(this,"accelerationY",f,this.accelerationY),C=v.maxVelocityX.onUpdate(this,"maxVelocityX",f,this.maxVelocityX),E=v.maxVelocityY.onUpdate(this,"maxVelocityY",f,this.maxVelocityY);this.bounce=v.bounce.onUpdate(this,"bounce",f,this.bounce),m+=i.gravityX*c+y*c,g+=i.gravityY*c+T*c,m=p(m,-C,C),g=p(g,-E,E),this.velocityX=m,this.velocityY=g,this.x+=m*c,this.y+=g*c,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var z=0;z<d.length;z++){var D=d[z];D.active&&D.update(this,o,c,f)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var o=Math.abs(i.scaleX)*this.scaleX,c=Math.abs(i.scaleY)*this.scaleY,d=this.x,f=this.y,v=this.rotation,m=this.frame.width*o/2,g=this.frame.height*c/2,y=this.bounds,T=new n(d-m,f-g),C=new n(d+m,f-g),E=new n(d-m,f+g),z=new n(d+m,f+g);return v!==0&&(t(T,d,f,v),t(C,d,f,v),t(E,d,f,v),t(z,d,f,v)),i.transformPoint(T.x,T.y,T),i.transformPoint(C.x,C.y,C),i.transformPoint(E.x,E.y,E),i.transformPoint(z.x,z.y,z),y.x=Math.min(T.x,C.x,E.x,z.x),y.y=Math.min(T.y,C.y,E.y,z.y),y.width=Math.max(T.x,C.x,E.x,z.x)-y.x,y.height=Math.max(T.y,C.y,E.y,z.y)-y.y,y},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});u.exports=h},69601:(u,x,e)=>{var l=e(83419),p=e(20286),a=e(87841),s=new l({Extends:p,initialize:function(t,n,h,i,o,c,d,f){o===void 0&&(o=!0),c===void 0&&(c=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),p.call(this,t,n,!0),this.bounds=new a(t,n,h,i),this.collideLeft=o,this.collideRight=c,this.collideTop=d,this.collideBottom=f},update:function(r){var t=this.bounds,n=-r.bounce,h=r.worldPosition;h.x<t.x&&this.collideLeft?(r.x+=t.x-h.x,r.velocityX*=n):h.x>t.right&&this.collideRight&&(r.x-=h.x-t.right,r.velocityX*=n),h.y<t.y&&this.collideTop?(r.y+=t.y-h.y,r.velocityY*=n):h.y>t.bottom&&this.collideBottom&&(r.y-=h.y-t.bottom,r.velocityY*=n)}});u.exports=s},31600:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(53774),s=e(43459),r=e(26388),t=e(19909),n=e(76472),h=e(44777),i=e(20696),o=e(95643),c=e(95540),d=e(26546),f=e(24502),v=e(1985),m=e(97022),g=e(86091),y=e(73162),T=e(20074),C=e(269),E=e(56480),z=e(69601),D=e(68875),A=e(87841),L=e(59996),b=e(72905),F=e(90668),V=e(19186),B=e(61340),N=e(26099),U=e(15994),I=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],H=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],O=new l({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,F],initialize:function(Y,G,k,W,X){o.call(this,Y,"ParticleEmitter"),this.particleClass=E,this.config=null,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new n("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new N,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new y(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(G,k),this.setTexture(W),X&&this.setConfig(X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(R){if(!R)return this;this.config=R;var Y=0,G="",k=this.ops;for(Y=0;Y<H.length;Y++)G=H[Y],k[G].loadConfig(R);for(Y=0;Y<I.length;Y++)G=I[Y],m(R,G)&&(this[G]=c(R,G));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(R,"speed")&&(k.speedX.loadConfig(R,"speed"),k.speedY.active=!1),(v(R,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(R,"scale")&&(k.scaleX.loadConfig(R,"scale"),k.scaleY.active=!1),m(R,"callbackScope")){var W=c(R,"callbackScope",null);this.emitCallbackScope=W,this.deathCallbackScope=W}if(m(R,"emitZone")&&this.addEmitZone(R.emitZone),m(R,"deathZone")&&this.addDeathZone(R.deathZone),m(R,"bounds")){var X=this.addParticleBounds(R.bounds);X.collideLeft=c(R,"collideLeft",!0),X.collideRight=c(R,"collideRight",!0),X.collideTop=c(R,"collideTop",!0),X.collideBottom=c(R,"collideBottom",!0)}return m(R,"followOffset")&&this.followOffset.setFromObject(c(R,"followOffset",0)),m(R,"texture")&&this.setTexture(R.texture),m(R,"frame")?this.setEmitterFrame(R.frame):m(R,"anim")&&this.setAnim(R.anim),m(R,"reserve")&&this.reserve(R.reserve),m(R,"advance")&&this.fastForward(R.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(R){return R&&(this.config?this.setConfig(C(this.config,R)):this.setConfig(R)),this},toJSON:function(){var R=a(this),Y=0,G="";for(Y=0;Y<I.length;Y++)G=I[Y],R[G]=this[G];var k=this.ops;for(Y=0;Y<H.length;Y++)G=H[Y],k[G]&&(R[G]=k[G].toJSON());return k.speedY.active||(delete R.speedX,R.speed=k.speedX.toJSON()),this.scaleX===this.scaleY&&(delete R.scaleX,delete R.scaleY,R.scale=k.scaleX.toJSON()),R},resetCounters:function(R,Y){var G=this.counters;G.fill(0),G[0]=R,Y&&(G[5]=1)},startFollow:function(R,Y,G,k){return Y===void 0&&(Y=0),G===void 0&&(G=0),k===void 0&&(k=!1),this.follow=R,this.followOffset.set(Y,G),this.trackVisible=k,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var R=this.frames,Y=R.length,G;return Y===1?G=R[0]:this.randomFrame?G=d(R):(G=R[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===Y&&(this.currentFrame=0))),this.texture.get(G)},setEmitterFrame:function(R,Y,G){Y===void 0&&(Y=!0),G===void 0&&(G=1),this.randomFrame=Y,this.frameQuantity=G,this.currentFrame=0;var k=typeof R;if(this.frames.length=0,Array.isArray(R))this.frames=this.frames.concat(R);else if(k==="string"||k==="number")this.frames.push(R);else if(k==="object"){var W=R;R=c(W,"frames",null),R&&(this.frames=this.frames.concat(R));var X=c(W,"cycle",!1);this.randomFrame=!X,this.frameQuantity=c(W,"quantity",G)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var R=this.anims,Y=R.length;if(Y===0)return null;if(Y===1)return R[0];if(this.randomAnim)return d(R);var G=R[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=U(this.currentAnim+1,0,Y)),G},setAnim:function(R,Y,G){Y===void 0&&(Y=!0),G===void 0&&(G=1),this.randomAnim=Y,this.animQuantity=G,this.currentAnim=0;var k=typeof R;if(this.anims.length=0,Array.isArray(R))this.anims=this.anims.concat(R);else if(k==="string")this.anims.push(R);else if(k==="object"){var W=R;R=c(W,"anims",null),R&&(this.anims=this.anims.concat(R));var X=c(W,"cycle",!1);this.randomAnim=!X,this.animQuantity=c(W,"quantity",G)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(R){return R===void 0&&(R=!0),this.radial=R,this},addParticleBounds:function(R,Y,G,k,W,X,j,K){if(typeof R=="object"){var $=R;R=$.x,Y=$.y,G=m($,"w")?$.w:$.width,k=m($,"h")?$.h:$.height}return this.addParticleProcessor(new z(R,Y,G,k,W,X,j,K))},setParticleSpeed:function(R,Y){return Y===void 0&&(Y=R),this.ops.speedX.onChange(R),R===Y?this.ops.speedY.active=!1:this.ops.speedY.onChange(Y),this.radial=!0,this},setParticleScale:function(R,Y){return R===void 0&&(R=1),Y===void 0&&(Y=R),this.ops.scaleX.onChange(R),this.ops.scaleY.onChange(Y),this},setParticleGravity:function(R,Y){return this.gravityX=R,this.gravityY=Y,this},setParticleAlpha:function(R){return this.ops.alpha.onChange(R),this},setParticleTint:function(R){return this.ops.tint.onChange(R),this},setEmitterAngle:function(R){return this.ops.angle.onChange(R),this},setParticleLifespan:function(R){return this.ops.lifespan.onChange(R),this},setQuantity:function(R){return this.quantity=R,this},setFrequency:function(R,Y){return this.frequency=R,this.flowCounter=R>0?R:0,Y&&(this.quantity=Y),this},addDeathZone:function(R){Array.isArray(R)||(R=[R]);for(var Y,G=[],k=0;k<R.length;k++)if(Y=R[k],Y instanceof r)G.push(Y);else if(typeof Y.contains=="function")Y=new r(Y,!0),G.push(Y);else{var W=c(Y,"type","onEnter"),X=c(Y,"source",null);if(X&&typeof X.contains=="function"){var j=W==="onEnter";Y=new r(X,j),G.push(Y)}}return this.deathZones=this.deathZones.concat(G),G},removeDeathZone:function(R){return b(this.deathZones,R),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(R){Array.isArray(R)||(R=[R]);for(var Y,G=[],k=0;k<R.length;k++)if(Y=R[k],Y instanceof D||Y instanceof t)G.push(Y);else{var W=c(Y,"source",null);if(W){var X=c(Y,"type","random");if(X==="random"&&typeof W.getRandomPoint=="function")Y=new D(W),G.push(Y);else if(X==="edge"&&typeof W.getPoints=="function"){var j=c(Y,"quantity",1),K=c(Y,"stepRate",0),$=c(Y,"yoyo",!1),Z=c(Y,"seamless",!0),J=c(Y,"total",-1);Y=new t(W,j,K,$,Z,J),G.push(Y)}}}return this.emitZones=this.emitZones.concat(G),G},removeEmitZone:function(R){return b(this.emitZones,R),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(R){var Y=this.emitZones,G=Y.length;if(G!==0){var k=Y[this.zoneIndex];k.getPoint(R),k.total>-1&&(this.zoneTotal++,this.zoneTotal===k.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===G&&(this.zoneIndex=0)))}},getDeathZone:function(R){for(var Y=this.deathZones,G=0;G<Y.length;G++){var k=Y[G];if(k.willKill(R))return this.emit(i.DEATH_ZONE,this,R,k),!0}return!1},setEmitZone:function(R){var Y;return isFinite(R)?Y=R:Y=this.emitZones.indexOf(R),Y>=0&&(this.zoneIndex=Y),this},addParticleProcessor:function(R){return this.processors.exists(R)||(R.emitter&&R.emitter.removeParticleProcessor(R),this.processors.add(R),R.emitter=this),R},removeParticleProcessor:function(R){return this.processors.exists(R)&&(this.processors.remove(R,!0),R.emitter=null),R},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(R){return this.addParticleProcessor(new f(R))},reserve:function(R){var Y=this.dead;if(this.maxParticles>0){var G=this.getParticleCount();G+R>this.maxParticles&&(R=this.maxParticles-(G+R))}for(var k=0;k<R;k++)Y.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(R,Y){return R===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof R=="function"&&(this.emitCallback=R,Y&&(this.emitCallbackScope=Y)),this},onParticleDeath:function(R,Y){return R===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof R=="function"&&(this.deathCallback=R,Y&&(this.deathCallbackScope=Y)),this},killAll:function(){for(var R=this.dead,Y=this.alive;Y.length>0;)R.push(Y.pop());return this},forEachAlive:function(R,Y){for(var G=this.alive,k=G.length,W=0;W<k;W++)R.call(Y,G[W],this);return this},forEachDead:function(R,Y){for(var G=this.dead,k=G.length,W=0;W<k;W++)R.call(Y,G[W],this);return this},start:function(R,Y){return R===void 0&&(R=0),this.emitting||(R>0&&this.fastForward(R),this.emitting=!0,this.resetCounters(this.frequency,!0),Y!==void 0&&(this.duration=Math.abs(Y)),this.emit(i.START,this)),this},stop:function(R){return R===void 0&&(R=!1),this.emitting&&(this.emitting=!1,R&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(R,Y){return R===void 0&&(R=""),Y===void 0&&(Y=this.true),this.sortProperty=R,this.sortOrderAsc=Y,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(R){return this.sortProperty!==""?R=this.depthSortCallback:R=null,this.sortCallback=R,this},depthSort:function(){return V(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(R,Y){var G=this.sortProperty;return this.sortOrderAsc?R[G]-Y[G]:Y[G]-R[G]},flow:function(R,Y,G){return Y===void 0&&(Y=1),this.emitting=!1,this.frequency=R,this.quantity=Y,G!==void 0&&(this.stopAfter=G),this.start()},explode:function(R,Y,G){this.frequency=-1,this.resetCounters(-1,!0);var k=this.emitParticle(R,Y,G);return this.emit(i.EXPLODE,this,k),k},emitParticleAt:function(R,Y,G){return this.emitParticle(G,R,Y)},emitParticle:function(R,Y,G){if(!this.atLimit()){R===void 0&&(R=this.ops.quantity.onEmit());for(var k=this.dead,W=this.stopAfter,X=this.follow?this.follow.x+this.followOffset.x:Y,j=this.follow?this.follow.y+this.followOffset.y:G,K=0;K<R;K++){var $=k.pop();if($||($=new this.particleClass(this)),$.fire(X,j)?(this.particleBringToTop?this.alive.push($):this.alive.unshift($),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,$,this)):this.dead.push($),W>0&&(this.stopCounter++,this.stopCounter>=W)||this.atLimit())break}return $}},fastForward:function(R,Y){Y===void 0&&(Y=1e3/60);var G=0;for(this.skipping=!0;G<Math.abs(R);)this.preUpdate(0,Y),G+=Y;return this.skipping=!1,this},preUpdate:function(R,Y){Y*=this.timeScale;var G=Y/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var k=this.getProcessors(),W=this.alive,X=this.dead,j=0,K=[],$=W.length;for(j=0;j<$;j++){var Z=W[j];Z.update(Y,G,k)&&K.push({index:j,particle:Z})}if($=K.length,$>0){var J=this.deathCallback,Q=this.deathCallbackScope;for(j=$-1;j>=0;j--){var _=K[j];W.splice(_.index,1),X.push(_.particle),J&&J.call(Q,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&W.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=Y;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=Y,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(R){for(var Y=this.getWorldTransformMatrix(),G=this.alive,k=G.length,W=[],X=0;X<k;X++){var j=G[X];L(R,j.getBounds(Y))&&W.push(j)}return W},getBounds:function(R,Y,G,k){R===void 0&&(R=0),Y===void 0&&(Y=0),G===void 0&&(G=1e3/60),k===void 0&&(k=new A);var W=this.getWorldTransformMatrix(),X,j,K=this.alive,$=!1;if(k.setTo(0,0,0,0),Y>0){var Z=0;for(this.skipping=!0;Z<Math.abs(Y);){for(this.preUpdate(0,G),X=0;X<K.length;X++)j=K[X].getBounds(W),$?T(k,j):($=!0,s(j,k));Z+=G}this.skipping=!1}else for(X=0;X<K.length;X++)j=K[X].getBounds(W),$?T(k,j):($=!0,s(j,k));return R>0&&g(k,R,R),k},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(R){this.ops.x.onChange(R)}},particleY:{get:function(){return this.ops.y.current},set:function(R){this.ops.y.onChange(R)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(R){this.ops.accelerationX.onChange(R)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(R){this.ops.accelerationY.onChange(R)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(R){this.ops.maxVelocityX.onChange(R)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(R){this.ops.maxVelocityY.onChange(R)}},speed:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R),this.ops.speedY.onChange(R)}},speedX:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R)}},speedY:{get:function(){return this.ops.speedY.current},set:function(R){this.ops.speedY.onChange(R)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(R){this.ops.moveToX.onChange(R)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(R){this.ops.moveToY.onChange(R)}},bounce:{get:function(){return this.ops.bounce.current},set:function(R){this.ops.bounce.onChange(R)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(R){this.ops.scaleX.onChange(R)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(R){this.ops.scaleY.onChange(R)}},particleColor:{get:function(){return this.ops.color.current},set:function(R){this.ops.color.onChange(R)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(R){this.ops.color.setEase(R)}},particleTint:{get:function(){return this.ops.tint.current},set:function(R){this.ops.tint.onChange(R)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(R){this.ops.alpha.onChange(R)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(R){this.ops.lifespan.onChange(R)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(R){this.ops.angle.onChange(R)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(R){this.ops.rotate.onChange(R)}},quantity:{get:function(){return this.ops.quantity.current},set:function(R){this.ops.quantity.onChange(R)}},delay:{get:function(){return this.ops.delay.current},set:function(R){this.ops.delay.onChange(R)}},hold:{get:function(){return this.ops.hold.current},set:function(R){this.ops.hold.onChange(R)}},flowCounter:{get:function(){return this.counters[0]},set:function(R){this.counters[0]=R}},frameCounter:{get:function(){return this.counters[1]},set:function(R){this.counters[1]=R}},animCounter:{get:function(){return this.counters[2]},set:function(R){this.counters[2]=R}},elapsed:{get:function(){return this.counters[3]},set:function(R){this.counters[3]=R}},stopCounter:{get:function(){return this.counters[4]},set:function(R){this.counters[4]=R}},completeFlag:{get:function(){return this.counters[5]},set:function(R){this.counters[5]=R}},zoneIndex:{get:function(){return this.counters[6]},set:function(R){this.counters[6]=R}},zoneTotal:{get:function(){return this.counters[7]},set:function(R){this.counters[7]=R}},currentFrame:{get:function(){return this.counters[8]},set:function(R){this.counters[8]=R}},currentAnim:{get:function(){return this.counters[9]},set:function(R){this.counters[9]=R}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var R,Y=this.ops;for(R=0;R<H.length;R++){var G=H[R];Y[G].destroy()}for(R=0;R<this.alive.length;R++)this.alive[R].destroy();for(R=0;R<this.dead.length;R++)this.dead[R].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});u.exports=O},9871:(u,x,e)=>{var l=e(59996),p=e(61340),a=new p,s=new p,r=new p,t=new p,n=function(h,i,o,c){var d=a,f=s,v=r,m=t;c?(m.loadIdentity(),m.multiply(c),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var g=h.currentContext,y=o.roundPixels,T=o.alpha,C=i.alpha,E=i.alive,z=E.length,D=i.viewBounds;if(!(!i.visible||z===0||D&&!l(D,o.worldView))){i.sortCallback&&i.depthSort(),o.addToRenderList(i);var A=i.scrollFactorX,L=i.scrollFactorY;g.save(),g.globalCompositeOperation=h.blendModes[i.blendMode];for(var b=0;b<z;b++){var F=E[b],V=F.alpha*C*T;if(!(V<=0||F.scaleX===0||F.scaleY===0)){v.applyITRS(F.x,F.y,F.rotation,F.scaleX,F.scaleY),d.copyFrom(o.matrix),d.multiplyWithOffset(m,-o.scrollX*A,-o.scrollY*L),v.e=F.x,v.f=F.y,d.multiply(v,f);var B=F.frame,N=B.canvasData;if(N.width>0&&N.height>0){var U=-B.halfWidth,I=-B.halfHeight;g.globalAlpha=V,g.save(),f.setToContext(g),y&&(U=Math.round(U),I=Math.round(I)),g.imageSmoothingEnabled=!B.source.scaleMode,g.drawImage(B.source.image,N.x,N.y,N.width,N.height,U,I,N.width,N.height),g.restore()}}}g.restore()}};u.exports=n},92730:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(95540),r=e(31600);p.register("particles",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=s(t,"config",null),o=new r(this.scene,0,0,h);return n!==void 0&&(t.add=n),l(this.scene,o,t),i&&o.setConfig(i),o})},676:(u,x,e)=>{var l=e(39429),p=e(31600);l.register("particles",function(a,s,r,t){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,a,s,r,t))})},90668:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(21188),a=e(9871),u.exports={renderWebGL:p,renderCanvas:a}},21188:(u,x,e)=>{var l=e(59996),p=e(61340),a=e(70554),s=new p,r=new p,t=new p,n=new p,h=function(i,o,c,d){var f=i.pipelines.set(o.pipeline),v=s,m=r,g=t,y=n;d?(y.loadIdentity(),y.multiply(d),y.translate(o.x,o.y),y.rotate(o.rotation),y.scale(o.scaleX,o.scaleY)):y.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var T=a.getTintAppendFloatAlpha,C=c.alpha,E=o.alpha;i.pipelines.preBatch(o);var z=o.alive,D=z.length,A=o.viewBounds;if(!(D===0||A&&!l(A,c.worldView))){o.sortCallback&&o.depthSort(),c.addToRenderList(o),v.copyFrom(c.matrix),v.multiplyWithOffset(y,-c.scrollX*o.scrollFactorX,-c.scrollY*o.scrollFactorY),i.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(i,o,c),i.pipelines.set(o.pipeline));for(var L=o.tintFill,b,F,V=0;V<D;V++){var B=z[V],N=B.alpha*E*C;if(!(N<=0||B.scaleX===0||B.scaleY===0)){g.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),g.e=B.x,g.f=B.y,v.multiply(g,m);var U=B.frame;U.glTexture!==F&&(F=U.glTexture,b=f.setGameObject(o,U));var I=-U.halfWidth,H=-U.halfHeight,O=m.setQuad(I,H,I+U.width,H+U.height),R=T(B.tint,N);f.shouldFlush(6)&&(f.flush(),b=f.setGameObject(o,U)),f.batchQuad(o,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],U.u0,U.v0,U.u1,U.v1,R,R,R,R,L,F,b)}}o.mask&&o.mask.postRenderWebGL(i,c),i.pipelines.postBatch(o)}};u.exports=h},20286:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t){s===void 0&&(s=0),r===void 0&&(r=0),t===void 0&&(t=!0),this.emitter,this.x=s,this.y=r,this.active=t},update:function(){},destroy:function(){this.emitter=null}});u.exports=p},9774:u=>{u.exports="complete"},812:u=>{u.exports="deathzone"},30522:u=>{u.exports="explode"},96695:u=>{u.exports="start"},18677:u=>{u.exports="stop"},20696:(u,x,e)=>{u.exports={COMPLETE:e(9774),DEATH_ZONE:e(812),EXPLODE:e(30522),START:e(96695),STOP:e(18677)}},18404:(u,x,e)=>{u.exports={EmitterColorOp:e(76472),EmitterOp:e(44777),Events:e(20696),GravityWell:e(24502),Particle:e(56480),ParticleBounds:e(69601),ParticleEmitter:e(31600),ParticleProcessor:e(20286),Zones:e(21024)}},26388:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r){this.source=s,this.killOnEnter=r},willKill:function(a){var s=this.source.contains(a.x,a.y);return s&&this.killOnEnter||!s&&!this.killOnEnter}});u.exports=p},19909:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t,n,h,i){n===void 0&&(n=!1),h===void 0&&(h=!0),i===void 0&&(i=-1),this.source=s,this.points=[],this.quantity=r,this.stepRate=t,this.yoyo=n,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],s=this.points[this.points.length-1];a.x===s.x&&a.y===s.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(a.x=s.x,a.y=s.y)}});u.exports=p},68875:(u,x,e)=>{var l=e(83419),p=e(26099),a=new l({initialize:function(r){this.source=r,this._tempVec=new p,this.total=-1},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});u.exports=a},21024:(u,x,e)=>{u.exports={DeathZone:e(26388),EdgeZone:e(19909),RandomZone:e(68875)}},1159:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(68287),s=new l({Extends:a,Mixins:[p.PathFollower],initialize:function(t,n,h,i,o,c){a.call(this,t,h,i,o,c),this.path=n},preUpdate:function(r,t){this.anims.update(r,t),this.pathUpdate(r)}});u.exports=s},90145:(u,x,e)=>{var l=e(39429),p=e(1159);l.register("follower",function(a,s,r,t,n){var h=new p(this.scene,a,s,r,t,n);return this.displayList.add(h),this.updateList.add(h),h})},33663:(u,x,e)=>{var l=e(9674),p=e(83419),a=e(48803),s=e(90664),r=e(4703),t=e(45650),n=new p({Extends:r,initialize:function(i,o,c,d,f,v,m,g){d||(d="__DEFAULT"),r.call(this,i,o,c,d,f),this.type="Plane",this.anims=new l(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(v,m,g),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(h,i,o){h===void 0&&(h=8),i===void 0&&(i=8),o===void 0&&(o=!1);var c=!1;return o&&(c=!0),this.gridWidth=h,this.gridHeight=i,this.isTiled=o,this.clear(),a({mesh:this,widthSegments:h,heightSegments:i,isOrtho:!1,tile:o,flipY:c}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var o=this.gridWidth,c=this.gridHeight,d=this.vertices,f=i.u0,v=i.u1,m=i.v0,g=i.v1,y,T,C=0;if(this.isTiled)for(m=i.v1,g=i.v0,T=0;T<c;T++)for(y=0;y<o;y++)d[C++].setUVs(f,g),d[C++].setUVs(f,m),d[C++].setUVs(v,g),d[C++].setUVs(f,m),d[C++].setUVs(v,m),d[C++].setUVs(v,g);else{var E=o+1,z=c+1,D=v-f,A=g-m,L=[];for(T=0;T<z;T++)for(y=0;y<E;y++){var b=f+D*(y/o),F=m+A*(T/c);L.push(b,F)}for(T=0;T<c;T++)for(y=0;y<o;y++){var V=(y+E*T)*2,B=(y+E*(T+1))*2,N=(y+1+E*(T+1))*2,U=(y+1+E*T)*2;d[C++].setUVs(L[V],L[V+1]),d[C++].setUVs(L[B],L[B+1]),d[C++].setUVs(L[U],L[U+1]),d[C++].setUVs(L[B],L[B+1]),d[C++].setUVs(L[N],L[N+1]),d[C++].setUVs(L[U],L[U+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(h,i,o,c,d){h===void 0&&(h=16777215),i===void 0&&(i=255),o===void 0&&(o=255),c===void 0&&(c=255),d===void 0&&(d=128);for(var f=s(h),v=s(i),m=[],g=0;g<16;g++)for(var y=0;y<16;y++)g<8&&y<8||g>7&&y>7?m.push(f.r,f.g,f.b,o):m.push(v.r,v.g,v.b,c);var T=this.scene.sys.textures.addUint8Array(t(),new Uint8Array(m),16,16);return this.removeCheckerboard(),this.setTexture(T),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,i){return this.anims.play(h,i)},playReverse:function(h,i){return this.anims.playReverse(h,i)},playAfterDelay:function(h,i){return this.anims.playAfterDelay(h,i)},playAfterRepeat:function(h,i){return this.anims.playAfterRepeat(h,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,i){r.prototype.preUpdate.call(this,h,i),this.anims.update(h,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});u.exports=n},56015:(u,x,e)=>{var l=e(25305),p=e(13059),a=e(44603),s=e(23568),r=e(35154),t=e(33663);a.register("plane",function(n,h){n===void 0&&(n={});var i=s(n,"key",null),o=s(n,"frame",null),c=r(n,"width",8),d=r(n,"height",8),f=r(n,"tile",!1),v=new t(this.scene,0,0,i,o,c,d,f);h!==void 0&&(n.add=h);var m=r(n,"checkerboard",null);if(m){var g=r(m,"color1",16777215),y=r(m,"color2",255),T=r(m,"alpha1",255),C=r(m,"alpha2",255),E=r(m,"height",128);v.createCheckerboard(g,y,T,C,E)}return l(this.scene,v,n),p(v,n),v})},30985:(u,x,e)=>{var l=e(33663),p=e(39429);p.register("plane",function(a,s,r,t,n,h,i){return this.displayList.add(new l(this.scene,a,s,r,t,n,h,i))})},80321:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(95643),s=e(30100),r=e(36060),t=e(67277),n=new l({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,t],initialize:function(i,o,c,d,f,v,m){d===void 0&&(d=16777215),f===void 0&&(f=128),v===void 0&&(v=1),m===void 0&&(m=.1),a.call(this,i,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,c),this.color=s(d),this.intensity=v,this.attenuation=m,this.width=f*2,this.height=f*2,this._radius=f},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});u.exports=n},39829:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(80321);p.register("pointlight",function(r,t){r===void 0&&(r={});var n=a(r,"color",16777215),h=a(r,"radius",128),i=a(r,"intensity",1),o=a(r,"attenuation",.1),c=new s(this.scene,0,0,n,h,i,o);return t!==void 0&&(r.add=t),l(this.scene,c,r),c})},71255:(u,x,e)=>{var l=e(39429),p=e(80321);l.register("pointlight",function(a,s,r,t,n,h){return this.displayList.add(new p(this.scene,a,s,r,t,n,h))})},67277:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(57787),u.exports={renderWebGL:p,renderCanvas:a}},57787:(u,x,e)=>{var l=e(91296),p=function(a,s,r,t){r.addToRenderList(s);var n=a.pipelines.set(s.pipeline),h=l(s,r,t).calc,i=s.width,o=s.height,c=-s._radius,d=-s._radius,f=c+i,v=d+o,m=h.getX(0,0),g=h.getY(0,0),y=h.getX(c,d),T=h.getY(c,d),C=h.getX(c,v),E=h.getY(c,v),z=h.getX(f,v),D=h.getY(f,v),A=h.getX(f,d),L=h.getY(f,d);a.pipelines.preBatch(s),n.batchPointLight(s,r,y,T,C,E,z,D,A,L,m,g),a.pipelines.postBatch(s)};u.exports=p},591:(u,x,e)=>{var l=e(83419),p=e(81320),a=e(88571),s=new l({Extends:a,initialize:function(t,n,h,i,o){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=32),o===void 0&&(o=32);var c=new p(t.sys.textures,"",i,o);a.call(this,t,n,h,c),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,t){this.width=r,this.height=t,this.texture.setSize(r,t),this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=r,n.hitArea.height=t),this},resize:function(r,t){return this.setSize(r,t),this},saveTexture:function(r){var t=this.texture;return t.key=r,t.manager.addDynamicTexture(t)&&(this._saved=!0),t},fill:function(r,t,n,h,i,o){return this.texture.fill(r,t,n,h,i,o),this},clear:function(){return this.texture.clear(),this},stamp:function(r,t,n,h,i){return this.texture.stamp(r,t,n,h,i),this},erase:function(r,t,n){return this.texture.erase(r,t,n),this},draw:function(r,t,n,h,i){return this.texture.draw(r,t,n,h,i),this},drawFrame:function(r,t,n,h,i,o){return this.texture.drawFrame(r,t,n,h,i,o),this},repeat:function(r,t,n,h,i,o,c,d,f){return this.texture.repeat(r,t,n,h,i,o,c,d,f),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,t,n,h,i){return this.texture.batchDraw(r,t,n,h,i),this},batchDrawFrame:function(r,t,n,h,i,o){return this.texture.batchDrawFrame(r,t,n,h,i,o),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,t,n,h,i,o,c){return this.texture.snapshotArea(r,t,n,h,i,o,c),this},snapshot:function(r,t,n){return this.snapshotArea(0,0,this.width,this.height,r,t,n)},snapshotPixel:function(r,t,n){return this.snapshotArea(r,t,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});u.exports=s},34495:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(591);p.register("renderTexture",function(r,t){r===void 0&&(r={});var n=a(r,"x",0),h=a(r,"y",0),i=a(r,"width",32),o=a(r,"height",32),c=new s(this.scene,n,h,i,o);return t!==void 0&&(r.add=t),l(this.scene,c,r),c})},60505:(u,x,e)=>{var l=e(39429),p=e(591);l.register("renderTexture",function(a,s,r,t){return this.displayList.add(new p(this.scene,a,s,r,t))})},77757:(u,x,e)=>{var l=e(9674),p=e(83419),a=e(31401),s=e(95643),r=e(36060),t=e(38745),n=e(26099),h=new p({Extends:s,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,t],initialize:function(o,c,d,f,v,m,g,y,T){f===void 0&&(f="__DEFAULT"),m===void 0&&(m=2),g===void 0&&(g=!0),s.call(this,o,"Rope"),this.anims=new l(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=f==="__DEFAULT",this.dirty=!1,this.horizontal=g,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(f,v),this.setPosition(c,d),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,y,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,o){var c=this.anims.currentFrame;this.anims.update(i,o),this.anims.currentFrame!==c&&(this.updateUVs(),this.updateVertices())},play:function(i,o,c){return this.anims.play(i,o,c),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,o,c){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,o,c))},setVertical:function(i,o,c){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,o,c)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,o){var c=this.points.length;if(c<1)return this;var d=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&o===void 0&&(i=[i]);var f,v=0;if(o!==void 0)for(f=0;f<c;f++)v=f*2,d[v]=i,d[v+1]=o;else if(i.length===c)for(f=0;f<c;f++)v=f*2,d[v]=i[f],d[v+1]=i[f];else{var m=i[0];for(f=0;f<c;f++)v=f*2,i.length>v&&(m=i[v]),d[v]=m,i.length>v+1&&(m=i[v+1]),d[v+1]=m}return this},setColors:function(i){var o=this.points.length;if(o<1)return this;var c=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var d,f=0;if(i.length===o)for(d=0;d<o;d++)f=d*2,c[f]=i[d],c[f+1]=i[d];else{var v=i[0];for(d=0;d<o;d++)f=d*2,i.length>f&&(v=i[f]),c[f]=v,i.length>f+1&&(v=i[f+1]),c[f+1]=v}return this},setPoints:function(i,o,c){if(i===void 0&&(i=2),typeof i=="number"){var d=i;d<2&&(d=2),i=[];var f,v,m;if(this.horizontal)for(m=-this.frame.halfWidth,v=this.frame.width/(d-1),f=0;f<d;f++)i.push({x:m+f*v,y:0});else for(m=-this.frame.halfHeight,v=this.frame.height/(d-1),f=0;f<d;f++)i.push({x:0,y:m+f*v})}var g=i.length,y=this.points.length;return g<1?(console.warn("Rope: Not enough points given"),this):(g===1&&(i.unshift({x:0,y:0}),g++),y!==g&&this.resizeArrays(g),this.dirty=!0,this.points=i,this.updateUVs(),o!=null&&this.setColors(o),c!=null&&this.setAlphas(c),this)},updateUVs:function(){for(var i=this.uv,o=this.points.length,c=this.frame.u0,d=this.frame.v0,f=this.frame.u1,v=this.frame.v1,m=(f-c)/(o-1),g=(v-d)/(o-1),y=0;y<o;y++){var T=y*4,C,E,z,D;this.horizontal?(this._flipX?(C=f-y*m,z=f-y*m):(C=c+y*m,z=c+y*m),this._flipY?(E=v,D=d):(E=d,D=v)):(this._flipX?(C=c,z=f):(C=f,z=c),this._flipY?(E=v-y*g,D=v-y*g):(E=d+y*g,D=d+y*g)),i[T+0]=C,i[T+1]=E,i[T+2]=z,i[T+3]=D}return this},resizeArrays:function(i){var o=this.colors,c=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),o=new Uint32Array(i*2),c=new Float32Array(i*2);for(var d=0;d<i*2;d++)o[d]=16777215,c[d]=1;return this.colors=o,this.alphas=c,this.dirty=!0,this},updateVertices:function(){var i=this._perp,o=this.points,c=this.vertices,d=o.length;if(this.dirty=!1,!(d<1)){for(var f,v=o[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,g=0;g<d;g++){var y=o[g],T=g*4;g<d-1?f=o[g+1]:f=y,i.x=f.y-v.y,i.y=-(f.x-v.x);var C=i.length();i.x/=C,i.y/=C,i.x*=m,i.y*=m,c[T]=y.x+i.x,c[T+1]=y.y+i.y,c[T+2]=y.x-i.x,c[T+3]=y.y-i.y,v=y}return this}},setDebug:function(i,o){return this.debugGraphic=i,!i&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,o,c){var d=i.debugGraphic,f=c[0],v=c[1],m=c[2],g=c[3];d.lineBetween(f,v,m,g);for(var y=4;y<o;y+=4){var T=c[y+0],C=c[y+1],E=c[y+2],z=c[y+3];d.lineBetween(f,v,T,C),d.lineBetween(m,g,E,z),d.lineBetween(m,g,T,C),d.lineBetween(T,C,E,z),f=T,v=C,m=E,g=z}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});u.exports=h},95262:u=>{var x=function(){};u.exports=x},26209:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(35154),r=e(77757);p.register("rope",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=a(t,"frame",null),o=a(t,"horizontal",!0),c=s(t,"points",void 0),d=s(t,"colors",void 0),f=s(t,"alphas",void 0),v=new r(this.scene,0,0,h,i,c,o,d,f);return n!==void 0&&(t.add=n),l(this.scene,v,t),v})},96819:(u,x,e)=>{var l=e(77757),p=e(39429);p.register("rope",function(a,s,r,t,n,h,i,o){return this.displayList.add(new l(this.scene,a,s,r,t,n,h,i,o))})},38745:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(20439),a=e(95262),u.exports={renderWebGL:p,renderCanvas:a}},20439:(u,x,e)=>{var l=e(91296),p=e(70554),a=function(s,r,t,n){t.addToRenderList(r);var h=s.pipelines.set(r.pipeline,r),i=l(r,t,n).calc,o=r.vertices,c=r.uv,d=r.colors,f=r.alphas,v=r.alpha,m=p.getTintAppendFloatAlpha,g=t.roundPixels,y=o.length,T=Math.floor(y*.5);h.flush(),s.pipelines.preBatch(r);var C=h.setGameObject(r),E=h.vertexViewF32,z=h.vertexViewU32,D=h.vertexCount*h.currentShader.vertexComponentCount-1,A=0,L=r.tintFill;r.dirty&&r.updateVertices();for(var b=r.debugCallback,F=[],V=0;V<y;V+=2){var B=o[V+0],N=o[V+1],U=B*i.a+N*i.c+i.e,I=B*i.b+N*i.d+i.f;g&&(U=Math.round(U),I=Math.round(I)),E[++D]=U,E[++D]=I,E[++D]=c[V+0],E[++D]=c[V+1],E[++D]=C,E[++D]=L,z[++D]=m(d[A],t.alpha*(f[A]*v)),A++,b&&(F[V+0]=U,F[V+1]=I)}b&&b.call(r,r,y,F),h.vertexCount+=T,h.currentBatch.count=h.vertexCount-h.currentBatch.start,s.pipelines.postBatch(r)};u.exports=a},20071:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(95643),s=e(95540),r=e(79291),t=e(61622),n=e(25479),h=e(61340),i=e(95428),o=e(92503),c=new l({Extends:a,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,n],initialize:function(f,v,m,g,y,T,C,E){m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=128),T===void 0&&(T=128),a.call(this,f,"Shader"),this.blendMode=-1,this.shader;var z=f.sys.renderer;this.renderer=z,this.gl=z.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=z.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=z.width,this._rendererHeight=z.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,g),this.setSize(y,T),this.setOrigin(.5,.5),this.setShader(v,C,E),this.renderer.on(o.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,f){if(f===void 0&&(f=!1),!this.renderToTexture){var v=this.width,m=this.height,g=this.renderer;this.glTexture=g.createTextureFromSource(null,v,m,0),this.framebuffer=g.createFramebuffer(v,m,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(g.pipelines.clear(),this.load(),this.flush(),g.pipelines.rebind()),this},setShader:function(d,f,v){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:f,textureData:v},this;if(f===void 0&&(f=[]),typeof d=="string"){var m=this.scene.sys.cache.shader;if(!m.has(d))return console.warn("Shader missing: "+d),this;this.shader=m.get(d)}else this.shader=d;var g=this.gl,y=this.renderer;this.program&&y.deleteProgram(this.program);var T=y.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);g.uniformMatrix4fv(g.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),g.uniformMatrix4fv(g.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),g.uniform2f(g.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height),this.program=T;var C=new Date,E={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[C.getFullYear(),C.getMonth(),C.getDate(),C.getHours()*60*60+C.getMinutes()*60+C.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,E):this.uniforms=E;for(var z=0;z<4;z++)f[z]&&this.setSampler2D("iChannel"+z,f[z],z,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,f,v,m){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:f,bottom:v,top:m};return}var g=-1e3,y=1e3,T=1/(d-f),C=1/(v-m),E=1/(g-y),z=this.projectionMatrix;z[0]=-2*T,z[5]=-2*C,z[10]=2*E,z[12]=(d+f)*T,z[13]=(m+v)*C,z[14]=(y+g)*E;var D=this.program,A=this.gl,L=this.renderer;L.setProgram(D),A.uniformMatrix4fv(A.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=v},initUniforms:function(){var d=this.renderer.glFuncMap,f=this.program;this._textureCount=0;for(var v in this.uniforms){var m=this.uniforms[v],g=m.type,y=d[g];m.uniformLocation=this.renderer.createUniformLocation(f,v),g!=="sampler2D"&&(m.glMatrix=y.matrix,m.glValueLength=y.length,m.glFunc=y.func)}},setSampler2DBuffer:function(d,f,v,m,g,y){g===void 0&&(g=0),y===void 0&&(y={});var T=this.uniforms[d];return T.value=f,y.width=v,y.height=m,T.textureData=y,this._textureCount=g,this.initSampler2D(T),this},setSampler2D:function(d,f,v,m){v===void 0&&(v=0);var g=this.scene.sys.textures;if(g.exists(f)){var y=g.getFrame(f);if(y.glTexture&&y.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,y.glTexture,y.width,y.height,v,m);var T=this.uniforms[d],C=y.source;T.textureKey=f,T.source=C.image,T.value=y.glTexture,C.isGLTexture&&(m||(m={}),m.width=C.width,m.height=C.height),m&&(T.textureData=m),this._textureCount=v,this.initSampler2D(T)}return this},setUniform:function(d,f){return t(this.uniforms,d,f),this},getUniform:function(d){return s(this.uniforms,d,null)},setChannel0:function(d,f){return this.setSampler2D("iChannel0",d,0,f)},setChannel1:function(d,f){return this.setSampler2D("iChannel1",d,1,f)},setChannel2:function(d,f){return this.setSampler2D("iChannel2",d,2,f)},setChannel3:function(d,f){return this.setSampler2D("iChannel3",d,3,f)},initSampler2D:function(d){if(d.value){var f=d.textureData;if(f&&!d.value.isRenderTexture){var v=this.gl,m=d.value,g=v[s(f,"magFilter","linear").toUpperCase()],y=v[s(f,"minFilter","linear").toUpperCase()],T=v[s(f,"wrapS","repeat").toUpperCase()],C=v[s(f,"wrapT","repeat").toUpperCase()],E=v[s(f,"format","rgba").toUpperCase()],z=s(f,"flipY",!1),D=s(f,"width",m.width),A=s(f,"height",m.height),L=s(f,"source",m.pixels);f.repeat&&(T=v.REPEAT,C=v.REPEAT),f.width&&(L=null),m.update(L,D,A,z,T,C,y,g,E)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,f=this.uniforms,v,m,g,y,T,C=0;for(var E in f)v=f[E],g=v.glFunc,m=v.glValueLength,y=v.uniformLocation,T=v.value,T!==null&&(m===1?v.glMatrix?g.call(d,y.webGLUniformLocation,v.transpose,T):g.call(d,y.webGLUniformLocation,T):m===2?g.call(d,y.webGLUniformLocation,T.x,T.y):m===3?g.call(d,y.webGLUniformLocation,T.x,T.y,T.z):m===4?g.call(d,y.webGLUniformLocation,T.x,T.y,T.z,T.w):v.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+C),d.bindTexture(d.TEXTURE_2D,T.webGLTexture),d.uniform1i(y.webGLUniformLocation,C),C++))},load:function(d){var f=this.gl,v=this.width,m=this.height,g=this.renderer,y=this.program,T=this.viewMatrix;if(!this.renderToTexture){var C=-this._displayOriginX,E=-this._displayOriginY;T[0]=d[0],T[1]=d[1],T[4]=d[2],T[5]=d[3],T[8]=d[4],T[9]=d[5],T[12]=T[0]*C+T[4]*E,T[13]=T[1]*C+T[5]*E}f.useProgram(y.webGLProgram),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uViewMatrix"),!1,T),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),f.uniform2f(f.getUniformLocation(y.webGLProgram,"uResolution"),this.width,this.height);var z=this.uniforms,D=z.resolution;D.value.x=v,D.value.y=m,z.time.value=g.game.loop.getDuration();var A=this.pointer;if(A){var L=z.mouse,b=A.x/v,F=1-A.y/m;L.value.x=b.toFixed(2),L.value.y=F.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,f=this.height,v=this.program,m=this.gl,g=this.vertexBuffer,y=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(y.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,g.webGLBuffer);var C=m.getAttribLocation(v.webGLProgram,"inPosition");C!==-1&&(m.enableVertexAttribArray(C),m.vertexAttribPointer(C,2,m.FLOAT,!1,T,0));var E=this.vertexViewF32;E[3]=f,E[4]=d,E[5]=f,E[8]=d,E[9]=f,E[10]=d;var z=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,z*T)),m.drawArrays(m.TRIANGLES,0,z),this.renderToTexture&&y.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,f=this._deferSetShader.textures,v=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,f,v)}if(this._deferProjOrtho!==null){var m=this._deferProjOrtho.left,g=this._deferProjOrtho.right,y=this._deferProjOrtho.bottom,T=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(m,g,y,T)}},preDestroy:function(){var d=this.renderer;d.off(o.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(f){d.deleteUniformLocation(f.uniformLocation),f.uniformLocation=null})}});u.exports=c},80464:u=>{var x=function(){};u.exports=x},54935:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(20071);p.register("shader",function(r,t){r===void 0&&(r={});var n=a(r,"key",null),h=a(r,"x",0),i=a(r,"y",0),o=a(r,"width",128),c=a(r,"height",128),d=new s(this.scene,n,h,i,o,c);return t!==void 0&&(r.add=t),l(this.scene,d,r),d})},74177:(u,x,e)=>{var l=e(20071),p=e(39429);p.register("shader",function(a,s,r,t,n,h,i){return this.displayList.add(new l(this.scene,a,s,r,t,n,h,i))})},25479:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(19257),a=e(80464),u.exports={renderWebGL:p,renderCanvas:a}},19257:(u,x,e)=>{var l=e(91296),p=function(a,s,r,t){if(s.shader){if(r.addToRenderList(s),a.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var n=l(s,r,t).calc;(a.width!==s._rendererWidth||a.height!==s._rendererHeight)&&s.projOrtho(0,a.width,a.height,0),s.load(n.matrix),s.flush()}a.pipelines.rebind()}};u.exports=p},10441:(u,x,e)=>{var l=e(70554),p=function(a,s,r,t,n,h){for(var i=l.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*t),o=r.pathData,c=r.pathIndexes,d=0;d<c.length;d+=3){var f=c[d]*2,v=c[d+1]*2,m=c[d+2]*2,g=o[f+0]-n,y=o[f+1]-h,T=o[v+0]-n,C=o[v+1]-h,E=o[m+0]-n,z=o[m+1]-h,D=s.getX(g,y),A=s.getY(g,y),L=s.getX(T,C),b=s.getY(T,C),F=s.getX(E,z),V=s.getY(E,z);a.batchTri(r,D,A,L,b,F,V,0,0,1,1,i,i,i,2)}};u.exports=p},65960:u=>{var x=function(e,l,p,a){var s=p||l.fillColor,r=a||l.fillAlpha,t=(s&16711680)>>>16,n=(s&65280)>>>8,h=s&255;e.fillStyle="rgba("+t+","+n+","+h+","+r+")"};u.exports=x},75177:u=>{var x=function(e,l,p,a){var s=p||l.strokeColor,r=a||l.strokeAlpha,t=(s&16711680)>>>16,n=(s&65280)>>>8,h=s&255;e.strokeStyle="rgba("+t+","+n+","+h+","+r+")",e.lineWidth=l.lineWidth};u.exports=x},17803:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(95643),s=e(23031),r=new l({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(n,h,i){h===void 0&&(h="Shape"),a.call(this,n,h),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(t,n){return n===void 0&&(n=1),t===void 0?this.isFilled=!1:(this.fillColor=t,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(t,n,h){return h===void 0&&(h=1),t===void 0?this.isStroked=!1:(this.lineWidth=t,this.strokeColor=n,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(t){return this.closePath=t,this},setSize:function(t,n){return this.width=t,this.height=n,this},setDisplaySize:function(t,n){return this.displayWidth=t,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}}});u.exports=r},34682:(u,x,e)=>{var l=e(70554),p=function(a,s,r,t,n){var h=a.strokeTint,i=l.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*r);h.TL=i,h.TR=i,h.BL=i,h.BR=i;var o=s.pathData,c=o.length-1,d=s.lineWidth,f=d/2,v=o[0]-t,m=o[1]-n;s.closePath||(c-=2);for(var g=2;g<c;g+=2){var y=o[g]-t,T=o[g+1]-n;a.batchLine(v,m,y,T,f,f,d,g-2,s.closePath?g===c-1:!1),v=y,m=T}};u.exports=p},23629:(u,x,e)=>{var l=e(13609),p=e(83419),a=e(39506),s=e(94811),r=e(96503),t=e(36383),n=e(17803),h=new p({Extends:n,Mixins:[l],initialize:function(o,c,d,f,v,m,g,y,T){c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=128),v===void 0&&(v=0),m===void 0&&(m=360),g===void 0&&(g=!1),n.call(this,o,"Arc",new r(0,0,f)),this._startAngle=v,this._endAngle=m,this._anticlockwise=g,this._iterations=.01,this.setPosition(c,d);var C=this.geom.radius*2;this.setSize(C,C),y!==void 0&&this.setFillStyle(y,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var o=i*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,o){return this._startAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(i,o){return this._endAngle=i,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var i=this._iterations,o=i,c=this.geom.radius,d=a(this._startAngle),f=a(this._endAngle),v=this._anticlockwise,m=c,g=c;f-=d,v?f<-t.PI2?f=-t.PI2:f>0&&(f=-t.PI2+f%t.PI2):f>t.PI2?f=t.PI2:f<0&&(f=t.PI2+f%t.PI2);for(var y=[m+Math.cos(d)*c,g+Math.sin(d)*c],T;o<1;)T=f*o+d,y.push(m+Math.cos(T)*c,g+Math.sin(T)*c),o+=i;return T=f+d,y.push(m+Math.cos(T)*c,g+Math.sin(T)*c),y.push(m+Math.cos(d)*c,g+Math.sin(d)*c),this.pathIndexes=s(y),this.pathData=y,this}});u.exports=h},42542:(u,x,e)=>{var l=e(39506),p=e(65960),a=e(75177),s=e(20926),r=function(t,n,h,i){h.addToRenderList(n);var o=t.currentContext;if(s(t,o,n,h,i)){var c=n.radius;o.beginPath(),o.arc(c-n.originX*(c*2),c-n.originY*(c*2),c,l(n._startAngle),l(n._endAngle),n.anticlockwise),n.closePath&&o.closePath(),n.isFilled&&(p(o,n),o.fill()),n.isStroked&&(a(o,n),o.stroke()),o.restore()}};u.exports=r},42563:(u,x,e)=>{var l=e(23629),p=e(39429);p.register("arc",function(a,s,r,t,n,h,i,o){return this.displayList.add(new l(this.scene,a,s,r,t,n,h,i,o))}),p.register("circle",function(a,s,r,t,n){return this.displayList.add(new l(this.scene,a,s,r,0,360,!1,t,n))})},13609:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(41447),a=e(42542),u.exports={renderWebGL:p,renderCanvas:a}},41447:(u,x,e)=>{var l=e(91296),p=e(10441),a=e(34682),s=function(r,t,n,h){n.addToRenderList(t);var i=r.pipelines.set(t.pipeline),o=l(t,n,h),c=i.calcMatrix.copyFrom(o.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;r.pipelines.preBatch(t),t.isFilled&&p(i,c,t,v,d,f),t.isStroked&&a(i,t,v,d,f),r.pipelines.postBatch(t)};u.exports=s},89:(u,x,e)=>{var l=e(83419),p=e(33141),a=e(94811),s=e(87841),r=e(17803),t=new l({Extends:r,Mixins:[p],initialize:function(h,i,o,c,d,f){i===void 0&&(i=0),o===void 0&&(o=0),r.call(this,h,"Curve",c),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(i,o),d!==void 0&&this.setFillStyle(d,f),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,h=this._smoothness;this.geom.getBounds(n,h),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],o=this.geom.getPoints(h),c=0;c<o.length;c++)i.push(o[c].x,o[c].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});u.exports=t},3170:(u,x,e)=>{var l=e(65960),p=e(75177),a=e(20926),s=function(r,t,n,h){n.addToRenderList(t);var i=r.currentContext;if(a(r,i,t,n,h)){var o=t._displayOriginX+t._curveBounds.x,c=t._displayOriginY+t._curveBounds.y,d=t.pathData,f=d.length-1,v=d[0]-o,m=d[1]-c;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-o,T=d[g+1]-c;i.lineTo(y,T)}t.closePath&&i.closePath(),t.isFilled&&(l(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};u.exports=s},40511:(u,x,e)=>{var l=e(39429),p=e(89);l.register("curve",function(a,s,r,t,n){return this.displayList.add(new p(this.scene,a,s,r,t,n))})},33141:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(53987),a=e(3170),u.exports={renderWebGL:p,renderCanvas:a}},53987:(u,x,e)=>{var l=e(10441),p=e(91296),a=e(34682),s=function(r,t,n,h){n.addToRenderList(t);var i=r.pipelines.set(t.pipeline),o=p(t,n,h),c=i.calcMatrix.copyFrom(o.calc),d=t._displayOriginX+t._curveBounds.x,f=t._displayOriginY+t._curveBounds.y,v=n.alpha*t.alpha;r.pipelines.preBatch(t),t.isFilled&&l(i,c,t,v,d,f),t.isStroked&&a(i,t,v,d,f),r.pipelines.postBatch(t)};u.exports=s},19921:(u,x,e)=>{var l=e(83419),p=e(94811),a=e(54205),s=e(8497),r=e(17803),t=new l({Extends:r,Mixins:[a],initialize:function(h,i,o,c,d,f,v){i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=128),d===void 0&&(d=128),r.call(this,h,"Ellipse",new s(c/2,d/2,c,d)),this._smoothness=64,this.setPosition(i,o),this.width=c,this.height=d,f!==void 0&&this.setFillStyle(f,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,h){return this.width=n,this.height=h,this.geom.setPosition(n/2,h/2),this.geom.setSize(n,h),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],h=this.geom.getPoints(this._smoothness),i=0;i<h.length;i++)n.push(h[i].x,h[i].y);return n.push(h[0].x,h[0].y),this.pathIndexes=p(n),this.pathData=n,this}});u.exports=t},7930:(u,x,e)=>{var l=e(65960),p=e(75177),a=e(20926),s=function(r,t,n,h){n.addToRenderList(t);var i=r.currentContext;if(a(r,i,t,n,h)){var o=t._displayOriginX,c=t._displayOriginY,d=t.pathData,f=d.length-1,v=d[0]-o,m=d[1]-c;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-o,T=d[g+1]-c;i.lineTo(y,T)}i.closePath(),t.isFilled&&(l(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};u.exports=s},1543:(u,x,e)=>{var l=e(19921),p=e(39429);p.register("ellipse",function(a,s,r,t,n,h){return this.displayList.add(new l(this.scene,a,s,r,t,n,h))})},54205:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(19467),a=e(7930),u.exports={renderWebGL:p,renderCanvas:a}},19467:(u,x,e)=>{var l=e(10441),p=e(91296),a=e(34682),s=function(r,t,n,h){n.addToRenderList(t);var i=r.pipelines.set(t.pipeline),o=p(t,n,h),c=i.calcMatrix.copyFrom(o.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;r.pipelines.preBatch(t),t.isFilled&&l(i,c,t,v,d,f),t.isStroked&&a(i,t,v,d,f),r.pipelines.postBatch(t)};u.exports=s},30479:(u,x,e)=>{var l=e(83419),p=e(17803),a=e(26015),s=new l({Extends:p,Mixins:[a],initialize:function(t,n,h,i,o,c,d,f,v,m,g){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=128),o===void 0&&(o=128),c===void 0&&(c=32),d===void 0&&(d=32),p.call(this,t,"Grid",null),this.cellWidth=c,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,h),this.setSize(i,o),this.setFillStyle(f,v),m!==void 0&&this.setOutlineStyle(m,g),this.updateDisplayOrigin()},setFillStyle:function(r,t){return t===void 0&&(t=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=t,this.showCells=!0),this},setAltFillStyle:function(r,t){return t===void 0&&(t=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=t,this.showAltCells=!0),this},setOutlineStyle:function(r,t){return t===void 0&&(t=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=t,this.showOutline=!0),this}});u.exports=s},49912:(u,x,e)=>{var l=e(65960),p=e(75177),a=e(20926),s=function(r,t,n,h){n.addToRenderList(t);var i=r.currentContext;if(a(r,i,t,n,h)){var o=-t._displayOriginX,c=-t._displayOriginY,d=n.alpha*t.alpha,f=t.width,v=t.height,m=t.cellWidth,g=t.cellHeight,y=Math.ceil(f/m),T=Math.ceil(v/g),C=m,E=g,z=m-(y*m-f),D=g-(T*g-v),A=t.showCells,L=t.showAltCells,b=t.showOutline,F=0,V=0,B=0,N=0,U=0;if(b&&(C--,E--,z===m&&z--,D===g&&D--),A&&t.fillAlpha>0)for(l(i,t),V=0;V<T;V++)for(L&&(B=V%2),F=0;F<y;F++){if(L&&B){B=0;continue}B++,N=F<y-1?C:z,U=V<T-1?E:D,i.fillRect(o+F*m,c+V*g,N,U)}if(L&&t.altFillAlpha>0)for(l(i,t,t.altFillColor,t.altFillAlpha*d),V=0;V<T;V++)for(L&&(B=V%2),F=0;F<y;F++){if(L&&!B){B=1;continue}B=0,N=F<y-1?C:z,U=V<T-1?E:D,i.fillRect(o+F*m,c+V*g,N,U)}if(b&&t.outlineFillAlpha>0){for(p(i,t,t.outlineFillColor,t.outlineFillAlpha*d),F=1;F<y;F++){var I=F*m;i.beginPath(),i.moveTo(I+o,c),i.lineTo(I+o,v+c),i.stroke()}for(V=1;V<T;V++){var H=V*g;i.beginPath(),i.moveTo(o,H+c),i.lineTo(o+f,H+c),i.stroke()}}i.restore()}};u.exports=s},34137:(u,x,e)=>{var l=e(39429),p=e(30479);l.register("grid",function(a,s,r,t,n,h,i,o,c,d){return this.displayList.add(new p(this.scene,a,s,r,t,n,h,i,o,c,d))})},26015:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(46161),a=e(49912),u.exports={renderWebGL:p,renderCanvas:a}},46161:(u,x,e)=>{var l=e(91296),p=e(70554),a=function(s,r,t,n){t.addToRenderList(r);var h=s.pipelines.set(r.pipeline),i=l(r,t,n),o=h.calcMatrix.copyFrom(i.calc);o.translate(-r._displayOriginX,-r._displayOriginY);var c=t.alpha*r.alpha,d=r.width,f=r.height,v=r.cellWidth,m=r.cellHeight,g=Math.ceil(d/v),y=Math.ceil(f/m),T=v,C=m,E=v-(g*v-d),z=m-(y*m-f),D,A,L=r.showCells,b=r.showAltCells,F=r.showOutline,V=0,B=0,N=0,U=0,I=0;if(F&&(T--,C--,E===v&&E--,z===m&&z--),s.pipelines.preBatch(r),L&&r.fillAlpha>0)for(D=h.fillTint,A=p.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*c),D.TL=A,D.TR=A,D.BL=A,D.BR=A,B=0;B<y;B++)for(b&&(N=B%2),V=0;V<g;V++){if(b&&N){N=0;continue}N++,U=V<g-1?T:E,I=B<y-1?C:z,h.batchFillRect(V*v,B*m,U,I)}if(b&&r.altFillAlpha>0)for(D=h.fillTint,A=p.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*c),D.TL=A,D.TR=A,D.BL=A,D.BR=A,B=0;B<y;B++)for(b&&(N=B%2),V=0;V<g;V++){if(b&&!N){N=1;continue}N=0,U=V<g-1?T:E,I=B<y-1?C:z,h.batchFillRect(V*v,B*m,U,I)}if(F&&r.outlineFillAlpha>0){var H=h.strokeTint,O=p.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*c);for(H.TL=O,H.TR=O,H.BL=O,H.BR=O,V=1;V<g;V++){var R=V*v;h.batchLine(R,0,R,f,1,1,1,0,!1)}for(B=1;B<y;B++){var Y=B*m;h.batchLine(0,Y,d,Y,1,1,1,0,!1)}}s.pipelines.postBatch(r)};u.exports=a},61475:(u,x,e)=>{var l=e(99651),p=e(83419),a=e(17803),s=new p({Extends:a,Mixins:[l],initialize:function(t,n,h,i,o,c,d,f){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=48),o===void 0&&(o=32),c===void 0&&(c=15658734),d===void 0&&(d=10066329),f===void 0&&(f=13421772),a.call(this,t,"IsoBox",null),this.projection=4,this.fillTop=c,this.fillLeft=d,this.fillRight=f,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,h),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,t,n){return r===void 0&&(r=!0),t===void 0&&(t=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=t,this.showRight=n,this},setFillStyle:function(r,t,n){return this.fillTop=r,this.fillLeft=t,this.fillRight=n,this.isFilled=!0,this}});u.exports=s},11508:(u,x,e)=>{var l=e(65960),p=e(20926),a=function(s,r,t,n){t.addToRenderList(r);var h=s.currentContext;if(p(s,h,r,t,n)&&r.isFilled){var i=r.width,o=r.height,c=i/2,d=i/r.projection;r.showTop&&(l(h,r,r.fillTop),h.beginPath(),h.moveTo(-c,-o),h.lineTo(0,-d-o),h.lineTo(c,-o),h.lineTo(c,-1),h.lineTo(0,d-1),h.lineTo(-c,-1),h.lineTo(-c,-o),h.fill()),r.showLeft&&(l(h,r,r.fillLeft),h.beginPath(),h.moveTo(-c,0),h.lineTo(0,d),h.lineTo(0,d-o),h.lineTo(-c,-o),h.lineTo(-c,0),h.fill()),r.showRight&&(l(h,r,r.fillRight),h.beginPath(),h.moveTo(c,0),h.lineTo(0,d),h.lineTo(0,d-o),h.lineTo(c,-o),h.lineTo(c,0),h.fill()),h.restore()}};u.exports=a},3933:(u,x,e)=>{var l=e(39429),p=e(61475);l.register("isobox",function(a,s,r,t,n,h,i){return this.displayList.add(new p(this.scene,a,s,r,t,n,h,i))})},99651:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(68149),a=e(11508),u.exports={renderWebGL:p,renderCanvas:a}},68149:(u,x,e)=>{var l=e(91296),p=e(70554),a=function(s,r,t,n){t.addToRenderList(r);var h=s.pipelines.set(r.pipeline),i=l(r,t,n),o=h.calcMatrix.copyFrom(i.calc),c=r.width,d=r.height,f=c/2,v=c/r.projection,m=t.alpha*r.alpha;if(r.isFilled){var g,y,T,C,E,z,D,A,L;s.pipelines.preBatch(r),r.showTop&&(g=p.getTintAppendFloatAlpha(r.fillTop,m),y=o.getX(-f,-d),T=o.getY(-f,-d),C=o.getX(0,-v-d),E=o.getY(0,-v-d),z=o.getX(f,-d),D=o.getY(f,-d),A=o.getX(0,v-d),L=o.getY(0,v-d),h.batchQuad(r,y,T,C,E,z,D,A,L,0,0,1,1,g,g,g,g,2)),r.showLeft&&(g=p.getTintAppendFloatAlpha(r.fillLeft,m),y=o.getX(-f,0),T=o.getY(-f,0),C=o.getX(0,v),E=o.getY(0,v),z=o.getX(0,v-d),D=o.getY(0,v-d),A=o.getX(-f,-d),L=o.getY(-f,-d),h.batchQuad(r,y,T,C,E,z,D,A,L,0,0,1,1,g,g,g,g,2)),r.showRight&&(g=p.getTintAppendFloatAlpha(r.fillRight,m),y=o.getX(f,0),T=o.getY(f,0),C=o.getX(0,v),E=o.getY(0,v),z=o.getX(0,v-d),D=o.getY(0,v-d),A=o.getX(f,-d),L=o.getY(f,-d),h.batchQuad(r,y,T,C,E,z,D,A,L,0,0,1,1,g,g,g,g,2)),s.pipelines.postBatch(r)}};u.exports=a},16933:(u,x,e)=>{var l=e(83419),p=e(60561),a=e(17803),s=new l({Extends:a,Mixins:[p],initialize:function(t,n,h,i,o,c,d,f,v){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=48),o===void 0&&(o=32),c===void 0&&(c=!1),d===void 0&&(d=15658734),f===void 0&&(f=10066329),v===void 0&&(v=13421772),a.call(this,t,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=f,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=c,this.isFilled=!0,this.setPosition(n,h),this.setSize(i,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,t,n){return r===void 0&&(r=!0),t===void 0&&(t=!0),n===void 0&&(n=!0),this.showTop=r,this.showLeft=t,this.showRight=n,this},setFillStyle:function(r,t,n){return this.fillTop=r,this.fillLeft=t,this.fillRight=n,this.isFilled=!0,this}});u.exports=s},79590:(u,x,e)=>{var l=e(65960),p=e(20926),a=function(s,r,t,n){t.addToRenderList(r);var h=s.currentContext;if(p(s,h,r,t,n)&&r.isFilled){var i=r.width,o=r.height,c=i/2,d=i/r.projection,f=r.isReversed;r.showTop&&f&&(l(h,r,r.fillTop),h.beginPath(),h.moveTo(-c,-o),h.lineTo(0,-d-o),h.lineTo(c,-o),h.lineTo(0,d-o),h.fill()),r.showLeft&&(l(h,r,r.fillLeft),h.beginPath(),f?(h.moveTo(-c,-o),h.lineTo(0,d),h.lineTo(0,d-o)):(h.moveTo(-c,0),h.lineTo(0,d),h.lineTo(0,d-o)),h.fill()),r.showRight&&(l(h,r,r.fillRight),h.beginPath(),f?(h.moveTo(c,-o),h.lineTo(0,d),h.lineTo(0,d-o)):(h.moveTo(c,0),h.lineTo(0,d),h.lineTo(0,d-o)),h.fill()),h.restore()}};u.exports=a},49803:(u,x,e)=>{var l=e(39429),p=e(16933);l.register("isotriangle",function(a,s,r,t,n,h,i,o){return this.displayList.add(new p(this.scene,a,s,r,t,n,h,i,o))})},60561:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(51503),a=e(79590),u.exports={renderWebGL:p,renderCanvas:a}},51503:(u,x,e)=>{var l=e(91296),p=e(70554),a=function(s,r,t,n){t.addToRenderList(r);var h=s.pipelines.set(r.pipeline),i=l(r,t,n),o=h.calcMatrix.copyFrom(i.calc),c=r.width,d=r.height,f=c/2,v=c/r.projection,m=r.isReversed,g=t.alpha*r.alpha;if(r.isFilled){s.pipelines.preBatch(r);var y,T,C,E,z,D,A;if(r.showTop&&m){y=p.getTintAppendFloatAlpha(r.fillTop,g),T=o.getX(-f,-d),C=o.getY(-f,-d),E=o.getX(0,-v-d),z=o.getY(0,-v-d),D=o.getX(f,-d),A=o.getY(f,-d);var L=o.getX(0,v-d),b=o.getY(0,v-d);h.batchQuad(r,T,C,E,z,D,A,L,b,0,0,1,1,y,y,y,y,2)}r.showLeft&&(y=p.getTintAppendFloatAlpha(r.fillLeft,g),m?(T=o.getX(-f,-d),C=o.getY(-f,-d),E=o.getX(0,v),z=o.getY(0,v),D=o.getX(0,v-d),A=o.getY(0,v-d)):(T=o.getX(-f,0),C=o.getY(-f,0),E=o.getX(0,v),z=o.getY(0,v),D=o.getX(0,v-d),A=o.getY(0,v-d)),h.batchTri(r,T,C,E,z,D,A,0,0,1,1,y,y,y,2)),r.showRight&&(y=p.getTintAppendFloatAlpha(r.fillRight,g),m?(T=o.getX(f,-d),C=o.getY(f,-d),E=o.getX(0,v),z=o.getY(0,v),D=o.getX(0,v-d),A=o.getY(0,v-d)):(T=o.getX(f,0),C=o.getY(f,0),E=o.getX(0,v),z=o.getY(0,v),D=o.getX(0,v-d),A=o.getY(0,v-d)),h.batchTri(r,T,C,E,z,D,A,0,0,1,1,y,y,y,2)),s.pipelines.postBatch(r)}};u.exports=a},57847:(u,x,e)=>{var l=e(83419),p=e(17803),a=e(23031),s=e(36823),r=new l({Extends:p,Mixins:[s],initialize:function(n,h,i,o,c,d,f,v,m){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=128),f===void 0&&(f=0),p.call(this,n,"Line",new a(o,c,d,f));var g=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,i),this.setSize(g,y),v!==void 0&&this.setStrokeStyle(1,v,m),this.updateDisplayOrigin()},setLineWidth:function(t,n){return n===void 0&&(n=t),this._startWidth=t,this._endWidth=n,this.lineWidth=t,this},setTo:function(t,n,h,i){return this.geom.setTo(t,n,h,i),this}});u.exports=r},17440:(u,x,e)=>{var l=e(75177),p=e(20926),a=function(s,r,t,n){t.addToRenderList(r);var h=s.currentContext;if(p(s,h,r,t,n)){var i=r._displayOriginX,o=r._displayOriginY;r.isStroked&&(l(h,r),h.beginPath(),h.moveTo(r.geom.x1-i,r.geom.y1-o),h.lineTo(r.geom.x2-i,r.geom.y2-o),h.stroke()),h.restore()}};u.exports=a},2481:(u,x,e)=>{var l=e(39429),p=e(57847);l.register("line",function(a,s,r,t,n,h,i,o){return this.displayList.add(new p(this.scene,a,s,r,t,n,h,i,o))})},36823:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(77385),a=e(17440),u.exports={renderWebGL:p,renderCanvas:a}},77385:(u,x,e)=>{var l=e(91296),p=e(70554),a=function(s,r,t,n){t.addToRenderList(r);var h=s.pipelines.set(r.pipeline),i=l(r,t,n);h.calcMatrix.copyFrom(i.calc);var o=r._displayOriginX,c=r._displayOriginY,d=t.alpha*r.alpha;if(s.pipelines.preBatch(r),r.isStroked){var f=h.strokeTint,v=p.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*d);f.TL=v,f.TR=v,f.BL=v,f.BR=v,h.batchLine(r.geom.x1-o,r.geom.y1-c,r.geom.x2-o,r.geom.y2-c,r._startWidth/2,r._endWidth/2,1,0,!1,i.sprite,i.camera)}s.pipelines.postBatch(r)};u.exports=a},24949:(u,x,e)=>{var l=e(90273),p=e(83419),a=e(94811),s=e(13829),r=e(25717),t=e(17803),n=e(5469),h=new p({Extends:t,Mixins:[l],initialize:function(o,c,d,f,v,m){c===void 0&&(c=0),d===void 0&&(d=0),t.call(this,o,"Polygon",new r(f));var g=s(this.geom);this.setPosition(c,d),this.setSize(g.width,g.height),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var o=0;o<i;o++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var o=s(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],o=this.geom.points,c=0;c<o.length;c++)i.push(o[c].x,o[c].y);return i.push(o[0].x,o[0].y),this.pathIndexes=a(i),this.pathData=i,this}});u.exports=h},38710:(u,x,e)=>{var l=e(65960),p=e(75177),a=e(20926),s=function(r,t,n,h){n.addToRenderList(t);var i=r.currentContext;if(a(r,i,t,n,h)){var o=t._displayOriginX,c=t._displayOriginY,d=t.pathData,f=d.length-1,v=d[0]-o,m=d[1]-c;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-o,T=d[g+1]-c;i.lineTo(y,T)}t.closePath&&i.closePath(),t.isFilled&&(l(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};u.exports=s},64827:(u,x,e)=>{var l=e(39429),p=e(24949);l.register("polygon",function(a,s,r,t,n){return this.displayList.add(new p(this.scene,a,s,r,t,n))})},90273:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(73695),a=e(38710),u.exports={renderWebGL:p,renderCanvas:a}},73695:(u,x,e)=>{var l=e(10441),p=e(91296),a=e(34682),s=function(r,t,n,h){n.addToRenderList(t);var i=r.pipelines.set(t.pipeline),o=p(t,n,h),c=i.calcMatrix.copyFrom(o.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;r.pipelines.preBatch(t),t.isFilled&&l(i,c,t,v,d,f),t.isStroked&&a(i,t,v,d,f),r.pipelines.postBatch(t)};u.exports=s},74561:(u,x,e)=>{var l=e(83419),p=e(87841),a=e(17803),s=e(95597),r=new l({Extends:a,Mixins:[s],initialize:function(n,h,i,o,c,d,f){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=128),c===void 0&&(c=128),a.call(this,n,"Rectangle",new p(0,0,o,c)),this.setPosition(h,i),this.setSize(o,c),d!==void 0&&this.setFillStyle(d,f),this.updateDisplayOrigin(),this.updateData()},setSize:function(t,n){this.width=t,this.height=n,this.geom.setSize(t,n),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=t,h.hitArea.height=n),this},updateData:function(){var t=[],n=this.geom,h=this._tempLine;return n.getLineA(h),t.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),t.push(h.x2,h.y2),n.getLineC(h),t.push(h.x2,h.y2),n.getLineD(h),t.push(h.x2,h.y2),this.pathData=t,this}});u.exports=r},48682:(u,x,e)=>{var l=e(65960),p=e(75177),a=e(20926),s=function(r,t,n,h){n.addToRenderList(t);var i=r.currentContext;if(a(r,i,t,n,h)){var o=t._displayOriginX,c=t._displayOriginY;t.isFilled&&(l(i,t),i.fillRect(-o,-c,t.width,t.height)),t.isStroked&&(p(i,t),i.beginPath(),i.rect(-o,-c,t.width,t.height),i.stroke()),i.restore()}};u.exports=s},87959:(u,x,e)=>{var l=e(39429),p=e(74561);l.register("rectangle",function(a,s,r,t,n,h){return this.displayList.add(new p(this.scene,a,s,r,t,n,h))})},95597:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(52059),a=e(48682),u.exports={renderWebGL:p,renderCanvas:a}},52059:(u,x,e)=>{var l=e(91296),p=e(34682),a=e(70554),s=function(r,t,n,h){n.addToRenderList(t);var i=r.pipelines.set(t.pipeline),o=l(t,n,h);i.calcMatrix.copyFrom(o.calc);var c=t._displayOriginX,d=t._displayOriginY,f=n.alpha*t.alpha;if(r.pipelines.preBatch(t),t.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*f);v.TL=m,v.TR=m,v.BL=m,v.BR=m,i.batchFillRect(-c,-d,t.width,t.height)}t.isStroked&&p(i,t,f,c,d),r.pipelines.postBatch(t)};u.exports=s},55911:(u,x,e)=>{var l=e(81991),p=e(83419),a=e(94811),s=e(17803),r=new p({Extends:s,Mixins:[l],initialize:function(n,h,i,o,c,d,f,v){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=5),c===void 0&&(c=32),d===void 0&&(d=64),s.call(this,n,"Star",null),this._points=o,this._innerRadius=c,this._outerRadius=d,this.setPosition(h,i),this.setSize(d*2,d*2),f!==void 0&&this.setFillStyle(f,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t=[],n=this._points,h=this._innerRadius,i=this._outerRadius,o=Math.PI/2*3,c=Math.PI/n,d=i,f=i;t.push(d,f+-i);for(var v=0;v<n;v++)t.push(d+Math.cos(o)*i,f+Math.sin(o)*i),o+=c,t.push(d+Math.cos(o)*h,f+Math.sin(o)*h),o+=c;return t.push(d,f+-i),this.pathIndexes=a(t),this.pathData=t,this}});u.exports=r},64272:(u,x,e)=>{var l=e(65960),p=e(75177),a=e(20926),s=function(r,t,n,h){n.addToRenderList(t);var i=r.currentContext;if(a(r,i,t,n,h)){var o=t._displayOriginX,c=t._displayOriginY,d=t.pathData,f=d.length-1,v=d[0]-o,m=d[1]-c;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-o,T=d[g+1]-c;i.lineTo(y,T)}i.closePath(),t.isFilled&&(l(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};u.exports=s},93697:(u,x,e)=>{var l=e(55911),p=e(39429);p.register("star",function(a,s,r,t,n,h,i){return this.displayList.add(new l(this.scene,a,s,r,t,n,h,i))})},81991:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(57017),a=e(64272),u.exports={renderWebGL:p,renderCanvas:a}},57017:(u,x,e)=>{var l=e(10441),p=e(91296),a=e(34682),s=function(r,t,n,h){n.addToRenderList(t);var i=r.pipelines.set(t.pipeline),o=p(t,n,h),c=i.calcMatrix.copyFrom(o.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;r.pipelines.preBatch(t),t.isFilled&&l(i,c,t,v,d,f),t.isStroked&&a(i,t,v,d,f),r.pipelines.postBatch(t)};u.exports=s},36931:(u,x,e)=>{var l=e(83419),p=e(17803),a=e(16483),s=e(96195),r=new l({Extends:p,Mixins:[s],initialize:function(n,h,i,o,c,d,f,v,m,g,y){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=128),d===void 0&&(d=64),f===void 0&&(f=0),v===void 0&&(v=128),m===void 0&&(m=128),p.call(this,n,"Triangle",new a(o,c,d,f,v,m));var T=this.geom.right-this.geom.left,C=this.geom.bottom-this.geom.top;this.setPosition(h,i),this.setSize(T,C),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(t,n,h,i,o,c){return this.geom.setTo(t,n,h,i,o,c),this.updateData()},updateData:function(){var t=[],n=this.geom,h=this._tempLine;return n.getLineA(h),t.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),t.push(h.x2,h.y2),n.getLineC(h),t.push(h.x2,h.y2),this.pathData=t,this}});u.exports=r},85172:(u,x,e)=>{var l=e(65960),p=e(75177),a=e(20926),s=function(r,t,n,h){n.addToRenderList(t);var i=r.currentContext;if(a(r,i,t,n,h)){var o=t._displayOriginX,c=t._displayOriginY,d=t.geom.x1-o,f=t.geom.y1-c,v=t.geom.x2-o,m=t.geom.y2-c,g=t.geom.x3-o,y=t.geom.y3-c;i.beginPath(),i.moveTo(d,f),i.lineTo(v,m),i.lineTo(g,y),i.closePath(),t.isFilled&&(l(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};u.exports=s},45245:(u,x,e)=>{var l=e(39429),p=e(36931);l.register("triangle",function(a,s,r,t,n,h,i,o,c,d){return this.displayList.add(new p(this.scene,a,s,r,t,n,h,i,o,c,d))})},96195:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(83253),a=e(85172),u.exports={renderWebGL:p,renderCanvas:a}},83253:(u,x,e)=>{var l=e(91296),p=e(34682),a=e(70554),s=function(r,t,n,h){n.addToRenderList(t);var i=r.pipelines.set(t.pipeline),o=l(t,n,h);i.calcMatrix.copyFrom(o.calc);var c=t._displayOriginX,d=t._displayOriginY,f=n.alpha*t.alpha;if(r.pipelines.preBatch(t),t.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*f);v.TL=m,v.TR=m,v.BL=m,v.BR=m;var g=t.geom.x1-c,y=t.geom.y1-d,T=t.geom.x2-c,C=t.geom.y2-d,E=t.geom.x3-c,z=t.geom.y3-d;i.batchFillTriangle(g,y,T,C,E,z,o.sprite,o.camera)}t.isStroked&&p(i,t,f,c,d),r.pipelines.postBatch(t)};u.exports=s},68287:(u,x,e)=>{var l=e(9674),p=e(83419),a=e(31401),s=e(95643),r=e(92751),t=new p({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,r],initialize:function(h,i,o,c,d){s.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(c,d),this.setPosition(i,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,h){this.anims.update(n,h)},play:function(n,h){return this.anims.play(n,h)},playReverse:function(n,h){return this.anims.playReverse(n,h)},playAfterDelay:function(n,h){return this.anims.playAfterDelay(n,h)},playAfterRepeat:function(n,h){return this.anims.playAfterRepeat(n,h)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});u.exports=t},76552:u=>{var x=function(e,l,p,a){p.addToRenderList(l),e.batchSprite(l,l.frame,p,a)};u.exports=x},15567:(u,x,e)=>{var l=e(25305),p=e(13059),a=e(44603),s=e(23568),r=e(68287);a.register("sprite",function(t,n){t===void 0&&(t={});var h=s(t,"key",null),i=s(t,"frame",null),o=new r(this.scene,0,0,h,i);return n!==void 0&&(t.add=n),l(this.scene,o,t),p(o,t),o})},46409:(u,x,e)=>{var l=e(39429),p=e(68287);l.register("sprite",function(a,s,r,t){return this.displayList.add(new p(this.scene,a,s,r,t))})},92751:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(9409),a=e(76552),u.exports={renderWebGL:p,renderCanvas:a}},9409:u=>{var x=function(e,l,p,a){p.addToRenderList(l),l.pipeline.batchSprite(l,p,a)};u.exports=x},14220:u=>{var x=function(e,l,p){var a=e.canvas,s=e.context,r=e.style,t=[],n=0,h=p.length;r.maxLines>0&&r.maxLines<p.length&&(h=r.maxLines),r.syncFont(a,s);for(var i=e.letterSpacing,o=0;o<h;o++){var c=r.strokeThickness;if(i===0)c+=s.measureText(p[o]).width;else{for(var d=p[o],f=0;f<d.length;f++)c+=s.measureText(d[f]).width;d.length>1&&(c+=i*(d.length-1))}r.wordWrap&&(c-=s.measureText(" ").width),t[o]=Math.ceil(c),n=Math.max(n,t[o])}var v=l.fontSize+r.strokeThickness,m=v*h,g=e.lineSpacing;return h>1&&(m+=g*(h-1)),{width:n,height:m,lines:h,lineWidths:t,lineSpacing:g,lineHeight:v}};u.exports=x},79557:(u,x,e)=>{var l=e(27919),p=function(a){var s=l.create(this),r=s.getContext("2d",{willReadFrequently:!0});a.syncFont(s,r);var t=r.measureText(a.testString);if("actualBoundingBoxAscent"in t){var n=t.actualBoundingBoxAscent,h=t.actualBoundingBoxDescent;return l.remove(s),{ascent:n,descent:h,fontSize:n+h}}var i=Math.ceil(t.width*a.baselineX),o=i,c=2*o;o=o*a.baselineY|0,s.width=i,s.height=c,r.fillStyle="#f00",r.fillRect(0,0,i,c),r.font=a._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(a.testString,0,o);var d={ascent:0,descent:0,fontSize:0},f=r.getImageData(0,0,i,c);if(!f)return d.ascent=o,d.descent=o+6,d.fontSize=d.ascent+d.descent,l.remove(s),d;var v=f.data,m=v.length,g=i*4,y,T,C=0,E=!1;for(y=0;y<o;y++){for(T=0;T<g;T+=4)if(v[C+T]!==255){E=!0;break}if(!E)C+=g;else break}for(d.ascent=o-y,C=m-g,E=!1,y=c;y>o;y--){for(T=0;T<g;T+=4)if(v[C+T]!==255){E=!0;break}if(!E)C-=g;else break}return d.descent=y-o,d.fontSize=d.ascent+d.descent,l.remove(s),d};u.exports=p},50171:(u,x,e)=>{var l=e(40366),p=e(27919),a=e(83419),s=e(31401),r=e(95643),t=e(14220),n=e(35154),h=e(35846),i=e(61771),o=e(35762),c=e(45650),d=new a({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,i],initialize:function(v,m,g,y,T){m===void 0&&(m=0),g===void 0&&(g=0),r.call(this,v,"Text"),this.renderer=v.sys.renderer,this.setPosition(m,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new o(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(y),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(f){var v=this.style;if(v.wordWrapCallback){var m=v.wordWrapCallback.call(v.wordWrapCallbackScope,f,this);return Array.isArray(m)&&(m=m.join(`
`)),m}else return v.wordWrapWidth?v.wordWrapUseAdvanced?this.advancedWordWrap(f,this.context,this.style.wordWrapWidth):this.basicWordWrap(f,this.context,this.style.wordWrapWidth):f},advancedWordWrap:function(f,v,m){for(var g="",y=f.replace(/ +/gi," ").split(this.splitRegExp),T=y.length,C=0;C<T;C++){var E=y[C],z="";E=E.replace(/^ *|\s*$/gi,"");var D=v.measureText(E).width;if(D<m){g+=E+`
`;continue}for(var A=m,L=E.split(" "),b=0;b<L.length;b++){var F=L[b],V=F+" ",B=v.measureText(V).width;if(B>A){if(b===0){for(var N=V;N.length&&(N=N.slice(0,-1),B=v.measureText(N).width,!(B<=A)););if(!N.length)throw new Error("wordWrapWidth < a single character");var U=F.substr(N.length);L[b]=U,z+=N}var I=L[b].length?b:b+1,H=L.slice(I).join(" ").replace(/[ \n]*$/gi,"");y.splice(C+1,0,H),T=y.length;break}else z+=V,A-=B}g+=z.replace(/[ \n]*$/gi,"")+`
`}return g=g.replace(/[\s|\n]*$/gi,""),g},basicWordWrap:function(f,v,m){for(var g="",y=f.split(this.splitRegExp),T=y.length-1,C=v.measureText(" ").width,E=0;E<=T;E++){for(var z=m,D=y[E].split(" "),A=D.length-1,L=0;L<=A;L++){var b=D[L],F=v.measureText(b).width,V=F;L<A&&(V+=C),V>z&&L>0&&(g+=`
`,z=m),g+=b,L<A?(g+=" ",z-=V):z-=F}E<T&&(g+=`
`)}return g},getWrappedText:function(f){f===void 0&&(f=this._text),this.style.syncFont(this.canvas,this.context);var v=this.runWordWrap(f);return v.split(this.splitRegExp)},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this._text&&(this._text=f.toString(),this.updateText()),this},appendText:function(f,v){v===void 0&&(v=!0),!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f=f.toString();var m=this._text.concat(v?`
`+f:f);return m!==this._text&&(this._text=m,this.updateText()),this},setStyle:function(f){return this.style.setStyle(f)},setFont:function(f){return this.style.setFont(f)},setFontFamily:function(f){return this.style.setFontFamily(f)},setFontSize:function(f){return this.style.setFontSize(f)},setFontStyle:function(f){return this.style.setFontStyle(f)},setFixedSize:function(f,v){return this.style.setFixedSize(f,v)},setBackgroundColor:function(f){return this.style.setBackgroundColor(f)},setFill:function(f){return this.style.setFill(f)},setColor:function(f){return this.style.setColor(f)},setStroke:function(f,v){return this.style.setStroke(f,v)},setShadow:function(f,v,m,g,y,T){return this.style.setShadow(f,v,m,g,y,T)},setShadowOffset:function(f,v){return this.style.setShadowOffset(f,v)},setShadowColor:function(f){return this.style.setShadowColor(f)},setShadowBlur:function(f){return this.style.setShadowBlur(f)},setShadowStroke:function(f){return this.style.setShadowStroke(f)},setShadowFill:function(f){return this.style.setShadowFill(f)},setWordWrapWidth:function(f,v){return this.style.setWordWrapWidth(f,v)},setWordWrapCallback:function(f,v){return this.style.setWordWrapCallback(f,v)},setAlign:function(f){return this.style.setAlign(f)},setResolution:function(f){return this.style.setResolution(f)},setLineSpacing:function(f){return this.lineSpacing=f,this.updateText()},setLetterSpacing:function(f){return this.letterSpacing=f,this.updateText()},setPadding:function(f,v,m,g){if(typeof f=="object"){var y=f,T=n(y,"x",null);T!==null?(f=T,m=T):(f=n(y,"left",0),m=n(y,"right",f));var C=n(y,"y",null);C!==null?(v=C,g=C):(v=n(y,"top",0),g=n(y,"bottom",v))}else f===void 0&&(f=0),v===void 0&&(v=f),m===void 0&&(m=f),g===void 0&&(g=v);return this.padding.left=f,this.padding.top=v,this.padding.right=m,this.padding.bottom=g,this.updateText()},setMaxLines:function(f){return this.style.setMaxLines(f)},setRTL:function(f){f===void 0&&(f=!0);var v=this.style;return v.rtl===f?this:(v.rtl=f,f?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),v.align==="left"?v.align="right":v.align==="right"&&(v.align="left"),this)},updateText:function(){var f=this.canvas,v=this.context,m=this.style,g=m.resolution,y=m.metrics;m.syncFont(f,v);var T=this._text;(m.wordWrapWidth||m.wordWrapCallback)&&(T=this.runWordWrap(this._text));var C=T.split(this.splitRegExp),E=t(this,y,C),z=this.padding,D;m.fixedWidth===0?(this.width=E.width+z.left+z.right,D=E.width):(this.width=m.fixedWidth,D=this.width-z.left-z.right,D<E.width&&(D=E.width)),m.fixedHeight===0?this.height=E.height+z.top+z.bottom:this.height=m.fixedHeight;var A=this.width,L=this.height;this.updateDisplayOrigin(),A*=g,L*=g,A=Math.max(A,1),L=Math.max(L,1),f.width!==A||f.height!==L?(f.width=A,f.height=L,this.frame.setSize(A,L),m.syncFont(f,v),m.rtl&&(v.direction="rtl")):v.clearRect(0,0,A,L),v.save(),v.scale(g,g),m.backgroundColor&&(v.fillStyle=m.backgroundColor,v.fillRect(0,0,A,L)),m.syncStyle(f,v),v.translate(z.left,z.top);for(var b,F,V=0;V<E.lines;V++){if(b=m.strokeThickness/2,F=m.strokeThickness/2+V*E.lineHeight+y.ascent,V>0&&(F+=E.lineSpacing*V),m.rtl)b=A-b-z.left-z.right;else if(m.align==="right")b+=D-E.lineWidths[V];else if(m.align==="center")b+=(D-E.lineWidths[V])/2;else if(m.align==="justify"){var B=.85;if(E.lineWidths[V]/E.width>=B){var N=E.width-E.lineWidths[V],U=v.measureText(" ").width,I=C[V].trim(),H=I.split(" ");N+=(C[V].length-I.length)*U;for(var O=Math.floor(N/U),R=0;O>0;)H[R]+=" ",R=(R+1)%(H.length-1||1),--O;C[V]=H.join(" ")}}this.autoRound&&(b=Math.round(b),F=Math.round(F));var Y=this.letterSpacing;if(m.strokeThickness&&Y===0&&(m.syncShadow(v,m.shadowStroke),v.strokeText(C[V],b,F)),m.color)if(m.syncShadow(v,m.shadowFill),Y!==0)for(var G=0,k=C[V].split(""),W=0;W<k.length;W++)m.strokeThickness&&(m.syncShadow(v,m.shadowStroke),v.strokeText(k[W],b+G,F),m.syncShadow(v,m.shadowFill)),v.fillText(k[W],b+G,F),G+=v.measureText(k[W]).width+Y;else v.fillText(C[V],b,F)}v.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0));var X=this.input;return X&&!X.customHitArea&&(X.hitArea.width=this.width,X.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(f){this.setText(f)}},toJSON:function(){var f=s.ToJSON(this),v={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return f.data=v,f},preDestroy:function(){h(this.canvas),p.remove(this.canvas);var f=this.texture;f&&f.destroy()}});u.exports=d},79724:u=>{var x=function(e,l,p,a){l.width===0||l.height===0||(p.addToRenderList(l),e.batchSprite(l,l.frame,p,a))};u.exports=x},71259:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(50171);p.register("text",function(r,t){r===void 0&&(r={});var n=a(r,"text",""),h=a(r,"style",null),i=a(r,"padding",null);i!==null&&(h.padding=i);var o=new s(this.scene,0,0,n,h);return t!==void 0&&(r.add=t),l(this.scene,o,r),o.autoRound=a(r,"autoRound",!0),o.resolution=a(r,"resolution",1),o})},68005:(u,x,e)=>{var l=e(50171),p=e(39429);p.register("text",function(a,s,r,t){return this.displayList.add(new l(this.scene,a,s,r,t))})},61771:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(34397),a=e(79724),u.exports={renderWebGL:p,renderCanvas:a}},35762:(u,x,e)=>{var l=e(83419),p=e(23568),a=e(35154),s=e(79557),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},t=new l({initialize:function(h,i){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,h,i){h===void 0&&(h=!0),i===void 0&&(i=!1);for(var o in r){var c=i?r[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=a(n,r[o][0],c):n&&o==="fontSize"&&typeof n.fontSize=="number"?this[o]=n.fontSize.toString()+"px":this[o]=p(n,r[o][0],c)}var d=a(n,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var f=a(n,"fill",null);f!==null&&(this.color=f);var v=a(n,"metrics",!1);return v?this.metrics={ascent:a(v,"ascent",0),descent:a(v,"descent",0),fontSize:a(v,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=s(this)),h?this.parent.updateText():this.parent},syncFont:function(n,h){h.font=this._font},syncStyle:function(n,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(n,h){h?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(n,h){h===void 0&&(h=!0);var i=n,o="",c="";if(typeof n!="string")i=a(n,"fontFamily","Courier"),o=a(n,"fontSize","16px"),c=a(n,"fontStyle","");else{var d=n.split(" "),f=0;c=d.length>2?d[f++]:"",o=d[f++]||"16px",i=d[f++]||"Courier"}return(i!==this.fontFamily||o!==this.fontSize||c!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=o,this.fontStyle=c,h&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,h){return this.fixedWidth=n,this.fixedHeight=h,n&&(this.parent.width=n),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,h){return h===void 0&&(h=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==h)&&(this.stroke=n,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(n,h,i,o,c,d){return n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i="#000"),o===void 0&&(o=0),c===void 0&&(c=!1),d===void 0&&(d=!0),this.shadowOffsetX=n,this.shadowOffsetY=h,this.shadowColor=i,this.shadowBlur=o,this.shadowStroke=c,this.shadowFill=d,this.update(!1)},setShadowOffset:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this.shadowOffsetX=n,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,h){return h===void 0&&(h=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(n,h){return h===void 0&&(h=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var h in r)n[h]=this[h];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});u.exports=t},34397:(u,x,e)=>{var l=e(70554),p=function(a,s,r,t){if(!(s.width===0||s.height===0)){r.addToRenderList(s);var n=s.frame,h=n.width,i=n.height,o=l.getTintAppendFloatAlpha,c=a.pipelines.set(s.pipeline,s),d=c.setTexture2D(n.glTexture,s);c.batchTexture(s,n.glTexture,h,i,s.x,s.y,h/s.style.resolution,i/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,h,i,o(s.tintTopLeft,r.alpha*s._alphaTL),o(s.tintTopRight,r.alpha*s._alphaTR),o(s.tintBottomLeft,r.alpha*s._alphaBL),o(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,0,0,r,t,!1,d)}};u.exports=p},20839:(u,x,e)=>{var l=e(27919),p=e(83419),a=e(31401),s=e(95643),r=e(98439),t=e(68703),n=e(56295),h=e(45650),i=e(26099),o=8,c=new p({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,n],initialize:function(f,v,m,g,y,T,C){var E=f.sys.renderer;s.call(this,f,"TileSprite");var z=f.sys.textures.get(T),D=z.get(C);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),z=f.sys.textures.get("__MISSING"),D=z.get()),z.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),z=f.sys.textures.get("__MISSING"),D=z.get()),!g||!y?(g=g||D.width,y=y||D.height):(g=Math.floor(g),y=Math.floor(y)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=E,this.canvas=l.create(this,g,y),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=z,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=h(),this.texture=f.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=r(D.width),this.potHeight=r(D.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(v,m),this.setSize(g,y),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,f){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(f)},setFrame:function(d){var f=this.displayTexture.get(d);return this.potWidth=r(f.width),this.potHeight=r(f.height),this.canvas.width=0,!f.cutWidth||!f.cutHeight?this.renderFlags&=~o:this.renderFlags|=o,this.displayFrame=f,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,f){return d!==void 0&&(this.tilePositionX=d),f!==void 0&&(this.tilePositionY=f),this},setTileScale:function(d,f){return d===void 0&&(d=this.tileScaleX),f===void 0&&(f=d),this.tileScaleX=d,this.tileScaleY=f,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var f=this.fillContext,v=this.fillCanvas,m=this.potWidth,g=this.potHeight;(!this.renderer||!this.renderer.gl)&&(m=d.cutWidth,g=d.cutHeight),f.clearRect(0,0,m,g),v.width=m,v.height=g,f.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,m,g),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(v,this.fillPattern):this.fillPattern=f.createPattern(v,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var f=this.context;this.scene.sys.game.config.antialias||t.disable(f);var v=this._tileScale.x,m=this._tileScale.y,g=this._tilePosition.x,y=this._tilePosition.y;f.clearRect(0,0,this.width,this.height),f.save(),f.scale(v,m),f.translate(-g,-y),f.fillStyle=this.fillPattern,f.fillRect(g,y,this.width/v,this.height/m),f.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});u.exports=c},46992:u=>{var x=function(e,l,p,a){l.updateCanvas(),p.addToRenderList(l),e.batchSprite(l,l.frame,p,a)};u.exports=x},14167:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(20839);p.register("tileSprite",function(r,t){r===void 0&&(r={});var n=a(r,"x",0),h=a(r,"y",0),i=a(r,"width",512),o=a(r,"height",512),c=a(r,"key",""),d=a(r,"frame",""),f=new s(this.scene,n,h,i,o,c,d);return t!==void 0&&(r.add=t),l(this.scene,f,r),f})},91681:(u,x,e)=>{var l=e(20839),p=e(39429);p.register("tileSprite",function(a,s,r,t,n,h){return this.displayList.add(new l(this.scene,a,s,r,t,n,h))})},56295:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(18553),a=e(46992),u.exports={renderWebGL:p,renderCanvas:a}},18553:(u,x,e)=>{var l=e(70554),p=function(a,s,r,t){s.updateCanvas();var n=s.width,h=s.height;if(!(n===0||h===0)){r.addToRenderList(s);var i=l.getTintAppendFloatAlpha,o=a.pipelines.set(s.pipeline,s),c=o.setTexture2D(s.fillPattern,s);o.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,n,h,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*n,s.originY*h,0,0,n,h,i(s.tintTopLeft,r.alpha*s._alphaTL),i(s.tintTopRight,r.alpha*s._alphaTR),i(s.tintBottomLeft,r.alpha*s._alphaBL),i(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,r,t,!1,c)}};u.exports=p},18471:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(31401),s=e(51708),r=e(8443),t=e(95643),n=e(36383),h=e(14463),i=e(45650),o=e(10247),c=new p({Extends:t,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,o],initialize:function(f,v,m,g){t.call(this,f,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var y=f.sys.game;this._device=y.device.video,this.setPosition(v,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),y.events.on(r.PAUSE,this.globalPause,this),y.events.on(r.RESUME,this.globalResume,this);var T=f.sys.sound;T&&T.on(h.GLOBAL_MUTE,this.globalMute,this),g&&this.load(g)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var f=this.scene.sys.cache.video.get(d);return f?(this.cacheKey=d,this.loadHandler(f.url,f.noAudio,f.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,f,v,m,g){f===void 0&&(f=!0),v===void 0&&(v=!1),this.cacheKey!==d&&(this.load(d),f&&this.play(v,m,g))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,f,v){f===void 0&&(f=!1);var m=this._device.getVideoURL(d);return m?(this.cacheKey="",this.loadHandler(m.url,f,v)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,f,v){return this.loadHandler(null,f,v,d)},loadHandler:function(d,f,v,m){f||(f=!1);var g=this.video;if(g?(this.removeLoadEventHandlers(),this.stop()):(g=document.createElement("video"),g.controls=!1,g.setAttribute("playsinline","playsinline"),g.setAttribute("preload","auto"),g.setAttribute("disablePictureInPicture","true")),f?(g.muted=!0,g.defaultMuted=!0,g.setAttribute("autoplay","autoplay")):(g.muted=!1,g.defaultMuted=!1,g.removeAttribute("autoplay")),v?g.setAttribute("crossorigin",v):g.removeAttribute("crossorigin"),m)if("srcObject"in g)try{g.srcObject=m}catch(T){if(T.name!=="TypeError")throw T;g.src=URL.createObjectURL(m)}else g.src=URL.createObjectURL(m);else g.src=d;this.retry=0,this.video=g,this._playCalled=!1,g.load(),this.addLoadEventHandlers();var y=this.scene.sys.textures.get(this._key);return this.setTexture(y),this},requestVideoFrame:function(d,f){var v=this.video;if(v){var m=f.width,g=f.height,y=this.videoTexture,T=this.videoTextureSource,C=!y||T.source!==v;C?(this._codePaused=v.paused,this._codeMuted=v.muted,y?(T.source=v,T.width=m,T.height=g,y.get().setSize(m,g)):(y=this.scene.sys.textures.create(this._key,v,m,g),y.add("__BASE",0,0,0,m,g),this.setTexture(y),this.videoTexture=y,this.videoTextureSource=y.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,y)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=f;var E=f.mediaTime;C&&(this._lastUpdate=E,this.emit(s.VIDEO_CREATED,this,m,g),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?E>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):E<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=E,this._getFrame?(this.removeEventHandlers(),v.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,f,v){f===void 0&&(f=-1),v===void 0&&(v=n.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(d===void 0&&(d=m.loop),m.loop=d,this._markerIn=f,this._markerOut=v,this._playingMarker=f>-1&&v>f&&v<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var v in f)d.addEventListener(v,f[v])}},removeEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var v in f)d.removeEventListener(v,f[v])}},createPlayPromise:function(d){d===void 0&&(d=!0);var f=this.video,v=f.play();if(v!==void 0){var m=this.playSuccess.bind(this),g=this.playError.bind(this);if(!d){var y=this;g=function(){y.failedPlayAttempts++}}v.then(m).catch(g)}else f.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,f,v){return!isNaN(f)&&f>=0&&!isNaN(v)&&v>f&&(this.markers[d]=[f,v]),this},playMarker:function(d,f){var v=this.markers[d];return v&&this.play(f,v[0],v[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,f){return d===void 0&&(d=this.width),f===void 0&&(f=this.height),this.snapshotArea(0,0,this.width,this.height,d,f)},snapshotArea:function(d,f,v,m,g,y){d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=this.width),m===void 0&&(m=this.height),g===void 0&&(g=v),y===void 0&&(y=m);var T=this.video,C=this.snapshotTexture;return C?(C.setSize(g,y),T&&C.context.drawImage(T,d,f,v,m,0,0,g,y)):(C=this.scene.sys.textures.createCanvas(i(),g,y),this.snapshotTexture=C,T&&C.context.drawImage(T,d,f,v,m,0,0,g,y)),C.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var f=d.name;f==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):f==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(s.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(s.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(d,f){var v=this.video;!v||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=f,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var f=this.video;if(f){var v=f.duration;if(v!==1/0&&!isNaN(v)){var m=v*d;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var f=this.video;if(f){if(typeof d=="string"){var v=d[0],m=parseFloat(d.substr(1));v==="+"?d=f.currentTime+m:v==="-"&&(d=f.currentTime-m)}f.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var f=d.duration;if(f!==1/0&&!isNaN(f))return d.currentTime/f}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var f=this.video;return f&&(f.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,f){this._systemMuted=f;var v=this.video;v&&(v.muted=this._codeMuted?!0:f)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var f=this.video;return this._codePaused=d,f&&!f.ended&&(d?f.paused||(this.removeEventHandlers(),f.pause()):d||(this._playCalled?f.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=l(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,f){return f===void 0&&(f=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(f)),this._key=d,this.flipY=f,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var f=this.video;return f&&(this.removeEventHandlers(),f.cancelVideoFrameCallback(this._rfvCallbackId),f.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(r.PAUSE,this.globalPause,this),d.off(r.RESUME,this.globalResume,this);var f=this.scene.sys.sound;f&&f.off(h.GLOBAL_MUTE,this.globalMute,this)}});u.exports=c},58352:u=>{var x=function(e,l,p,a){l.videoTexture&&(p.addToRenderList(l),e.batchSprite(l,l.frame,p,a))};u.exports=x},11511:(u,x,e)=>{var l=e(25305),p=e(44603),a=e(23568),s=e(18471);p.register("video",function(r,t){r===void 0&&(r={});var n=a(r,"key",null),h=new s(this.scene,0,0,n);return t!==void 0&&(r.add=t),l(this.scene,h,r),h})},89025:(u,x,e)=>{var l=e(18471),p=e(39429);p.register("video",function(a,s,r){return this.displayList.add(new l(this.scene,a,s,r))})},10247:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(29849),a=e(58352),u.exports={renderWebGL:p,renderCanvas:a}},29849:u=>{var x=function(e,l,p,a){l.videoTexture&&(p.addToRenderList(l),l.pipeline.batchSprite(l,p,a))};u.exports=x},41481:(u,x,e)=>{var l=e(10312),p=e(96503),a=e(87902),s=e(83419),r=e(31401),t=e(95643),n=e(87841),h=e(37303),i=new s({Extends:t,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(c,d,f,v,m){v===void 0&&(v=1),m===void 0&&(m=v),t.call(this,c,"Zone"),this.setPosition(d,f),this.width=v,this.height=m,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,c,d){d===void 0&&(d=!0),this.width=o,this.height=c,this.updateDisplayOrigin();var f=this.input;return d&&f&&!f.customHitArea&&(f.hitArea.width=o,f.hitArea.height=c),this},setDisplaySize:function(o,c){return this.displayWidth=o,this.displayHeight=c,this},setCircleDropZone:function(o){return this.setDropZone(new p(0,0,o),a)},setRectangleDropZone:function(o,c){return this.setDropZone(new n(0,0,o,c),h)},setDropZone:function(o,c){return this.input||this.setInteractive(o,c,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,c,d){d.addToRenderList(c)},renderWebGL:function(o,c,d){d.addToRenderList(c)}});u.exports=i},95261:(u,x,e)=>{var l=e(44603),p=e(23568),a=e(41481);l.register("zone",function(s){var r=p(s,"x",0),t=p(s,"y",0),n=p(s,"width",1),h=p(s,"height",n);return new a(this.scene,r,t,n,h)})},84175:(u,x,e)=>{var l=e(41481),p=e(39429);p.register("zone",function(a,s,r,t){return this.displayList.add(new l(this.scene,a,s,r,t))})},95166:u=>{var x=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};u.exports=x},96503:(u,x,e)=>{var l=e(83419),p=e(87902),a=e(26241),s=e(79124),r=e(23777),t=e(28176),n=new l({initialize:function(i,o,c){i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=0),this.type=r.CIRCLE,this.x=i,this.y=o,this._radius=c,this._diameter=c*2},contains:function(h,i){return p(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,o){return s(this,h,i,o)},getRandomPoint:function(h){return t(this,h)},setTo:function(h,i,o){return this.x=h,this.y=i,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});u.exports=n},71562:u=>{var x=function(e){return 2*(Math.PI*e.radius)};u.exports=x},92110:(u,x,e)=>{var l=e(2141),p=function(a,s,r){return r===void 0&&(r=new l),r.x=a.x+a.radius*Math.cos(s),r.y=a.y+a.radius*Math.sin(s),r};u.exports=p},42250:(u,x,e)=>{var l=e(96503),p=function(a){return new l(a.x,a.y,a.radius)};u.exports=p},87902:u=>{var x=function(e,l,p){if(e.radius>0&&l>=e.left&&l<=e.right&&p>=e.top&&p<=e.bottom){var a=(e.x-l)*(e.x-l),s=(e.y-p)*(e.y-p);return a+s<=e.radius*e.radius}else return!1};u.exports=x},5698:(u,x,e)=>{var l=e(87902),p=function(a,s){return l(a,s.x,s.y)};u.exports=p},70588:(u,x,e)=>{var l=e(87902),p=function(a,s){return l(a,s.x,s.y)&&l(a,s.right,s.y)&&l(a,s.x,s.bottom)&&l(a,s.right,s.bottom)};u.exports=p},26394:u=>{var x=function(e,l){return l.setTo(e.x,e.y,e.radius)};u.exports=x},76278:u=>{var x=function(e,l){return e.x===l.x&&e.y===l.y&&e.radius===l.radius};u.exports=x},2074:(u,x,e)=>{var l=e(87841),p=function(a,s){return s===void 0&&(s=new l),s.x=a.left,s.y=a.top,s.width=a.diameter,s.height=a.diameter,s};u.exports=p},26241:(u,x,e)=>{var l=e(92110),p=e(62945),a=e(36383),s=e(2141),r=function(t,n,h){h===void 0&&(h=new s);var i=p(n,0,a.PI2);return l(t,i,h)};u.exports=r},79124:(u,x,e)=>{var l=e(71562),p=e(92110),a=e(62945),s=e(36383),r=function(t,n,h,i){i===void 0&&(i=[]),!n&&h>0&&(n=l(t)/h);for(var o=0;o<n;o++){var c=a(o/n,0,s.PI2);i.push(p(t,c))}return i};u.exports=r},50884:u=>{var x=function(e,l,p){return e.x+=l,e.y+=p,e};u.exports=x},39212:u=>{var x=function(e,l){return e.x+=l.x,e.y+=l.y,e};u.exports=x},28176:(u,x,e)=>{var l=e(2141),p=function(a,s){s===void 0&&(s=new l);var r=2*Math.PI*Math.random(),t=Math.random()+Math.random(),n=t>1?2-t:t,h=n*Math.cos(r),i=n*Math.sin(r);return s.x=a.x+h*a.radius,s.y=a.y+i*a.radius,s};u.exports=p},88911:(u,x,e)=>{var l=e(96503);l.Area=e(95166),l.Circumference=e(71562),l.CircumferencePoint=e(92110),l.Clone=e(42250),l.Contains=e(87902),l.ContainsPoint=e(5698),l.ContainsRect=e(70588),l.CopyFrom=e(26394),l.Equals=e(76278),l.GetBounds=e(2074),l.GetPoint=e(26241),l.GetPoints=e(79124),l.Offset=e(50884),l.OffsetPoint=e(39212),l.Random=e(28176),u.exports=l},23777:u=>{var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};u.exports=x},78874:u=>{var x=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};u.exports=x},92990:u=>{var x=function(e){var l=e.width/2,p=e.height/2,a=Math.pow(l-p,2)/Math.pow(l+p,2);return Math.PI*(l+p)*(1+3*a/(10+Math.sqrt(4-3*a)))};u.exports=x},79522:(u,x,e)=>{var l=e(2141),p=function(a,s,r){r===void 0&&(r=new l);var t=a.width/2,n=a.height/2;return r.x=a.x+t*Math.cos(s),r.y=a.y+n*Math.sin(s),r};u.exports=p},58102:(u,x,e)=>{var l=e(8497),p=function(a){return new l(a.x,a.y,a.width,a.height)};u.exports=p},81154:u=>{var x=function(e,l,p){if(e.width<=0||e.height<=0)return!1;var a=(l-e.x)/e.width,s=(p-e.y)/e.height;return a*=a,s*=s,a+s<.25};u.exports=x},46662:(u,x,e)=>{var l=e(81154),p=function(a,s){return l(a,s.x,s.y)};u.exports=p},1632:(u,x,e)=>{var l=e(81154),p=function(a,s){return l(a,s.x,s.y)&&l(a,s.right,s.y)&&l(a,s.x,s.bottom)&&l(a,s.right,s.bottom)};u.exports=p},65534:u=>{var x=function(e,l){return l.setTo(e.x,e.y,e.width,e.height)};u.exports=x},8497:(u,x,e)=>{var l=e(83419),p=e(81154),a=e(90549),s=e(48320),r=e(23777),t=e(24820),n=new l({initialize:function(i,o,c,d){i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=r.ELLIPSE,this.x=i,this.y=o,this.width=c,this.height=d},contains:function(h,i){return p(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,o){return s(this,h,i,o)},getRandomPoint:function(h){return t(this,h)},setTo:function(h,i,o,c){return this.x=h,this.y=i,this.width=o,this.height=c,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},setSize:function(h,i){return i===void 0&&(i=h),this.width=h,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});u.exports=n},36146:u=>{var x=function(e,l){return e.x===l.x&&e.y===l.y&&e.width===l.width&&e.height===l.height};u.exports=x},23694:(u,x,e)=>{var l=e(87841),p=function(a,s){return s===void 0&&(s=new l),s.x=a.left,s.y=a.top,s.width=a.width,s.height=a.height,s};u.exports=p},90549:(u,x,e)=>{var l=e(79522),p=e(62945),a=e(36383),s=e(2141),r=function(t,n,h){h===void 0&&(h=new s);var i=p(n,0,a.PI2);return l(t,i,h)};u.exports=r},48320:(u,x,e)=>{var l=e(92990),p=e(79522),a=e(62945),s=e(36383),r=function(t,n,h,i){i===void 0&&(i=[]),!n&&h>0&&(n=l(t)/h);for(var o=0;o<n;o++){var c=a(o/n,0,s.PI2);i.push(p(t,c))}return i};u.exports=r},73424:u=>{var x=function(e,l,p){return e.x+=l,e.y+=p,e};u.exports=x},44808:u=>{var x=function(e,l){return e.x+=l.x,e.y+=l.y,e};u.exports=x},24820:(u,x,e)=>{var l=e(2141),p=function(a,s){s===void 0&&(s=new l);var r=Math.random()*Math.PI*2,t=Math.sqrt(Math.random());return s.x=a.x+t*Math.cos(r)*a.width/2,s.y=a.y+t*Math.sin(r)*a.height/2,s};u.exports=p},49203:(u,x,e)=>{var l=e(8497);l.Area=e(78874),l.Circumference=e(92990),l.CircumferencePoint=e(79522),l.Clone=e(58102),l.Contains=e(81154),l.ContainsPoint=e(46662),l.ContainsRect=e(1632),l.CopyFrom=e(65534),l.Equals=e(36146),l.GetBounds=e(23694),l.GetPoint=e(90549),l.GetPoints=e(48320),l.Offset=e(73424),l.OffsetPoint=e(44808),l.Random=e(24820),u.exports=l},55738:(u,x,e)=>{var l=e(23777),p=e(79291),a={Circle:e(88911),Ellipse:e(49203),Intersects:e(91865),Line:e(2529),Mesh:e(73090),Point:e(43711),Polygon:e(58423),Rectangle:e(93232),Triangle:e(84435)};a=p(!1,a,l),u.exports=a},2044:(u,x,e)=>{var l=e(20339),p=function(a,s){return l(a.x,a.y,s.x,s.y)<=a.radius+s.radius};u.exports=p},81491:u=>{var x=function(e,l){var p=l.width/2,a=l.height/2,s=Math.abs(e.x-l.x-p),r=Math.abs(e.y-l.y-a),t=p+e.radius,n=a+e.radius;if(s>t||r>n)return!1;if(s<=p||r<=a)return!0;var h=s-p,i=r-a,o=h*h,c=i*i,d=e.radius*e.radius;return o+c<=d};u.exports=x},63376:(u,x,e)=>{var l=e(2141),p=e(2044),a=function(s,r,t){if(t===void 0&&(t=[]),p(s,r)){var n=s.x,h=s.y,i=s.radius,o=r.x,c=r.y,d=r.radius,f,v,m,g,y;if(h===c)y=(d*d-i*i-o*o+n*n)/(2*(n-o)),f=1,v=-2*c,m=o*o+y*y-2*o*y+c*c-d*d,g=v*v-4*f*m,g===0?t.push(new l(y,-v/(2*f))):g>0&&(t.push(new l(y,(-v+Math.sqrt(g))/(2*f))),t.push(new l(y,(-v-Math.sqrt(g))/(2*f))));else{var T=(n-o)/(h-c),C=(d*d-i*i-o*o+n*n-c*c+h*h)/(2*(h-c));f=T*T+1,v=2*h*T-2*C*T-2*n,m=n*n+h*h+C*C-i*i-2*h*C,g=v*v-4*f*m,g===0?(y=-v/(2*f),t.push(new l(y,C-y*T))):g>0&&(y=(-v+Math.sqrt(g))/(2*f),t.push(new l(y,C-y*T)),y=(-v-Math.sqrt(g))/(2*f),t.push(new l(y,C-y*T)))}}return t};u.exports=a},97439:(u,x,e)=>{var l=e(4042),p=e(81491),a=function(s,r,t){if(t===void 0&&(t=[]),p(s,r)){var n=r.getLineA(),h=r.getLineB(),i=r.getLineC(),o=r.getLineD();l(n,s,t),l(h,s,t),l(i,s,t),l(o,s,t)}return t};u.exports=a},4042:(u,x,e)=>{var l=e(2141),p=e(80462),a=function(s,r,t){if(t===void 0&&(t=[]),p(s,r)){var n=s.x1,h=s.y1,i=s.x2,o=s.y2,c=r.x,d=r.y,f=r.radius,v=i-n,m=o-h,g=n-c,y=h-d,T=v*v+m*m,C=2*(v*g+m*y),E=g*g+y*y-f*f,z=C*C-4*T*E,D,A;if(z===0){var L=-C/(2*T);D=n+L*v,A=h+L*m,L>=0&&L<=1&&t.push(new l(D,A))}else if(z>0){var b=(-C-Math.sqrt(z))/(2*T);D=n+b*v,A=h+b*m,b>=0&&b<=1&&t.push(new l(D,A));var F=(-C+Math.sqrt(z))/(2*T);D=n+F*v,A=h+F*m,F>=0&&F<=1&&t.push(new l(D,A))}}return t};u.exports=a},36100:(u,x,e)=>{var l=e(25836),p=function(a,s,r,t){r===void 0&&(r=!1);var n=a.x1,h=a.y1,i=a.x2,o=a.y2,c=s.x1,d=s.y1,f=s.x2,v=s.y2,m=i-n,g=o-h,y=f-c,T=v-d,C=m*T-g*y;if(C===0)return null;var E,z,D;if(r){if(E=(m*(d-h)+g*(n-c))/(y*g-T*m),m!==0)z=(c+y*E-n)/m;else if(g!==0)z=(d+T*E-h)/g;else return null;if(z<0||E<0||E>1)return null;D=z}else{if(E=((c-n)*T-(d-h)*y)/C,z=((h-d)*m-(n-c)*g)/C,E<0||E>1||z<0||z>1)return null;D=E}return t===void 0&&(t=new l),t.set(n+m*D,h+g*D,D)};u.exports=p},3073:(u,x,e)=>{var l=e(36100),p=e(23031),a=e(25836),s=new p,r=new a,t=function(n,h,i,o){i===void 0&&(i=!1),o===void 0&&(o=new a);var c=!1;o.set(),r.set();for(var d=h[h.length-1],f=0;f<h.length;f++){var v=h[f];s.setTo(d.x,d.y,v.x,v.y),d=v,l(n,s,i,r)&&(!c||r.z<o.z)&&(o.copy(r),c=!0)}return c?o:null};u.exports=t},56362:(u,x,e)=>{var l=e(25836),p=e(61369),a=e(3073),s=new l,r=function(t,n,h,i){i===void 0&&(i=new p),Array.isArray(n)||(n=[n]);var o=!1;i.set(),s.set();for(var c=0;c<n.length;c++)a(t,n[c].points,h,s)&&(!o||s.z<i.z)&&(i.set(s.x,s.y,s.z,c),o=!0);return o?i:null};u.exports=r},60646:(u,x,e)=>{var l=e(2141),p=e(76112),a=e(92773),s=function(r,t,n){if(n===void 0&&(n=[]),a(r,t))for(var h=t.getLineA(),i=t.getLineB(),o=t.getLineC(),c=t.getLineD(),d=[new l,new l,new l,new l],f=[p(h,r,d[0]),p(i,r,d[1]),p(o,r,d[2]),p(c,r,d[3])],v=0;v<4;v++)f[v]&&n.push(d[v]);return n};u.exports=s},71147:(u,x,e)=>{var l=e(61369),p=e(56362),a=e(23031),s=new a;function r(h,i,o,c,d){var f=Math.cos(h),v=Math.sin(h);s.setTo(i,o,i+f,o+v);var m=p(s,c,!0);m&&d.push(new l(m.x,m.y,h,m.w))}function t(h,i){return h.z-i.z}var n=function(h,i,o){Array.isArray(o)||(o=[o]);for(var c=[],d=[],f=0;f<o.length;f++)for(var v=o[f].points,m=0;m<v.length;m++){var g=Math.atan2(v[m].y-i,v[m].x-h);d.indexOf(g)===-1&&(r(g,h,i,o,c),r(g-1e-5,h,i,o,c),r(g+1e-5,h,i,o,c),d.push(g))}return c.sort(t)};u.exports=n},68389:(u,x,e)=>{var l=e(87841),p=e(59996),a=function(s,r,t){return t===void 0&&(t=new l),p(s,r)&&(t.x=Math.max(s.x,r.x),t.y=Math.max(s.y,r.y),t.width=Math.min(s.right,r.right)-t.x,t.height=Math.min(s.bottom,r.bottom)-t.y),t};u.exports=a},52784:(u,x,e)=>{var l=e(60646),p=e(59996),a=function(s,r,t){if(t===void 0&&(t=[]),p(s,r)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC(),o=s.getLineD();l(n,r,t),l(h,r,t),l(i,r,t),l(o,r,t)}return t};u.exports=a},26341:(u,x,e)=>{var l=e(89265),p=e(60646),a=function(s,r,t){if(t===void 0&&(t=[]),l(s,r)){var n=r.getLineA(),h=r.getLineB(),i=r.getLineC();p(n,s,t),p(h,s,t),p(i,s,t)}return t};u.exports=a},38720:(u,x,e)=>{var l=e(4042),p=e(67636),a=function(s,r,t){if(t===void 0&&(t=[]),p(s,r)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC();l(n,r,t),l(h,r,t),l(i,r,t)}return t};u.exports=a},13882:(u,x,e)=>{var l=e(2141),p=e(2822),a=e(76112),s=function(r,t,n){if(n===void 0&&(n=[]),p(r,t))for(var h=r.getLineA(),i=r.getLineB(),o=r.getLineC(),c=[new l,new l,new l],d=[a(h,t,c[0]),a(i,t,c[1]),a(o,t,c[2])],f=0;f<3;f++)d[f]&&n.push(c[f]);return n};u.exports=s},75636:(u,x,e)=>{var l=e(82944),p=e(13882),a=function(s,r,t){if(t===void 0&&(t=[]),l(s,r)){var n=r.getLineA(),h=r.getLineB(),i=r.getLineC();p(s,n,t),p(s,h,t),p(s,i,t)}return t};u.exports=a},80462:(u,x,e)=>{var l=e(87902),p=e(2141),a=new p,s=function(r,t,n){if(n===void 0&&(n=a),l(t,r.x1,r.y1))return n.x=r.x1,n.y=r.y1,!0;if(l(t,r.x2,r.y2))return n.x=r.x2,n.y=r.y2,!0;var h=r.x2-r.x1,i=r.y2-r.y1,o=t.x-r.x1,c=t.y-r.y1,d=h*h+i*i,f=h,v=i;if(d>0){var m=(o*h+c*i)/d;f*=m,v*=m}n.x=r.x1+f,n.y=r.y1+v;var g=f*f+v*v;return g<=d&&f*h+v*i>=0&&l(t,n.x,n.y)};u.exports=s},76112:u=>{var x=function(e,l,p){var a=e.x1,s=e.y1,r=e.x2,t=e.y2,n=l.x1,h=l.y1,i=l.x2,o=l.y2;if(a===r&&s===t||n===i&&h===o)return!1;var c=(o-h)*(r-a)-(i-n)*(t-s);if(c===0)return!1;var d=((i-n)*(s-h)-(o-h)*(a-n))/c,f=((r-a)*(s-h)-(t-s)*(a-n))/c;return d<0||d>1||f<0||f>1?!1:(p&&(p.x=a+d*(r-a),p.y=s+d*(t-s)),!0)};u.exports=x},92773:u=>{var x=function(e,l){var p=e.x1,a=e.y1,s=e.x2,r=e.y2,t=l.x,n=l.y,h=l.right,i=l.bottom,o=0;if(p>=t&&p<=h&&a>=n&&a<=i||s>=t&&s<=h&&r>=n&&r<=i)return!0;if(p<t&&s>=t){if(o=a+(r-a)*(t-p)/(s-p),o>n&&o<=i)return!0}else if(p>h&&s<=h&&(o=a+(r-a)*(h-p)/(s-p),o>=n&&o<=i))return!0;if(a<n&&r>=n){if(o=p+(s-p)*(n-a)/(r-a),o>=t&&o<=h)return!0}else if(a>i&&r<=i&&(o=p+(s-p)*(i-a)/(r-a),o>=t&&o<=h))return!0;return!1};u.exports=x},16204:u=>{var x=function(e,l,p){p===void 0&&(p=1);var a=l.x1,s=l.y1,r=l.x2,t=l.y2,n=e.x,h=e.y,i=(r-a)*(r-a)+(t-s)*(t-s);if(i===0)return!1;var o=((n-a)*(r-a)+(h-s)*(t-s))/i;if(o<0)return Math.sqrt((a-n)*(a-n)+(s-h)*(s-h))<=p;if(o>=0&&o<=1){var c=((s-h)*(r-a)-(a-n)*(t-s))/i;return Math.abs(c)*Math.sqrt(i)<=p}else return Math.sqrt((r-n)*(r-n)+(t-h)*(t-h))<=p};u.exports=x},14199:(u,x,e)=>{var l=e(16204),p=function(a,s){if(!l(a,s))return!1;var r=Math.min(s.x1,s.x2),t=Math.max(s.x1,s.x2),n=Math.min(s.y1,s.y2),h=Math.max(s.y1,s.y2);return a.x>=r&&a.x<=t&&a.y>=n&&a.y<=h};u.exports=p},59996:u=>{var x=function(e,l){return e.width<=0||e.height<=0||l.width<=0||l.height<=0?!1:!(e.right<l.x||e.bottom<l.y||e.x>l.right||e.y>l.bottom)};u.exports=x},89265:(u,x,e)=>{var l=e(76112),p=e(37303),a=e(48653),s=e(77493),r=function(t,n){if(n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top)return!1;var h=n.getLineA(),i=n.getLineB(),o=n.getLineC();if(p(t,h.x1,h.y1)||p(t,h.x2,h.y2)||p(t,i.x1,i.y1)||p(t,i.x2,i.y2)||p(t,o.x1,o.y1)||p(t,o.x2,o.y2))return!0;var c=t.getLineA(),d=t.getLineB(),f=t.getLineC(),v=t.getLineD();if(l(h,c)||l(h,d)||l(h,f)||l(h,v)||l(i,c)||l(i,d)||l(i,f)||l(i,v)||l(o,c)||l(o,d)||l(o,f)||l(o,v))return!0;var m=s(t),g=a(n,m,!0);return g.length>0};u.exports=r},84411:u=>{var x=function(e,l,p,a,s,r){return r===void 0&&(r=0),!(l>e.right+r||p<e.left-r||a>e.bottom+r||s<e.top-r)};u.exports=x},67636:(u,x,e)=>{var l=e(80462),p=e(10690),a=function(s,r){return s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top?!1:!!(p(s,r.x,r.y)||l(s.getLineA(),r)||l(s.getLineB(),r)||l(s.getLineC(),r))};u.exports=a},2822:(u,x,e)=>{var l=e(76112),p=function(a,s){return!!(a.contains(s.x1,s.y1)||a.contains(s.x2,s.y2)||l(a.getLineA(),s)||l(a.getLineB(),s)||l(a.getLineC(),s))};u.exports=p},82944:(u,x,e)=>{var l=e(48653),p=e(71694),a=e(76112),s=function(r,t){if(r.left>t.right||r.right<t.left||r.top>t.bottom||r.bottom<t.top)return!1;var n=r.getLineA(),h=r.getLineB(),i=r.getLineC(),o=t.getLineA(),c=t.getLineB(),d=t.getLineC();if(a(n,o)||a(n,c)||a(n,d)||a(h,o)||a(h,c)||a(h,d)||a(i,o)||a(i,c)||a(i,d))return!0;var f=p(r),v=l(t,f,!0);return v.length>0||(f=p(t),v=l(r,f,!0),v.length>0)};u.exports=s},91865:(u,x,e)=>{u.exports={CircleToCircle:e(2044),CircleToRectangle:e(81491),GetCircleToCircle:e(63376),GetCircleToRectangle:e(97439),GetLineToCircle:e(4042),GetLineToLine:e(36100),GetLineToPoints:e(3073),GetLineToPolygon:e(56362),GetLineToRectangle:e(60646),GetRaysFromPointToPolygon:e(71147),GetRectangleIntersection:e(68389),GetRectangleToRectangle:e(52784),GetRectangleToTriangle:e(26341),GetTriangleToCircle:e(38720),GetTriangleToLine:e(13882),GetTriangleToTriangle:e(75636),LineToCircle:e(80462),LineToLine:e(76112),LineToRectangle:e(92773),PointToLine:e(16204),PointToLineSegment:e(14199),RectangleToRectangle:e(59996),RectangleToTriangle:e(89265),RectangleToValues:e(84411),TriangleToCircle:e(67636),TriangleToLine:e(2822),TriangleToTriangle:e(82944)}},91938:u=>{var x=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};u.exports=x},84993:u=>{var x=function(e,l,p){l===void 0&&(l=1),p===void 0&&(p=[]);var a=Math.round(e.x1),s=Math.round(e.y1),r=Math.round(e.x2),t=Math.round(e.y2),n=Math.abs(r-a),h=Math.abs(t-s),i=a<r?1:-1,o=s<t?1:-1,c=n-h;p.push({x:a,y:s});for(var d=1;!(a===r&&s===t);){var f=c<<1;f>-h&&(c-=h,a+=i),f<n&&(c+=n,s+=o),d%l===0&&p.push({x:a,y:s}),d++}return p};u.exports=x},36469:u=>{var x=function(e,l,p){var a=l-(e.x1+e.x2)/2,s=p-(e.y1+e.y2)/2;return e.x1+=a,e.y1+=s,e.x2+=a,e.y2+=s,e};u.exports=x},31116:(u,x,e)=>{var l=e(23031),p=function(a){return new l(a.x1,a.y1,a.x2,a.y2)};u.exports=p},59944:u=>{var x=function(e,l){return l.setTo(e.x1,e.y1,e.x2,e.y2)};u.exports=x},59220:u=>{var x=function(e,l){return e.x1===l.x1&&e.y1===l.y1&&e.x2===l.x2&&e.y2===l.y2};u.exports=x},78177:(u,x,e)=>{var l=e(35001),p=function(a,s,r){r===void 0&&(r=s);var t=l(a),n=a.x2-a.x1,h=a.y2-a.y1;return s&&(a.x1=a.x1-n/t*s,a.y1=a.y1-h/t*s),r&&(a.x2=a.x2+n/t*r,a.y2=a.y2+h/t*r),a};u.exports=p},26708:(u,x,e)=>{var l=e(52816),p=e(6113),a=e(2141),s=function(r,t,n,h,i){h===void 0&&(h=0),i===void 0&&(i=[]);var o=[],c=r.x1,d=r.y1,f=r.x2-c,v=r.y2-d,m=p(t,i),g,y,T=n-1;for(g=0;g<T;g++)y=m(g/T),o.push(new a(c+f*y,d+v*y));if(y=m(1),o.push(new a(c+f*y,d+v*y)),h>0){var C=o[0],E=[C];for(g=1;g<o.length-1;g++){var z=o[g];l(C,z)>=h&&(E.push(z),C=z)}var D=o[o.length-1];return l(C,D)<h&&E.pop(),E.push(D),E}else return o};u.exports=s},32125:(u,x,e)=>{var l=e(2141),p=function(a,s){return s===void 0&&(s=new l),s.x=(a.x1+a.x2)/2,s.y=(a.y1+a.y2)/2,s};u.exports=p},99569:(u,x,e)=>{var l=e(2141),p=function(a,s,r){r===void 0&&(r=new l);var t=a.x1,n=a.y1,h=a.x2,i=a.y2,o=(h-t)*(h-t)+(i-n)*(i-n);if(o===0)return r;var c=((s.x-t)*(h-t)+(s.y-n)*(i-n))/o;return r.x=t+c*(h-t),r.y=n+c*(i-n),r};u.exports=p},34638:(u,x,e)=>{var l=e(36383),p=e(91938),a=e(2141),s=function(r,t){t===void 0&&(t=new a);var n=p(r)-l.TAU;return t.x=Math.cos(n),t.y=Math.sin(n),t};u.exports=s},13151:(u,x,e)=>{var l=e(2141),p=function(a,s,r){return r===void 0&&(r=new l),r.x=a.x1+(a.x2-a.x1)*s,r.y=a.y1+(a.y2-a.y1)*s,r};u.exports=p},15258:(u,x,e)=>{var l=e(35001),p=e(2141),a=function(s,r,t,n){n===void 0&&(n=[]),!r&&t>0&&(r=l(s)/t);for(var h=s.x1,i=s.y1,o=s.x2,c=s.y2,d=0;d<r;d++){var f=d/r,v=h+(o-h)*f,m=i+(c-i)*f;n.push(new p(v,m))}return n};u.exports=a},26408:u=>{var x=function(e,l){var p=e.x1,a=e.y1,s=e.x2,r=e.y2,t=(s-p)*(s-p)+(r-a)*(r-a);if(t===0)return!1;var n=((a-l.y)*(s-p)-(p-l.x)*(r-a))/t;return Math.abs(n)*Math.sqrt(t)};u.exports=x},98770:u=>{var x=function(e){return Math.abs(e.y1-e.y2)};u.exports=x},35001:u=>{var x=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};u.exports=x},23031:(u,x,e)=>{var l=e(83419),p=e(13151),a=e(15258),s=e(23777),r=e(65822),t=e(26099),n=new l({initialize:function(i,o,c,d){i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=0),this.type=s.LINE,this.x1=i,this.y1=o,this.x2=c,this.y2=d},getPoint:function(h,i){return p(this,h,i)},getPoints:function(h,i,o){return a(this,h,i,o)},getRandomPoint:function(h){return r(this,h)},setTo:function(h,i,o,c){return h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=0),this.x1=h,this.y1=i,this.x2=o,this.y2=c,this},setFromObjects:function(h,i){return this.x1=h.x,this.y1=h.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(h){return h===void 0&&(h=new t),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new t),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});u.exports=n},64795:(u,x,e)=>{var l=e(36383),p=e(15994),a=e(91938),s=function(r){var t=a(r)-l.TAU;return p(t,-Math.PI,Math.PI)};u.exports=s},52616:(u,x,e)=>{var l=e(36383),p=e(91938),a=function(s){return Math.cos(p(s)-l.TAU)};u.exports=a},87231:(u,x,e)=>{var l=e(36383),p=e(91938),a=function(s){return Math.sin(p(s)-l.TAU)};u.exports=a},89662:u=>{var x=function(e,l,p){return e.x1+=l,e.y1+=p,e.x2+=l,e.y2+=p,e};u.exports=x},71165:u=>{var x=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};u.exports=x},65822:(u,x,e)=>{var l=e(2141),p=function(a,s){s===void 0&&(s=new l);var r=Math.random();return s.x=a.x1+r*(a.x2-a.x1),s.y=a.y1+r*(a.y2-a.y1),s};u.exports=p},69777:(u,x,e)=>{var l=e(91938),p=e(64795),a=function(s,r){return 2*p(r)-Math.PI-l(s)};u.exports=a},39706:(u,x,e)=>{var l=e(64400),p=function(a,s){var r=(a.x1+a.x2)/2,t=(a.y1+a.y2)/2;return l(a,r,t,s)};u.exports=p},82585:(u,x,e)=>{var l=e(64400),p=function(a,s,r){return l(a,s.x,s.y,r)};u.exports=p},64400:u=>{var x=function(e,l,p,a){var s=Math.cos(a),r=Math.sin(a),t=e.x1-l,n=e.y1-p;return e.x1=t*s-n*r+l,e.y1=t*r+n*s+p,t=e.x2-l,n=e.y2-p,e.x2=t*s-n*r+l,e.y2=t*r+n*s+p,e};u.exports=x},62377:u=>{var x=function(e,l,p,a,s){return e.x1=l,e.y1=p,e.x2=l+Math.cos(a)*s,e.y2=p+Math.sin(a)*s,e};u.exports=x},71366:u=>{var x=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};u.exports=x},10809:u=>{var x=function(e){return Math.abs(e.x1-e.x2)};u.exports=x},2529:(u,x,e)=>{var l=e(23031);l.Angle=e(91938),l.BresenhamPoints=e(84993),l.CenterOn=e(36469),l.Clone=e(31116),l.CopyFrom=e(59944),l.Equals=e(59220),l.Extend=e(78177),l.GetEasedPoints=e(26708),l.GetMidPoint=e(32125),l.GetNearestPoint=e(99569),l.GetNormal=e(34638),l.GetPoint=e(13151),l.GetPoints=e(15258),l.GetShortestDistance=e(26408),l.Height=e(98770),l.Length=e(35001),l.NormalAngle=e(64795),l.NormalX=e(52616),l.NormalY=e(87231),l.Offset=e(89662),l.PerpSlope=e(71165),l.Random=e(65822),l.ReflectAngle=e(69777),l.Rotate=e(39706),l.RotateAroundPoint=e(82585),l.RotateAroundXY=e(64400),l.SetToAngle=e(62377),l.Slope=e(71366),l.Width=e(10809),u.exports=l},83997:(u,x,e)=>{var l=e(83419),p=e(87841),a=e(26099);function s(t,n,h,i){var o=t-h,c=n-i,d=o*o+c*c;return Math.sqrt(d)}var r=new l({initialize:function(n,h,i){this.vertex1=n,this.vertex2=h,this.vertex3=i,this.bounds=new p,this._inCenter=new a},getInCenter:function(t){t===void 0&&(t=!0);var n=this.vertex1,h=this.vertex2,i=this.vertex3,o,c,d,f,v,m;t?(o=n.x,c=n.y,d=h.x,f=h.y,v=i.x,m=i.y):(o=n.vx,c=n.vy,d=h.vx,f=h.vy,v=i.vx,m=i.vy);var g=s(v,m,d,f),y=s(o,c,v,m),T=s(d,f,o,c),C=g+y+T;return this._inCenter.set((o*g+d*y+v*T)/C,(c*g+f*y+m*T)/C)},contains:function(t,n,h){var i=this.vertex1,o=this.vertex2,c=this.vertex3,d=i.vx,f=i.vy,v=o.vx,m=o.vy,g=c.vx,y=c.vy;if(h){var T=h.a,C=h.b,E=h.c,z=h.d,D=h.e,A=h.f;d=i.vx*T+i.vy*E+D,f=i.vx*C+i.vy*z+A,v=o.vx*T+o.vy*E+D,m=o.vx*C+o.vy*z+A,g=c.vx*T+c.vy*E+D,y=c.vx*C+c.vy*z+A}var L=g-d,b=y-f,F=v-d,V=m-f,B=t-d,N=n-f,U=L*L+b*b,I=L*F+b*V,H=L*B+b*N,O=F*F+V*V,R=F*B+V*N,Y=U*O-I*I,G=Y===0?0:1/Y,k=(O*H-I*R)*G,W=(U*R-I*H)*G;return k>=0&&W>=0&&k+W<1},isCounterClockwise:function(t){var n=this.vertex1,h=this.vertex2,i=this.vertex3,o=(h.vx-n.vx)*(i.vy-n.vy)-(h.vy-n.vy)*(i.vx-n.vx);return t<=0?o>=0:o<0},load:function(t,n,h,i,o){return h=this.vertex1.load(t,n,h,i,o),h=this.vertex2.load(t,n,h,i,o),h=this.vertex3.load(t,n,h,i,o),h},transformCoordinatesLocal:function(t,n,h,i){return this.vertex1.transformCoordinatesLocal(t,n,h,i),this.vertex2.transformCoordinatesLocal(t,n,h,i),this.vertex3.transformCoordinatesLocal(t,n,h,i),this},updateBounds:function(){var t=this.vertex1,n=this.vertex2,h=this.vertex3,i=this.bounds;return i.x=Math.min(t.vx,n.vx,h.vx),i.y=Math.min(t.vy,n.vy,h.vy),i.width=Math.max(t.vx,n.vx,h.vx)-i.x,i.height=Math.max(t.vy,n.vy,h.vy)-i.y,this},isInView:function(t,n,h,i,o,c,d,f,v,m,g){this.update(i,o,c,d,f,v,m,g);var y=this.vertex1,T=this.vertex2,C=this.vertex3;if(y.ta<=0&&T.ta<=0&&C.ta<=0||n&&!this.isCounterClockwise(h))return!1;var E=this.bounds;E.x=Math.min(y.tx,T.tx,C.tx),E.y=Math.min(y.ty,T.ty,C.ty),E.width=Math.max(y.tx,T.tx,C.tx)-E.x,E.height=Math.max(y.ty,T.ty,C.ty)-E.y;var z=t.x+t.width,D=t.y+t.height;return E.width<=0||E.height<=0||t.width<=0||t.height<=0?!1:!(E.right<t.x||E.bottom<t.y||E.x>z||E.y>D)},scrollUV:function(t,n){return this.vertex1.scrollUV(t,n),this.vertex2.scrollUV(t,n),this.vertex3.scrollUV(t,n),this},scaleUV:function(t,n){return this.vertex1.scaleUV(t,n),this.vertex2.scaleUV(t,n),this.vertex3.scaleUV(t,n),this},setColor:function(t){return this.vertex1.color=t,this.vertex2.color=t,this.vertex3.color=t,this},update:function(t,n,h,i,o,c,d,f){return this.vertex1.update(n,h,i,o,c,d,f,t),this.vertex2.update(n,h,i,o,c,d,f,t),this.vertex3.update(n,h,i,o,c,d,f,t),this},translate:function(t,n){n===void 0&&(n=0);var h=this.vertex1,i=this.vertex2,o=this.vertex3;return h.x+=t,h.y+=n,i.x+=t,i.y+=n,o.x+=t,o.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(t){var n=this.getInCenter();this.translate(t-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(t){var n=this.getInCenter();this.translate(0,t-n.y)}},alpha:{get:function(){var t=this.vertex1,n=this.vertex2,h=this.vertex3;return(t.alpha+n.alpha+h.alpha)/3},set:function(t){this.vertex1.alpha=t,this.vertex2.alpha=t,this.vertex3.alpha=t}},depth:{get:function(){var t=this.vertex1,n=this.vertex2,h=this.vertex3;return(t.vz+n.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});u.exports=r},48803:(u,x,e)=>{var l=e(83997),p=e(95540),a=e(37867),s=e(25836),r=e(39318),t=new s,n=new s,h=new a,i=function(o){var c=p(o,"mesh"),d=p(o,"texture",null),f=p(o,"frame"),v=p(o,"width",1),m=p(o,"height",v),g=p(o,"widthSegments",1),y=p(o,"heightSegments",g),T=p(o,"x",0),C=p(o,"y",0),E=p(o,"z",0),z=p(o,"rotateX",0),D=p(o,"rotateY",0),A=p(o,"rotateZ",0),L=p(o,"zIsUp",!0),b=p(o,"isOrtho",c?c.dirtyCache[11]:!1),F=p(o,"colors",[16777215]),V=p(o,"alphas",[1]),B=p(o,"tile",!1),N=p(o,"flipY",!1),U=p(o,"width",null),I={faces:[],verts:[]};t.set(T,C,E),n.set(z,D,A),h.fromRotationXYTranslation(n,t,L);var H;if(!d&&c)d=c.texture,f||(H=c.frame);else if(c&&typeof d=="string")d=c.scene.sys.textures.get(d);else if(!d)return I;H||(H=d.get(f)),!U&&b&&d&&c&&(v=H.width/c.height,m=H.height/c.height);var O=v/2,R=m/2,Y=Math.floor(g),G=Math.floor(y),k=Y+1,W=G+1,X=v/Y,j=m/G,K=[],$=[],Z,J,Q=0,_=1,ae=0,oe=1;H&&(Q=H.u0,_=H.u1,N?(ae=H.v1,oe=H.v0):(ae=H.v0,oe=H.v1));var le=_-Q,q=oe-ae;for(J=0;J<W;J++){var ie=J*j-R;for(Z=0;Z<k;Z++){var ne=Z*X-O;$.push(ne,-ie);var fe=Q+le*(Z/Y),ye=ae+q*(J/G);K.push(fe,ye)}}Array.isArray(F)||(F=[F]),Array.isArray(V)||(V=[V]);var Re=0,ge=0;for(J=0;J<G;J++)for(Z=0;Z<Y;Z++){var xe=(Z+k*J)*2,be=(Z+k*(J+1))*2,Je=(Z+1+k*(J+1))*2,Ce=(Z+1+k*J)*2,Ve=F[ge],Ye=V[Re],at=new r($[xe],$[xe+1],0,K[xe],K[xe+1],Ve,Ye).transformMat4(h),fi=new r($[be],$[be+1],0,K[be],K[be+1],Ve,Ye).transformMat4(h),vi=new r($[Ce],$[Ce+1],0,K[Ce],K[Ce+1],Ve,Ye).transformMat4(h),pi=new r($[be],$[be+1],0,K[be],K[be+1],Ve,Ye).transformMat4(h),mi=new r($[Je],$[Je+1],0,K[Je],K[Je+1],Ve,Ye).transformMat4(h),gi=new r($[Ce],$[Ce+1],0,K[Ce],K[Ce+1],Ve,Ye).transformMat4(h);B&&(at.setUVs(Q,oe),fi.setUVs(Q,ae),vi.setUVs(_,oe),pi.setUVs(Q,ae),mi.setUVs(_,ae),gi.setUVs(_,oe)),ge++,ge===F.length&&(ge=0),Re++,Re===V.length&&(Re=0),I.verts.push(at,fi,vi,pi,mi,gi),I.faces.push(new l(at,fi,vi),new l(pi,mi,gi))}return c&&(c.faces=c.faces.concat(I.faces),c.vertices=c.vertices.concat(I.verts)),I};u.exports=i},34684:(u,x,e)=>{var l=e(83997),p=e(37867),a=e(25836),s=e(39318),r=new a,t=new a,n=new p,h=function(i,o,c,d,f,v,m,g,y,T){c===void 0&&(c=1),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=!0);var C={faces:[],verts:[]},E=i.materials;r.set(d,f,v),t.set(m,g,y),n.fromRotationXYTranslation(t,r,T);for(var z=0;z<i.models.length;z++)for(var D=i.models[z],A=D.vertices,L=D.textureCoords,b=D.faces,F=0;F<b.length;F++){var V=b[F],B=V.vertices[0],N=V.vertices[1],U=V.vertices[2],I=A[B.vertexIndex],H=A[N.vertexIndex],O=A[U.vertexIndex],R=B.textureCoordsIndex,Y=N.textureCoordsIndex,G=U.textureCoordsIndex,k=R===-1?{u:0,v:1}:L[R],W=Y===-1?{u:0,v:0}:L[Y],X=G===-1?{u:1,v:1}:L[G],j=16777215;V.material!==""&&E[V.material]&&(j=E[V.material]);var K=new s(I.x*c,I.y*c,I.z*c,k.u,k.v,j).transformMat4(n),$=new s(H.x*c,H.y*c,H.z*c,W.u,W.v,j).transformMat4(n),Z=new s(O.x*c,O.y*c,O.z*c,X.u,X.v,j).transformMat4(n);C.verts.push(K,$,Z),C.faces.push(new l(K,$,Z))}return o&&(o.faces=o.faces.concat(C.faces),o.vertices=o.vertices.concat(C.verts)),C};u.exports=h},92515:(u,x,e)=>{var l=e(83997),p=e(39318),a=function(s,r,t,n,h,i,o,c){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),o===void 0&&(o=1),c===void 0&&(c=!1),s.length!==r.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},f,v,m,g,y,T,C,E,z,D,A,L=n?3:2,b=Array.isArray(i),F=Array.isArray(o);if(Array.isArray(t)&&t.length>0)for(f=0;f<t.length;f++){var V=t[f],B=t[f]*2,N=t[f]*L;v=s[N],m=s[N+1],g=n?s[N+2]:0,y=r[B],T=r[B+1],c&&(T=1-T),C=b?i[V]:i,E=F?o[V]:o,z=0,D=0,A=0,h&&(z=h[N],D=h[N+1],A=n?h[N+2]:0),d.vertices.push(new p(v,m,g,y,T,C,E,z,D,A))}else{var U=0,I=0;for(f=0;f<s.length;f+=L)v=s[f],m=s[f+1],g=n?s[f+2]:0,y=r[U],T=r[U+1],C=b?i[I]:i,E=F?o[I]:o,z=0,D=0,A=0,h&&(z=h[f],D=h[f+1],A=n?h[f+2]:0),d.vertices.push(new p(v,m,g,y,T,C,E,z,D,A)),U+=2,I++}for(f=0;f<d.vertices.length;f+=3){var H=d.vertices[f],O=d.vertices[f+1],R=d.vertices[f+2];d.faces.push(new l(H,O,R))}return d};u.exports=a},85048:u=>{var x=!0,e="untitled",l="",p="";function a(v){var m=v.indexOf("#");return m>-1?v.substring(0,m):v}function s(v){return v.models.length===0&&v.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),l="",v.models[v.models.length-1]}function r(v,m){var g=v.length>=2?v[1]:e;m.models.push({faces:[],name:g,textureCoords:[],vertexNormals:[],vertices:[]}),l=""}function t(v){v.length===2&&(l=v[1])}function n(v,m){var g=v.length,y=g>=2?parseFloat(v[1]):0,T=g>=3?parseFloat(v[2]):0,C=g>=4?parseFloat(v[3]):0;s(m).vertices.push({x:y,y:T,z:C})}function h(v,m){var g=v.length,y=g>=2?parseFloat(v[1]):0,T=g>=3?parseFloat(v[2]):0,C=g>=4?parseFloat(v[3]):0;isNaN(y)&&(y=0),isNaN(T)&&(T=0),isNaN(C)&&(C=0),x&&(T=1-T),s(m).textureCoords.push({u:y,v:T,w:C})}function i(v,m){var g=v.length,y=g>=2?parseFloat(v[1]):0,T=g>=3?parseFloat(v[2]):0,C=g>=4?parseFloat(v[3]):0;s(m).vertexNormals.push({x:y,y:T,z:C})}function o(v,m){var g=v.length-1;if(!(g<3)){for(var y={group:l,material:p,vertices:[]},T=0;T<g;T++){var C=v[T+1],E=C.split("/"),z=E.length;if(!(z<1||z>3)){var D=0,A=0,L=0;D=parseInt(E[0],10),z>1&&E[1]!==""&&(A=parseInt(E[1],10)),z>2&&(L=parseInt(E[2],10)),D!==0&&(D<0&&(D=s(m).vertices.length+1+D),A-=1,D-=1,L-=1,y.vertices.push({textureCoordsIndex:A,vertexIndex:D,vertexNormalIndex:L}))}}s(m).faces.push(y)}}function c(v,m){v.length>=2&&m.materialLibraries.push(v[1])}function d(v){v.length>=2&&(p=v[1])}var f=function(v,m){m===void 0&&(m=!0),x=m;var g={materials:{},materialLibraries:[],models:[]};l="",p="";for(var y=v.split(`
`),T=0;T<y.length;T++){var C=a(y[T]),E=C.replace(/\s\s+/g," ").trim().split(" ");switch(E[0].toLowerCase()){case"o":r(E,g);break;case"g":t(E);break;case"v":n(E,g);break;case"vt":h(E,g);break;case"vn":i(E,g);break;case"f":o(E,g);break;case"mtllib":c(E,g);break;case"usemtl":d(E);break}}return g};u.exports=f},61485:(u,x,e)=>{var l=e(37589),p=function(a){for(var s={},r=a.split(`
`),t="",n=0;n<r.length;n++){var h=r[n].trim();if(!(h.indexOf("#")===0||h==="")){var i=h.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{t=i[1];break}case"kd":{var o=Math.floor(i[1]*255),c=i.length>=2?Math.floor(i[2]*255):o,d=i.length>=3?Math.floor(i[3]*255):o;s[t]=l(o,c,d);break}}}}return s};u.exports=p},92570:u=>{var x=function(e,l,p,a){var s,r;if(p===void 0&&a===void 0){var t=e.getInCenter();s=t.x,r=t.y}var n=Math.cos(l),h=Math.sin(l),i=e.vertex1,o=e.vertex2,c=e.vertex3,d=i.x-s,f=i.y-r;i.set(d*n-f*h+s,d*h+f*n+r),d=o.x-s,f=o.y-r,o.set(d*n-f*h+s,d*h+f*n+r),d=c.x-s,f=c.y-r,c.set(d*n-f*h+s,d*h+f*n+r)};u.exports=x},39318:(u,x,e)=>{var l=e(83419),p=e(70554),a=e(25836),s=new l({Extends:a,initialize:function(t,n,h,i,o,c,d,f,v,m){c===void 0&&(c=16777215),d===void 0&&(d=1),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),a.call(this,t,n,h),this.vx=0,this.vy=0,this.vz=0,this.nx=f,this.ny=v,this.nz=m,this.u=i,this.v=o,this.color=c,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=o},setUVs:function(r,t){return this.u=r,this.v=t,this.tu=r,this.tv=t,this},scrollUV:function(r,t){return this.tu+=r,this.tv+=t,this},scaleUV:function(r,t){return this.tu=this.u*r,this.tv=this.v*t,this},transformCoordinatesLocal:function(r,t,n,h){var i=this.x,o=this.y,c=this.z,d=r.val,f=i*d[0]+o*d[4]+c*d[8]+d[12],v=i*d[1]+o*d[5]+c*d[9]+d[13],m=i*d[2]+o*d[6]+c*d[10]+d[14],g=i*d[3]+o*d[7]+c*d[11]+d[15];this.vx=f/g*t,this.vy=-(v/g)*n,h<=0?this.vz=m/g:this.vz=-(m/g)},resize:function(r,t,n,h,i,o){return this.x=r,this.y=t,this.vx=this.x*n,this.vy=-this.y*h,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),o<.5?this.vy+=h*(.5-o):o>.5&&(this.vy-=h*(o-.5)),this},update:function(r,t,n,h,i,o,c,d){var f=this.vx*r+this.vy*n+i,v=this.vx*t+this.vy*h+o;return c&&(f=Math.round(f),v=Math.round(v)),this.tx=f,this.ty=v,this.ta=this.alpha*d,this},load:function(r,t,n,h,i){return r[++n]=this.tx,r[++n]=this.ty,r[++n]=this.tu,r[++n]=this.tv,r[++n]=h,r[++n]=i,t[++n]=p.getTintAppendFloatAlpha(this.color,this.ta),n}});u.exports=s},73090:(u,x,e)=>{var l={Face:e(83997),GenerateGridVerts:e(48803),GenerateObjVerts:e(34684),GenerateVerts:e(92515),ParseObj:e(85048),ParseObjMaterial:e(61485),RotateFace:e(92570),Vertex:e(39318)};u.exports=l},96550:u=>{var x=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};u.exports=x},99706:(u,x,e)=>{var l=e(2141),p=function(a){return new l(a.x,a.y)};u.exports=p},68010:u=>{var x=function(e,l){return l.setTo(e.x,e.y)};u.exports=x},27814:u=>{var x=function(e,l){return e.x===l.x&&e.y===l.y};u.exports=x},73565:u=>{var x=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};u.exports=x},87555:(u,x,e)=>{var l=e(2141),p=function(a,s){if(s===void 0&&(s=new l),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var r=a.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)s.x=a[0].x,s.y=a[0].y;else{for(var t=0;t<r;t++)s.x+=a[t].x,s.y+=a[t].y;s.x/=r,s.y/=r}return s};u.exports=p},28793:u=>{var x=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};u.exports=x},44405:u=>{var x=function(e){return e.x*e.x+e.y*e.y};u.exports=x},20873:(u,x,e)=>{var l=e(87841),p=function(a,s){s===void 0&&(s=new l);for(var r=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var o=a[i];o.x>r&&(r=o.x),o.x<t&&(t=o.x),o.y>n&&(n=o.y),o.y<h&&(h=o.y)}return s.x=t,s.y=h,s.width=r-t,s.height=n-h,s};u.exports=p},26152:(u,x,e)=>{var l=e(2141),p=function(a,s,r,t){return r===void 0&&(r=0),t===void 0&&(t=new l),t.x=a.x+(s.x-a.x)*r,t.y=a.y+(s.y-a.y)*r,t};u.exports=p},55767:u=>{var x=function(e){return e.setTo(e.y,e.x)};u.exports=x},79432:(u,x,e)=>{var l=e(2141),p=function(a,s){return s===void 0&&(s=new l),s.setTo(-a.x,-a.y)};u.exports=p},2141:(u,x,e)=>{var l=e(83419),p=e(23777),a=new l({initialize:function(r,t){r===void 0&&(r=0),t===void 0&&(t=r),this.type=p.POINT,this.x=r,this.y=t},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});u.exports=a},72930:(u,x,e)=>{var l=e(2141),p=e(44405),a=function(s,r,t){t===void 0&&(t=new l);var n=s.x*r.x+s.y*r.y,h=n/p(r);return h!==0&&(t.x=h*r.x,t.y=h*r.y),t};u.exports=a},62880:(u,x,e)=>{var l=e(2141),p=function(a,s,r){r===void 0&&(r=new l);var t=a.x*s.x+a.y*s.y;return t!==0&&(r.x=t*s.x,r.y=t*s.y),r};u.exports=p},15093:(u,x,e)=>{var l=e(28793),p=function(a,s){if(a.x!==0||a.y!==0){var r=l(a);a.x/=r,a.y/=r}return a.x*=s,a.y*=s,a};u.exports=p},43711:(u,x,e)=>{var l=e(2141);l.Ceil=e(96550),l.Clone=e(99706),l.CopyFrom=e(68010),l.Equals=e(27814),l.Floor=e(73565),l.GetCentroid=e(87555),l.GetMagnitude=e(28793),l.GetMagnitudeSq=e(44405),l.GetRectangleFromPoints=e(20873),l.Interpolate=e(26152),l.Invert=e(55767),l.Negative=e(79432),l.Project=e(72930),l.ProjectUnit=e(62880),l.SetMagnitude=e(15093),u.exports=l},12306:(u,x,e)=>{var l=e(25717),p=function(a){return new l(a.points)};u.exports=p},63814:u=>{var x=function(e,l,p){for(var a=!1,s=-1,r=e.points.length-1;++s<e.points.length;r=s){var t=e.points[s].x,n=e.points[s].y,h=e.points[r].x,i=e.points[r].y;(n<=p&&p<i||i<=p&&p<n)&&l<(h-t)*(p-n)/(i-n)+t&&(a=!a)}return a};u.exports=x},99338:(u,x,e)=>{var l=e(63814),p=function(a,s){return l(a,s.x,s.y)};u.exports=p},94811:u=>{"use strict";function x(I,H,O){O=O||2;var R=H&&H.length,Y=R?H[0]*O:I.length,G=e(I,0,Y,O,!0),k=[];if(!G||G.next===G.prev)return k;var W,X,j,K,$,Z,J;if(R&&(G=n(I,H,G,O)),I.length>80*O){W=j=I[0],X=K=I[1];for(var Q=O;Q<Y;Q+=O)$=I[Q],Z=I[Q+1],$<W&&(W=$),Z<X&&(X=Z),$>j&&(j=$),Z>K&&(K=Z);J=Math.max(j-W,K-X),J=J!==0?32767/J:0}return p(G,k,O,W,X,J,0),k}function e(I,H,O,R,Y){var G,k;if(Y===U(I,H,O,R)>0)for(G=H;G<O;G+=R)k=V(G,I[G],I[G+1],k);else for(G=O-R;G>=H;G-=R)k=V(G,I[G],I[G+1],k);return k&&C(k,k.next)&&(B(k),k=k.next),k}function l(I,H){if(!I)return I;H||(H=I);var O=I,R;do if(R=!1,!O.steiner&&(C(O,O.next)||T(O.prev,O,O.next)===0)){if(B(O),O=H=O.prev,O===O.next)break;R=!0}else O=O.next;while(R||O!==H);return H}function p(I,H,O,R,Y,G,k){if(I){!k&&G&&d(I,R,Y,G);for(var W=I,X,j;I.prev!==I.next;){if(X=I.prev,j=I.next,G?s(I,R,Y,G):a(I)){H.push(X.i/O|0),H.push(I.i/O|0),H.push(j.i/O|0),B(I),I=j.next,W=j.next;continue}if(I=j,I===W){k?k===1?(I=r(l(I),H,O),p(I,H,O,R,Y,G,2)):k===2&&t(I,H,O,R,Y,G):p(l(I),H,O,R,Y,G,1);break}}}}function a(I){var H=I.prev,O=I,R=I.next;if(T(H,O,R)>=0)return!1;for(var Y=H.x,G=O.x,k=R.x,W=H.y,X=O.y,j=R.y,K=Y<G?Y<k?Y:k:G<k?G:k,$=W<X?W<j?W:j:X<j?X:j,Z=Y>G?Y>k?Y:k:G>k?G:k,J=W>X?W>j?W:j:X>j?X:j,Q=R.next;Q!==H;){if(Q.x>=K&&Q.x<=Z&&Q.y>=$&&Q.y<=J&&g(Y,W,G,X,k,j,Q.x,Q.y)&&T(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function s(I,H,O,R){var Y=I.prev,G=I,k=I.next;if(T(Y,G,k)>=0)return!1;for(var W=Y.x,X=G.x,j=k.x,K=Y.y,$=G.y,Z=k.y,J=W<X?W<j?W:j:X<j?X:j,Q=K<$?K<Z?K:Z:$<Z?$:Z,_=W>X?W>j?W:j:X>j?X:j,ae=K>$?K>Z?K:Z:$>Z?$:Z,oe=v(J,Q,H,O,R),le=v(_,ae,H,O,R),q=I.prevZ,ie=I.nextZ;q&&q.z>=oe&&ie&&ie.z<=le;){if(q.x>=J&&q.x<=_&&q.y>=Q&&q.y<=ae&&q!==Y&&q!==k&&g(W,K,X,$,j,Z,q.x,q.y)&&T(q.prev,q,q.next)>=0||(q=q.prevZ,ie.x>=J&&ie.x<=_&&ie.y>=Q&&ie.y<=ae&&ie!==Y&&ie!==k&&g(W,K,X,$,j,Z,ie.x,ie.y)&&T(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;q&&q.z>=oe;){if(q.x>=J&&q.x<=_&&q.y>=Q&&q.y<=ae&&q!==Y&&q!==k&&g(W,K,X,$,j,Z,q.x,q.y)&&T(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;ie&&ie.z<=le;){if(ie.x>=J&&ie.x<=_&&ie.y>=Q&&ie.y<=ae&&ie!==Y&&ie!==k&&g(W,K,X,$,j,Z,ie.x,ie.y)&&T(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function r(I,H,O){var R=I;do{var Y=R.prev,G=R.next.next;!C(Y,G)&&E(Y,R,R.next,G)&&L(Y,G)&&L(G,Y)&&(H.push(Y.i/O|0),H.push(R.i/O|0),H.push(G.i/O|0),B(R),B(R.next),R=I=G),R=R.next}while(R!==I);return l(R)}function t(I,H,O,R,Y,G){var k=I;do{for(var W=k.next.next;W!==k.prev;){if(k.i!==W.i&&y(k,W)){var X=F(k,W);k=l(k,k.next),X=l(X,X.next),p(k,H,O,R,Y,G,0),p(X,H,O,R,Y,G,0);return}W=W.next}k=k.next}while(k!==I)}function n(I,H,O,R){var Y=[],G,k,W,X,j;for(G=0,k=H.length;G<k;G++)W=H[G]*R,X=G<k-1?H[G+1]*R:I.length,j=e(I,W,X,R,!1),j===j.next&&(j.steiner=!0),Y.push(m(j));for(Y.sort(h),G=0;G<Y.length;G++)O=i(Y[G],O);return O}function h(I,H){return I.x-H.x}function i(I,H){var O=o(I,H);if(!O)return H;var R=F(O,I);return l(R,R.next),l(O,O.next)}function o(I,H){var O=H,R=I.x,Y=I.y,G=-1/0,k;do{if(Y<=O.y&&Y>=O.next.y&&O.next.y!==O.y){var W=O.x+(Y-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(W<=R&&W>G&&(G=W,k=O.x<O.next.x?O:O.next,W===R))return k}O=O.next}while(O!==H);if(!k)return null;var X=k,j=k.x,K=k.y,$=1/0,Z;O=k;do R>=O.x&&O.x>=j&&R!==O.x&&g(Y<K?R:G,Y,j,K,Y<K?G:R,Y,O.x,O.y)&&(Z=Math.abs(Y-O.y)/(R-O.x),L(O,I)&&(Z<$||Z===$&&(O.x>k.x||O.x===k.x&&c(k,O)))&&(k=O,$=Z)),O=O.next;while(O!==X);return k}function c(I,H){return T(I.prev,I,H.prev)<0&&T(H.next,I,I.next)<0}function d(I,H,O,R){var Y=I;do Y.z===0&&(Y.z=v(Y.x,Y.y,H,O,R)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==I);Y.prevZ.nextZ=null,Y.prevZ=null,f(Y)}function f(I){var H,O,R,Y,G,k,W,X,j=1;do{for(O=I,I=null,G=null,k=0;O;){for(k++,R=O,W=0,H=0;H<j&&(W++,R=R.nextZ,!!R);H++);for(X=j;W>0||X>0&&R;)W!==0&&(X===0||!R||O.z<=R.z)?(Y=O,O=O.nextZ,W--):(Y=R,R=R.nextZ,X--),G?G.nextZ=Y:I=Y,Y.prevZ=G,G=Y;O=R}G.nextZ=null,j*=2}while(k>1);return I}function v(I,H,O,R,Y){return I=(I-O)*Y|0,H=(H-R)*Y|0,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,I|H<<1}function m(I){var H=I,O=I;do(H.x<O.x||H.x===O.x&&H.y<O.y)&&(O=H),H=H.next;while(H!==I);return O}function g(I,H,O,R,Y,G,k,W){return(Y-k)*(H-W)>=(I-k)*(G-W)&&(I-k)*(R-W)>=(O-k)*(H-W)&&(O-k)*(G-W)>=(Y-k)*(R-W)}function y(I,H){return I.next.i!==H.i&&I.prev.i!==H.i&&!A(I,H)&&(L(I,H)&&L(H,I)&&b(I,H)&&(T(I.prev,I,H.prev)||T(I,H.prev,H))||C(I,H)&&T(I.prev,I,I.next)>0&&T(H.prev,H,H.next)>0)}function T(I,H,O){return(H.y-I.y)*(O.x-H.x)-(H.x-I.x)*(O.y-H.y)}function C(I,H){return I.x===H.x&&I.y===H.y}function E(I,H,O,R){var Y=D(T(I,H,O)),G=D(T(I,H,R)),k=D(T(O,R,I)),W=D(T(O,R,H));return!!(Y!==G&&k!==W||Y===0&&z(I,O,H)||G===0&&z(I,R,H)||k===0&&z(O,I,R)||W===0&&z(O,H,R))}function z(I,H,O){return H.x<=Math.max(I.x,O.x)&&H.x>=Math.min(I.x,O.x)&&H.y<=Math.max(I.y,O.y)&&H.y>=Math.min(I.y,O.y)}function D(I){return I>0?1:I<0?-1:0}function A(I,H){var O=I;do{if(O.i!==I.i&&O.next.i!==I.i&&O.i!==H.i&&O.next.i!==H.i&&E(O,O.next,I,H))return!0;O=O.next}while(O!==I);return!1}function L(I,H){return T(I.prev,I,I.next)<0?T(I,H,I.next)>=0&&T(I,I.prev,H)>=0:T(I,H,I.prev)<0||T(I,I.next,H)<0}function b(I,H){var O=I,R=!1,Y=(I.x+H.x)/2,G=(I.y+H.y)/2;do O.y>G!=O.next.y>G&&O.next.y!==O.y&&Y<(O.next.x-O.x)*(G-O.y)/(O.next.y-O.y)+O.x&&(R=!R),O=O.next;while(O!==I);return R}function F(I,H){var O=new N(I.i,I.x,I.y),R=new N(H.i,H.x,H.y),Y=I.next,G=H.prev;return I.next=H,H.prev=I,O.next=Y,Y.prev=O,R.next=O,O.prev=R,G.next=R,R.prev=G,R}function V(I,H,O,R){var Y=new N(I,H,O);return R?(Y.next=R.next,Y.prev=R,R.next.prev=Y,R.next=Y):(Y.prev=Y,Y.next=Y),Y}function B(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function N(I,H,O){this.i=I,this.x=H,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(I,H,O,R){var Y=H&&H.length,G=Y?H[0]*O:I.length,k=Math.abs(U(I,0,G,O));if(Y)for(var W=0,X=H.length;W<X;W++){var j=H[W]*O,K=W<X-1?H[W+1]*O:I.length;k-=Math.abs(U(I,j,K,O))}var $=0;for(W=0;W<R.length;W+=3){var Z=R[W]*O,J=R[W+1]*O,Q=R[W+2]*O;$+=Math.abs((I[Z]-I[Q])*(I[J+1]-I[Z+1])-(I[Z]-I[J])*(I[Q+1]-I[Z+1]))}return k===0&&$===0?0:Math.abs(($-k)/k)};function U(I,H,O,R){for(var Y=0,G=H,k=O-R;G<O;G+=R)Y+=(I[k]-I[G])*(I[G+1]+I[k+1]),k=G;return Y}x.flatten=function(I){for(var H=I[0][0].length,O={vertices:[],holes:[],dimensions:H},R=0,Y=0;Y<I.length;Y++){for(var G=0;G<I[Y].length;G++)for(var k=0;k<H;k++)O.vertices.push(I[Y][G][k]);Y>0&&(R+=I[Y-1].length,O.holes.push(R))}return O},u.exports=x},13829:(u,x,e)=>{var l=e(87841),p=function(a,s){s===void 0&&(s=new l);for(var r=1/0,t=1/0,n=-r,h=-t,i,o=0;o<a.points.length;o++)i=a.points[o],r=Math.min(r,i.x),t=Math.min(t,i.y),n=Math.max(n,i.x),h=Math.max(h,i.y);return s.x=r,s.y=t,s.width=n-r,s.height=h-t,s};u.exports=p},26173:u=>{var x=function(e,l){l===void 0&&(l=[]);for(var p=0;p<e.points.length;p++)l.push(e.points[p].x),l.push(e.points[p].y);return l};u.exports=x},9564:(u,x,e)=>{var l=e(35001),p=e(23031),a=e(30052),s=function(r,t,n,h){h===void 0&&(h=[]);var i=r.points,o=a(r);!t&&n>0&&(t=o/n);for(var c=0;c<t;c++)for(var d=o*(c/t),f=0,v=0;v<i.length;v++){var m=i[v],g=i[(v+1)%i.length],y=new p(m.x,m.y,g.x,g.y),T=l(y);if(d<f||d>f+T){f+=T;continue}var C=y.getPoint((d-f)/T);h.push(C);break}return h};u.exports=s},30052:(u,x,e)=>{var l=e(35001),p=e(23031),a=function(s){for(var r=s.points,t=0,n=0;n<r.length;n++){var h=r[n],i=r[(n+1)%r.length],o=new p(h.x,h.y,i.x,i.y);t+=l(o)}return t};u.exports=a},25717:(u,x,e)=>{var l=e(83419),p=e(63814),a=e(9564),s=e(23777),r=new l({initialize:function(n){this.type=s.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(t,n){return p(this,t,n)},setTo:function(t){if(this.area=0,this.points=[],typeof t=="string"&&(t=t.split(" ")),!Array.isArray(t))return this;for(var n,h=0;h<t.length;h++)n={x:0,y:0},typeof t[h]=="number"||typeof t[h]=="string"?(n.x=parseFloat(t[h]),n.y=parseFloat(t[h+1]),h++):Array.isArray(t[h])?(n.x=t[h][0],n.y=t[h][1]):(n.x=t[h].x,n.y=t[h].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t=0,n,h,i=0;i<this.points.length-1;i++)n=this.points[i],h=this.points[i+1],t+=(h.x-n.x)*(n.y+h.y);return n=this.points[0],h=this.points[this.points.length-1],t+=(n.x-h.x)*(h.y+n.y),this.area=-t*.5,this.area},getPoints:function(t,n,h){return a(this,t,n,h)}});u.exports=r},8133:u=>{var x=function(e){return e.points.reverse(),e};u.exports=x},29524:u=>{function x(r,t){var n=r.x-t.x,h=r.y-t.y;return n*n+h*h}function e(r,t,n){var h=t.x,i=t.y,o=n.x-h,c=n.y-i;if(o!==0||c!==0){var d=((r.x-h)*o+(r.y-i)*c)/(o*o+c*c);d>1?(h=n.x,i=n.y):d>0&&(h+=o*d,i+=c*d)}return o=r.x-h,c=r.y-i,o*o+c*c}function l(r,t){for(var n=r[0],h=[n],i,o=1,c=r.length;o<c;o++)i=r[o],x(i,n)>t&&(h.push(i),n=i);return n!==i&&h.push(i),h}function p(r,t,n,h,i){for(var o=h,c,d=t+1;d<n;d++){var f=e(r[d],r[t],r[n]);f>o&&(c=d,o=f)}o>h&&(c-t>1&&p(r,t,c,h,i),i.push(r[c]),n-c>1&&p(r,c,n,h,i))}function a(r,t){var n=r.length-1,h=[r[0]];return p(r,0,n,t,h),h.push(r[n]),h}var s=function(r,t,n){t===void 0&&(t=1),n===void 0&&(n=!1);var h=r.points;if(h.length>2){var i=t*t;n||(h=l(h,i)),r.setTo(a(h,i))}return r};u.exports=s},5469:u=>{var x=function(l,p){return l[0]=p[0],l[1]=p[1],l},e=function(l){var p,a=[],s=l.points;for(p=0;p<s.length;p++)a.push([s[p].x,s[p].y]);var r=[];for(a.length>0&&r.push(x([0,0],a[0])),p=0;p<a.length-1;p++){var t=a[p],n=a[p+1],h=t[0],i=t[1],o=n[0],c=n[1];r.push([.85*h+.15*o,.85*i+.15*c]),r.push([.15*h+.85*o,.15*i+.85*c])}return a.length>1&&r.push(x([0,0],a[a.length-1])),l.setTo(r)};u.exports=e},24709:u=>{var x=function(e,l,p){for(var a=e.points,s=0;s<a.length;s++)a[s].x+=l,a[s].y+=p;return e};u.exports=x},58423:(u,x,e)=>{var l=e(25717);l.Clone=e(12306),l.Contains=e(63814),l.ContainsPoint=e(99338),l.Earcut=e(94811),l.GetAABB=e(13829),l.GetNumberArray=e(26173),l.GetPoints=e(9564),l.Perimeter=e(30052),l.Reverse=e(8133),l.Simplify=e(29524),l.Smooth=e(5469),l.Translate=e(24709),u.exports=l},62224:u=>{var x=function(e){return e.width*e.height};u.exports=x},98615:u=>{var x=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};u.exports=x},31688:u=>{var x=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};u.exports=x},67502:u=>{var x=function(e,l,p){return e.x=l-e.width/2,e.y=p-e.height/2,e};u.exports=x},65085:(u,x,e)=>{var l=e(87841),p=function(a){return new l(a.x,a.y,a.width,a.height)};u.exports=p},37303:u=>{var x=function(e,l,p){return e.width<=0||e.height<=0?!1:e.x<=l&&e.x+e.width>=l&&e.y<=p&&e.y+e.height>=p};u.exports=x},96553:(u,x,e)=>{var l=e(37303),p=function(a,s){return l(a,s.x,s.y)};u.exports=p},70273:u=>{var x=function(e,l){return l.width*l.height>e.width*e.height?!1:l.x>e.x&&l.x<e.right&&l.right>e.x&&l.right<e.right&&l.y>e.y&&l.y<e.bottom&&l.bottom>e.y&&l.bottom<e.bottom};u.exports=x},43459:u=>{var x=function(e,l){return l.setTo(e.x,e.y,e.width,e.height)};u.exports=x},77493:u=>{var x=function(e,l){return l===void 0&&(l=[]),l.push({x:e.x,y:e.y}),l.push({x:e.right,y:e.y}),l.push({x:e.right,y:e.bottom}),l.push({x:e.x,y:e.bottom}),l};u.exports=x},9219:u=>{var x=function(e,l){return e.x===l.x&&e.y===l.y&&e.width===l.width&&e.height===l.height};u.exports=x},53751:(u,x,e)=>{var l=e(8249),p=function(a,s){var r=l(a);return r<l(s)?a.setSize(s.height*r,s.height):a.setSize(s.width,s.width/r),a.setPosition(s.centerX-a.width/2,s.centerY-a.height/2)};u.exports=p},16088:(u,x,e)=>{var l=e(8249),p=function(a,s){var r=l(a);return r>l(s)?a.setSize(s.height*r,s.height):a.setSize(s.width,s.width/r),a.setPosition(s.centerX-a.width/2,s.centerY-a.height/2)};u.exports=p},80774:u=>{var x=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};u.exports=x},83859:u=>{var x=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};u.exports=x},19217:(u,x,e)=>{var l=e(87841),p=e(36383),a=function(s,r){if(r===void 0&&(r=new l),s.length===0)return r;for(var t=Number.MAX_VALUE,n=Number.MAX_VALUE,h=p.MIN_SAFE_INTEGER,i=p.MIN_SAFE_INTEGER,o,c,d,f=0;f<s.length;f++)o=s[f],Array.isArray(o)?(c=o[0],d=o[1]):(c=o.x,d=o.y),t=Math.min(t,c),n=Math.min(n,d),h=Math.max(h,c),i=Math.max(i,d);return r.x=t,r.y=n,r.width=h-t,r.height=i-n,r};u.exports=a},9477:(u,x,e)=>{var l=e(87841),p=function(a,s,r,t,n){return n===void 0&&(n=new l),n.setTo(Math.min(a,r),Math.min(s,t),Math.abs(a-r),Math.abs(s-t))};u.exports=p},8249:u=>{var x=function(e){return e.height===0?NaN:e.width/e.height};u.exports=x},27165:(u,x,e)=>{var l=e(2141),p=function(a,s){return s===void 0&&(s=new l),s.x=a.centerX,s.y=a.centerY,s};u.exports=p},20812:(u,x,e)=>{var l=e(13019),p=e(2141),a=function(s,r,t){if(t===void 0&&(t=new p),r<=0||r>=1)return t.x=s.x,t.y=s.y,t;var n=l(s)*r;return r>.5?(n-=s.width+s.height,n<=s.width?(t.x=s.right-n,t.y=s.bottom):(t.x=s.x,t.y=s.bottom-(n-s.width))):n<=s.width?(t.x=s.x+n,t.y=s.y):(t.x=s.right,t.y=s.y+(n-s.width)),t};u.exports=a},34819:(u,x,e)=>{var l=e(20812),p=e(13019),a=function(s,r,t,n){n===void 0&&(n=[]),!r&&t>0&&(r=p(s)/t);for(var h=0;h<r;h++){var i=h/r;n.push(l(s,i))}return n};u.exports=a},51313:(u,x,e)=>{var l=e(2141),p=function(a,s){return s===void 0&&(s=new l),s.x=a.width,s.y=a.height,s};u.exports=p},86091:(u,x,e)=>{var l=e(67502),p=function(a,s,r){var t=a.centerX,n=a.centerY;return a.setSize(a.width+s*2,a.height+r*2),l(a,t,n)};u.exports=p},53951:(u,x,e)=>{var l=e(87841),p=e(59996),a=function(s,r,t){return t===void 0&&(t=new l),p(s,r)?(t.x=Math.max(s.x,r.x),t.y=Math.max(s.y,r.y),t.width=Math.min(s.right,r.right)-t.x,t.height=Math.min(s.bottom,r.bottom)-t.y):t.setEmpty(),t};u.exports=a},14649:(u,x,e)=>{var l=e(13019),p=e(2141),a=function(s,r,t,n){if(n===void 0&&(n=[]),!r&&!t)return n;r?t=Math.round(l(s)/r):r=l(s)/t;for(var h=s.x,i=s.y,o=0,c=0;c<t;c++)switch(n.push(new p(h,i)),o){case 0:h+=r,h>=s.right&&(o=1,i+=h-s.right,h=s.right);break;case 1:i+=r,i>=s.bottom&&(o=2,h-=i-s.bottom,i=s.bottom);break;case 2:h-=r,h<=s.left&&(o=3,i-=s.left-h,h=s.left);break;case 3:i-=r,i<=s.top&&(o=0,i=s.top);break}return n};u.exports=a},33595:u=>{var x=function(e,l){for(var p=e.x,a=e.right,s=e.y,r=e.bottom,t=0;t<l.length;t++)p=Math.min(p,l[t].x),a=Math.max(a,l[t].x),s=Math.min(s,l[t].y),r=Math.max(r,l[t].y);return e.x=p,e.y=s,e.width=a-p,e.height=r-s,e};u.exports=x},20074:u=>{var x=function(e,l){var p=Math.min(e.x,l.x),a=Math.max(e.right,l.right);e.x=p,e.width=a-p;var s=Math.min(e.y,l.y),r=Math.max(e.bottom,l.bottom);return e.y=s,e.height=r-s,e};u.exports=x},92171:u=>{var x=function(e,l,p){var a=Math.min(e.x,l),s=Math.max(e.right,l);e.x=a,e.width=s-a;var r=Math.min(e.y,p),t=Math.max(e.bottom,p);return e.y=r,e.height=t-r,e};u.exports=x},42981:u=>{var x=function(e,l,p){return e.x+=l,e.y+=p,e};u.exports=x},46907:u=>{var x=function(e,l){return e.x+=l.x,e.y+=l.y,e};u.exports=x},60170:u=>{var x=function(e,l){return e.x<l.right&&e.right>l.x&&e.y<l.bottom&&e.bottom>l.y};u.exports=x},13019:u=>{var x=function(e){return 2*(e.width+e.height)};u.exports=x},85133:(u,x,e)=>{var l=e(2141),p=e(39506),a=function(s,r,t){t===void 0&&(t=new l),r=p(r);var n=Math.sin(r),h=Math.cos(r),i=h>0?s.width/2:s.width/-2,o=n>0?s.height/2:s.height/-2;return Math.abs(i*n)<Math.abs(o*h)?o=i*n/h:i=o*h/n,t.x=i+s.centerX,t.y=o+s.centerY,t};u.exports=a},26597:(u,x,e)=>{var l=e(2141),p=function(a,s){return s===void 0&&(s=new l),s.x=a.x+Math.random()*a.width,s.y=a.y+Math.random()*a.height,s};u.exports=p},86470:(u,x,e)=>{var l=e(30976),p=e(70273),a=e(2141),s=function(r,t,n){if(n===void 0&&(n=new a),p(r,t))switch(l(0,3)){case 0:n.x=r.x+Math.random()*(t.right-r.x),n.y=r.y+Math.random()*(t.top-r.y);break;case 1:n.x=t.x+Math.random()*(r.right-t.x),n.y=t.bottom+Math.random()*(r.bottom-t.bottom);break;case 2:n.x=r.x+Math.random()*(t.x-r.x),n.y=t.y+Math.random()*(r.bottom-t.y);break;case 3:n.x=t.right+Math.random()*(r.right-t.right),n.y=r.y+Math.random()*(t.bottom-r.y);break}return n};u.exports=s},87841:(u,x,e)=>{var l=e(83419),p=e(37303),a=e(20812),s=e(34819),r=e(23777),t=e(23031),n=e(26597),h=new l({initialize:function(o,c,d,f){o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=0),this.type=r.RECTANGLE,this.x=o,this.y=c,this.width=d,this.height=f},contains:function(i,o){return p(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,c){return s(this,i,o,c)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,o,c,d){return this.x=i,this.y=o,this.width=c,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,o){return o===void 0&&(o=i),this.x=i,this.y=o,this},setSize:function(i,o){return o===void 0&&(o=i),this.width=i,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new t),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new t),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new t),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new t),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});u.exports=h},94845:u=>{var x=function(e,l){return e.width===l.width&&e.height===l.height};u.exports=x},31730:u=>{var x=function(e,l,p){return p===void 0&&(p=l),e.width*=l,e.height*=p,e};u.exports=x},36899:(u,x,e)=>{var l=e(87841),p=function(a,s,r){r===void 0&&(r=new l);var t=Math.min(a.x,s.x),n=Math.min(a.y,s.y),h=Math.max(a.right,s.right)-t,i=Math.max(a.bottom,s.bottom)-n;return r.setTo(t,n,h,i)};u.exports=p},93232:(u,x,e)=>{var l=e(87841);l.Area=e(62224),l.Ceil=e(98615),l.CeilAll=e(31688),l.CenterOn=e(67502),l.Clone=e(65085),l.Contains=e(37303),l.ContainsPoint=e(96553),l.ContainsRect=e(70273),l.CopyFrom=e(43459),l.Decompose=e(77493),l.Equals=e(9219),l.FitInside=e(53751),l.FitOutside=e(16088),l.Floor=e(80774),l.FloorAll=e(83859),l.FromPoints=e(19217),l.FromXY=e(9477),l.GetAspectRatio=e(8249),l.GetCenter=e(27165),l.GetPoint=e(20812),l.GetPoints=e(34819),l.GetSize=e(51313),l.Inflate=e(86091),l.Intersection=e(53951),l.MarchingAnts=e(14649),l.MergePoints=e(33595),l.MergeRect=e(20074),l.MergeXY=e(92171),l.Offset=e(42981),l.OffsetPoint=e(46907),l.Overlaps=e(60170),l.Perimeter=e(13019),l.PerimeterPoint=e(85133),l.Random=e(26597),l.RandomOutside=e(86470),l.SameDimensions=e(94845),l.Scale=e(31730),l.Union=e(36899),u.exports=l},41658:u=>{var x=function(e){var l=e.x1,p=e.y1,a=e.x2,s=e.y2,r=e.x3,t=e.y3;return Math.abs(((r-l)*(s-p)-(a-l)*(t-p))/2)};u.exports=x},39208:(u,x,e)=>{var l=e(16483),p=function(a,s,r){var t=r*(Math.sqrt(3)/2),n=a,h=s,i=a+r/2,o=s+t,c=a-r/2,d=s+t;return new l(n,h,i,o,c,d)};u.exports=p},39545:(u,x,e)=>{var l=e(94811),p=e(16483),a=function(s,r,t,n,h){r===void 0&&(r=null),t===void 0&&(t=1),n===void 0&&(n=1),h===void 0&&(h=[]);for(var i=l(s,r),o,c,d,f,v,m,g,y,T,C=0;C<i.length;C+=3)o=i[C],c=i[C+1],d=i[C+2],f=s[o*2]*t,v=s[o*2+1]*n,m=s[c*2]*t,g=s[c*2+1]*n,y=s[d*2]*t,T=s[d*2+1]*n,h.push(new p(f,v,m,g,y,T));return h};u.exports=a},90301:(u,x,e)=>{var l=e(16483),p=function(a,s,r,t){t===void 0&&(t=r);var n=a,h=s,i=a,o=s-t,c=a+r,d=s;return new l(n,h,i,o,c,d)};u.exports=p},23707:(u,x,e)=>{var l=e(97523),p=e(13584),a=function(s,r,t,n){n===void 0&&(n=l);var h=n(s),i=r-h.x,o=t-h.y;return p(s,i,o)};u.exports=a},97523:(u,x,e)=>{var l=e(2141),p=function(a,s){return s===void 0&&(s=new l),s.x=(a.x1+a.x2+a.x3)/3,s.y=(a.y1+a.y2+a.y3)/3,s};u.exports=p},24951:(u,x,e)=>{var l=e(26099);function p(s,r,t,n){return s*n-r*t}var a=function(s,r){r===void 0&&(r=new l);var t=s.x3,n=s.y3,h=s.x1-t,i=s.y1-n,o=s.x2-t,c=s.y2-n,d=2*p(h,i,o,c),f=p(i,h*h+i*i,c,o*o+c*c),v=p(h,h*h+i*i,o,o*o+c*c);return r.x=t-f/d,r.y=n+v/d,r};u.exports=a},85614:(u,x,e)=>{var l=e(96503),p=function(a,s){s===void 0&&(s=new l);var r=a.x1,t=a.y1,n=a.x2,h=a.y2,i=a.x3,o=a.y3,c=n-r,d=h-t,f=i-r,v=o-t,m=c*(r+n)+d*(t+h),g=f*(r+i)+v*(t+o),y=2*(c*(o-h)-d*(i-n)),T,C;if(Math.abs(y)<1e-6){var E=Math.min(r,n,i),z=Math.min(t,h,o);T=(Math.max(r,n,i)-E)*.5,C=(Math.max(t,h,o)-z)*.5,s.x=E+T,s.y=z+C,s.radius=Math.sqrt(T*T+C*C)}else s.x=(v*m-d*g)/y,s.y=(c*g-f*m)/y,T=s.x-r,C=s.y-t,s.radius=Math.sqrt(T*T+C*C);return s};u.exports=p},74422:(u,x,e)=>{var l=e(16483),p=function(a){return new l(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};u.exports=p},10690:u=>{var x=function(e,l,p){var a=e.x3-e.x1,s=e.y3-e.y1,r=e.x2-e.x1,t=e.y2-e.y1,n=l-e.x1,h=p-e.y1,i=a*a+s*s,o=a*r+s*t,c=a*n+s*h,d=r*r+t*t,f=r*n+t*h,v=i*d-o*o,m=v===0?0:1/v,g=(d*c-o*f)*m,y=(i*f-o*c)*m;return g>=0&&y>=0&&g+y<1};u.exports=x},48653:u=>{var x=function(e,l,p,a){p===void 0&&(p=!1),a===void 0&&(a=[]);for(var s=e.x3-e.x1,r=e.y3-e.y1,t=e.x2-e.x1,n=e.y2-e.y1,h=s*s+r*r,i=s*t+r*n,o=t*t+n*n,c=h*o-i*i,d=c===0?0:1/c,f,v,m,g,y,T,C=e.x1,E=e.y1,z=0;z<l.length&&(m=l[z].x-C,g=l[z].y-E,y=s*m+r*g,T=t*m+n*g,f=(o*y-i*T)*d,v=(h*T-i*y)*d,!(f>=0&&v>=0&&f+v<1&&(a.push({x:l[z].x,y:l[z].y}),p)));z++);return a};u.exports=x},96006:(u,x,e)=>{var l=e(10690),p=function(a,s){return l(a,s.x,s.y)};u.exports=p},71326:u=>{var x=function(e,l){return l.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};u.exports=x},71694:u=>{var x=function(e,l){return l===void 0&&(l=[]),l.push({x:e.x1,y:e.y1}),l.push({x:e.x2,y:e.y2}),l.push({x:e.x3,y:e.y3}),l};u.exports=x},33522:u=>{var x=function(e,l){return e.x1===l.x1&&e.y1===l.y1&&e.x2===l.x2&&e.y2===l.y2&&e.x3===l.x3&&e.y3===l.y3};u.exports=x},20437:(u,x,e)=>{var l=e(2141),p=e(35001),a=function(s,r,t){t===void 0&&(t=new l);var n=s.getLineA(),h=s.getLineB(),i=s.getLineC();if(r<=0||r>=1)return t.x=n.x1,t.y=n.y1,t;var o=p(n),c=p(h),d=p(i),f=o+c+d,v=f*r,m=0;return v<o?(m=v/o,t.x=n.x1+(n.x2-n.x1)*m,t.y=n.y1+(n.y2-n.y1)*m):v>o+c?(v-=o+c,m=v/d,t.x=i.x1+(i.x2-i.x1)*m,t.y=i.y1+(i.y2-i.y1)*m):(v-=o,m=v/c,t.x=h.x1+(h.x2-h.x1)*m,t.y=h.y1+(h.y2-h.y1)*m),t};u.exports=a},80672:(u,x,e)=>{var l=e(35001),p=e(2141),a=function(s,r,t,n){n===void 0&&(n=[]);var h=s.getLineA(),i=s.getLineB(),o=s.getLineC(),c=l(h),d=l(i),f=l(o),v=c+d+f;!r&&t>0&&(r=v/t);for(var m=0;m<r;m++){var g=v*(m/r),y=0,T=new p;g<c?(y=g/c,T.x=h.x1+(h.x2-h.x1)*y,T.y=h.y1+(h.y2-h.y1)*y):g>c+d?(g-=c+d,y=g/f,T.x=o.x1+(o.x2-o.x1)*y,T.y=o.y1+(o.y2-o.y1)*y):(g-=c,y=g/d,T.x=i.x1+(i.x2-i.x1)*y,T.y=i.y1+(i.y2-i.y1)*y),n.push(T)}return n};u.exports=a},39757:(u,x,e)=>{var l=e(2141);function p(s,r,t,n){var h=s-t,i=r-n,o=h*h+i*i;return Math.sqrt(o)}var a=function(s,r){r===void 0&&(r=new l);var t=s.x1,n=s.y1,h=s.x2,i=s.y2,o=s.x3,c=s.y3,d=p(o,c,h,i),f=p(t,n,o,c),v=p(h,i,t,n),m=d+f+v;return r.x=(t*d+h*f+o*v)/m,r.y=(n*d+i*f+c*v)/m,r};u.exports=a},13584:u=>{var x=function(e,l,p){return e.x1+=l,e.y1+=p,e.x2+=l,e.y2+=p,e.x3+=l,e.y3+=p,e};u.exports=x},1376:(u,x,e)=>{var l=e(35001),p=function(a){var s=a.getLineA(),r=a.getLineB(),t=a.getLineC();return l(s)+l(r)+l(t)};u.exports=p},90260:(u,x,e)=>{var l=e(2141),p=function(a,s){s===void 0&&(s=new l);var r=a.x2-a.x1,t=a.y2-a.y1,n=a.x3-a.x1,h=a.y3-a.y1,i=Math.random(),o=Math.random();return i+o>=1&&(i=1-i,o=1-o),s.x=a.x1+(r*i+n*o),s.y=a.y1+(t*i+h*o),s};u.exports=p},52172:(u,x,e)=>{var l=e(99614),p=e(39757),a=function(s,r){var t=p(s);return l(s,t.x,t.y,r)};u.exports=a},49907:(u,x,e)=>{var l=e(99614),p=function(a,s,r){return l(a,s.x,s.y,r)};u.exports=p},99614:u=>{var x=function(e,l,p,a){var s=Math.cos(a),r=Math.sin(a),t=e.x1-l,n=e.y1-p;return e.x1=t*s-n*r+l,e.y1=t*r+n*s+p,t=e.x2-l,n=e.y2-p,e.x2=t*s-n*r+l,e.y2=t*r+n*s+p,t=e.x3-l,n=e.y3-p,e.x3=t*s-n*r+l,e.y3=t*r+n*s+p,e};u.exports=x},16483:(u,x,e)=>{var l=e(83419),p=e(10690),a=e(20437),s=e(80672),r=e(23777),t=e(23031),n=e(90260),h=new l({initialize:function(o,c,d,f,v,m){o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),this.type=r.TRIANGLE,this.x1=o,this.y1=c,this.x2=d,this.y2=f,this.x3=v,this.y3=m},contains:function(i,o){return p(this,i,o)},getPoint:function(i,o){return a(this,i,o)},getPoints:function(i,o,c){return s(this,i,o,c)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,o,c,d,f,v){return i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),this.x1=i,this.y1=o,this.x2=c,this.y2=d,this.x3=f,this.y3=v,this},getLineA:function(i){return i===void 0&&(i=new t),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new t),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new t),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-i:o=this.x3-i,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-i:o=this.y3-i,this.y1-=o,this.y2-=o,this.y3-=o}}});u.exports=h},84435:(u,x,e)=>{var l=e(16483);l.Area=e(41658),l.BuildEquilateral=e(39208),l.BuildFromPolygon=e(39545),l.BuildRight=e(90301),l.CenterOn=e(23707),l.Centroid=e(97523),l.CircumCenter=e(24951),l.CircumCircle=e(85614),l.Clone=e(74422),l.Contains=e(10690),l.ContainsArray=e(48653),l.ContainsPoint=e(96006),l.CopyFrom=e(71326),l.Decompose=e(71694),l.Equals=e(33522),l.GetPoint=e(20437),l.GetPoints=e(80672),l.InCenter=e(39757),l.Perimeter=e(1376),l.Offset=e(13584),l.Random=e(90260),l.Rotate=e(52172),l.RotateAroundPoint=e(49907),l.RotateAroundXY=e(99614),u.exports=l},74457:u=>{var x=function(e,l,p){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};u.exports=x},84409:u=>{var x=function(e,l){return function(p,a,s,r){var t=e.getPixelAlpha(a,s,r.texture.key,r.frame.name);return t&&t>=l}};u.exports=x},7003:(u,x,e)=>{var l=e(83419),p=e(93301),a=e(50792),s=e(8214),r=e(8443),t=e(78970),n=e(85098),h=e(42515),i=e(36210),o=e(61340),c=e(85955),d=new l({initialize:function(v,m){this.game=v,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new t(this):null,this.mouse=m.inputMouse?new n(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers;for(var g=0;g<=this.pointersTotal;g++){var y=new h(this,g);y.smoothFactor=m.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(r.BOOT,this.boot,this)},boot:function(){var f=this.game,v=f.events;this.canvas=f.canvas,this.scaleManager=f.scale,this.events.emit(s.MANAGER_BOOT),v.on(r.PRE_RENDER,this.preRender,this),v.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(f){this.isOver=!0,this.events.emit(s.GAME_OVER,f)},setCanvasOut:function(f){this.isOver=!1,this.events.emit(s.GAME_OUT,f)},preRender:function(){var f=this.game.loop.now,v=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=f,this.events.emit(s.MANAGER_UPDATE);for(var g=0;g<m.length;g++){var y=m[g];if(y.sys.input&&y.sys.input.updatePoll(f,v)&&this.globalTopOnly)return}},setDefaultCursor:function(f){this.defaultCursor=f,this.canvas.style.cursor!==f&&(this.canvas.style.cursor=f)},setCursor:function(f){f.cursor&&(this.canvas.style.cursor=f.cursor)},resetCursor:function(f,v){(v||f&&f.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(f){f===void 0&&(f=1);var v=[];this.pointersTotal+f>10&&(f=10-this.pointersTotal);for(var m=0;m<f;m++){var g=this.pointers.length,y=new h(this,g);y.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(y),this.pointersTotal++,v.push(y)}return v},updateInputPlugins:function(f,v){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var g=0;g<m.length;g++){var y=m[g];if(y.sys.input){var T=y.sys.input.update(f,v);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(!C.active){C.touchstart(y,f),this.activePointer=C,m.push(C);break}}this.updateInputPlugins(p.TOUCH_START,m)},onTouchMove:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(C.active&&C.identifier===y.identifier){var E=document.elementFromPoint(y.clientX,y.clientY),z=E===this.canvas;!this.isOver&&z?this.setCanvasOver(f):this.isOver&&!z&&this.setCanvasOut(f),this.isOver&&(C.touchmove(y,f),this.activePointer=C,m.push(C));break}}this.updateInputPlugins(p.TOUCH_MOVE,m)},onTouchEnd:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(C.active&&C.identifier===y.identifier){C.touchend(y,f),m.push(C);break}}this.updateInputPlugins(p.TOUCH_END,m)},onTouchCancel:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(C.active&&C.identifier===y.identifier){C.touchcancel(y,f),m.push(C);break}}this.updateInputPlugins(p.TOUCH_CANCEL,m)},onMouseDown:function(f){var v=this.mousePointer;v.down(f),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(f){var v=this.mousePointer;v.move(f),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(f){var v=this.mousePointer;v.up(f),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(f){var v=this.mousePointer;v.wheel(f),this.activePointer=v,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(f){var v=this.mouse.locked;this.mousePointer.locked=v,this.events.emit(s.POINTERLOCK_CHANGE,f,v)},inputCandidate:function(f,v){var m=f.input;if(!m||!m.enabled||!f.willRender(v))return!1;var g=!0,y=f.parentContainer;if(y)do{if(!y.willRender(v)){g=!1;break}y=y.parentContainer}while(y);return g},hitTest:function(f,v,m,g){g===void 0&&(g=this._tempHitTest);var y=this._tempPoint,T=m.scrollX,C=m.scrollY;g.length=0;var E=f.x,z=f.y;m.getWorldPoint(E,z,y),f.worldX=y.x,f.worldY=y.y;for(var D={x:0,y:0},A=this._tempMatrix,L=this._tempMatrix2,b=0;b<v.length;b++){var F=v[b];if(this.inputCandidate(F,m)){var V=y.x+T*F.scrollFactorX-T,B=y.y+C*F.scrollFactorY-C;F.parentContainer?(F.getWorldTransformMatrix(A,L),A.applyInverse(V,B,D)):c(V,B,F.x,F.y,F.rotation,F.scaleX,F.scaleY,D),this.pointWithinHitArea(F,D.x,D.y)&&g.push(F)}}return g},pointWithinHitArea:function(f,v,m){v+=f.displayOriginX,m+=f.displayOriginY;var g=f.input;return g&&g.hitAreaCallback(g.hitArea,v,m,f)?(g.localX=v,g.localY=m,!0):!1},pointWithinInteractiveObject:function(f,v,m){return f.hitArea?(v+=f.gameObject.displayOriginX,m+=f.gameObject.displayOriginY,f.localX=v,f.localY=m,f.hitAreaCallback(f.hitArea,v,m,f)):!1},transformPointer:function(f,v,m,g){var y=f.position,T=f.prevPosition;T.x=y.x,T.y=y.y;var C=this.scaleManager.transformX(v),E=this.scaleManager.transformY(m),z=f.smoothFactor;!g||z===0?(y.x=C,y.y=E):(y.x=C*z+T.x*(1-z),y.y=E*z+T.y*(1-z))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var f=0;f<this.pointers.length;f++)this.pointers[f].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});u.exports=d},48205:(u,x,e)=>{var l=e(96503),p=e(87902),a=e(83419),s=e(93301),r=e(74457),t=e(84409),n=e(20339),h=e(8497),i=e(81154),o=e(8214),c=e(50792),d=e(95540),f=e(23777),v=e(89639),m=e(41212),g=e(37277),y=e(87841),T=e(37303),C=e(44594),E=e(16483),z=e(10690),D=new a({Extends:c,initialize:function(L){c.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new c,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var b={cancelled:!1};this._eventContainer={stopPropagation:function(){b.cancelled=!0}},this._eventData=b,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(C.BOOT,this.boot,this),L.sys.events.on(C.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(C.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var A=this.systems.events;A.on(C.TRANSITION_START,this.transitionIn,this),A.on(C.TRANSITION_OUT,this.transitionOut,this),A.on(C.TRANSITION_COMPLETE,this.transitionComplete,this),A.on(C.PRE_UPDATE,this.preUpdate,this),A.once(C.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(A){this.isActive()&&this.emit(o.GAME_OVER,A.timeStamp,A)},onGameOut:function(A){this.isActive()&&this.emit(o.GAME_OUT,A.timeStamp,A)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var A=this._pendingRemoval,L=this._pendingInsertion,b=A.length,F=L.length;if(!(b===0&&F===0)){for(var V=this._list,B=0;B<b;B++){var N=A[B],U=V.indexOf(N);U>-1&&(V.splice(U,1),this.clear(N,!0))}this._pendingRemoval.length=0,this._list=V.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(A){this.manager&&this.manager.setCursor(A)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(A,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,A,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var b,F=this.manager,V=F.pointers;for(b=0;b<V.length;b++)V[b].updateMotion();if(this._list.length===0)return!1;var B=this.pollRate;if(B===-1)return!1;if(B>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var N=!1;for(b=0;b<V.length;b++){var U=0,I=V[b];this._tempZones=[],this._temp=this.hitTestPointer(I),this.sortGameObjects(this._temp,I),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),U+=this.processOverOutEvents(I),this.getDragState(I)===2&&this.processDragThresholdEvent(I,A),U>0&&(N=!0)}return N},update:function(A,L){if(!this.isActive())return!1;for(var b=!1,F=0;F<L.length;F++){var V=0,B=L[F];switch(this._tempZones=[],this._temp=this.hitTestPointer(B),this.sortGameObjects(this._temp,B),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),A){case s.MOUSE_DOWN:V+=this.processDragDownEvent(B),V+=this.processDownEvents(B),V+=this.processOverOutEvents(B);break;case s.MOUSE_UP:V+=this.processDragUpEvent(B),V+=this.processUpEvents(B),V+=this.processOverOutEvents(B);break;case s.TOUCH_START:V+=this.processDragDownEvent(B),V+=this.processDownEvents(B),V+=this.processOverEvents(B);break;case s.TOUCH_END:case s.TOUCH_CANCEL:V+=this.processDragUpEvent(B),V+=this.processUpEvents(B),V+=this.processOutEvents(B);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:V+=this.processDragMoveEvent(B),V+=this.processMoveEvents(B),V+=this.processOverOutEvents(B);break;case s.MOUSE_WHEEL:V+=this.processWheelEvent(B);break}V>0&&(b=!0)}return this._updatedThisFrame=!0,b},clear:function(A,L){L===void 0&&(L=!1),this.disable(A);var b=A.input;b&&(this.removeDebug(A),this.manager.resetCursor(b),b.gameObject=void 0,b.target=void 0,b.hitArea=void 0,b.hitAreaCallback=void 0,b.callbackContext=void 0,A.input=null),L||this.queueForRemoval(A);var F=this._draggable.indexOf(A);return F>-1&&this._draggable.splice(F,1),A},disable:function(A,L){L===void 0&&(L=!1);var b=A.input;b&&(b.enabled=!1,b.dragState=0);for(var F=this._drag,V=this._over,B=this.manager,N=0,U;N<B.pointers.length;N++)U=F[N].indexOf(A),U>-1&&F[N].splice(U,1),U=V[N].indexOf(A),U>-1&&V[N].splice(U,1);return L&&this.resetCursor(),this},enable:function(A,L,b,F){return F===void 0&&(F=!1),A.input?A.input.enabled=!0:this.setHitArea(A,L,b),A.input&&F&&!A.input.dropZone&&(A.input.dropZone=F),this},hitTestPointer:function(A){for(var L=this.cameras.getCamerasBelowPointer(A),b=0;b<L.length;b++){for(var F=L[b],V=this.manager.hitTest(A,this._list,F),B=0;B<V.length;B++){var N=V[B];N.input.dropZone&&this._tempZones.push(N)}if(V.length>0)return A.camera=F,V}return A.camera=L[0],[]},processDownEvents:function(A){var L=0,b=this._temp,F=this._eventData,V=this._eventContainer;F.cancelled=!1;for(var B=0;B<b.length;B++){var N=b[B];if(!(!N.input||!N.input.enabled)&&(L++,N.emit(o.GAMEOBJECT_POINTER_DOWN,A,N.input.localX,N.input.localY,V),F.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(o.GAMEOBJECT_DOWN,A,N,V),F.cancelled||!this.isActive())))break}return!F.cancelled&&this.isActive()&&(A.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,A,b):this.emit(o.POINTER_DOWN_OUTSIDE,A)),L},getDragState:function(A){return this._dragState[A.id]},setDragState:function(A,L){this._dragState[A.id]=L},processDragThresholdEvent:function(A,L){var b=!1,F=this.dragTimeThreshold,V=this.dragDistanceThreshold;if((V>0&&n(A.x,A.y,A.downX,A.downY)>=V||F>0&&L>=A.downTime+F)&&(b=!0),b)return this.setDragState(A,3),this.processDragStartList(A)},processDragStartList:function(A){if(this.getDragState(A)!==3)return 0;var L=this._drag[A.id];L.length>1&&(L=L.slice(0));for(var b=0;b<L.length;b++){var F=L[b],V=F.input;V.dragState=2,V.dragStartX=F.x,V.dragStartY=F.y,V.dragStartXGlobal=A.worldX,V.dragStartYGlobal=A.worldY,V.dragStartCamera=A.camera,V.dragX=V.dragStartXGlobal-V.dragStartX,V.dragY=V.dragStartYGlobal-V.dragStartY,F.emit(o.GAMEOBJECT_DRAG_START,A,V.dragX,V.dragY),this.emit(o.DRAG_START,A,F)}return this.setDragState(A,4),L.length},processDragDownEvent:function(A){var L=this._temp;if(this._draggable.length===0||L.length===0||!A.primaryDown||this.getDragState(A)!==0)return 0;this.setDragState(A,1);for(var b=[],F=0;F<L.length;F++){var V=L[F];V.input.draggable&&V.input.dragState===0&&b.push(V)}return b.length===0?(this.setDragState(A,0),0):(b.length>1&&(this.sortGameObjects(b,A),this.topOnly&&b.splice(1)),this._drag[A.id]=b,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(A,3),this.processDragStartList(A)):(this.setDragState(A,2),0))},processDragMoveEvent:function(A){if(this.getDragState(A)===2&&this.processDragThresholdEvent(A,this.manager.game.loop.now),this.getDragState(A)!==4)return 0;var L=this._tempZones,b=this._drag[A.id];b.length>1&&(b=b.slice(0));for(var F=0;F<b.length;F++){var V=b[F],B=V.input,N=B.target;if(N){var U=L.indexOf(N);U===0?(V.emit(o.GAMEOBJECT_DRAG_OVER,A,N),this.emit(o.DRAG_OVER,A,V,N)):U>0?(V.emit(o.GAMEOBJECT_DRAG_LEAVE,A,N),this.emit(o.DRAG_LEAVE,A,V,N),B.target=L[0],N=B.target,V.emit(o.GAMEOBJECT_DRAG_ENTER,A,N),this.emit(o.DRAG_ENTER,A,V,N)):(V.emit(o.GAMEOBJECT_DRAG_LEAVE,A,N),this.emit(o.DRAG_LEAVE,A,V,N),L[0]?(B.target=L[0],N=B.target,V.emit(o.GAMEOBJECT_DRAG_ENTER,A,N),this.emit(o.DRAG_ENTER,A,V,N)):B.target=null)}else!N&&L[0]&&(B.target=L[0],N=B.target,V.emit(o.GAMEOBJECT_DRAG_ENTER,A,N),this.emit(o.DRAG_ENTER,A,V,N));var I,H,O=A.positionToCamera(B.dragStartCamera);if(!V.parentContainer)I=O.x-B.dragX,H=O.y-B.dragY;else{var R=O.x-B.dragStartXGlobal,Y=O.y-B.dragStartYGlobal,G=V.getParentRotation(),k=R*Math.cos(G)+Y*Math.sin(G),W=Y*Math.cos(G)-R*Math.sin(G);k*=1/V.parentContainer.scaleX,W*=1/V.parentContainer.scaleY,I=k+B.dragStartX,H=W+B.dragStartY}V.emit(o.GAMEOBJECT_DRAG,A,I,H),this.emit(o.DRAG,A,V,I,H)}return b.length},processDragUpEvent:function(A){var L=this._drag[A.id];L.length>1&&(L=L.slice(0));for(var b=0;b<L.length;b++){var F=L[b],V=F.input;if(V&&V.dragState===2){V.dragState=0,V.dragX=V.localX-F.displayOriginX,V.dragY=V.localY-F.displayOriginY,V.dragStartCamera=null;var B=!1,N=V.target;N&&(F.emit(o.GAMEOBJECT_DROP,A,N),this.emit(o.DROP,A,F,N),V.target=null,B=!0),F.input&&F.input.enabled&&(F.emit(o.GAMEOBJECT_DRAG_END,A,V.dragX,V.dragY,B),this.emit(o.DRAG_END,A,F,B))}}return this.setDragState(A,0),L.splice(0),0},processMoveEvents:function(A){var L=0,b=this._temp,F=this._eventData,V=this._eventContainer;F.cancelled=!1;for(var B=0;B<b.length;B++){var N=b[B];if(!(!N.input||!N.input.enabled)&&(L++,N.emit(o.GAMEOBJECT_POINTER_MOVE,A,N.input.localX,N.input.localY,V),F.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(o.GAMEOBJECT_MOVE,A,N,V),F.cancelled||!this.isActive()||this.topOnly)))break}return!F.cancelled&&this.isActive()&&this.emit(o.POINTER_MOVE,A,b),L},processWheelEvent:function(A){var L=0,b=this._temp,F=this._eventData,V=this._eventContainer;F.cancelled=!1;for(var B=A.deltaX,N=A.deltaY,U=A.deltaZ,I=0;I<b.length;I++){var H=b[I];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(o.GAMEOBJECT_POINTER_WHEEL,A,B,N,U,V),F.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(o.GAMEOBJECT_WHEEL,A,H,B,N,U,V),F.cancelled||!this.isActive())))break}return!F.cancelled&&this.isActive()&&this.emit(o.POINTER_WHEEL,A,b,B,N,U),L},processOverEvents:function(A){var L=this._temp,b=0,F=L.length,V=[];if(F>0){var B=this.manager,N=this._eventData,U=this._eventContainer;N.cancelled=!1;for(var I=0;I<F;I++){var H=L[I];if(!(!H.input||!H.input.enabled)&&(V.push(H),B.setCursor(H.input),H.emit(o.GAMEOBJECT_POINTER_OVER,A,H.input.localX,H.input.localY,U),b++,N.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(o.GAMEOBJECT_OVER,A,H,U),N.cancelled||!this.isActive())))break}!N.cancelled&&this.isActive()&&this.emit(o.POINTER_OVER,A,V)}return this._over[A.id]=V,b},processOutEvents:function(A){var L=this._over[A.id],b=0,F=L.length;if(F>0){var V=this.manager,B=this._eventData,N=this._eventContainer;B.cancelled=!1,this.sortGameObjects(L,A);for(var U=0;U<F;U++){var I=L[U];if(I=L[U],!(!I.input||!I.input.enabled)&&(V.resetCursor(I.input),I.emit(o.GAMEOBJECT_POINTER_OUT,A,N),b++,B.cancelled||!this.isActive()||I.input&&I.input.enabled&&(this.emit(o.GAMEOBJECT_OUT,A,I,N),B.cancelled||!this.isActive())))break}!B.cancelled&&this.isActive()&&this.emit(o.POINTER_OUT,A,L),this._over[A.id]=[]}return b},processOverOutEvents:function(A){var L=this._temp,b,F,V=[],B=[],N=[],U=this._over[A.id],I=this._drag[A.id],H=this.manager;for(b=0;b<U.length;b++)F=U[b],L.indexOf(F)===-1&&I.indexOf(F)===-1?V.push(F):N.push(F);for(b=0;b<L.length;b++)F=L[b],U.indexOf(F)===-1&&B.push(F);var O=V.length,R=0,Y=this._eventData,G=this._eventContainer;if(Y.cancelled=!1,O>0){for(this.sortGameObjects(V,A),b=0;b<O&&(F=V[b],!(!(!F.input||!F.input.enabled)&&(H.resetCursor(F.input),F.emit(o.GAMEOBJECT_POINTER_OUT,A,G),R++,Y.cancelled||!this.isActive()||F.input&&F.input.enabled&&(this.emit(o.GAMEOBJECT_OUT,A,F,G),Y.cancelled||!this.isActive()))));b++);(!Y.cancelled||this.isActive())&&this.emit(o.POINTER_OUT,A,V)}if(O=B.length,Y.cancelled=!1,O>0){for(this.sortGameObjects(B,A),b=0;b<O&&(F=B[b],!(!(!F.input||!F.input.enabled)&&(H.setCursor(F.input),F.emit(o.GAMEOBJECT_POINTER_OVER,A,F.input.localX,F.input.localY,G),R++,Y.cancelled||!this.isActive()||F.input&&F.input.enabled&&(this.emit(o.GAMEOBJECT_OVER,A,F,G),Y.cancelled||!this.isActive()))));b++);!Y.cancelled&&this.isActive()&&this.emit(o.POINTER_OVER,A,B)}return U=N.concat(B),this._over[A.id]=this.sortGameObjects(U,A),R},processUpEvents:function(A){var L=this._temp,b=this._eventData,F=this._eventContainer;b.cancelled=!1;for(var V=0;V<L.length;V++){var B=L[V];if(!(!B.input||!B.input.enabled)&&(B.emit(o.GAMEOBJECT_POINTER_UP,A,B.input.localX,B.input.localY,F),b.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(o.GAMEOBJECT_UP,A,B,F),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&(A.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,A,L):this.emit(o.POINTER_UP_OUTSIDE,A)),L.length},forceDownState:function(A,L){this.forceState(A,L,o.GAMEOBJECT_POINTER_DOWN,o.GAMEOBJECT_DOWN,!1)},forceUpState:function(A,L){this.forceState(A,L,o.GAMEOBJECT_POINTER_UP,o.GAMEOBJECT_UP,!1)},forceOverState:function(A,L){this.forceState(A,L,o.GAMEOBJECT_POINTER_OVER,o.GAMEOBJECT_OVER,!0)},forceOutState:function(A,L){this.forceState(A,L,o.GAMEOBJECT_POINTER_OUT,o.GAMEOBJECT_OUT,!1)},forceState:function(A,L,b,F,V){var B=this._eventData,N=this._eventContainer;B.cancelled=!1,L.input&&L.input.enabled&&(L.emit(b,A,L.input.localX,L.input.localY,N),V&&this.setCursor(L.input),!B.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(F,A,L,N))},queueForInsertion:function(A){return this._pendingInsertion.indexOf(A)===-1&&this._list.indexOf(A)===-1&&this._pendingInsertion.push(A),this},queueForRemoval:function(A){return this._pendingRemoval.push(A),this},setDraggable:function(A,L){L===void 0&&(L=!0),Array.isArray(A)||(A=[A]);for(var b=0;b<A.length;b++){var F=A[b];F.input.draggable=L;var V=this._draggable.indexOf(F);L&&V===-1?this._draggable.push(F):!L&&V>-1&&this._draggable.splice(V,1)}return this},makePixelPerfect:function(A){A===void 0&&(A=1);var L=this.systems.textures;return t(L,A)},setHitArea:function(A,L,b){if(L===void 0)return this.setHitAreaFromTexture(A);Array.isArray(A)||(A=[A]);var F=!1,V=!1,B=!1,N=!1,U=!1,I=!0;if(m(L)&&Object.keys(L).length){var H=L,O=A.some(function(W){return W.hasOwnProperty("faces")});if(!O){L=d(H,"hitArea",null),b=d(H,"hitAreaCallback",null),U=d(H,"pixelPerfect",!1);var R=d(H,"alphaTolerance",1);U&&(L={},b=this.makePixelPerfect(R))}F=d(H,"draggable",!1),V=d(H,"dropZone",!1),B=d(H,"cursor",!1),N=d(H,"useHandCursor",!1),(!L||!b)&&(this.setHitAreaFromTexture(A),I=!1)}else typeof L=="function"&&!b&&(b=L,L={});for(var Y=0;Y<A.length;Y++){var G=A[Y];if(U&&G.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var k=G.input?G.input:r(G,L,b);k.customHitArea=I,k.dropZone=V,k.cursor=N?"pointer":B,G.input=k,F&&this.setDraggable(G),this.queueForInsertion(G)}return this},setHitAreaCircle:function(A,L,b,F,V){V===void 0&&(V=p);var B=new l(L,b,F);return this.setHitArea(A,B,V)},setHitAreaEllipse:function(A,L,b,F,V,B){B===void 0&&(B=i);var N=new h(L,b,F,V);return this.setHitArea(A,N,B)},setHitAreaFromTexture:function(A,L){L===void 0&&(L=T),Array.isArray(A)||(A=[A]);for(var b=0;b<A.length;b++){var F=A[b],V=F.frame,B=0,N=0;if(F.width?(B=F.width,N=F.height):V&&(B=V.realWidth,N=V.realHeight),F.type==="Container"&&(B===0||N===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}B!==0&&N!==0&&(F.input=r(F,new y(0,0,B,N),L),this.queueForInsertion(F))}return this},setHitAreaRectangle:function(A,L,b,F,V,B){B===void 0&&(B=T);var N=new y(L,b,F,V);return this.setHitArea(A,N,B)},setHitAreaTriangle:function(A,L,b,F,V,B,N,U){U===void 0&&(U=z);var I=new E(L,b,F,V,B,N);return this.setHitArea(A,I,U)},enableDebug:function(A,L){L===void 0&&(L=65280);var b=A.input;if(!b||!b.hitArea)return this;var F=b.hitArea,V=F.type,B=b.hitAreaDebug,N=this.systems.add,U=this.systems.updateList;B&&(U.remove(B),B.destroy(),B=null);var I=0,H=0;switch(V){case f.CIRCLE:B=N.arc(0,0,F.radius),I=F.x-F.radius,H=F.y-F.radius;break;case f.ELLIPSE:B=N.ellipse(0,0,F.width,F.height),I=F.x-F.width/2,H=F.y-F.height/2;break;case f.LINE:B=N.line(0,0,F.x1,F.y1,F.x2,F.y2);break;case f.POLYGON:B=N.polygon(0,0,F.points);break;case f.RECTANGLE:B=N.rectangle(0,0,F.width,F.height),I=F.x,H=F.y;break;case f.TRIANGLE:B=N.triangle(0,0,F.x1,F.y1,F.x2,F.y2,F.x3,F.y3);break}return B&&(B.isFilled=!1,B.strokeColor=L,B.preUpdate=function(){B.setVisible(A.visible),B.setStrokeStyle(1/A.scale,B.strokeColor),B.setDisplayOrigin(A.displayOriginX,A.displayOriginY);var O=A.x,R=A.y,Y=A.rotation,G=A.scaleX,k=A.scaleY;if(A.parentContainer){var W=A.getWorldTransformMatrix();O=W.tx,R=W.ty,Y=W.rotation,G=W.scaleX,k=W.scaleY}B.setRotation(Y),B.setScale(G,k),B.setPosition(O+I*G,R+H*k),B.setScrollFactor(A.scrollFactorX,A.scrollFactorY),B.setDepth(A.depth)},U.add(B),b.hitAreaDebug=B),this},removeDebug:function(A){var L=A.input;if(L&&L.hitAreaDebug){var b=L.hitAreaDebug;b.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(A){return this.pollRate=A,this._pollTimer=0,this},setGlobalTopOnly:function(A){return this.manager.globalTopOnly=A,this},setTopOnly:function(A){return this.topOnly=A,this},sortGameObjects:function(A,L){if(A.length<2||!L.camera)return A;var b=L.camera.renderList;return A.sort(function(F,V){var B=Math.max(b.indexOf(F),0),N=Math.max(b.indexOf(V),0);return N-B})},sortDropZones:function(A){return A.length<2?A:(this.scene.sys.depthSort(),A.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(A,L){if(!A.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(A);if(A.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-A.parentContainer.getIndex(A);if(A.parentContainer===L)return-1;if(L.parentContainer===A)return 1;for(var b=A.getIndexList(),F=L.getIndexList(),V=Math.min(b.length,F.length),B=0;B<V;B++){var N=b[B],U=F[B];if(N!==U)return U-N}return F.length-b.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(A){return this.manager.addPointer(A)},setDefaultCursor:function(A){return this.manager.setDefaultCursor(A),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var A=0;A<10;A++)this._drag[A]=[],this._over[A]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var b=this.systems.events;b.off(C.TRANSITION_START,this.transitionIn,this),b.off(C.TRANSITION_OUT,this.transitionOut,this),b.off(C.TRANSITION_COMPLETE,this.transitionComplete,this),b.off(C.PRE_UPDATE,this.preUpdate,this),L.events.off(o.GAME_OUT,this.onGameOut,this),L.events.off(o.GAME_OVER,this.onGameOver,this),b.off(C.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var A=this.manager.pointers,L=0;L<A.length;L++)A[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(C.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});g.register("InputPlugin",D,"input"),u.exports=D},89639:(u,x,e)=>{var l=e(35154),p={},a={};a.register=function(s,r,t,n,h){p[s]={plugin:r,mapping:t,settingsKey:n,configKey:h}},a.getPlugin=function(s){return p[s]},a.install=function(s){var r=s.scene.sys,t=r.settings.input,n=r.game.config;for(var h in p){var i=p[h].plugin,o=p[h].mapping,c=p[h].settingsKey,d=p[h].configKey;l(t,c,n[d])&&(s[o]=new i(s))}},a.remove=function(s){p.hasOwnProperty(s)&&delete p[s]},u.exports=a},42515:(u,x,e)=>{var l=e(31040),p=e(83419),a=e(20339),s=e(43855),r=e(47235),t=e(26099),n=e(25892),h=new p({initialize:function(o,c){this.manager=o,this.id=c,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new t,this.prevPosition=new t,this.midPoint=new t(-1,-1),this.velocity=new t,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=c===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var o=i.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(i,o){return i.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var i=this.position.x,o=this.position.y,c=this.midPoint.x,d=this.midPoint.y;if(!(i===c&&o===d)){var f=r(this.motionFactor,c,i),v=r(this.motionFactor,d,o);s(f,i,.1)&&(f=i),s(v,o,.1)&&(v=o),this.midPoint.set(f,v);var m=i-f,g=o-v;this.velocity.set(m,g),this.angle=l(f,v,i,o),this.distance=Math.sqrt(m*m+g*g)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,o){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,o){this.event=o,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,o){this.buttons=0,this.event=o,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,o){i===void 0&&(i=10),o===void 0&&(o=[]);for(var c=this.prevPosition.x,d=this.prevPosition.y,f=this.position.x,v=this.position.y,m=0;m<i;m++){var g=1/i*m;o[m]={x:r(g,c,f),y:r(g,d,v)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});u.exports=h},93301:u=>{var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};u.exports=x},7179:u=>{u.exports="boot"},85375:u=>{u.exports="destroy"},39843:u=>{u.exports="dragend"},23388:u=>{u.exports="dragenter"},16133:u=>{u.exports="drag"},27829:u=>{u.exports="dragleave"},53904:u=>{u.exports="dragover"},56058:u=>{u.exports="dragstart"},2642:u=>{u.exports="drop"},88171:u=>{u.exports="gameobjectdown"},36147:u=>{u.exports="dragend"},71692:u=>{u.exports="dragenter"},96149:u=>{u.exports="drag"},81285:u=>{u.exports="dragleave"},74048:u=>{u.exports="dragover"},21322:u=>{u.exports="dragstart"},49378:u=>{u.exports="drop"},86754:u=>{u.exports="gameobjectmove"},86433:u=>{u.exports="gameobjectout"},60709:u=>{u.exports="gameobjectover"},24081:u=>{u.exports="pointerdown"},11172:u=>{u.exports="pointermove"},18907:u=>{u.exports="pointerout"},95579:u=>{u.exports="pointerover"},35368:u=>{u.exports="pointerup"},26972:u=>{u.exports="wheel"},47078:u=>{u.exports="gameobjectup"},73802:u=>{u.exports="gameobjectwheel"},56718:u=>{u.exports="gameout"},25936:u=>{u.exports="gameover"},27503:u=>{u.exports="boot"},50852:u=>{u.exports="process"},96438:u=>{u.exports="update"},59152:u=>{u.exports="pointerlockchange"},47777:u=>{u.exports="pointerdown"},27957:u=>{u.exports="pointerdownoutside"},19444:u=>{u.exports="pointermove"},54251:u=>{u.exports="pointerout"},18667:u=>{u.exports="pointerover"},27192:u=>{u.exports="pointerup"},24652:u=>{u.exports="pointerupoutside"},45132:u=>{u.exports="wheel"},44512:u=>{u.exports="preupdate"},15757:u=>{u.exports="shutdown"},41637:u=>{u.exports="start"},93802:u=>{u.exports="update"},8214:(u,x,e)=>{u.exports={BOOT:e(7179),DESTROY:e(85375),DRAG_END:e(39843),DRAG_ENTER:e(23388),DRAG:e(16133),DRAG_LEAVE:e(27829),DRAG_OVER:e(53904),DRAG_START:e(56058),DROP:e(2642),GAME_OUT:e(56718),GAME_OVER:e(25936),GAMEOBJECT_DOWN:e(88171),GAMEOBJECT_DRAG_END:e(36147),GAMEOBJECT_DRAG_ENTER:e(71692),GAMEOBJECT_DRAG:e(96149),GAMEOBJECT_DRAG_LEAVE:e(81285),GAMEOBJECT_DRAG_OVER:e(74048),GAMEOBJECT_DRAG_START:e(21322),GAMEOBJECT_DROP:e(49378),GAMEOBJECT_MOVE:e(86754),GAMEOBJECT_OUT:e(86433),GAMEOBJECT_OVER:e(60709),GAMEOBJECT_POINTER_DOWN:e(24081),GAMEOBJECT_POINTER_MOVE:e(11172),GAMEOBJECT_POINTER_OUT:e(18907),GAMEOBJECT_POINTER_OVER:e(95579),GAMEOBJECT_POINTER_UP:e(35368),GAMEOBJECT_POINTER_WHEEL:e(26972),GAMEOBJECT_UP:e(47078),GAMEOBJECT_WHEEL:e(73802),MANAGER_BOOT:e(27503),MANAGER_PROCESS:e(50852),MANAGER_UPDATE:e(96438),POINTER_DOWN:e(47777),POINTER_DOWN_OUTSIDE:e(27957),POINTER_MOVE:e(19444),POINTER_OUT:e(54251),POINTER_OVER:e(18667),POINTER_UP:e(27192),POINTER_UP_OUTSIDE:e(24652),POINTER_WHEEL:e(45132),POINTERLOCK_CHANGE:e(59152),PRE_UPDATE:e(44512),SHUTDOWN:e(15757),START:e(41637),UPDATE:e(93802)}},97421:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r){this.pad=s,this.events=s.events,this.index=r,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});u.exports=p},28884:(u,x,e)=>{var l=e(83419),p=e(92734),a=new l({initialize:function(r,t){this.pad=r,this.events=r.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,t=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,t,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,r,this,s),this.pad.emit(p.GAMEPAD_BUTTON_UP,t,s,this))},destroy:function(){this.pad=null,this.events=null}});u.exports=a},99125:(u,x,e)=>{var l=e(97421),p=e(28884),a=e(83419),s=e(50792),r=e(26099),t=new a({Extends:s,initialize:function(h,i){s.call(this),this.manager=h,this.pad=i,this.id=i.id,this.index=i.index;for(var o=[],c=0;c<i.buttons.length;c++)o.push(new p(this,c));this.buttons=o;var d=[];for(c=0;c<i.axes.length;c++)d.push(new l(this,c));this.axes=d,this.vibration=i.vibrationActuator;var f={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:f,this._LCRight=o[15]?o[15]:f,this._LCTop=o[12]?o[12]:f,this._LCBottom=o[13]?o[13]:f,this._RCLeft=o[2]?o[2]:f,this._RCRight=o[1]?o[1]:f,this._RCTop=o[3]?o[3]:f,this._RCBottom=o[0]?o[0]:f,this._FBLeftTop=o[4]?o[4]:f,this._FBLeftBottom=o[6]?o[6]:f,this._FBRightTop=o[5]?o[5]:f,this._FBRightBottom=o[7]?o[7]:f;var v={value:0};this._HAxisLeft=d[0]?d[0]:v,this._VAxisLeft=d[1]?d[1]:v,this._HAxisRight=d[2]?d[2]:v,this._VAxisRight=d[3]?d[3]:v,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var h,i=this.buttons,o=n.buttons,c=i.length;for(h=0;h<c;h++)i[h].update(o[h].value);var d=this.axes,f=n.axes;for(c=d.length,h=0;h<c;h++)d[h].update(f[h]);c>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),c>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});u.exports=t},56654:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(92734),s=e(99125),r=e(35154),t=e(89639),n=e(8214),h=new l({Extends:p,initialize:function(o){p.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(n.BOOT,this.boot,this),o.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,o=this.settings.input,c=i.config;this.enabled=r(o,"gamepad",c.inputGamepad)&&i.device.input.gamepads,this.target=r(o,"gamepad.target",c.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,o=this.target,c=function(d){d.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(d))};this.onGamepadHandler=c,o.addEventListener("gamepadconnected",c,!1),o.addEventListener("gamepaddisconnected",c,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var o=this.gamepads,c=0;c<i.length;c++){var d=i[c];if(d){var f=d.id,v=d.index,m=o[v];if(m)m.id!==f?(m.destroy(),o[v]=new s(this,d)):m.update(d);else{var g=new s(this,d);o[v]=g,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=g):this._pad3=g:this._pad2=g:this._pad1=g}}}},getAll:function(){for(var i=[],o=this.gamepads,c=0;c<o.length;c++)o[c]&&i.push(o[c]);return i},getPad:function(i){for(var o=this.gamepads,c=0;c<o.length;c++)if(o[c]&&o[c].index===i)return o[c]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var o=this.queue.splice(0,i),c=0;c<i;c++){var d=o[c],f=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(a.CONNECTED,f,d):d.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,f,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});t.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),u.exports=h},89651:u=>{u.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:u=>{u.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:u=>{u.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(u,x,e)=>{u.exports={DUALSHOCK_4:e(65294),SNES_USB:e(89651),XBOX_360:e(90089)}},46008:u=>{u.exports="down"},7629:u=>{u.exports="up"},42206:u=>{u.exports="connected"},86544:u=>{u.exports="disconnected"},94784:u=>{u.exports="down"},14325:u=>{u.exports="up"},92734:(u,x,e)=>{u.exports={BUTTON_DOWN:e(46008),BUTTON_UP:e(7629),CONNECTED:e(42206),DISCONNECTED:e(86544),GAMEPAD_BUTTON_DOWN:e(94784),GAMEPAD_BUTTON_UP:e(14325)}},48646:(u,x,e)=>{u.exports={Axis:e(97421),Button:e(28884),Events:e(92734),Gamepad:e(99125),GamepadPlugin:e(56654),Configs:e(64894)}},14350:(u,x,e)=>{var l=e(93301),p=e(79291),a={CreatePixelPerfectHandler:e(84409),CreateInteractiveObject:e(74457),Events:e(8214),Gamepad:e(48646),InputManager:e(7003),InputPlugin:e(48205),InputPluginCache:e(89639),Keyboard:e(51442),Mouse:e(87078),Pointer:e(42515),Touch:e(95618)};a=p(!1,a,l),u.exports=a},78970:(u,x,e)=>{var l=e(72905),p=e(83419),a=e(8443),s=e(8214),r=e(46032),t=e(29747),n=new p({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=t,this.onKeyUp=t,i.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(s.MANAGER_PROCESS);var c=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!c&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(o),h.manager.events.emit(s.MANAGER_PROCESS);var c=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;h.preventDefault&&!c&&h.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,o=0;o<h.length;o++){var c=h[o];typeof c=="string"&&(c=r[c.trim().toUpperCase()]),i.indexOf(c)===-1&&i.push(c)}this.preventDefault=i.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,o=0;o<h.length;o++){var c=h[o];typeof c=="string"&&(c=r[c.toUpperCase()]),l(i,c)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});u.exports=n},28846:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(95922),s=e(8443),r=e(35154),t=e(8214),n=e(89639),h=e(30472),i=e(46032),o=e(87960),c=e(74600),d=e(44594),f=e(56583),v=new l({Extends:p,initialize:function(g){p.call(this),this.game=g.systems.game,this.scene=g.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=g,this.manager=g.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,g.pluginEvents.once(t.BOOT,this.boot,this),g.pluginEvents.on(t.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=r(m,"keyboard",!0);var g=r(m,"keyboard.capture",null);g&&this.addCaptures(g),this.sceneInputPlugin.pluginEvents.once(t.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(t.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(t.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,g,y){g===void 0&&(g=!0),y===void 0&&(y=!1);var T={};if(typeof m=="string"){m=m.split(",");for(var C=0;C<m.length;C++){var E=m[C].trim();E&&(T[E]=this.addKey(E,g,y))}}else for(var z in m)T[z]=this.addKey(m[z],g,y);return T},addKey:function(m,g,y){g===void 0&&(g=!0),y===void 0&&(y=!1);var T=this.keys;if(m instanceof h){var C=T.indexOf(m);return C>-1?T[C]=m:T[m.keyCode]=m,g&&this.addCapture(m.keyCode),m.setEmitOnRepeat(y),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),T[m]||(T[m]=new h(this,m),g&&this.addCapture(m),T[m].setEmitOnRepeat(y)),T[m]},removeKey:function(m,g,y){g===void 0&&(g=!1),y===void 0&&(y=!1);var T=this.keys,C;if(m instanceof h){var E=T.indexOf(m);E>-1&&(C=this.keys[E],this.keys[E]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return T[m]&&(C=T[m],T[m]=void 0),C&&(C.plugin=null,y&&this.removeCapture(C.keyCode),g&&C.destroy()),this},removeAllKeys:function(m,g){m===void 0&&(m=!1),g===void 0&&(g=!1);for(var y=this.keys,T=0;T<y.length;T++){var C=y[T];C&&(y[T]=void 0,g&&this.removeCapture(C.keyCode),m&&C.destroy())}return this},createCombo:function(m,g){return new o(this,m,g)},checkDown:function(m,g){if(g===void 0&&(g=0),this.enabled&&m.isDown){var y=f(this.time-m.timeDown,g);if(y>m._tick)return m._tick=y,!0}return!1},update:function(){var m=this.manager.queue,g=m.length;if(!(!this.isActive()||g===0))for(var y=this.keys,T=0;T<g;T++){var C=m[T],E=C.keyCode,z=y[E],D=!1;C.cancelled===void 0&&(C.cancelled=0,C.stopImmediatePropagation=function(){C.cancelled=1},C.stopPropagation=function(){C.cancelled=-1}),C.cancelled!==-1&&(E===this.prevCode&&C.timeStamp===this.prevTime&&C.type===this.prevType||(this.prevCode=E,this.prevTime=C.timeStamp,this.prevType=C.type,C.type==="keydown"?(z&&(D=z.isDown,z.onDown(C)),!C.cancelled&&(!z||!D)&&(c[E]&&this.emit(a.KEY_DOWN+c[E],C),C.cancelled||this.emit(a.ANY_KEY_DOWN,C))):(z&&z.onUp(C),C.cancelled||(c[E]&&this.emit(a.KEY_UP+c[E],C),C.cancelled||this.emit(a.ANY_KEY_UP,C))),C.cancelled===1&&(C.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,g=0;g<m.length;g++)m[g]&&m[g].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(t.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,g=0;g<m.length;g++)m[g]&&m[g].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),u.exports=v},66970:u=>{var x=function(e,l){return l.timeLastMatched=e.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};u.exports=x},87960:(u,x,e)=>{var l=e(83419),p=e(95922),a=e(95540),s=e(68769),r=e(92803),t=new l({initialize:function(h,i,o){if(o===void 0&&(o={}),i.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var c=0;c<i.length;c++){var d=i[c];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(o,"resetOnWrongKey",!0),this.maxKeyDelay=a(o,"maxKeyDelay",0),this.resetOnMatch=a(o,"resetOnMatch",!1),this.deleteOnMatch=a(o,"deleteOnMatch",!1);var f=this,v=function(m){if(!(f.matched||!f.enabled)){var g=s(m,f);g&&(f.manager.emit(p.COMBO_MATCH,f,m),f.resetOnMatch?r(f):f.deleteOnMatch&&f.destroy())}};this.onKeyDown=v,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});u.exports=t},68769:(u,x,e)=>{var l=e(66970),p=function(a,s){if(s.matched)return!0;var r=!1,t=!1;if(a.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var n=s.timeLastMatched+s.maxKeyDelay;a.timeStamp<=n&&(t=!0,r=l(a,s))}else t=!0,r=l(a,s);return!t&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),r&&(s.timeLastMatched=a.timeStamp,s.matched=!0,s.timeMatched=a.timeStamp),r};u.exports=p},92803:u=>{var x=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};u.exports=x},92612:u=>{u.exports="keydown"},23345:u=>{u.exports="keyup"},21957:u=>{u.exports="keycombomatch"},44743:u=>{u.exports="down"},3771:u=>{u.exports="keydown-"},46358:u=>{u.exports="keyup-"},75674:u=>{u.exports="up"},95922:(u,x,e)=>{u.exports={ANY_KEY_DOWN:e(92612),ANY_KEY_UP:e(23345),COMBO_MATCH:e(21957),DOWN:e(44743),KEY_DOWN:e(3771),KEY_UP:e(46358),UP:e(75674)}},51442:(u,x,e)=>{u.exports={Events:e(95922),KeyboardManager:e(78970),KeyboardPlugin:e(28846),Key:e(30472),KeyCodes:e(46032),KeyCombo:e(87960),AdvanceKeyCombo:e(66970),ProcessKeyCombo:e(68769),ResetKeyCombo:e(92803),JustDown:e(90229),JustUp:e(38796),DownDuration:e(37015),UpDuration:e(41170)}},37015:u=>{var x=function(e,l){l===void 0&&(l=50);var p=e.plugin.game.loop.time-e.timeDown;return e.isDown&&p<l};u.exports=x},90229:u=>{var x=function(e){return e._justDown?(e._justDown=!1,!0):!1};u.exports=x},38796:u=>{var x=function(e){return e._justUp?(e._justUp=!1,!0):!1};u.exports=x},30472:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(95922),s=new l({Extends:p,initialize:function(t,n){p.call(this),this.plugin=t,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});u.exports=s},46032:u=>{var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};u.exports=x},74600:(u,x,e)=>{var l=e(46032),p={};for(var a in l)p[l[a]]=a;u.exports=p},41170:u=>{var x=function(e,l){l===void 0&&(l=50);var p=e.plugin.game.loop.time-e.timeUp;return e.isUp&&p<l};u.exports=x},85098:(u,x,e)=>{var l=e(83419),p=e(89357),a=e(8214),s=e(29747),r=new l({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,n.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.passive=t.inputMousePassive,this.preventDefaultDown=t.inputMousePreventDefaultDown,this.preventDefaultUp=t.inputMousePreventDefaultUp,this.preventDefaultMove=t.inputMousePreventDefaultMove,this.preventDefaultWheel=t.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var t=this.target;if(t){var n=this,h=this.manager,i=h.canvas,o=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseMove(d),n.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){o&&window.focus(),!d.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseDown(d),n.preventDefaultDown&&d.target===i&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&h&&h.enabled&&d.target!==i&&h.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseUp(d),n.preventDefaultUp&&d.target===i&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&h&&h.enabled&&d.target!==i&&h.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&h.onMouseWheel(d),n.preventDefaultWheel&&d.target===i&&d.preventDefault()};var c={passive:!0};if(t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("mouseup",this.onMouseUp),t.addEventListener("mouseover",this.onMouseOver,c),t.addEventListener("mouseout",this.onMouseOut,c),this.preventDefaultWheel?t.addEventListener("wheel",this.onMouseWheel,{passive:!1}):t.addEventListener("wheel",this.onMouseWheel,c),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,c),window.top.addEventListener("mouseup",this.onMouseUpWindow,c)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,c),window.addEventListener("mouseup",this.onMouseUpWindow,c),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(d){var f=n.target;n.locked=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f,h.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mouseover",this.onMouseOver),t.removeEventListener("mouseout",this.onMouseOut),window&&(t=this.isTop?window.top:window,t.removeEventListener("mousedown",this.onMouseDownWindow),t.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});u.exports=r},87078:(u,x,e)=>{u.exports={MouseManager:e(85098)}},36210:(u,x,e)=>{var l=e(83419),p=e(8214),a=e(29747),s=new l({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,t.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var t=this,n=this.manager,h=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchMove(f),t.capture&&f.cancelable&&f.preventDefault())},this.onTouchStart=function(f){i&&window.focus(),!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchStart(f),t.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchStartWindow=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&f.target!==h&&n.onTouchStart(f)},this.onTouchEnd=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchEnd(f),t.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchEndWindow=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&f.target!==h&&n.onTouchEnd(f)},this.onTouchCancel=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchCancel(f),t.capture&&f.preventDefault())},this.onTouchCancelWindow=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&n.onTouchCancel(f)};var o=this.capture,c={passive:!0},d={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,o?d:c),r.addEventListener("touchmove",this.onTouchMove,o?d:c),r.addEventListener("touchend",this.onTouchEnd,o?d:c),r.addEventListener("touchcancel",this.onTouchCancel,o?d:c),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});u.exports=s},95618:(u,x,e)=>{u.exports={TouchManager:e(36210)}},41299:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(54899),s=e(95540),r=e(98356),t=e(3374),n=e(84376),h=e(92638),i=new l({initialize:function(c,d){if(this.loader=c,this.cache=s(d,"cache",!1),this.type=s(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(d,"key",!1);var f=this.key;if(c.prefix&&c.prefix!==""&&(this.key=c.prefix+f),!this.key)throw new Error("Invalid File key: "+this.key);var v=s(d,"url");v===void 0?v=c.path+f+"."+s(d,"extension",""):typeof v=="string"&&!v.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(v=c.path+v),this.url=v,this.src="",this.xhrSettings=h(s(d,"responseType",void 0)),s(d,"xhrSettings",!1)&&(this.xhrSettings=t(this.xhrSettings,s(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof v=="string"&&v.indexOf("data:")===0,this.retryAttempts=s(d,"maxRetries",c.maxRetries)},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=r(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(o,c){var d=o.responseURL&&this.loader.localSchemes.some(function(m){return o.responseURL.indexOf(m)===0}),f=d&&c.target.status===0,v=!(c.target&&c.target.status!==200)||f;o.readyState===4&&o.status>=400&&o.status<=599&&(v=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onBase64Load:function(o){this.xhrLoader=o,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==p.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var c=this.key,d=this.type;this.loader.emit(a.FILE_COMPLETE,c,d,o),this.loader.emit(a.FILE_KEY_COMPLETE+d+"-"+c,c,d,o),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(o,c,d){if(typeof URL=="function")o.src=URL.createObjectURL(c);else{var f=new FileReader;f.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(c.type||d)+";base64,"+f.result.split(",")[1]},f.onerror=o.onerror,f.readAsDataURL(c)}},i.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},u.exports=i},74099:u=>{var x={},e={install:function(l){for(var p in x)l[p]=x[p]},register:function(l,p){x[l]=p},destroy:function(){x={}}};u.exports=e},98356:u=>{var x=function(e,l){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:l+e.url:!1};u.exports=x},74261:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(35072),s=e(50792),r=e(54899),t=e(74099),n=e(95540),h=e(35154),i=e(41212),o=e(37277),c=e(44594),d=e(92638),f=new l({Extends:s,initialize:function(m){s.call(this);var g=m.sys.game.config,y=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,t.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(y,"baseURL",g.loaderBaseURL)),this.setPath(n(y,"path",g.loaderPath)),this.setPrefix(n(y,"prefix",g.loaderPrefix)),this.maxParallelDownloads=n(y,"maxParallelDownloads",g.loaderMaxParallelDownloads),this.xhr=d(n(y,"responseType",g.loaderResponseType),n(y,"async",g.loaderAsync),n(y,"user",g.loaderUser),n(y,"password",g.loaderPassword),n(y,"timeout",g.loaderTimeout),n(y,"withCredentials",g.loaderWithCredentials)),this.crossOrigin=n(y,"crossOrigin",g.loaderCrossOrigin),this.imageLoadType=n(y,"imageLoadType",g.loaderImageLoadType),this.localSchemes=n(y,"localScheme",g.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(y,"maxRetries",g.loaderMaxRetries),m.sys.events.once(c.BOOT,this.boot,this),m.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++){var g=v[m];this.keyExists(g)||(this.list.set(g),this.emit(r.ADD,g.key,g.type,this,g),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var m=v.hasCacheConflict();return m||this.list.iterate(function(g){if(g.type===v.type&&g.key===v.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(g){if(g.type===v.type&&g.key===v.key)return m=!0,!1}),this.queue.iterate(function(g){if(g.type===v.type&&g.key===v.key)return m=!0,!1})),m},addPack:function(v,m){if(typeof m=="string"){var g=h(v,m);g&&(v={packKey:g})}var y=0,T=this.baseURL,C=this.path,E=this.prefix;for(var z in v)if(Object.prototype.hasOwnProperty.call(v,z)){var D=v[z],A=n(D,"baseURL",T),L=n(D,"path",C),b=n(D,"prefix",E),F=n(D,"files",null),V=n(D,"defaultType","void");if(Array.isArray(F)){this.setBaseURL(A),this.setPath(L),this.setPrefix(b);for(var B=0;B<F.length;B++){var N=F[B],U=N.hasOwnProperty("type")?N.type:V;this[U]&&(this[U](N),y++)}}}return this.setBaseURL(T),this.setPath(C),this.setPrefix(E),y>0},removePack:function(v,m){var g=this.systems.anims,y=this.cacheManager,T=this.textureManager,C={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},E;if(i(v))E=v;else if(E=y.json.get(v),!E){console.warn("Asset Pack not found in JSON cache:",v);return}m&&(E={_:E[m]});for(var z in E){var D=E[z],A=n(D,"prefix",""),L=n(D,"files"),b=n(D,"defaultType");if(Array.isArray(L))for(var F=0;F<L.length;F++){var V=L[F],B=V.hasOwnProperty("type")?V.type:b;if(!B){console.warn("No type:",V);continue}var N=A+V.key;if(B==="animation"&&g.remove(N),!((B==="aseprite"||B==="atlas"||B==="atlasXML"||B==="htmlTexture"||B==="image"||B==="multiatlas"||B==="spritesheet"||B==="svg"||B==="texture"||B==="unityAtlas")&&(T.remove(N),!C[B]))){if(B==="pack"){this.removePack(N,V.dataKey);continue}if(B==="spine"){var U=y.custom.spine.get(N);if(!U)continue;var I=U.prefix===void 0?"":U.prefix;y.custom.spine.remove(N);var H=y.custom.spineTextures.get(N);if(!H)continue;y.custom.spineTextures.remove(N);for(var O=0;O<H.pages.length;O++){var R=H.pages[O],Y=I+R.name,G=N+":"+Y;T.exists(G)?T.remove(G):T.remove(Y)}}var k=C[B];if(k!==null){if(!k){console.warn("Unknown type:",B);continue}var W=y[k];W.remove(N)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===p.FILE_POPULATED||v.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,m){this.inflight&&(this.inflight.delete(v),this.updateProgress(),m?(this.totalComplete++,this.queue.set(v),this.emit(r.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(r.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===p.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===p.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,m){return this.save(JSON.stringify(v),m)},save:function(v,m,g){m===void 0&&(m="file.json"),g===void 0&&(g="application/json");var y=new Blob([v],{type:g}),T=URL.createObjectURL(y),C=document.createElement("a");return C.download=m,C.textContent="Download "+m,C.href=T,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(n(m,"baseURL",v.loaderBaseURL)),this.setPath(n(m,"path",v.loaderPath)),this.setPrefix(n(m,"prefix",v.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});o.register("Loader",f,"load"),u.exports=f},3374:(u,x,e)=>{var l=e(79291),p=e(92638),a=function(s,r){var t=s===void 0?p():l({},s);if(r)for(var n in r)r[n]!==void 0&&(t[n]=r[n]);return t};u.exports=a},26430:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(54899),s=new l({initialize:function(t,n,h,i){var o=[];i.forEach(function(f){f&&o.push(f)}),this.loader=t,this.type=n,this.key=h;var c=this.key;t.prefix&&t.prefix!==""&&(this.key=t.prefix+c),this.multiKeyIndex=t.multiKeyIndex++,this.files=o,this.state=p.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=t.baseURL,this.path=t.path,this.prefix=t.prefix;for(var d=0;d<o.length;d++)o[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var t=this.files.indexOf(r);t!==-1&&this.pending--},onFileFailed:function(r){var t=this.files.indexOf(r);t!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var r=this.key,t=this.type;this.loader.emit(a.FILE_COMPLETE,r,t),this.loader.emit(a.FILE_KEY_COMPLETE+t+"-"+r,r,t),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});u.exports=s},84376:(u,x,e)=>{var l=e(3374),p=function(a,s){var r=l(s,a.xhrSettings);if(a.base64){var t=a.url.split(";base64,").pop()||a.url.split(",").pop(),n={responseText:atob(t)};a.onBase64Load(n);return}var h=new XMLHttpRequest;if(h.open("GET",a.src,r.async,r.user,r.password),h.responseType=a.xhrSettings.responseType,h.timeout=r.timeout,r.headers)for(var i in r.headers)h.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&h.setRequestHeader(r.header,r.headerValue),r.requestedWith&&h.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&h.overrideMimeType(r.overrideMimeType),r.withCredentials&&(h.withCredentials=!0),h.onload=a.onLoad.bind(a,h),h.onerror=a.onError.bind(a,h),h.onprogress=a.onProgress.bind(a),h.ontimeout=a.onError.bind(a,h),h.send(),h};u.exports=p},92638:u=>{var x=function(e,l,p,a,s,r){return e===void 0&&(e=""),l===void 0&&(l=!0),p===void 0&&(p=""),a===void 0&&(a=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:e,async:l,user:p,password:a,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};u.exports=x},23906:u=>{var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};u.exports=x},42155:u=>{u.exports="addfile"},38991:u=>{u.exports="complete"},27540:u=>{u.exports="filecomplete"},87464:u=>{u.exports="filecomplete-"},94486:u=>{u.exports="loaderror"},13035:u=>{u.exports="load"},38144:u=>{u.exports="fileprogress"},97520:u=>{u.exports="postprocess"},85595:u=>{u.exports="progress"},55680:u=>{u.exports="start"},54899:(u,x,e)=>{u.exports={ADD:e(42155),COMPLETE:e(38991),FILE_COMPLETE:e(27540),FILE_KEY_COMPLETE:e(87464),FILE_LOAD_ERROR:e(94486),FILE_LOAD:e(13035),FILE_PROGRESS:e(38144),POST_PROCESS:e(97520),PROGRESS:e(85595),START:e(55680)}},14135:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(518),s=e(54899),r=new l({Extends:a,initialize:function(n,h,i,o,c){a.call(this,n,h,i,o,c),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(t,n,h,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)this.addFile(new r(this,t[o]));else this.addFile(new r(this,t,n,i,h));return this}),u.exports=r},76272:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(19550),r=e(41212),t=e(518),n=e(26430),h=new l({Extends:n,initialize:function(o,c,d,f,v,m){var g,y;if(r(c)){var T=c;c=a(T,"key"),g=new s(o,{key:c,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new t(o,{key:c,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new s(o,c,d,v),y=new t(o,c,f,m);g.linkFile?n.call(this,o,"atlasjson",c,[g,y,g.linkFile]):n.call(this,o,"atlasjson",c,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,c),o.addToCache(),this.complete=!0}}});p.register("aseprite",function(i,o,c,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,o,c,d,f),this.addFile(v.files);return this}),u.exports=h},38734:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(19550),r=e(41212),t=e(518),n=e(26430),h=new l({Extends:n,initialize:function(o,c,d,f,v,m){var g,y;if(r(c)){var T=c;c=a(T,"key"),g=new s(o,{key:c,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new t(o,{key:c,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new s(o,c,d,v),y=new t(o,c,f,m);g.linkFile?n.call(this,o,"atlasjson",c,[g,y,g.linkFile]):n.call(this,o,"atlasjson",c,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,o.data,c),this.complete=!0}}});p.register("atlas",function(i,o,c,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,o,c,d,f),this.addFile(v.files);return this}),u.exports=h},74599:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(19550),r=e(41212),t=e(26430),n=e(57318),h=new l({Extends:t,initialize:function(o,c,d,f,v,m){var g,y;if(r(c)){var T=c;c=a(T,"key"),g=new s(o,{key:c,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new n(o,{key:c,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","xml"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new s(o,c,d,v),y=new n(o,c,f,m);g.linkFile?t.call(this,o,"atlasxml",c,[g,y,g.linkFile]):t.call(this,o,"atlasxml",c,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,o.data,c),this.complete=!0}}});p.register("atlasXML",function(i,o,c,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,o,c,d,f),this.addFile(v.files);return this}),u.exports=h},21097:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(89749),n=e(41212),h=new l({Extends:a,initialize:function(o,c,d,f,v){if(n(c)){var m=c;c=r(m,"key"),f=r(m,"xhrSettings"),v=r(m,"context",v)}var g={type:"audio",cache:o.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:c,url:d.url,xhrSettings:f,config:{context:v}};a.call(this,o,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){i.data=o,i.onProcessComplete()},function(o){console.error("Error decoding audio: "+i.key+" - ",o?o.message:null),i.onProcessError()}),this.config.context=null}});h.create=function(i,o,c,d,f){var v=i.systems.game,m=v.config.audio,g=v.device.audio;n(o)&&(c=r(o,"url",[]),d=r(o,"config",{}));var y=h.getAudioURL(v,c);return y?g.webAudio&&!m.disableWebAudio?new h(i,o,y,f,v.sound.context):new t(i,o,y,d):(console.warn('No audio URLs for "%s" can play on this device',o),null)},h.getAudioURL=function(i,o){Array.isArray(o)||(o=[o]);for(var c=0;c<o.length;c++){var d=r(o[c],"url",o[c]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var f=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(f=r(o[c],"type",f?f[1]:"").toLowerCase(),i.device.audio[f])return{url:d,type:f}}return null},s.register("audio",function(i,o,c,d){var f=this.systems.game,v=f.config.audio,m=f.device.audio;if(v.noAudio||!m.webAudio&&!m.audioData)return this;var g;if(Array.isArray(i))for(var y=0;y<i.length;y++)g=h.create(this,i[y]),g&&this.addFile(g);else g=h.create(this,i,o,c,d),g&&this.addFile(g);return this}),u.exports=h},89524:(u,x,e)=>{var l=e(21097),p=e(83419),a=e(74099),s=e(95540),r=e(41212),t=e(518),n=e(26430),h=new p({Extends:n,initialize:function(o,c,d,f,v,m,g){if(r(c)){var y=c;c=s(y,"key"),d=s(y,"jsonURL"),f=s(y,"audioURL"),v=s(y,"audioConfig"),m=s(y,"audioXhrSettings"),g=s(y,"jsonXhrSettings")}var T;if(!f)T=new t(o,c,d,g),n.call(this,o,"audiosprite",c,[T]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=m;else{var C=l.create(o,c,f,v,m);C&&(T=new t(o,c,d,g),n.call(this,o,"audiosprite",c,[C,T]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var c=i.data.resources,d=s(this.config,"audioConfig"),f=s(this.config,"audioXhrSettings"),v=l.create(this.loader,i.key,c,d,f);v&&(this.addToMultiFile(v),this.loader.addFile(v))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1];i.addToCache(),o.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,o,c,d,f,v){var m=this.systems.game,g=m.config.audio,y=m.device.audio;if(g&&g.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(i))for(var C=0;C<i.length;C++)T=new h(this,i[C]),T.files&&this.addFile(T.files);else T=new h(this,i,o,c,d,f,v),T.files&&this.addFile(T.files);return this})},85722:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d,f){var v="bin";if(t(o)){var m=o;o=r(m,"key"),c=r(m,"url"),d=r(m,"xhrSettings"),v=r(m,"extension",v),f=r(m,"dataType",f)}var g={type:"binary",cache:i.cacheManager.binary,extension:v,responseType:"arraybuffer",key:o,url:c,xhrSettings:d,config:{dataType:f}};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(h,i,o,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,c,o));return this}),u.exports=n},97025:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(19550),r=e(41212),t=e(26430),n=e(21859),h=e(57318),i=new l({Extends:t,initialize:function(c,d,f,v,m,g){var y,T;if(r(d)){var C=d;d=a(C,"key"),y=new s(c,{key:d,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new h(c,{key:d,url:a(C,"fontDataURL"),extension:a(C,"fontDataExtension","xml"),xhrSettings:a(C,"fontDataXhrSettings")})}else y=new s(c,d,f,m),T=new h(c,d,v,g);y.linkFile?t.call(this,c,"bitmapfont",d,[y,T,y.linkFile]):t.call(this,c,"bitmapfont",d,[y,T])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],c=this.files[1];o.addToCache();var d=o.cache.get(o.key),f=n(c.data,o.cache.getFrame(o.key),0,0,d);this.loader.cacheManager.bitmapFont.add(o.key,{data:f,texture:o.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(o,c,d,f,v){var m;if(Array.isArray(o))for(var g=0;g<o.length;g++)m=new i(this,o[g]),this.addFile(m.files);else m=new i(this,o,c,d,f,v),this.addFile(m.files);return this}),u.exports=i},16024:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d){var f="css";if(t(o)){var v=o;o=r(v,"key"),c=r(v,"url"),d=r(v,"xhrSettings"),f=r(v,"extension",f)}var m={type:"script",cache:!1,extension:f,responseType:"text",key:o,url:c,xhrSettings:d};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(h,i,o){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new n(this,h[c]));else this.addFile(new n(this,h,i,o));return this}),u.exports=n},69559:(u,x,e)=>{var l=e(38734),p=e(85722),a=e(83419),s=e(74099),r=e(95540),t=e(19550),n=e(41212),h=e(518),i=e(31403),o=e(46975),c=e(59327),d=e(26430),f=e(82038),v=e(55222),m=new a({Extends:d,initialize:function(y,T,C,E){if(C.multiAtlasURL){var z=new h(y,{key:T,url:C.multiAtlasURL,xhrSettings:E,config:C});d.call(this,y,"texture",T,[z])}else{var D=C.textureURL.substr(C.textureURL.length-3);C.type||(C.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var A=new p(y,{key:T,url:C.textureURL,extension:D,xhrSettings:E,config:C});if(C.atlasURL){var L=new h(y,{key:T,url:C.atlasURL,xhrSettings:E,config:C});d.call(this,y,"texture",T,[A,L])}else d.call(this,y,"texture",T,[A])}this.config=C},onFileComplete:function(g){var y=this.files.indexOf(g);if(y!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(g.type==="json"&&g.data.hasOwnProperty("textures")){var T=g.data.textures,C=this.config,E=this.loader,z=E.baseURL,D=E.path,A=E.prefix,L=r(C,"multiBaseURL",this.baseURL),b=r(C,"multiPath",this.path),F=r(C,"prefix",this.prefix),V=r(C,"textureXhrSettings");L&&E.setBaseURL(L),b&&E.setPath(b),F&&E.setPrefix(F);for(var B=0;B<T.length;B++){var N=T[B].image,U="CMA"+this.multiKeyIndex+"_"+N,I=new p(E,U,N,V);if(this.addToMultiFile(I),E.addFile(I),T[B].normalMap){var H=new p(E,U,T[B].normalMap,V);H.type="normalMap",I.setLink(H),this.addToMultiFile(H),E.addFile(H)}}E.setBaseURL(z),E.setPath(D),E.setPrefix(A)}}},addToCache:function(){function g(L){console.warn('Compressed Texture Invalid: "'+z.key+'". '+L)}if(this.isReadyToProcess()){var y=this.config;if(y.multiAtlasURL)this.addMultiToCache();else{var T=this.loader.systems.renderer,C=this.loader.textureManager,E,z=this.files[0],D=this.files[1];if(y.type==="PVR"?E=f(z.data):y.type==="KTX"&&(E=i(z.data),E||g("KTX file contains unsupported format.")),E&&!v(E)&&(g("Texture dimensions failed verification. Check the texture format specifications for "+y.format+" 0x"+E.internalFormat.toString(16)+"."),E=null),E&&!T.supportsCompressedTexture(y.format,E.internalFormat)&&(g("Texture format "+y.format+" with internal format "+E.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),E=null),E){E.format=T.getCompressedTextureName(y.format,E.internalFormat);var A=D&&D.data?D.data:null;C.addCompressedTexture(z.key,E,A)}}this.complete=!0}},addMultiToCache:function(){for(var g=this.config,y=this.files[0],T=[],C=[],E=[],z=this.loader.systems.renderer,D=this.loader.textureManager,A,L=1;L<this.files.length;L++){var b=this.files[L];if(b.type!=="normalMap")for(var F=b.key.indexOf("_"),V=b.key.substr(F+1),B=b.data,N=0;N<y.data.textures.length;N++){var U=y.data.textures[N];if(U.image===V){g.type==="PVR"?A=f(B):g.type==="KTX"&&(A=i(B)),A&&z.supportsCompressedTexture(g.format,A.internalFormat)&&(A.format=z.getCompressedTextureName(g.format,A.internalFormat),C.push(A),T.push(U),b.linkFile&&E.push(b.linkFile.data));break}}}E.length===0&&(E=void 0),D.addAtlasJSONArray(this.key,C,T,E),this.complete=!0}});s.register("texture",function(g,y,T){var C=this.systems.renderer,E=function(D,A,L,b){var F={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(A)){var V=A;A=r(V,"key"),L=r(V,"url"),b=r(V,"xhrSettings")}var B=!1;for(var N in L)if(C.supportsCompressedTexture(N)){var U=L[N];typeof U=="string"?F.textureURL=U:F=o(U,F),F.format=N.toUpperCase(),B=!0;break}if(!B)console.warn("No supported compressed texture format or IMG fallback",A);else if(F.format==="IMG"){var I,H;F.multiAtlasURL?(H=new c(D,A,F.multiAtlasURL,F.multiPath,F.multiBaseURL,b),I=H.files):F.atlasURL?(H=new l(D,A,F.textureURL,F.atlasURL,b),I=H.files):I=new t(D,A,F.textureURL,b),D.addFile(I)}else{var O=new m(D,A,F,b);D.addFile(O.files)}};if(Array.isArray(g))for(var z=0;z<g.length;z++)E(this,g[z]);else E(this,g,y,T);return this}),u.exports=m},87674:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(98356),n=e(41212),h=new l({Extends:a,initialize:function(o,c,d,f,v,m){var g="ttf";if(n(c)){var y=c;c=r(y,"key"),d=r(y,"url"),f=r(y,"format","truetype"),v=r(y,"descriptors",null),m=r(y,"xhrSettings"),g=r(y,"extension",g)}else f===void 0&&(f="truetype");var T={type:"font",cache:!1,extension:g,responseType:"text",key:c,url:d,xhrSettings:m};a.call(this,o,T),this.data={format:f,descriptors:v},this.state=p.FILE_POPULATED},onProcess:function(){this.state=p.FILE_PROCESSING,this.src=t(this,this.loader.baseURL);var i,o=this.key,c="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(o,c,this.data.descriptors):i=new FontFace(o,c);var d=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",c),d.onProcessComplete()})}});s.register("font",function(i,o,c,d,f){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new h(this,i[v]));else this.addFile(new h(this,i,o,c,d,f));return this}),u.exports=h},47931:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=e(73894),h=new l({Extends:a,initialize:function(o,c,d,f,v){var m="glsl";if(t(c)){var g=c;c=r(g,"key"),d=r(g,"url"),f=r(g,"shaderType","fragment"),v=r(g,"xhrSettings"),m=r(g,"extension",m)}else f===void 0&&(f="fragment");var y={type:"glsl",cache:o.cacheManager.shader,extension:m,responseType:"text",key:c,url:d,config:{shaderType:f},xhrSettings:v};a.call(this,o,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),o=this.extractBlock(i,0);if(o)for(;o;){var c=this.getShaderName(o.header),d=this.getShaderType(o.header),f=this.getShaderUniforms(o.header),v=o.shader;if(this.cache.has(c)){var m=this.cache.get(c);d==="fragment"?m.fragmentSrc=v:m.vertexSrc=v,m.uniforms||(m.uniforms=f)}else d==="fragment"?this.cache.add(c,new n(c,v,"",f)):this.cache.add(c,new n(c,"",v,f));o=this.extractBlock(i,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var o=0;o<i.length;o++){var c=i[o].trim();if(c.substring(0,5)==="name:")return c.substring(5).trim()}return this.key},getShaderType:function(i){for(var o=0;o<i.length;o++){var c=i[o].trim();if(c.substring(0,5)==="type:")return c.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var o={},c=0;c<i.length;c++){var d=i[c].trim();if(d.substring(0,8)==="uniform."){var f=d.indexOf(":");if(f){var v=d.substring(8,f);try{o[v]=JSON.parse(d.substring(f+1))}catch{console.warn("Invalid uniform JSON: "+v)}}}}return o},extractBlock:function(i,o){for(var c=-1,d=-1,f=-1,v=!1,m=!1,g=[],y=[],T=o;T<i.length;T++){var C=i[T].trim();if(C==="---")if(c===-1)c=T,v=!0;else if(v)d=T,v=!1,m=!0;else{m=!1;break}else v?g.push(C):m&&(y.push(C),f=T)}return!v&&d!==-1?{header:g,shader:y.join(`
`),offset:f}:null}});s.register("glsl",function(i,o,c,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,o,c,d));return this}),u.exports=h},89749:(u,x,e)=>{var l=e(83419),p=e(54899),a=e(41299),s=e(95540),r=e(98356),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d){if(t(o)){var f=o;o=s(f,"key"),d=s(f,"config",d)}var v={type:"audio",cache:i.cacheManager.audio,extension:c.type,key:o,url:c.url,config:d};a.call(this,i,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var i=this.data[h];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var i=h.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<h;i++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+i).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(i=0;i<this.data.length;i++)o=this.data[i],o.src=r(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});u.exports=n},88470:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d){var f="html";if(t(o)){var v=o;o=r(v,"key"),c=r(v,"url"),d=r(v,"xhrSettings"),f=r(v,"extension",f)}var m={type:"text",cache:i.cacheManager.html,extension:f,responseType:"text",key:o,url:c,xhrSettings:d};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(h,i,o){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new n(this,h[c]));else this.addFile(new n(this,h,i,o));return this}),u.exports=n},14643:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d,f,v){d===void 0&&(d=512),f===void 0&&(f=512);var m="html";if(t(o)){var g=o;o=r(g,"key"),c=r(g,"url"),v=r(g,"xhrSettings"),m=r(g,"extension",m),d=r(g,"width",d),f=r(g,"height",f)}var y={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:o,url:c,xhrSettings:v,config:{width:d,height:f}};a.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var h=this.config.width,i=this.config.height,o=[];o.push('<svg width="'+h+'px" height="'+i+'px" viewBox="0 0 '+h+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var c=[o.join(`
`)],d=this;try{var f=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=p.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(d.data),d.onProcessError()},a.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(h,i,o,c,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,o,c,d));return this}),u.exports=n},19550:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=e(98356),h=new l({Extends:a,initialize:function i(o,c,d,f,v){var m="png",g;if(t(c)){var y=c;c=r(y,"key"),d=r(y,"url"),g=r(y,"normalMap"),f=r(y,"xhrSettings"),m=r(y,"extension",m),v=r(y,"frameConfig")}Array.isArray(d)&&(g=d[1],d=d[0]);var T={type:"image",cache:o.textureManager,extension:m,responseType:"blob",key:c,url:d,xhrSettings:f,config:v};if(a.call(this,o,T),g){var C=new i(o,this.key,g,f,v);C.type="normalMap",this.setLink(C),o.addFile(C)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=p.FILE_PROCESSING,i===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=p.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=p.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(i,o,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,o,c));return this}),u.exports=h},518:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(35154),n=e(41212),h=new l({Extends:a,initialize:function(o,c,d,f,v){var m="json";if(n(c)){var g=c;c=r(g,"key"),d=r(g,"url"),f=r(g,"xhrSettings"),m=r(g,"extension",m),v=r(g,"dataKey",v)}var y={type:"json",cache:o.cacheManager.json,extension:m,responseType:"text",key:c,url:d,xhrSettings:f,config:v};a.call(this,o,y),n(d)&&(v?this.data=t(d,v):this.data=d,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(c){throw this.onProcessError(),c}var o=this.config;typeof o=="string"?this.data=t(i,o,i):this.data=i}this.onProcessComplete()}});s.register("json",function(i,o,c,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,o,d,c));return this}),u.exports=h},59327:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(19550),r=e(41212),t=e(518),n=e(26430),h=new l({Extends:n,initialize:function(o,c,d,f,v,m,g){if(r(c)){var y=c;c=a(y,"key"),a(y,"url",!1)?d=a(y,"url"):d=a(y,"atlasURL"),m=a(y,"xhrSettings"),f=a(y,"path"),v=a(y,"baseURL"),g=a(y,"textureXhrSettings")}var T=new t(o,c,d,m);n.call(this,o,"multiatlas",c,[T]),this.config.path=f,this.config.baseURL=v,this.config.textureXhrSettings=g},onFileComplete:function(i){var o=this.files.indexOf(i);if(o!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var c=i.data.textures,d=this.config,f=this.loader,v=f.baseURL,m=f.path,g=f.prefix,y=a(d,"baseURL",this.baseURL),T=a(d,"path",this.path),C=a(d,"prefix",this.prefix),E=a(d,"textureXhrSettings");f.setBaseURL(y),f.setPath(T),f.setPrefix(C);for(var z=0;z<c.length;z++){var D=c[z].image,A="MA"+this.multiKeyIndex+"_"+D,L=new s(f,A,D,E);if(this.addToMultiFile(L),f.addFile(L),c[z].normalMap){var b=new s(f,A,c[z].normalMap,E);b.type="normalMap",L.setLink(b),this.addToMultiFile(b),f.addFile(b)}}f.setBaseURL(v),f.setPath(m),f.setPrefix(g)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],o=[],c=[],d=[],f=1;f<this.files.length;f++){var v=this.files[f];if(v.type!=="normalMap")for(var m=v.key.indexOf("_"),g=v.key.substr(m+1),y=v.data,T=0;T<i.data.textures.length;T++){var C=i.data.textures[T];if(C.image===g){c.push(y),o.push(C),v.linkFile&&d.push(v.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,c,o,d),this.complete=!0}}});p.register("multiatlas",function(i,o,c,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,o,c,d,f),this.addFile(v.files);return this}),u.exports=h},99297:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(41212),r=e(26430),t=e(34328),n=new l({Extends:r,initialize:function(i,o,c,d){var f="js",v=[];if(s(o)){var m=o;o=a(m,"key"),c=a(m,"url"),d=a(m,"xhrSettings"),f=a(m,"extension",f)}Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++){var y=new t(i,{key:o+"_"+g.toString(),url:c[g],extension:f,xhrSettings:d});y.onProcess=function(){this.onProcessComplete()},v.push(y)}r.call(this,i,"scripts",o,v)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var i=this.files[h];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});p.register("scripts",function(h,i,o){var c;if(Array.isArray(h))for(var d=0;d<h.length;d++)c=new n(this,h[d]),this.addFile(c.files);else c=new n(this,h,i,o),this.addFile(c.files);return this}),u.exports=n},41846:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(41212),r=e(26430),t=e(85048),n=e(61485),h=e(78776),i=new l({Extends:r,initialize:function(c,d,f,v,m,g){var y,T,C=c.cacheManager.obj;if(s(d)){var E=d;d=a(E,"key"),y=new h(c,{key:d,type:"obj",cache:C,url:a(E,"url"),extension:a(E,"extension","obj"),xhrSettings:a(E,"xhrSettings"),config:{flipUV:a(E,"flipUV",m)}}),v=a(E,"matURL"),v&&(T=new h(c,{key:d,type:"mat",cache:C,url:v,extension:a(E,"matExtension","mat"),xhrSettings:a(E,"xhrSettings")}))}else y=new h(c,{key:d,url:f,type:"obj",cache:C,extension:"obj",xhrSettings:g,config:{flipUV:m}}),v&&(T=new h(c,{key:d,url:v,type:"mat",cache:C,extension:"mat",xhrSettings:g}));r.call(this,c,"obj",d,[y,T])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],c=this.files[1],d=t(o.data,o.config.flipUV);c&&(d.materials=n(c.data)),o.cache.add(o.key,d),this.complete=!0}}});p.register("obj",function(o,c,d,f,v){var m;if(Array.isArray(o))for(var g=0;g<o.length;g++)m=new i(this,o[g]),this.addFile(m.files);else m=new i(this,o,c,d,f,v),this.addFile(m.files);return this}),u.exports=i},58610:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(74099),s=e(518),r=new l({Extends:s,initialize:function(n,h,i,o,c){s.call(this,n,h,i,o,c),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var t={};t[this.config]=this.data,this.data=t}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(t,n,h,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)this.addFile(new r(this,t[o]));else this.addFile(new r(this,t,n,i,h));return this}),u.exports=r},48988:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d,f,v){var m="js";if(t(o)){var g=o;o=r(g,"key"),c=r(g,"url"),v=r(g,"xhrSettings"),m=r(g,"extension",m),d=r(g,"start"),f=r(g,"mapping")}var y={type:"plugin",cache:!1,extension:m,responseType:"text",key:o,url:c,xhrSettings:v,config:{start:d,mapping:f}};a.call(this,i,y),typeof c=="function"&&(this.data=c,this.state=p.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,o=r(i,"start",!1),c=r(i,"mapping",null);if(this.state===p.FILE_POPULATED)h.install(this.key,this.data,o,c);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=h.install(this.key,window[this.key],o,c);(o||c)&&(this.loader.systems[c]=d,this.loader.scene[c]=d)}this.onProcessComplete()}});s.register("plugin",function(h,i,o,c,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,o,c,d));return this}),u.exports=n},67397:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d,f){var v="svg";if(t(o)){var m=o;o=r(m,"key"),c=r(m,"url"),d=r(m,"svgConfig",{}),f=r(m,"xhrSettings"),v=r(m,"extension",v)}var g={type:"svg",cache:i.textureManager,extension:v,responseType:"text",key:o,url:c,xhrSettings:f,config:{width:r(d,"width"),height:r(d,"height"),scale:r(d,"scale")}};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var h=this.xhrLoader.responseText,i=[h],o=this.config.width,c=this.config.height,d=this.config.scale;e:if(o&&c||d){var f=null,v=new DOMParser;f=v.parseFromString(h,"text/xml");var m=f.getElementsByTagName("svg")[0],g=m.hasAttribute("viewBox"),y=parseFloat(m.getAttribute("width")),T=parseFloat(m.getAttribute("height"));if(!g&&y&&T)m.setAttribute("viewBox","0  0 "+y+" "+T);else if(g&&!y&&!T){var C=m.getAttribute("viewBox").split(/\s+|,/);y=C[2],T=C[3]}if(d)if(y&&T)o=y*d,c=T*d;else break e;m.setAttribute("width",o.toString()+"px"),m.setAttribute("height",c.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var E=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var z=this,D=!1;this.data.onload=function(){D||a.revokeObjectURL(z.data),z.onProcessComplete()},this.data.onerror=function(){D?z.onProcessError():(D=!0,a.revokeObjectURL(z.data),z.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(h,i,o,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,o,c));return this}),u.exports=n},88423:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d){var f="js";if(t(o)){var v=o;o=r(v,"key"),c=r(v,"url"),d=r(v,"xhrSettings"),f=r(v,"extension",f)}var m={type:"text",extension:f,responseType:"text",key:o,url:c,xhrSettings:d};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(h)),this.complete=!0}});s.register("sceneFile",function(h,i,o){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new n(this,h[c]));else this.addFile(new n(this,h,i,o));return this}),u.exports=n},56812:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d,f,v){var m="js";if(t(o)){var g=o;o=r(g,"key"),c=r(g,"url"),v=r(g,"xhrSettings"),m=r(g,"extension",m),d=r(g,"systemKey"),f=r(g,"sceneKey")}var y={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:o,url:c,xhrSettings:v,config:{systemKey:d,sceneKey:f}};a.call(this,i,y),typeof c=="function"&&(this.data=c,this.state=p.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,o=this.key,c=r(i,"systemKey",o),d=r(i,"sceneKey",o);this.state===p.FILE_POPULATED?h.installScenePlugin(c,this.data,d,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(c,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(h,i,o,c,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,o,c,d));return this}),u.exports=n},34328:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d,f){var v="js";if(t(o)){var m=o;o=r(m,"key"),c=r(m,"url"),d=r(m,"type","script"),f=r(m,"xhrSettings"),v=r(m,"extension",v)}else d===void 0&&(d="script");var g={type:d,cache:!1,extension:v,responseType:"text",key:o,url:c,xhrSettings:f};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(h,i,o,c){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,o,c));return this}),u.exports=n},85035:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(74099),s=e(19550),r=new l({Extends:s,initialize:function(n,h,i,o,c){s.call(this,n,h,i,c,o),this.type="spritesheet"},addToCache:function(){var t=this.linkFile;t?t.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,t.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,t.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(t,n,h,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)this.addFile(new r(this,t[o]));else this.addFile(new r(this,t,n,h,i));return this}),u.exports=r},78776:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=new l({Extends:a,initialize:function(i,o,c,d){var f="text",v="txt",m=i.cacheManager.text;if(t(o)){var g=o;o=r(g,"key"),c=r(g,"url"),d=r(g,"xhrSettings"),v=r(g,"extension",v),f=r(g,"type",f),m=r(g,"cache",m)}var y={type:f,cache:m,extension:v,responseType:"text",key:o,url:c,xhrSettings:d};a.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(h,i,o){if(Array.isArray(h))for(var c=0;c<h.length;c++)this.addFile(new n(this,h[c]));else this.addFile(new n(this,h,i,o));return this}),u.exports=n},49477:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=e(80341),h=new l({Extends:a,initialize:function(o,c,d,f){var v="csv";if(t(c)){var m=c;c=r(m,"key"),d=r(m,"url"),f=r(m,"xhrSettings"),v=r(m,"extension",v)}var g={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:v,responseType:"text",key:c,url:d,xhrSettings:f};a.call(this,o,g),this.tilemapFormat=n.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});s.register("tilemapCSV",function(i,o,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,o,c));return this}),u.exports=h},40807:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(518),s=e(80341),r=new l({Extends:a,initialize:function(n,h,i,o){a.call(this,n,h,i,o),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var t={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,t)}});p.register("tilemapImpact",function(t,n,h){if(Array.isArray(t))for(var i=0;i<t.length;i++)this.addFile(new r(this,t[i]));else this.addFile(new r(this,t,n,h));return this}),u.exports=r},56775:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(518),s=e(80341),r=new l({Extends:a,initialize:function(n,h,i,o){a.call(this,n,h,i,o),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var t={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,t)}});p.register("tilemapTiledJSON",function(t,n,h){if(Array.isArray(t))for(var i=0;i<t.length;i++)this.addFile(new r(this,t[i]));else this.addFile(new r(this,t,n,h));return this}),u.exports=r},25771:(u,x,e)=>{var l=e(83419),p=e(74099),a=e(95540),s=e(19550),r=e(41212),t=e(26430),n=e(78776),h=new l({Extends:t,initialize:function(o,c,d,f,v,m){var g,y;if(r(c)){var T=c;c=a(T,"key"),g=new s(o,{key:c,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new n(o,{key:c,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","txt"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new s(o,c,d,v),y=new n(o,c,f,m);g.linkFile?t.call(this,o,"unityatlas",c,[g,y,g.linkFile]):t.call(this,o,"unityatlas",c,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],o=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,o.data,c),this.complete=!0}}});p.register("unityAtlas",function(i,o,c,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,o,c,d,f),this.addFile(v.files);return this}),u.exports=h},33720:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(98356),t=e(95540),n=e(41212),h=new l({Extends:a,initialize:function(o,c,d,f){if(f===void 0&&(f=!1),n(c)){var v=c;c=t(v,"key"),d=t(v,"url",[]),f=t(v,"noAudio",!1)}var m=o.systems.game.device.video.getVideoURL(d);m||console.warn("VideoFile: No supported format for "+c);var g={type:"video",cache:o.cacheManager.video,extension:m.type,key:c,url:m.url,config:{noAudio:f}};a.call(this,o,g)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(i,o,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,o,c));return this}),u.exports=h},57318:(u,x,e)=>{var l=e(83419),p=e(23906),a=e(41299),s=e(74099),r=e(95540),t=e(41212),n=e(56836),h=new l({Extends:a,initialize:function(o,c,d,f){var v="xml";if(t(c)){var m=c;c=r(m,"key"),d=r(m,"url"),f=r(m,"xhrSettings"),v=r(m,"extension",v)}var g={type:"xml",cache:o.cacheManager.xml,extension:v,responseType:"text",key:c,url:d,xhrSettings:f};a.call(this,o,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(i,o,c){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,o,c));return this}),u.exports=h},64589:(u,x,e)=>{u.exports={AnimationJSONFile:e(14135),AsepriteFile:e(76272),AtlasJSONFile:e(38734),AtlasXMLFile:e(74599),AudioFile:e(21097),AudioSpriteFile:e(89524),BinaryFile:e(85722),BitmapFontFile:e(97025),CompressedTextureFile:e(69559),CSSFile:e(16024),FontFile:e(87674),GLSLFile:e(47931),HTML5AudioFile:e(89749),HTMLFile:e(88470),HTMLTextureFile:e(14643),ImageFile:e(19550),JSONFile:e(518),MultiAtlasFile:e(59327),MultiScriptFile:e(99297),OBJFile:e(41846),PackFile:e(58610),PluginFile:e(48988),SceneFile:e(88423),ScenePluginFile:e(56812),ScriptFile:e(34328),SpriteSheetFile:e(85035),SVGFile:e(67397),TextFile:e(78776),TilemapCSVFile:e(49477),TilemapImpactFile:e(40807),TilemapJSONFile:e(56775),UnityAtlasFile:e(25771),VideoFile:e(33720),XMLFile:e(57318)}},57777:(u,x,e)=>{var l=e(23906),p=e(79291),a={Events:e(54899),FileTypes:e(64589),File:e(41299),FileTypesManager:e(74099),GetURL:e(98356),LoaderPlugin:e(74261),MergeXHRSettings:e(3374),MultiFile:e(26430),XHRLoader:e(84376),XHRSettings:e(92638)};a=p(!1,a,l),u.exports=a},53307:u=>{var x=function(e){for(var l=0,p=0;p<e.length;p++)l+=+e[p];return l/e.length};u.exports=x},85710:(u,x,e)=>{var l=e(6411),p=function(a,s){return l(a)/l(s)/l(a-s)};u.exports=p},30976:u=>{var x=function(e,l){return Math.floor(Math.random()*(l-e+1)+e)};u.exports=x},87842:u=>{var x=function(e,l,p,a,s){var r=(a-l)*.5,t=(s-p)*.5,n=e*e,h=e*n;return(2*p-2*a+r+t)*h+(-3*p+3*a-2*r-t)*n+r*e+p};u.exports=x},26302:u=>{var x=function(e,l,p){l===void 0&&(l=0),p===void 0&&(p=10);var a=Math.pow(p,-l);return Math.ceil(e*a)/a};u.exports=x},45319:u=>{var x=function(e,l,p){return Math.max(l,Math.min(p,e))};u.exports=x},39506:(u,x,e)=>{var l=e(36383),p=function(a){return a*l.DEG_TO_RAD};u.exports=p},61241:u=>{var x=function(e,l){return Math.abs(e-l)};u.exports=x},38857:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(37867),s=e(29747),r=new a,t=new p({initialize:function n(h,i,o,c){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c=n.DefaultOrder),this._x=h,this._y=i,this._z=o,this._order=c,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,h,i,o){return o===void 0&&(o=this._order),this._x=n,this._y=h,this._z=i,this._order=o,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,h,i){return h===void 0&&(h=this._order),i===void 0&&(i=!1),r.fromQuat(n),this.setFromRotationMatrix(r,h,i)},setFromRotationMatrix:function(n,h,i){h===void 0&&(h=this._order),i===void 0&&(i=!1);var o=n.val,c=o[0],d=o[4],f=o[8],v=o[1],m=o[5],g=o[9],y=o[2],T=o[6],C=o[10],E=0,z=0,D=0,A=.99999;switch(h){case"XYZ":{z=Math.asin(l(f,-1,1)),Math.abs(f)<A?(E=Math.atan2(-g,C),D=Math.atan2(-d,c)):E=Math.atan2(T,m);break}case"YXZ":{E=Math.asin(-l(g,-1,1)),Math.abs(g)<A?(z=Math.atan2(f,C),D=Math.atan2(v,m)):z=Math.atan2(-y,c);break}case"ZXY":{E=Math.asin(l(T,-1,1)),Math.abs(T)<A?(z=Math.atan2(-y,C),D=Math.atan2(-d,m)):D=Math.atan2(v,c);break}case"ZYX":{z=Math.asin(-l(y,-1,1)),Math.abs(y)<A?(E=Math.atan2(T,C),D=Math.atan2(v,c)):D=Math.atan2(-d,m);break}case"YZX":{D=Math.asin(l(v,-1,1)),Math.abs(v)<A?(E=Math.atan2(-g,m),z=Math.atan2(-y,c)):z=Math.atan2(f,C);break}case"XZY":{D=Math.asin(-l(d,-1,1)),Math.abs(d)<A?(E=Math.atan2(T,m),z=Math.atan2(f,c)):E=Math.atan2(-g,C);break}}return this._x=E,this._y=z,this._z=D,this._order=h,i&&this.onChangeCallback(this),this}});t.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],t.DefaultOrder="XYZ",u.exports=t},6411:u=>{var x=function(e){if(e===0)return 1;for(var l=e;--e;)l*=e;return l};u.exports=x},99472:u=>{var x=function(e,l){return Math.random()*(l-e)+e};u.exports=x},77623:u=>{var x=function(e,l,p){l===void 0&&(l=0),p===void 0&&(p=10);var a=Math.pow(p,-l);return Math.floor(e*a)/a};u.exports=x},62945:(u,x,e)=>{var l=e(45319),p=function(a,s,r){return a=l(a,0,1),(r-s)*a+s};u.exports=p},38265:u=>{var x=function(e,l){return e/l/1e3};u.exports=x},78702:u=>{var x=function(e){return e==parseFloat(e)?!(e%2):void 0};u.exports=x},94883:u=>{var x=function(e){return e===parseFloat(e)?!(e%2):void 0};u.exports=x},28915:u=>{var x=function(e,l,p){return(l-e)*p+e};u.exports=x},94908:u=>{var x=function(e,l,p){return p===void 0&&(p=0),e.clone().lerp(l,p)};u.exports=x},94434:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new p(this)},set:function(a){return this.copy(a)},copy:function(a){var s=this.val,r=a.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this},fromMat4:function(a){var s=a.val,r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[4],r[4]=s[5],r[5]=s[6],r[6]=s[8],r[7]=s[9],r[8]=s[10],this},fromArray:function(a){var s=this.val;return s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],s[4]=a[4],s[5]=a[5],s[6]=a[6],s[7]=a[7],s[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,s=a[1],r=a[2],t=a[5];return a[1]=a[3],a[2]=a[6],a[3]=s,a[5]=a[7],a[6]=r,a[7]=t,this},invert:function(){var a=this.val,s=a[0],r=a[1],t=a[2],n=a[3],h=a[4],i=a[5],o=a[6],c=a[7],d=a[8],f=d*h-i*c,v=-d*n+i*o,m=c*n-h*o,g=s*f+r*v+t*m;return g?(g=1/g,a[0]=f*g,a[1]=(-d*r+t*c)*g,a[2]=(i*r-t*h)*g,a[3]=v*g,a[4]=(d*s-t*o)*g,a[5]=(-i*s+t*n)*g,a[6]=m*g,a[7]=(-c*s+r*o)*g,a[8]=(h*s-r*n)*g,this):null},adjoint:function(){var a=this.val,s=a[0],r=a[1],t=a[2],n=a[3],h=a[4],i=a[5],o=a[6],c=a[7],d=a[8];return a[0]=h*d-i*c,a[1]=t*c-r*d,a[2]=r*i-t*h,a[3]=i*o-n*d,a[4]=s*d-t*o,a[5]=t*n-s*i,a[6]=n*c-h*o,a[7]=r*o-s*c,a[8]=s*h-r*n,this},determinant:function(){var a=this.val,s=a[0],r=a[1],t=a[2],n=a[3],h=a[4],i=a[5],o=a[6],c=a[7],d=a[8];return s*(d*h-i*c)+r*(-d*n+i*o)+t*(c*n-h*o)},multiply:function(a){var s=this.val,r=s[0],t=s[1],n=s[2],h=s[3],i=s[4],o=s[5],c=s[6],d=s[7],f=s[8],v=a.val,m=v[0],g=v[1],y=v[2],T=v[3],C=v[4],E=v[5],z=v[6],D=v[7],A=v[8];return s[0]=m*r+g*h+y*c,s[1]=m*t+g*i+y*d,s[2]=m*n+g*o+y*f,s[3]=T*r+C*h+E*c,s[4]=T*t+C*i+E*d,s[5]=T*n+C*o+E*f,s[6]=z*r+D*h+A*c,s[7]=z*t+D*i+A*d,s[8]=z*n+D*o+A*f,this},translate:function(a){var s=this.val,r=a.x,t=a.y;return s[6]=r*s[0]+t*s[3]+s[6],s[7]=r*s[1]+t*s[4]+s[7],s[8]=r*s[2]+t*s[5]+s[8],this},rotate:function(a){var s=this.val,r=s[0],t=s[1],n=s[2],h=s[3],i=s[4],o=s[5],c=Math.sin(a),d=Math.cos(a);return s[0]=d*r+c*h,s[1]=d*t+c*i,s[2]=d*n+c*o,s[3]=d*h-c*r,s[4]=d*i-c*t,s[5]=d*o-c*n,this},scale:function(a){var s=this.val,r=a.x,t=a.y;return s[0]=r*s[0],s[1]=r*s[1],s[2]=r*s[2],s[3]=t*s[3],s[4]=t*s[4],s[5]=t*s[5],this},fromQuat:function(a){var s=a.x,r=a.y,t=a.z,n=a.w,h=s+s,i=r+r,o=t+t,c=s*h,d=s*i,f=s*o,v=r*i,m=r*o,g=t*o,y=n*h,T=n*i,C=n*o,E=this.val;return E[0]=1-(v+g),E[3]=d+C,E[6]=f-T,E[1]=d-C,E[4]=1-(c+g),E[7]=m+y,E[2]=f+T,E[5]=m-y,E[8]=1-(c+v),this},normalFromMat4:function(a){var s=a.val,r=this.val,t=s[0],n=s[1],h=s[2],i=s[3],o=s[4],c=s[5],d=s[6],f=s[7],v=s[8],m=s[9],g=s[10],y=s[11],T=s[12],C=s[13],E=s[14],z=s[15],D=t*c-n*o,A=t*d-h*o,L=t*f-i*o,b=n*d-h*c,F=n*f-i*c,V=h*f-i*d,B=v*C-m*T,N=v*E-g*T,U=v*z-y*T,I=m*E-g*C,H=m*z-y*C,O=g*z-y*E,R=D*O-A*H+L*I+b*U-F*N+V*B;return R?(R=1/R,r[0]=(c*O-d*H+f*I)*R,r[1]=(d*U-o*O-f*N)*R,r[2]=(o*H-c*U+f*B)*R,r[3]=(h*H-n*O-i*I)*R,r[4]=(t*O-h*U+i*N)*R,r[5]=(n*U-t*H-i*B)*R,r[6]=(C*V-E*F+z*b)*R,r[7]=(E*L-T*V-z*A)*R,r[8]=(T*F-C*L+z*D)*R,this):null}});u.exports=p},37867:(u,x,e)=>{var l=e(83419),p=e(25836),a=1e-6,s=new l({initialize:function(c){this.val=new Float32Array(16),c?this.copy(c):this.identity()},clone:function(){return new s(this)},set:function(o){return this.copy(o)},setValues:function(o,c,d,f,v,m,g,y,T,C,E,z,D,A,L,b){var F=this.val;return F[0]=o,F[1]=c,F[2]=d,F[3]=f,F[4]=v,F[5]=m,F[6]=g,F[7]=y,F[8]=T,F[9]=C,F[10]=E,F[11]=z,F[12]=D,F[13]=A,F[14]=L,F[15]=b,this},copy:function(o){var c=o.val;return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,c,d){var f=r.fromQuat(d),v=f.val,m=c.x,g=c.y,y=c.z;return this.setValues(v[0]*m,v[1]*m,v[2]*m,0,v[4]*g,v[5]*g,v[6]*g,0,v[8]*y,v[9]*y,v[10]*y,0,o.x,o.y,o.z,1)},xyz:function(o,c,d){this.identity();var f=this.val;return f[12]=o,f[13]=c,f[14]=d,this},scaling:function(o,c,d){this.zero();var f=this.val;return f[0]=o,f[5]=c,f[10]=d,f[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,c=o[1],d=o[2],f=o[3],v=o[6],m=o[7],g=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=c,o[6]=o[9],o[7]=o[13],o[8]=d,o[9]=v,o[11]=o[14],o[12]=f,o[13]=m,o[14]=g,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,c=o[0],d=o[1],f=o[2],v=o[3],m=o[4],g=o[5],y=o[6],T=o[7],C=o[8],E=o[9],z=o[10],D=o[11],A=o[12],L=o[13],b=o[14],F=o[15],V=c*g-d*m,B=c*y-f*m,N=c*T-v*m,U=d*y-f*g,I=d*T-v*g,H=f*T-v*y,O=C*L-E*A,R=C*b-z*A,Y=C*F-D*A,G=E*b-z*L,k=E*F-D*L,W=z*F-D*b,X=V*W-B*k+N*G+U*Y-I*R+H*O;return X?(X=1/X,this.setValues((g*W-y*k+T*G)*X,(f*k-d*W-v*G)*X,(L*H-b*I+F*U)*X,(z*I-E*H-D*U)*X,(y*Y-m*W-T*R)*X,(c*W-f*Y+v*R)*X,(b*N-A*H-F*B)*X,(C*H-z*N+D*B)*X,(m*k-g*Y+T*O)*X,(d*Y-c*k-v*O)*X,(A*I-L*N+F*V)*X,(E*N-C*I-D*V)*X,(g*R-m*G-y*O)*X,(c*G-d*R+f*O)*X,(L*B-A*U-b*V)*X,(C*U-E*B+z*V)*X)):this},adjoint:function(){var o=this.val,c=o[0],d=o[1],f=o[2],v=o[3],m=o[4],g=o[5],y=o[6],T=o[7],C=o[8],E=o[9],z=o[10],D=o[11],A=o[12],L=o[13],b=o[14],F=o[15];return this.setValues(g*(z*F-D*b)-E*(y*F-T*b)+L*(y*D-T*z),-(d*(z*F-D*b)-E*(f*F-v*b)+L*(f*D-v*z)),d*(y*F-T*b)-g*(f*F-v*b)+L*(f*T-v*y),-(d*(y*D-T*z)-g*(f*D-v*z)+E*(f*T-v*y)),-(m*(z*F-D*b)-C*(y*F-T*b)+A*(y*D-T*z)),c*(z*F-D*b)-C*(f*F-v*b)+A*(f*D-v*z),-(c*(y*F-T*b)-m*(f*F-v*b)+A*(f*T-v*y)),c*(y*D-T*z)-m*(f*D-v*z)+C*(f*T-v*y),m*(E*F-D*L)-C*(g*F-T*L)+A*(g*D-T*E),-(c*(E*F-D*L)-C*(d*F-v*L)+A*(d*D-v*E)),c*(g*F-T*L)-m*(d*F-v*L)+A*(d*T-v*g),-(c*(g*D-T*E)-m*(d*D-v*E)+C*(d*T-v*g)),-(m*(E*b-z*L)-C*(g*b-y*L)+A*(g*z-y*E)),c*(E*b-z*L)-C*(d*b-f*L)+A*(d*z-f*E),-(c*(g*b-y*L)-m*(d*b-f*L)+A*(d*y-f*g)),c*(g*z-y*E)-m*(d*z-f*E)+C*(d*y-f*g))},determinant:function(){var o=this.val,c=o[0],d=o[1],f=o[2],v=o[3],m=o[4],g=o[5],y=o[6],T=o[7],C=o[8],E=o[9],z=o[10],D=o[11],A=o[12],L=o[13],b=o[14],F=o[15],V=c*g-d*m,B=c*y-f*m,N=c*T-v*m,U=d*y-f*g,I=d*T-v*g,H=f*T-v*y,O=C*L-E*A,R=C*b-z*A,Y=C*F-D*A,G=E*b-z*L,k=E*F-D*L,W=z*F-D*b;return V*W-B*k+N*G+U*Y-I*R+H*O},multiply:function(o){var c=this.val,d=c[0],f=c[1],v=c[2],m=c[3],g=c[4],y=c[5],T=c[6],C=c[7],E=c[8],z=c[9],D=c[10],A=c[11],L=c[12],b=c[13],F=c[14],V=c[15],B=o.val,N=B[0],U=B[1],I=B[2],H=B[3];return c[0]=N*d+U*g+I*E+H*L,c[1]=N*f+U*y+I*z+H*b,c[2]=N*v+U*T+I*D+H*F,c[3]=N*m+U*C+I*A+H*V,N=B[4],U=B[5],I=B[6],H=B[7],c[4]=N*d+U*g+I*E+H*L,c[5]=N*f+U*y+I*z+H*b,c[6]=N*v+U*T+I*D+H*F,c[7]=N*m+U*C+I*A+H*V,N=B[8],U=B[9],I=B[10],H=B[11],c[8]=N*d+U*g+I*E+H*L,c[9]=N*f+U*y+I*z+H*b,c[10]=N*v+U*T+I*D+H*F,c[11]=N*m+U*C+I*A+H*V,N=B[12],U=B[13],I=B[14],H=B[15],c[12]=N*d+U*g+I*E+H*L,c[13]=N*f+U*y+I*z+H*b,c[14]=N*v+U*T+I*D+H*F,c[15]=N*m+U*C+I*A+H*V,this},multiplyLocal:function(o){var c=this.val,d=o.val;return this.setValues(c[0]*d[0]+c[1]*d[4]+c[2]*d[8]+c[3]*d[12],c[0]*d[1]+c[1]*d[5]+c[2]*d[9]+c[3]*d[13],c[0]*d[2]+c[1]*d[6]+c[2]*d[10]+c[3]*d[14],c[0]*d[3]+c[1]*d[7]+c[2]*d[11]+c[3]*d[15],c[4]*d[0]+c[5]*d[4]+c[6]*d[8]+c[7]*d[12],c[4]*d[1]+c[5]*d[5]+c[6]*d[9]+c[7]*d[13],c[4]*d[2]+c[5]*d[6]+c[6]*d[10]+c[7]*d[14],c[4]*d[3]+c[5]*d[7]+c[6]*d[11]+c[7]*d[15],c[8]*d[0]+c[9]*d[4]+c[10]*d[8]+c[11]*d[12],c[8]*d[1]+c[9]*d[5]+c[10]*d[9]+c[11]*d[13],c[8]*d[2]+c[9]*d[6]+c[10]*d[10]+c[11]*d[14],c[8]*d[3]+c[9]*d[7]+c[10]*d[11]+c[11]*d[15],c[12]*d[0]+c[13]*d[4]+c[14]*d[8]+c[15]*d[12],c[12]*d[1]+c[13]*d[5]+c[14]*d[9]+c[15]*d[13],c[12]*d[2]+c[13]*d[6]+c[14]*d[10]+c[15]*d[14],c[12]*d[3]+c[13]*d[7]+c[14]*d[11]+c[15]*d[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,c){var d=o.val,f=c.val,v=d[0],m=d[4],g=d[8],y=d[12],T=d[1],C=d[5],E=d[9],z=d[13],D=d[2],A=d[6],L=d[10],b=d[14],F=d[3],V=d[7],B=d[11],N=d[15],U=f[0],I=f[4],H=f[8],O=f[12],R=f[1],Y=f[5],G=f[9],k=f[13],W=f[2],X=f[6],j=f[10],K=f[14],$=f[3],Z=f[7],J=f[11],Q=f[15];return this.setValues(v*U+m*R+g*W+y*$,T*U+C*R+E*W+z*$,D*U+A*R+L*W+b*$,F*U+V*R+B*W+N*$,v*I+m*Y+g*X+y*Z,T*I+C*Y+E*X+z*Z,D*I+A*Y+L*X+b*Z,F*I+V*Y+B*X+N*Z,v*H+m*G+g*j+y*J,T*H+C*G+E*j+z*J,D*H+A*G+L*j+b*J,F*H+V*G+B*j+N*J,v*O+m*k+g*K+y*Q,T*O+C*k+E*K+z*Q,D*O+A*k+L*K+b*Q,F*O+V*k+B*K+N*Q)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,c,d){var f=this.val;return f[12]=f[0]*o+f[4]*c+f[8]*d+f[12],f[13]=f[1]*o+f[5]*c+f[9]*d+f[13],f[14]=f[2]*o+f[6]*c+f[10]*d+f[14],f[15]=f[3]*o+f[7]*c+f[11]*d+f[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,c,d){var f=this.val;return f[0]=f[0]*o,f[1]=f[1]*o,f[2]=f[2]*o,f[3]=f[3]*o,f[4]=f[4]*c,f[5]=f[5]*c,f[6]=f[6]*c,f[7]=f[7]*c,f[8]=f[8]*d,f[9]=f[9]*d,f[10]=f[10]*d,f[11]=f[11]*d,this},makeRotationAxis:function(o,c){var d=Math.cos(c),f=Math.sin(c),v=1-d,m=o.x,g=o.y,y=o.z,T=v*m,C=v*g;return this.setValues(T*m+d,T*g-f*y,T*y+f*g,0,T*g+f*y,C*g+d,C*y-f*m,0,T*y-f*g,C*y+f*m,v*y*y+d,0,0,0,0,1)},rotate:function(o,c){var d=this.val,f=c.x,v=c.y,m=c.z,g=Math.sqrt(f*f+v*v+m*m);if(Math.abs(g)<a)return this;g=1/g,f*=g,v*=g,m*=g;var y=Math.sin(o),T=Math.cos(o),C=1-T,E=d[0],z=d[1],D=d[2],A=d[3],L=d[4],b=d[5],F=d[6],V=d[7],B=d[8],N=d[9],U=d[10],I=d[11],H=d[12],O=d[13],R=d[14],Y=d[15],G=f*f*C+T,k=v*f*C+m*y,W=m*f*C-v*y,X=f*v*C-m*y,j=v*v*C+T,K=m*v*C+f*y,$=f*m*C+v*y,Z=v*m*C-f*y,J=m*m*C+T;return this.setValues(E*G+L*k+B*W,z*G+b*k+N*W,D*G+F*k+U*W,A*G+V*k+I*W,E*X+L*j+B*K,z*X+b*j+N*K,D*X+F*j+U*K,A*X+V*j+I*K,E*$+L*Z+B*J,z*$+b*Z+N*J,D*$+F*Z+U*J,A*$+V*Z+I*J,H,O,R,Y)},rotateX:function(o){var c=this.val,d=Math.sin(o),f=Math.cos(o),v=c[4],m=c[5],g=c[6],y=c[7],T=c[8],C=c[9],E=c[10],z=c[11];return c[4]=v*f+T*d,c[5]=m*f+C*d,c[6]=g*f+E*d,c[7]=y*f+z*d,c[8]=T*f-v*d,c[9]=C*f-m*d,c[10]=E*f-g*d,c[11]=z*f-y*d,this},rotateY:function(o){var c=this.val,d=Math.sin(o),f=Math.cos(o),v=c[0],m=c[1],g=c[2],y=c[3],T=c[8],C=c[9],E=c[10],z=c[11];return c[0]=v*f-T*d,c[1]=m*f-C*d,c[2]=g*f-E*d,c[3]=y*f-z*d,c[8]=v*d+T*f,c[9]=m*d+C*f,c[10]=g*d+E*f,c[11]=y*d+z*f,this},rotateZ:function(o){var c=this.val,d=Math.sin(o),f=Math.cos(o),v=c[0],m=c[1],g=c[2],y=c[3],T=c[4],C=c[5],E=c[6],z=c[7];return c[0]=v*f+T*d,c[1]=m*f+C*d,c[2]=g*f+E*d,c[3]=y*f+z*d,c[4]=T*f-v*d,c[5]=C*f-m*d,c[6]=E*f-g*d,c[7]=z*f-y*d,this},fromRotationTranslation:function(o,c){var d=o.x,f=o.y,v=o.z,m=o.w,g=d+d,y=f+f,T=v+v,C=d*g,E=d*y,z=d*T,D=f*y,A=f*T,L=v*T,b=m*g,F=m*y,V=m*T;return this.setValues(1-(D+L),E+V,z-F,0,E-V,1-(C+L),A+b,0,z+F,A-b,1-(C+D),0,c.x,c.y,c.z,1)},fromQuat:function(o){var c=o.x,d=o.y,f=o.z,v=o.w,m=c+c,g=d+d,y=f+f,T=c*m,C=c*g,E=c*y,z=d*g,D=d*y,A=f*y,L=v*m,b=v*g,F=v*y;return this.setValues(1-(z+A),C+F,E-b,0,C-F,1-(T+A),D+L,0,E+b,D-L,1-(T+z),0,0,0,0,1)},frustum:function(o,c,d,f,v,m){var g=1/(c-o),y=1/(f-d),T=1/(v-m);return this.setValues(v*2*g,0,0,0,0,v*2*y,0,0,(c+o)*g,(f+d)*y,(m+v)*T,-1,0,0,m*v*2*T,0)},perspective:function(o,c,d,f){var v=1/Math.tan(o/2),m=1/(d-f);return this.setValues(v/c,0,0,0,0,v,0,0,0,0,(f+d)*m,-1,0,0,2*f*d*m,0)},perspectiveLH:function(o,c,d,f){return this.setValues(2*d/o,0,0,0,0,2*d/c,0,0,0,0,-f/(d-f),1,0,0,d*f/(d-f),0)},ortho:function(o,c,d,f,v,m){var g=o-c,y=d-f,T=v-m;return g=g===0?g:1/g,y=y===0?y:1/y,T=T===0?T:1/T,this.setValues(-2*g,0,0,0,0,-2*y,0,0,0,0,2*T,0,(o+c)*g,(f+d)*y,(m+v)*T,1)},lookAtRH:function(o,c,d){var f=this.val;return i.subVectors(o,c),i.lengthSq()===0&&(i.z=1),i.normalize(),n.crossVectors(d,i),n.lengthSq()===0&&(Math.abs(d.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(d,i)),n.normalize(),h.crossVectors(i,n),f[0]=n.x,f[1]=n.y,f[2]=n.z,f[4]=h.x,f[5]=h.y,f[6]=h.z,f[8]=i.x,f[9]=i.y,f[10]=i.z,this},lookAt:function(o,c,d){var f=o.x,v=o.y,m=o.z,g=d.x,y=d.y,T=d.z,C=c.x,E=c.y,z=c.z;if(Math.abs(f-C)<a&&Math.abs(v-E)<a&&Math.abs(m-z)<a)return this.identity();var D=f-C,A=v-E,L=m-z,b=1/Math.sqrt(D*D+A*A+L*L);D*=b,A*=b,L*=b;var F=y*L-T*A,V=T*D-g*L,B=g*A-y*D;b=Math.sqrt(F*F+V*V+B*B),b?(b=1/b,F*=b,V*=b,B*=b):(F=0,V=0,B=0);var N=A*B-L*V,U=L*F-D*B,I=D*V-A*F;return b=Math.sqrt(N*N+U*U+I*I),b?(b=1/b,N*=b,U*=b,I*=b):(N=0,U=0,I=0),this.setValues(F,N,D,0,V,U,A,0,B,I,L,0,-(F*f+V*v+B*m),-(N*f+U*v+I*m),-(D*f+A*v+L*m),1)},yawPitchRoll:function(o,c,d){this.zero(),r.zero(),t.zero();var f=this.val,v=r.val,m=t.val,g=Math.sin(d),y=Math.cos(d);return f[10]=1,f[15]=1,f[0]=y,f[1]=g,f[4]=-g,f[5]=y,g=Math.sin(c),y=Math.cos(c),v[0]=1,v[15]=1,v[5]=y,v[10]=y,v[9]=-g,v[6]=g,g=Math.sin(o),y=Math.cos(o),m[5]=1,m[15]=1,m[0]=y,m[2]=-g,m[8]=g,m[10]=y,this.multiplyLocal(r),this.multiplyLocal(t),this},setWorldMatrix:function(o,c,d,f,v){return this.yawPitchRoll(o.y,o.x,o.z),r.scaling(d.x,d.y,d.z),t.xyz(c.x,c.y,c.z),this.multiplyLocal(r),this.multiplyLocal(t),f&&this.multiplyLocal(f),v&&this.multiplyLocal(v),this},multiplyToMat4:function(o,c){var d=this.val,f=o.val,v=d[0],m=d[1],g=d[2],y=d[3],T=d[4],C=d[5],E=d[6],z=d[7],D=d[8],A=d[9],L=d[10],b=d[11],F=d[12],V=d[13],B=d[14],N=d[15],U=f[0],I=f[1],H=f[2],O=f[3],R=f[4],Y=f[5],G=f[6],k=f[7],W=f[8],X=f[9],j=f[10],K=f[11],$=f[12],Z=f[13],J=f[14],Q=f[15];return c.setValues(U*v+I*T+H*D+O*F,I*m+I*C+H*A+O*V,H*g+I*E+H*L+O*B,O*y+I*z+H*b+O*N,R*v+Y*T+G*D+k*F,R*m+Y*C+G*A+k*V,R*g+Y*E+G*L+k*B,R*y+Y*z+G*b+k*N,W*v+X*T+j*D+K*F,W*m+X*C+j*A+K*V,W*g+X*E+j*L+K*B,W*y+X*z+j*b+K*N,$*v+Z*T+J*D+Q*F,$*m+Z*C+J*A+Q*V,$*g+Z*E+J*L+Q*B,$*y+Z*z+J*b+Q*N)},fromRotationXYTranslation:function(o,c,d){var f=c.x,v=c.y,m=c.z,g=Math.sin(o.x),y=Math.cos(o.x),T=Math.sin(o.y),C=Math.cos(o.y),E=f,z=v,D=m,A=-g,L=0-A*T,b=0-y*T,F=A*C,V=y*C;return d||(E=C*f+T*m,z=L*f+y*v+F*m,D=b*f+g*v+V*m),this.setValues(C,L,b,0,0,y,g,0,T,F,V,0,E,z,D,1)},getMaxScaleOnAxis:function(){var o=this.val,c=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],d=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],f=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(c,d,f))}}),r=new s,t=new s,n=new p,h=new p,i=new p;u.exports=s},86883:u=>{var x=function(e,l,p){return Math.min(e+l,p)};u.exports=x},50040:u=>{var x=function(e){var l=e.length;if(l===0)return 0;e.sort(function(a,s){return a-s});var p=Math.floor(l/2);return l%2===0?(e[p]+e[p-1])/2:e[p]};u.exports=x},37204:u=>{var x=function(e,l,p){return Math.max(e-l,p)};u.exports=x},65201:u=>{var x=function(e,l,p,a){p===void 0&&(p=l+1);var s=(e-l)/(p-l);return s>1?a!==void 0?(s=(a-e)/(a-p),s<0&&(s=0)):s=1:s<0&&(s=0),s};u.exports=x},15746:(u,x,e)=>{var l=e(83419),p=e(94434),a=e(29747),s=e(25836),r=1e-6,t=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),h=new s(1,0,0),i=new s(0,1,0),o=new s,c=new p,d=new l({initialize:function(v,m,g,y){this.onChangeCallback=a,this.set(v,m,g,y)},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f,this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,v,m,g,y){return y===void 0&&(y=!0),typeof f=="object"?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=v||0,this._z=m||0,this._w=g||0),y&&this.onChangeCallback(this),this},add:function(f){return this._x+=f.x,this._y+=f.y,this._z+=f.z,this._w+=f.w,this.onChangeCallback(this),this},subtract:function(f){return this._x-=f.x,this._y-=f.y,this._z-=f.z,this._w-=f.w,this.onChangeCallback(this),this},scale:function(f){return this._x*=f,this._y*=f,this._z*=f,this._w*=f,this.onChangeCallback(this),this},length:function(){var f=this.x,v=this.y,m=this.z,g=this.w;return Math.sqrt(f*f+v*v+m*m+g*g)},lengthSq:function(){var f=this.x,v=this.y,m=this.z,g=this.w;return f*f+v*v+m*m+g*g},normalize:function(){var f=this.x,v=this.y,m=this.z,g=this.w,y=f*f+v*v+m*m+g*g;return y>0&&(y=1/Math.sqrt(y),this._x=f*y,this._y=v*y,this._z=m*y,this._w=g*y),this.onChangeCallback(this),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,v){v===void 0&&(v=0);var m=this.x,g=this.y,y=this.z,T=this.w;return this.set(m+v*(f.x-m),g+v*(f.y-g),y+v*(f.z-y),T+v*(f.w-T))},rotationTo:function(f,v){var m=f.x*v.x+f.y*v.y+f.z*v.z;return m<-.999999?(o.copy(h).cross(f).length()<r&&o.copy(i).cross(f),o.normalize(),this.setAxisAngle(o,Math.PI)):m>.999999?this.set(0,0,0,1):(o.copy(f).cross(v),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+m,this.normalize())},setAxes:function(f,v,m){var g=c.val;return g[0]=v.x,g[3]=v.y,g[6]=v.z,g[1]=m.x,g[4]=m.y,g[7]=m.z,g[2]=-f.x,g[5]=-f.y,g[8]=-f.z,this.fromMat3(c).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,v){v=v*.5;var m=Math.sin(v);return this.set(m*f.x,m*f.y,m*f.z,Math.cos(v))},multiply:function(f){var v=this.x,m=this.y,g=this.z,y=this.w,T=f.x,C=f.y,E=f.z,z=f.w;return this.set(v*z+y*T+m*E-g*C,m*z+y*C+g*T-v*E,g*z+y*E+v*C-m*T,y*z-v*T-m*C-g*E)},slerp:function(f,v){var m=this.x,g=this.y,y=this.z,T=this.w,C=f.x,E=f.y,z=f.z,D=f.w,A=m*C+g*E+y*z+T*D;A<0&&(A=-A,C=-C,E=-E,z=-z,D=-D);var L=1-v,b=v;if(1-A>r){var F=Math.acos(A),V=Math.sin(F);L=Math.sin((1-v)*F)/V,b=Math.sin(v*F)/V}return this.set(L*m+b*C,L*g+b*E,L*y+b*z,L*T+b*D)},invert:function(){var f=this.x,v=this.y,m=this.z,g=this.w,y=f*f+v*v+m*m+g*g,T=y?1/y:0;return this.set(-f*T,-v*T,-m*T,g*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(f){f*=.5;var v=this.x,m=this.y,g=this.z,y=this.w,T=Math.sin(f),C=Math.cos(f);return this.set(v*C+y*T,m*C+g*T,g*C-m*T,y*C-v*T)},rotateY:function(f){f*=.5;var v=this.x,m=this.y,g=this.z,y=this.w,T=Math.sin(f),C=Math.cos(f);return this.set(v*C-g*T,m*C+y*T,g*C+v*T,y*C-m*T)},rotateZ:function(f){f*=.5;var v=this.x,m=this.y,g=this.z,y=this.w,T=Math.sin(f),C=Math.cos(f);return this.set(v*C+m*T,m*C-v*T,g*C+y*T,y*C-g*T)},calculateW:function(){var f=this.x,v=this.y,m=this.z;return this.w=-Math.sqrt(1-f*f-v*v-m*m),this},setFromEuler:function(f,v){var m=f.x/2,g=f.y/2,y=f.z/2,T=Math.cos(m),C=Math.cos(g),E=Math.cos(y),z=Math.sin(m),D=Math.sin(g),A=Math.sin(y);switch(f.order){case"XYZ":{this.set(z*C*E+T*D*A,T*D*E-z*C*A,T*C*A+z*D*E,T*C*E-z*D*A,v);break}case"YXZ":{this.set(z*C*E+T*D*A,T*D*E-z*C*A,T*C*A-z*D*E,T*C*E+z*D*A,v);break}case"ZXY":{this.set(z*C*E-T*D*A,T*D*E+z*C*A,T*C*A+z*D*E,T*C*E-z*D*A,v);break}case"ZYX":{this.set(z*C*E-T*D*A,T*D*E+z*C*A,T*C*A-z*D*E,T*C*E+z*D*A,v);break}case"YZX":{this.set(z*C*E+T*D*A,T*D*E+z*C*A,T*C*A-z*D*E,T*C*E-z*D*A,v);break}case"XZY":{this.set(z*C*E-T*D*A,T*D*E-z*C*A,T*C*A+z*D*E,T*C*E+z*D*A,v);break}}return this},setFromRotationMatrix:function(f){var v=f.val,m=v[0],g=v[4],y=v[8],T=v[1],C=v[5],E=v[9],z=v[2],D=v[6],A=v[10],L=m+C+A,b;return L>0?(b=.5/Math.sqrt(L+1),this.set((D-E)*b,(y-z)*b,(T-g)*b,.25/b)):m>C&&m>A?(b=2*Math.sqrt(1+m-C-A),this.set(.25*b,(g+T)/b,(y+z)/b,(D-E)/b)):C>A?(b=2*Math.sqrt(1+C-m-A),this.set((g+T)/b,.25*b,(E+D)/b,(y-z)/b)):(b=2*Math.sqrt(1+A-m-C),this.set((y+z)/b,(E+D)/b,.25*b,(T-g)/b)),this},fromMat3:function(f){var v=f.val,m=v[0]+v[4]+v[8],g;if(m>0)g=Math.sqrt(m+1),this.w=.5*g,g=.5/g,this._x=(v[7]-v[5])*g,this._y=(v[2]-v[6])*g,this._z=(v[3]-v[1])*g;else{var y=0;v[4]>v[0]&&(y=1),v[8]>v[y*3+y]&&(y=2);var T=t[y],C=t[T];g=Math.sqrt(v[y*3+y]-v[T*3+T]-v[C*3+C]+1),n[y]=.5*g,g=.5/g,n[T]=(v[T*3+y]+v[y*3+T])*g,n[C]=(v[C*3+y]+v[y*3+C])*g,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(v[C*3+T]-v[T*3+C])*g}return this.onChangeCallback(this),this}});u.exports=d},43396:(u,x,e)=>{var l=e(36383),p=function(a){return a*l.RAD_TO_DEG};u.exports=p},74362:u=>{var x=function(e,l){l===void 0&&(l=1);var p=Math.random()*2*Math.PI;return e.x=Math.cos(p)*l,e.y=Math.sin(p)*l,e};u.exports=x},60706:u=>{var x=function(e,l){l===void 0&&(l=1);var p=Math.random()*2*Math.PI,a=Math.random()*2-1,s=Math.sqrt(1-a*a)*l;return e.x=Math.cos(p)*s,e.y=Math.sin(p)*s,e.z=a*l,e};u.exports=x},67421:u=>{var x=function(e,l){return l===void 0&&(l=1),e.x=(Math.random()*2-1)*l,e.y=(Math.random()*2-1)*l,e.z=(Math.random()*2-1)*l,e.w=(Math.random()*2-1)*l,e};u.exports=x},36305:u=>{var x=function(e,l){var p=e.x,a=e.y;return e.x=p*Math.cos(l)-a*Math.sin(l),e.y=p*Math.sin(l)+a*Math.cos(l),e};u.exports=x},11520:u=>{var x=function(e,l,p,a){var s=Math.cos(a),r=Math.sin(a),t=e.x-l,n=e.y-p;return e.x=t*s-n*r+l,e.y=t*r+n*s+p,e};u.exports=x},1163:u=>{var x=function(e,l,p,a,s){var r=a+Math.atan2(e.y-p,e.x-l);return e.x=l+s*Math.cos(r),e.y=p+s*Math.sin(r),e};u.exports=x},70336:u=>{var x=function(e,l,p,a,s){return e.x=l+s*Math.cos(a),e.y=p+s*Math.sin(a),e};u.exports=x},72678:(u,x,e)=>{var l=e(25836),p=e(37867),a=e(15746),s=new p,r=new a,t=new l,n=function(h,i,o){return r.setAxisAngle(i,o),s.fromRotationTranslation(r,t.set(0,0,0)),h.transformMat4(s)};u.exports=n},2284:u=>{var x=function(e){return e>0?Math.ceil(e):Math.floor(e)};u.exports=x},41013:u=>{var x=function(e,l,p){l===void 0&&(l=0),p===void 0&&(p=10);var a=Math.pow(p,-l);return Math.round(e*a)/a};u.exports=x},16922:u=>{var x=function(e,l,p,a){l===void 0&&(l=1),p===void 0&&(p=1),a===void 0&&(a=1),a*=Math.PI/e;for(var s=[],r=[],t=0;t<e;t++)p-=l*a,l+=p*a,s[t]=p,r[t]=l;return{sin:r,cos:s,length:e}};u.exports=x},7602:u=>{var x=function(e,l,p){return e<=l?0:e>=p?1:(e=(e-l)/(p-l),e*e*(3-2*e))};u.exports=x},54261:u=>{var x=function(e,l,p){return e=Math.max(0,Math.min(1,(e-l)/(p-l))),e*e*e*(e*(e*6-15)+10)};u.exports=x},44408:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t){t===void 0&&(t=new l);var n=0,h=0,i=s*r;return a>0&&a<=i&&(a>s-1?(h=Math.floor(a/s),n=a-h*s):n=a),t.set(n,h)};u.exports=p},85955:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n,h,i,o){o===void 0&&(o=new l);var c=Math.sin(n),d=Math.cos(n),f=d*h,v=c*h,m=-c*i,g=d*i,y=1/(f*g+m*-v);return o.x=g*y*a+-m*y*s+(t*m-r*g)*y,o.y=f*y*s+-v*y*a+(-t*f+r*v)*y,o};u.exports=p},26099:(u,x,e)=>{var l=e(83419),p=e(43855),a=new l({initialize:function(r,t){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(t===void 0&&(t=r),this.x=r||0,this.y=t||0)},clone:function(){return new a(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return p(this.x,s.x,r)&&p(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,t=s.y-this.y;return Math.sqrt(r*r+t*t)},distanceSq:function(s){var r=s.x-this.x,t=s.y-this.y;return r*r+t*t},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,t=s*s+r*r;return t>0&&(t=1/Math.sqrt(t),this.x=s*t,this.y=r*t),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var t=this.x,n=this.y;return this.x=t+r*(s.x-t),this.y=n+r*(s.y-n),this},transformMat3:function(s){var r=this.x,t=this.y,n=s.val;return this.x=n[0]*r+n[3]*t+n[6],this.y=n[1]*r+n[4]*t+n[7],this},transformMat4:function(s){var r=this.x,t=this.y,n=s.val;return this.x=n[0]*r+n[4]*t+n[12],this.y=n[1]*r+n[5]*t+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&r>s&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),t=Math.sin(s);return this.set(r*this.x-t*this.y,t*this.x+r*this.y)},project:function(s){var r=this.dot(s)/s.dot(s);return this.copy(s).scale(r)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),u.exports=a},25836:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=t||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(a,s){return this.x=a.x+s.x,this.y=a.y+s.y,this.z=a.z+s.z,this},subVectors:function(a,s){return this.x=a.x-s.x,this.y=a.y-s.y,this.z=a.z-s.z,this},crossVectors:function(a,s){var r=a.x,t=a.y,n=a.z,h=s.x,i=s.y,o=s.z;return this.x=t*o-n*i,this.y=n*h-r*o,this.z=r*i-t*h,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,s,r){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=s||0,this.z=r||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,s){return this.fromArray(a.val,s*4)},fromArray:function(a,s){return s===void 0&&(s=0),this.x=a[s],this.y=a[s+1],this.z=a[s+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,s){return this.x+=a.x*s,this.y+=a.y*s,this.z+=a.z*s||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var s=a.x-this.x,r=a.y-this.y,t=a.z-this.z||0;return Math.sqrt(s*s+r*r+t*t)},distanceSq:function(a){var s=a.x-this.x,r=a.y-this.y,t=a.z-this.z||0;return s*s+r*r+t*t},length:function(){var a=this.x,s=this.y,r=this.z;return Math.sqrt(a*a+s*s+r*r)},lengthSq:function(){var a=this.x,s=this.y,r=this.z;return a*a+s*s+r*r},normalize:function(){var a=this.x,s=this.y,r=this.z,t=a*a+s*s+r*r;return t>0&&(t=1/Math.sqrt(t),this.x=a*t,this.y=s*t,this.z=r*t),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var s=this.x,r=this.y,t=this.z,n=a.x,h=a.y,i=a.z;return this.x=r*i-t*h,this.y=t*n-s*i,this.z=s*h-r*n,this},lerp:function(a,s){s===void 0&&(s=0);var r=this.x,t=this.y,n=this.z;return this.x=r+s*(a.x-r),this.y=t+s*(a.y-t),this.z=n+s*(a.z-n),this},applyMatrix3:function(a){var s=this.x,r=this.y,t=this.z,n=a.val;return this.x=n[0]*s+n[3]*r+n[6]*t,this.y=n[1]*s+n[4]*r+n[7]*t,this.z=n[2]*s+n[5]*r+n[8]*t,this},applyMatrix4:function(a){var s=this.x,r=this.y,t=this.z,n=a.val,h=1/(n[3]*s+n[7]*r+n[11]*t+n[15]);return this.x=(n[0]*s+n[4]*r+n[8]*t+n[12])*h,this.y=(n[1]*s+n[5]*r+n[9]*t+n[13])*h,this.z=(n[2]*s+n[6]*r+n[10]*t+n[14])*h,this},transformMat3:function(a){var s=this.x,r=this.y,t=this.z,n=a.val;return this.x=s*n[0]+r*n[3]+t*n[6],this.y=s*n[1]+r*n[4]+t*n[7],this.z=s*n[2]+r*n[5]+t*n[8],this},transformMat4:function(a){var s=this.x,r=this.y,t=this.z,n=a.val;return this.x=n[0]*s+n[4]*r+n[8]*t+n[12],this.y=n[1]*s+n[5]*r+n[9]*t+n[13],this.z=n[2]*s+n[6]*r+n[10]*t+n[14],this},transformCoordinates:function(a){var s=this.x,r=this.y,t=this.z,n=a.val,h=s*n[0]+r*n[4]+t*n[8]+n[12],i=s*n[1]+r*n[5]+t*n[9]+n[13],o=s*n[2]+r*n[6]+t*n[10]+n[14],c=s*n[3]+r*n[7]+t*n[11]+n[15];return this.x=h/c,this.y=i/c,this.z=o/c,this},transformQuat:function(a){var s=this.x,r=this.y,t=this.z,n=a.x,h=a.y,i=a.z,o=a.w,c=o*s+h*t-i*r,d=o*r+i*s-n*t,f=o*t+n*r-h*s,v=-n*s-h*r-i*t;return this.x=c*o+v*-n+d*-i-f*-h,this.y=d*o+v*-h+f*-n-c*-i,this.z=f*o+v*-i+c*-h-d*-n,this},project:function(a){var s=this.x,r=this.y,t=this.z,n=a.val,h=n[0],i=n[1],o=n[2],c=n[3],d=n[4],f=n[5],v=n[6],m=n[7],g=n[8],y=n[9],T=n[10],C=n[11],E=n[12],z=n[13],D=n[14],A=n[15],L=1/(s*c+r*m+t*C+A);return this.x=(s*h+r*d+t*g+E)*L,this.y=(s*i+r*f+t*y+z)*L,this.z=(s*o+r*v+t*T+D)*L,this},projectViewMatrix:function(a,s){return this.applyMatrix4(a).applyMatrix4(s)},unprojectViewMatrix:function(a,s){return this.applyMatrix4(a).applyMatrix4(s)},unproject:function(a,s){var r=a.x,t=a.y,n=a.z,h=a.w,i=this.x-r,o=h-this.y-1-t,c=this.z;return this.x=2*i/n-1,this.y=2*o/h-1,this.z=2*c-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),u.exports=p},61369:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=t||0,this.w=n||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,s,r,t){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=s||0,this.z=r||0,this.w=t||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,s=this.y,r=this.z,t=this.w;return Math.sqrt(a*a+s*s+r*r+t*t)},lengthSq:function(){var a=this.x,s=this.y,r=this.z,t=this.w;return a*a+s*s+r*r+t*t},normalize:function(){var a=this.x,s=this.y,r=this.z,t=this.w,n=a*a+s*s+r*r+t*t;return n>0&&(n=1/Math.sqrt(n),this.x=a*n,this.y=s*n,this.z=r*n,this.w=t*n),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,s){s===void 0&&(s=0);var r=this.x,t=this.y,n=this.z,h=this.w;return this.x=r+s*(a.x-r),this.y=t+s*(a.y-t),this.z=n+s*(a.z-n),this.w=h+s*(a.w-h),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var s=a.x-this.x,r=a.y-this.y,t=a.z-this.z||0,n=a.w-this.w||0;return Math.sqrt(s*s+r*r+t*t+n*n)},distanceSq:function(a){var s=a.x-this.x,r=a.y-this.y,t=a.z-this.z||0,n=a.w-this.w||0;return s*s+r*r+t*t+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var s=this.x,r=this.y,t=this.z,n=this.w,h=a.val;return this.x=h[0]*s+h[4]*r+h[8]*t+h[12]*n,this.y=h[1]*s+h[5]*r+h[9]*t+h[13]*n,this.z=h[2]*s+h[6]*r+h[10]*t+h[14]*n,this.w=h[3]*s+h[7]*r+h[11]*t+h[15]*n,this},transformQuat:function(a){var s=this.x,r=this.y,t=this.z,n=a.x,h=a.y,i=a.z,o=a.w,c=o*s+h*t-i*r,d=o*r+i*s-n*t,f=o*t+n*r-h*s,v=-n*s-h*r-i*t;return this.x=c*o+v*-n+d*-i-f*-h,this.y=d*o+v*-h+f*-n-c*-i,this.z=f*o+v*-i+c*-h-d*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,u.exports=p},60417:u=>{var x=function(e,l,p){return Math.abs(e-l)<=p};u.exports=x},15994:u=>{var x=function(e,l,p){var a=p-l;return l+((e-l)%a+a)%a};u.exports=x},31040:u=>{var x=function(e,l,p,a){return Math.atan2(a-l,p-e)};u.exports=x},55495:u=>{var x=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)};u.exports=x},128:u=>{var x=function(e,l){return Math.atan2(l.x-e.x,l.y-e.y)};u.exports=x},41273:u=>{var x=function(e,l,p,a){return Math.atan2(p-e,a-l)};u.exports=x},1432:(u,x,e)=>{var l=e(36383),p=function(a){return a>Math.PI&&(a-=l.PI2),Math.abs(((a+l.TAU)%l.PI2-l.PI2)%l.PI2)};u.exports=p},12407:u=>{var x=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};u.exports=x},53993:(u,x,e)=>{var l=e(99472),p=function(){return l(-Math.PI,Math.PI)};u.exports=p},86564:(u,x,e)=>{var l=e(99472),p=function(){return l(-180,180)};u.exports=p},90154:(u,x,e)=>{var l=e(12407),p=function(a){return l(a+Math.PI)};u.exports=p},48736:(u,x,e)=>{var l=e(36383),p=function(a,s,r){return r===void 0&&(r=.05),a===s||(Math.abs(s-a)<=r||Math.abs(s-a)>=l.PI2-r?a=s:(Math.abs(s-a)>Math.PI&&(s<a?s+=l.PI2:s-=l.PI2),s>a?a+=r:s<a&&(a-=r))),a};u.exports=p},61430:u=>{var x=function(e,l){var p=l-e;if(p===0)return 0;var a=Math.floor((p- -180)/360);return p-a*360};u.exports=x},86554:(u,x,e)=>{var l=e(15994),p=function(a){return l(a,-Math.PI,Math.PI)};u.exports=p},30954:(u,x,e)=>{var l=e(15994),p=function(a){return l(a,-180,180)};u.exports=p},25588:(u,x,e)=>{u.exports={Between:e(31040),BetweenPoints:e(55495),BetweenPointsY:e(128),BetweenY:e(41273),CounterClockwise:e(1432),Normalize:e(12407),Random:e(53993),RandomDegrees:e(86564),Reverse:e(90154),RotateTo:e(48736),ShortestBetween:e(61430),Wrap:e(86554),WrapDegrees:e(30954)}},36383:u=>{var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};u.exports=x},20339:u=>{var x=function(e,l,p,a){var s=e-p,r=l-a;return Math.sqrt(s*s+r*r)};u.exports=x},52816:u=>{var x=function(e,l){var p=e.x-l.x,a=e.y-l.y;return Math.sqrt(p*p+a*a)};u.exports=x},64559:u=>{var x=function(e,l){var p=e.x-l.x,a=e.y-l.y;return p*p+a*a};u.exports=x},82340:u=>{var x=function(e,l,p,a){return Math.max(Math.abs(e-p),Math.abs(l-a))};u.exports=x},14390:u=>{var x=function(e,l,p,a,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(p-e,s)+Math.pow(a-l,s))};u.exports=x},2243:u=>{var x=function(e,l,p,a){return Math.abs(e-p)+Math.abs(l-a)};u.exports=x},89774:u=>{var x=function(e,l,p,a){var s=e-p,r=l-a;return s*s+r*r};u.exports=x},50994:(u,x,e)=>{u.exports={Between:e(20339),BetweenPoints:e(52816),BetweenPointsSquared:e(64559),Chebyshev:e(82340),Power:e(14390),Snake:e(2243),Squared:e(89774)}},62640:(u,x,e)=>{var l=e(54178),p=e(41521),a=e(79980),s=e(85433),r=e(99140),t=e(48857),n=e(81596),h=e(59133),i=e(98516),o=e(35248),c=e(82500),d=e(49752);u.exports={Power0:n,Power1:h.Out,Power2:s.Out,Power3:i.Out,Power4:o.Out,Linear:n,Quad:h.Out,Cubic:s.Out,Quart:i.Out,Quint:o.Out,Sine:c.Out,Expo:t.Out,Circ:a.Out,Elastic:r.Out,Back:l.Out,Bounce:p.Out,Stepped:d,"Quad.easeIn":h.In,"Cubic.easeIn":s.In,"Quart.easeIn":i.In,"Quint.easeIn":o.In,"Sine.easeIn":c.In,"Expo.easeIn":t.In,"Circ.easeIn":a.In,"Elastic.easeIn":r.In,"Back.easeIn":l.In,"Bounce.easeIn":p.In,"Quad.easeOut":h.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":i.Out,"Quint.easeOut":o.Out,"Sine.easeOut":c.Out,"Expo.easeOut":t.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":r.Out,"Back.easeOut":l.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":t.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":p.InOut}},1639:u=>{var x=function(e,l){return l===void 0&&(l=1.70158),e*e*((l+1)*e-l)};u.exports=x},50099:u=>{var x=function(e,l){l===void 0&&(l=1.70158);var p=l*1.525;return(e*=2)<1?.5*(e*e*((p+1)*e-p)):.5*((e-=2)*e*((p+1)*e+p)+2)};u.exports=x},41286:u=>{var x=function(e,l){return l===void 0&&(l=1.70158),--e*e*((l+1)*e+l)+1};u.exports=x},54178:(u,x,e)=>{u.exports={In:e(1639),Out:e(41286),InOut:e(50099)}},59590:u=>{var x=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};u.exports=x},41788:u=>{var x=function(e){var l=!1;return e<.5?(e=1-e*2,l=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,l?(1-e)*.5:e*.5+.5};u.exports=x},69905:u=>{var x=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};u.exports=x},41521:(u,x,e)=>{u.exports={In:e(59590),Out:e(69905),InOut:e(41788)}},91861:u=>{var x=function(e){return 1-Math.sqrt(1-e*e)};u.exports=x},4177:u=>{var x=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};u.exports=x},57512:u=>{var x=function(e){return Math.sqrt(1- --e*e)};u.exports=x},79980:(u,x,e)=>{u.exports={In:e(91861),Out:e(57512),InOut:e(4177)}},51150:u=>{var x=function(e){return e*e*e};u.exports=x},82820:u=>{var x=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};u.exports=x},35033:u=>{var x=function(e){return--e*e*e+1};u.exports=x},85433:(u,x,e)=>{u.exports={In:e(51150),Out:e(35033),InOut:e(82820)}},69965:u=>{var x=function(e,l,p){if(l===void 0&&(l=.1),p===void 0&&(p=.1),e===0)return 0;if(e===1)return 1;var a=p/4;return l<1?l=1:a=p*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/p))};u.exports=x},50665:u=>{var x=function(e,l,p){if(l===void 0&&(l=.1),p===void 0&&(p=.1),e===0)return 0;if(e===1)return 1;var a=p/4;return l<1?l=1:a=p*Math.asin(1/l)/(2*Math.PI),(e*=2)<1?-.5*(l*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/p)):l*Math.pow(2,-10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/p)*.5+1};u.exports=x},7744:u=>{var x=function(e,l,p){if(l===void 0&&(l=.1),p===void 0&&(p=.1),e===0)return 0;if(e===1)return 1;var a=p/4;return l<1?l=1:a=p*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*e)*Math.sin((e-a)*(2*Math.PI)/p)+1};u.exports=x},99140:(u,x,e)=>{u.exports={In:e(69965),Out:e(7744),InOut:e(50665)}},24590:u=>{var x=function(e){return Math.pow(2,10*(e-1))-.001};u.exports=x},87844:u=>{var x=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};u.exports=x},89433:u=>{var x=function(e){return 1-Math.pow(2,-10*e)};u.exports=x},48857:(u,x,e)=>{u.exports={In:e(24590),Out:e(89433),InOut:e(87844)}},48820:(u,x,e)=>{u.exports={Back:e(54178),Bounce:e(41521),Circular:e(79980),Cubic:e(85433),Elastic:e(99140),Expo:e(48857),Linear:e(81596),Quadratic:e(59133),Quartic:e(98516),Quintic:e(35248),Sine:e(82500),Stepped:e(49752)}},7147:u=>{var x=function(e){return e};u.exports=x},81596:(u,x,e)=>{u.exports=e(7147)},34826:u=>{var x=function(e){return e*e};u.exports=x},20544:u=>{var x=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};u.exports=x},92029:u=>{var x=function(e){return e*(2-e)};u.exports=x},59133:(u,x,e)=>{u.exports={In:e(34826),Out:e(92029),InOut:e(20544)}},64413:u=>{var x=function(e){return e*e*e*e};u.exports=x},78137:u=>{var x=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};u.exports=x},45840:u=>{var x=function(e){return 1- --e*e*e*e};u.exports=x},98516:(u,x,e)=>{u.exports={In:e(64413),Out:e(45840),InOut:e(78137)}},87745:u=>{var x=function(e){return e*e*e*e*e};u.exports=x},16509:u=>{var x=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};u.exports=x},17868:u=>{var x=function(e){return--e*e*e*e*e+1};u.exports=x},35248:(u,x,e)=>{u.exports={In:e(87745),Out:e(17868),InOut:e(16509)}},80461:u=>{var x=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};u.exports=x},34025:u=>{var x=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};u.exports=x},52768:u=>{var x=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};u.exports=x},82500:(u,x,e)=>{u.exports={In:e(80461),Out:e(52768),InOut:e(34025)}},72251:u=>{var x=function(e,l){return l===void 0&&(l=1),e<=0?0:e>=1?1:((l*e|0)+1)*(1/l)};u.exports=x},49752:(u,x,e)=>{u.exports=e(72251)},75698:u=>{var x=function(e,l){return l===void 0&&(l=1e-4),Math.ceil(e-l)};u.exports=x},43855:u=>{var x=function(e,l,p){return p===void 0&&(p=1e-4),Math.abs(e-l)<p};u.exports=x},25777:u=>{var x=function(e,l){return l===void 0&&(l=1e-4),Math.floor(e+l)};u.exports=x},5470:u=>{var x=function(e,l,p){return p===void 0&&(p=1e-4),e>l-p};u.exports=x},94977:u=>{var x=function(e,l,p){return p===void 0&&(p=1e-4),e<l+p};u.exports=x},48379:(u,x,e)=>{u.exports={Ceil:e(75698),Equal:e(43855),Floor:e(25777),GreaterThan:e(5470),LessThan:e(94977)}},75508:(u,x,e)=>{var l=e(36383),p=e(79291),a={Angle:e(25588),Distance:e(50994),Easing:e(48820),Fuzzy:e(48379),Interpolation:e(38289),Pow2:e(49001),Snap:e(73697),RandomDataGenerator:e(28453),Average:e(53307),Bernstein:e(85710),Between:e(30976),CatmullRom:e(87842),CeilTo:e(26302),Clamp:e(45319),DegToRad:e(39506),Difference:e(61241),Euler:e(38857),Factorial:e(6411),FloatBetween:e(99472),FloorTo:e(77623),FromPercent:e(62945),GetSpeed:e(38265),IsEven:e(78702),IsEvenStrict:e(94883),Linear:e(28915),LinearXY:e(94908),MaxAdd:e(86883),Median:e(50040),MinSub:e(37204),Percent:e(65201),RadToDeg:e(43396),RandomXY:e(74362),RandomXYZ:e(60706),RandomXYZW:e(67421),Rotate:e(36305),RotateAround:e(11520),RotateAroundDistance:e(1163),RotateTo:e(70336),RoundAwayFromZero:e(2284),RoundTo:e(41013),SinCosTableGenerator:e(16922),SmootherStep:e(54261),SmoothStep:e(7602),ToXY:e(44408),TransformXY:e(85955),Within:e(60417),Wrap:e(15994),Vector2:e(26099),Vector3:e(25836),Vector4:e(61369),Matrix3:e(94434),Matrix4:e(37867),Quaternion:e(15746),RotateVec3:e(72678)};a=p(!1,a,l),u.exports=a},89318:(u,x,e)=>{var l=e(85710),p=function(a,s){for(var r=0,t=a.length-1,n=0;n<=t;n++)r+=Math.pow(1-s,t-n)*Math.pow(s,n)*a[n]*l(t,n);return r};u.exports=p},77259:(u,x,e)=>{var l=e(87842),p=function(a,s){var r=a.length-1,t=r*s,n=Math.floor(t);return a[0]===a[r]?(s<0&&(n=Math.floor(t=r*(1+s))),l(t-n,a[(n-1+r)%r],a[n],a[(n+1)%r],a[(n+2)%r])):s<0?a[0]-(l(-t,a[0],a[0],a[1],a[1])-a[0]):s>1?a[r]-(l(t-r,a[r],a[r],a[r-1],a[r-1])-a[r]):l(t-n,a[n?n-1:0],a[n],a[r<n+1?r:n+1],a[r<n+2?r:n+2])};u.exports=p},36316:u=>{function x(s,r){var t=1-s;return t*t*t*r}function e(s,r){var t=1-s;return 3*t*t*s*r}function l(s,r){return 3*(1-s)*s*s*r}function p(s,r){return s*s*s*r}var a=function(s,r,t,n,h){return x(s,r)+e(s,t)+l(s,n)+p(s,h)};u.exports=a},28392:(u,x,e)=>{var l=e(28915),p=function(a,s){var r=a.length-1,t=r*s,n=Math.floor(t);return s<0?l(a[0],a[1],t):s>1?l(a[r],a[r-1],r-t):l(a[n],a[n+1>r?r:n+1],t-n)};u.exports=p},32112:u=>{function x(a,s){var r=1-a;return r*r*s}function e(a,s){return 2*(1-a)*a*s}function l(a,s){return a*a*s}var p=function(a,s,r,t){return x(a,s)+e(a,r)+l(a,t)};u.exports=p},47235:(u,x,e)=>{var l=e(7602),p=function(a,s,r){return s+(r-s)*l(a,0,1)};u.exports=p},50178:(u,x,e)=>{var l=e(54261),p=function(a,s,r){return s+(r-s)*l(a,0,1)};u.exports=p},38289:(u,x,e)=>{u.exports={Bezier:e(89318),CatmullRom:e(77259),CubicBezier:e(36316),Linear:e(28392),QuadraticBezier:e(32112),SmoothStep:e(47235),SmootherStep:e(50178)}},98439:u=>{var x=function(e){var l=Math.log(e)/.6931471805599453;return 1<<Math.ceil(l)};u.exports=x},50030:u=>{var x=function(e,l){return e>0&&(e&e-1)===0&&l>0&&(l&l-1)===0};u.exports=x},81230:u=>{var x=function(e){return e>0&&(e&e-1)===0};u.exports=x},49001:(u,x,e)=>{u.exports={GetNext:e(98439),IsSize:e(50030),IsValue:e(81230)}},28453:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var s,r=this.n;a=a.toString();for(var t=0;t<a.length;t++)r+=a.charCodeAt(t),s=.02519603282416938*r,r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var s=0;s<a.length&&a[s]!=null;s++){var r=a[s];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,s){return Math.floor(this.realInRange(0,s-a+1)+a)},between:function(a,s){return Math.floor(this.realInRange(0,s-a+1)+a)},realInRange:function(a,s){return this.frac()*(s-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",s="";for(s=a="";a++<36;s+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return s},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,s){return this.realInRange(a||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var s=a.length-1,r=s;r>0;r--){var t=Math.floor(this.frac()*(r+1)),n=a[t];a[t]=a[r],a[r]=n}return a}});u.exports=p},63448:u=>{var x=function(e,l,p,a){return p===void 0&&(p=0),l===0?e:(e-=p,e=l*Math.ceil(e/l),a?(p+e)/l:p+e)};u.exports=x},56583:u=>{var x=function(e,l,p,a){return p===void 0&&(p=0),l===0?e:(e-=p,e=l*Math.floor(e/l),a?(p+e)/l:p+e)};u.exports=x},77720:u=>{var x=function(e,l,p,a){return p===void 0&&(p=0),l===0?e:(e-=p,e=l*Math.round(e/l),a?(p+e)/l:p+e)};u.exports=x},73697:(u,x,e)=>{u.exports={Ceil:e(63448),Floor:e(56583),To:e(77720)}},85454:(u,x,e)=>{e(63595);var l=e(8054),p=e(79291),a={Actions:e(61061),Animations:e(60421),BlendModes:e(10312),Cache:e(83388),Cameras:e(26638),Core:e(42857),Class:e(83419),Create:e(15822),Curves:e(25410),Data:e(44965),Display:e(27460),DOM:e(84902),Events:e(93055),FX:e(66064),Game:e(50127),GameObjects:e(77856),Geom:e(55738),Input:e(14350),Loader:e(57777),Math:e(75508),Physics:e(44563),Plugins:e(18922),Renderer:e(36909),Scale:e(93364),ScaleModes:e(29795),Scene:e(97482),Scenes:e(62194),Structs:e(41392),Textures:e(27458),Tilemaps:e(62501),Time:e(90291),Tweens:e(43066),Utils:e(91799)};a.Sound=e(23717),a=p(!1,a,l),u.exports=a,e.g.Phaser=a},71289:(u,x,e)=>{var l=e(83419),p=e(92209),a=e(88571),s=new l({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(t,n,h,i,o){a.call(this,t,n,h,i,o),this.body=null}});u.exports=s},86689:(u,x,e)=>{var l=e(83419),p=e(39506),a=e(20339),s=e(89774),r=e(66022),t=e(95540),n=e(46975),h=e(72441),i=e(47956),o=e(37277),c=e(44594),d=e(26099),f=e(82248),v=new l({initialize:function(g){this.scene=g,this.systems=g.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,g.sys.events.once(c.BOOT,this.boot,this),g.sys.events.on(c.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new r(this.world));var m=this.systems.events;t(this.config,"customUpdate",!1)||m.on(c.UPDATE,this.world.update,this.world),m.on(c.POST_UPDATE,this.world.postUpdate,this.world),m.once(c.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(c.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(c.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,g=this.systems.settings.physics,y=n(t(g,"arcade",{}),t(m,"arcade",{}));return y},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(m,g,y,T,C){return y===void 0&&(y=null),T===void 0&&(T=null),C===void 0&&(C=y),this.world.collideObjects(m,g,y,T,C,!0)},collide:function(m,g,y,T,C){return y===void 0&&(y=null),T===void 0&&(T=null),C===void 0&&(C=y),this.world.collideObjects(m,g,y,T,C,!1)},collideTiles:function(m,g,y,T,C){return this.world.collideTiles(m,g,y,T,C)},overlapTiles:function(m,g,y,T,C){return this.world.overlapTiles(m,g,y,T,C)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,g,y,T,C,E){T===void 0&&(T=60);var z=Math.atan2(y-m.y,g-m.x);return m.body.acceleration.setToPolar(z,T),C!==void 0&&E!==void 0&&m.body.maxVelocity.set(C,E),z},accelerateToObject:function(m,g,y,T,C){return this.accelerateTo(m,g.x,g.y,y,T,C)},closest:function(m,g){g||(g=this.world.bodies.entries);for(var y=Number.MAX_VALUE,T=null,C=m.x,E=m.y,z=g.length,D=0;D<z;D++){var A=g[D],L=A.body||A;if(!(m===A||m===L||m===L.gameObject||m===L.center)){var b=s(C,E,L.center.x,L.center.y);b<y&&(T=A,y=b)}}return T},furthest:function(m,g){g||(g=this.world.bodies.entries);for(var y=-1,T=null,C=m.x,E=m.y,z=g.length,D=0;D<z;D++){var A=g[D],L=A.body||A;if(!(m===A||m===L||m===L.gameObject||m===L.center)){var b=s(C,E,L.center.x,L.center.y);b>y&&(T=A,y=b)}}return T},moveTo:function(m,g,y,T,C){T===void 0&&(T=60),C===void 0&&(C=0);var E=Math.atan2(y-m.y,g-m.x);return C>0&&(T=a(m.x,m.y,g,y)/(C/1e3)),m.body.velocity.setToPolar(E,T),E},moveToObject:function(m,g,y,T){return this.moveTo(m,g.x,g.y,y,T)},velocityFromAngle:function(m,g,y){return g===void 0&&(g=60),y===void 0&&(y=new d),y.setToPolar(p(m),g)},velocityFromRotation:function(m,g,y){return g===void 0&&(g=60),y===void 0&&(y=new d),y.setToPolar(m,g)},overlapRect:function(m,g,y,T,C,E){return i(this.world,m,g,y,T,C,E)},overlapCirc:function(m,g,y,T,C){return h(this.world,m,g,y,T,C)},shutdown:function(){if(this.world){var m=this.systems.events;m.off(c.UPDATE,this.world.update,this.world),m.off(c.POST_UPDATE,this.world.postUpdate,this.world),m.off(c.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",v,"arcadePhysics"),u.exports=v},13759:(u,x,e)=>{var l=e(83419),p=e(92209),a=e(68287),s=new l({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(t,n,h,i,o){a.call(this,t,n,h,i,o),this.body=null}});u.exports=s},37742:(u,x,e)=>{var l=e(83419),p=e(78389),a=e(37747),s=e(63012),r=e(43396),t=e(87841),n=e(37303),h=e(95829),i=e(26099),o=new l({Mixins:[p],initialize:function(d,f){var v=64,m=64,g={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(v=f.displayWidth,m=f.displayHeight),y||(f=g),this.world=d,this.gameObject=y?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=v,this.height=m,this.sourceWidth=v,this.sourceHeight=m,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(m/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new t,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var c=this.gameObject,d=this.transform;if(c.parentContainer){var f=c.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=f.tx,d.y=f.ty,d.rotation=r(f.rotation),d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=c.displayOriginX,d.displayOriginY=c.displayOriginY}else d.x=c.x,d.y=c.y,d.rotation=c.angle,d.scaleX=c.scaleX,d.scaleY=c.scaleY,d.displayOriginX=c.displayOriginX,d.displayOriginY=c.displayOriginY;var v=!1;if(this.syncBounds){var m=c.getBounds(this._bounds);this.width=m.width,this.height=m.height,v=!0}else{var g=Math.abs(d.scaleX),y=Math.abs(d.scaleY);(this._sx!==g||this._sy!==y)&&(this.width=this.sourceWidth*g,this.height=this.sourceHeight*y,this._sx=g,this._sy=y,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var c=this.transform;this.position.x=c.x+c.scaleX*(this.offset.x-c.displayOriginX),this.position.y=c.y+c.scaleY*(this.offset.y-c.displayOriginY),this.updateCenter()},resetFlags:function(c){c===void 0&&(c=!1);var d=this.wasTouching,f=this.touching,v=this.blocked;c?h(!0,d):(d.none=f.none,d.up=f.up,d.down=f.down,d.left=f.left,d.right=f.right),h(!0,f),h(!0,v),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(c,d){if(c&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var f=this.position;this.prev.x=f.x,this.prev.y=f.y,this.prevFrame.x=f.x,this.prevFrame.y=f.y}c&&this.update(d)},update:function(c){var d=this.prev,f=this.position,v=this.velocity;if(d.set(f.x,f.y),!this.moves){this._dx=f.x-d.x,this._dy=f.y-d.y;return}if(this.directControl){var m=this.autoFrame;v.set((f.x-m.x)/c,(f.y-m.y)/c),this.world.updateMotion(this,c),this._dx=f.x-m.x,this._dy=f.y-m.y}else this.world.updateMotion(this,c),this.newVelocity.set(v.x*c,v.y*c),f.add(this.newVelocity),this._dx=f.x-d.x,this._dy=f.y-d.y;var g=v.x,y=v.y;if(this.updateCenter(),this.angle=Math.atan2(y,g),this.speed=Math.sqrt(g*g+y*y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var T=this.blocked;this.world.emit(s.WORLD_BOUNDS,this,T.up,T.down,T.left,T.right)}},postUpdate:function(){var c=this.position,d=c.x-this.prevFrame.x,f=c.y-this.prevFrame.y,v=this.gameObject;if(this.moves){var m=this.deltaMax.x,g=this.deltaMax.y;m!==0&&d!==0&&(d<0&&d<-m?d=-m:d>0&&d>m&&(d=m)),g!==0&&f!==0&&(f<0&&f<-g?f=-g:f>0&&f>g&&(f=g)),v&&(v.x+=d,v.y+=f)}d<0?this.facing=a.FACING_LEFT:d>0&&(this.facing=a.FACING_RIGHT),f<0?this.facing=a.FACING_UP:f>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&v&&(v.angle+=this.deltaZ()),this._tx=d,this._ty=f,this.autoFrame.set(c.x,c.y)},setBoundsRectangle:function(c){return this.customBoundsRectangle=c||this.world.bounds,this},checkWorldBounds:function(){var c=this.position,d=this.velocity,f=this.blocked,v=this.customBoundsRectangle,m=this.world.checkCollision,g=this.worldBounce?-this.worldBounce.x:-this.bounce.x,y=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return c.x<v.x&&m.left?(c.x=v.x,d.x*=g,f.left=!0,T=!0):this.right>v.right&&m.right&&(c.x=v.right-this.width,d.x*=g,f.right=!0,T=!0),c.y<v.y&&m.up?(c.y=v.y,d.y*=y,f.up=!0,T=!0):this.bottom>v.bottom&&m.down&&(c.y=v.bottom-this.height,d.y*=y,f.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(c,d){return d===void 0&&(d=c),this.offset.set(c,d),this},setGameObject:function(c,d){return d===void 0&&(d=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=c,c.body&&(c.body=this),this.setSize(),this.world.add(this),this.enable=d,this},setSize:function(c,d,f){f===void 0&&(f=!0);var v=this.gameObject;if(v&&(!c&&v.frame&&(c=v.frame.realWidth),!d&&v.frame&&(d=v.frame.realHeight)),this.sourceWidth=c,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&v&&v.getCenter){var m=(v.width-c)/2,g=(v.height-d)/2;this.offset.set(m,g)}return this.isCircle=!1,this.radius=0,this},setCircle:function(c,d,f){return d===void 0&&(d=this.offset.x),f===void 0&&(f=this.offset.y),c>0?(this.isCircle=!0,this.radius=c,this.sourceWidth=c*2,this.sourceHeight=c*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,f),this.updateCenter()):this.isCircle=!1,this},reset:function(c,d){this.stop();var f=this.gameObject;f&&(f.setPosition(c,d),this.rotation=f.angle,this.preRotation=f.angle);var v=this.position;f&&f.getTopLeft?f.getTopLeft(v):v.set(c,d),this.prev.copy(v),this.prevFrame.copy(v),this.autoFrame.copy(v),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(c){return c.x=this.x,c.y=this.y,c.right=this.right,c.bottom=this.bottom,c},hitTest:function(c,d){if(!this.isCircle)return n(this,c,d);if(this.radius>0&&c>=this.left&&c<=this.right&&d>=this.top&&d<=this.bottom){var f=(this.center.x-c)*(this.center.x-c),v=(this.center.y-d)*(this.center.y-d);return f+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(c){var d=this.position,f=d.x+this.halfWidth,v=d.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor),this.isCircle?c.strokeCircle(f,v,this.width/2):(this.checkCollision.up&&c.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&c.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&c.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&c.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(c.lineStyle(c.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),c.lineBetween(f,v,f+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(c){return c===void 0&&(c=!0),this.directControl=c,this},setCollideWorldBounds:function(c,d,f,v){c===void 0&&(c=!0),this.collideWorldBounds=c;var m=d!==void 0,g=f!==void 0;return(m||g)&&(this.worldBounce||(this.worldBounce=new i),m&&(this.worldBounce.x=d),g&&(this.worldBounce.y=f)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(c,d){return this.velocity.set(c,d),c=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(c*c+d*d),this},setVelocityX:function(c){return this.setVelocity(c,this.velocity.y)},setVelocityY:function(c){return this.setVelocity(this.velocity.x,c)},setMaxVelocity:function(c,d){return this.maxVelocity.set(c,d),this},setMaxVelocityX:function(c){return this.maxVelocity.x=c,this},setMaxVelocityY:function(c){return this.maxVelocity.y=c,this},setMaxSpeed:function(c){return this.maxSpeed=c,this},setSlideFactor:function(c,d){return this.slideFactor.set(c,d),this},setBounce:function(c,d){return this.bounce.set(c,d),this},setBounceX:function(c){return this.bounce.x=c,this},setBounceY:function(c){return this.bounce.y=c,this},setAcceleration:function(c,d){return this.acceleration.set(c,d),this},setAccelerationX:function(c){return this.acceleration.x=c,this},setAccelerationY:function(c){return this.acceleration.y=c,this},setAllowDrag:function(c){return c===void 0&&(c=!0),this.allowDrag=c,this},setAllowGravity:function(c){return c===void 0&&(c=!0),this.allowGravity=c,this},setAllowRotation:function(c){return c===void 0&&(c=!0),this.allowRotation=c,this},setDrag:function(c,d){return this.drag.set(c,d),this},setDamping:function(c){return this.useDamping=c,this},setDragX:function(c){return this.drag.x=c,this},setDragY:function(c){return this.drag.y=c,this},setGravity:function(c,d){return this.gravity.set(c,d),this},setGravityX:function(c){return this.gravity.x=c,this},setGravityY:function(c){return this.gravity.y=c,this},setFriction:function(c,d){return this.friction.set(c,d),this},setFrictionX:function(c){return this.friction.x=c,this},setFrictionY:function(c){return this.friction.y=c,this},setAngularVelocity:function(c){return this.angularVelocity=c,this},setAngularAcceleration:function(c){return this.angularAcceleration=c,this},setAngularDrag:function(c){return this.angularDrag=c,this},setMass:function(c){return this.mass=c,this},setImmovable:function(c){return c===void 0&&(c=!0),this.immovable=c,this},setEnable:function(c){return c===void 0&&(c=!0),this.enable=c,this},processX:function(c,d,f,v){this.x+=c,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var m=this.blocked;f&&(m.left=!0,m.none=!1),v&&(m.right=!0,m.none=!1)},processY:function(c,d,f,v){this.y+=c,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var m=this.blocked;f&&(m.up=!0,m.none=!1),v&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(c){this.position.x=c}},y:{get:function(){return this.position.y},set:function(c){this.position.y=c}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});u.exports=o},79342:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t,n,h,i,o){this.world=s,this.name="",this.active=!0,this.overlapOnly=r,this.object1=t,this.object2=n,this.collideCallback=h,this.processCallback=i,this.callbackContext=o},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});u.exports=p},66022:(u,x,e)=>{var l=e(71289),p=e(13759),a=e(37742),s=e(83419),r=e(37747),t=e(60758),n=e(72624),h=e(71464),i=new s({initialize:function(c){this.world=c,this.scene=c.scene,this.sys=c.scene.sys},collider:function(o,c,d,f,v){return this.world.addCollider(o,c,d,f,v)},overlap:function(o,c,d,f,v){return this.world.addOverlap(o,c,d,f,v)},existing:function(o,c){var d=c?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(o,d),o},staticImage:function(o,c,d,f){var v=new l(this.scene,o,c,d,f);return this.sys.displayList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},image:function(o,c,d,f){var v=new l(this.scene,o,c,d,f);return this.sys.displayList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticSprite:function(o,c,d,f){var v=new p(this.scene,o,c,d,f);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},sprite:function(o,c,d,f){var v=new p(this.scene,o,c,d,f);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticGroup:function(o,c){return this.sys.updateList.add(new h(this.world,this.world.scene,o,c))},group:function(o,c){return this.sys.updateList.add(new t(this.world,this.world.scene,o,c))},body:function(o,c,d,f){var v=new a(this.world);return v.position.set(o,c),d&&f&&v.setSize(d,f),this.world.add(v,r.DYNAMIC_BODY),v},staticBody:function(o,c,d,f){var v=new n(this.world);return v.position.set(o,c),d&&f&&v.setSize(d,f),this.world.add(v,r.STATIC_BODY),v},destroy:function(){this.world=null,this.scene=null,this.sys=null}});u.exports=i},79599:u=>{var x=function(e){var l=0;if(!Array.isArray(e))l=e;else for(var p=0;p<e.length;p++)l|=e[p];return l};u.exports=x},64897:(u,x,e)=>{var l=e(37747),p=function(a,s,r,t){var n=0,h=a.deltaAbsX()+s.deltaAbsX()+t;return a._dx===0&&s._dx===0?(a.embedded=!0,s.embedded=!0):a._dx>s._dx?(n=a.right-s.x,n>h&&!r||a.checkCollision.right===!1||s.checkCollision.left===!1?n=0:(a.touching.none=!1,a.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===l.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===l.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0))):a._dx<s._dx&&(n=a.x-s.width-s.x,-n>h&&!r||a.checkCollision.left===!1||s.checkCollision.right===!1?n=0:(a.touching.none=!1,a.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===l.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===l.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0))),a.overlapX=n,s.overlapX=n,n};u.exports=p},45170:(u,x,e)=>{var l=e(37747),p=function(a,s,r,t){var n=0,h=a.deltaAbsY()+s.deltaAbsY()+t;return a._dy===0&&s._dy===0?(a.embedded=!0,s.embedded=!0):a._dy>s._dy?(n=a.bottom-s.y,n>h&&!r||a.checkCollision.down===!1||s.checkCollision.up===!1?n=0:(a.touching.none=!1,a.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===l.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===l.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0))):a._dy<s._dy&&(n=a.y-s.bottom,-n>h&&!r||a.checkCollision.up===!1||s.checkCollision.down===!1?n=0:(a.touching.none=!1,a.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===l.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===l.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0))),a.overlapY=n,s.overlapY=n,n};u.exports=p},60758:(u,x,e)=>{var l=e(13759),p=e(83419),a=e(78389),s=e(37747),r=e(95540),t=e(26479),n=e(41212),h=new p({Extends:t,Mixins:[a],initialize:function(o,c,d,f){if(!d&&!f)f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){var v=this;d.forEach(function(m){m.internalCreateCallback=v.createCallbackHandler,m.internalRemoveCallback=v.removeCallbackHandler,m.classType=r(m,"classType",l)}),f=null}else f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,f&&(f.classType=r(f,"classType",l)),this.physicsType=s.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:r(f,"collideWorldBounds",!1),setBoundsRectangle:r(f,"customBoundsRectangle",null),setAccelerationX:r(f,"accelerationX",0),setAccelerationY:r(f,"accelerationY",0),setAllowDrag:r(f,"allowDrag",!0),setAllowGravity:r(f,"allowGravity",!0),setAllowRotation:r(f,"allowRotation",!0),setDamping:r(f,"useDamping",!1),setBounceX:r(f,"bounceX",0),setBounceY:r(f,"bounceY",0),setDragX:r(f,"dragX",0),setDragY:r(f,"dragY",0),setEnable:r(f,"enable",!0),setGravityX:r(f,"gravityX",0),setGravityY:r(f,"gravityY",0),setFrictionX:r(f,"frictionX",0),setFrictionY:r(f,"frictionY",0),setMaxSpeed:r(f,"maxSpeed",-1),setMaxVelocityX:r(f,"maxVelocityX",1e4),setMaxVelocityY:r(f,"maxVelocityY",1e4),setVelocityX:r(f,"velocityX",0),setVelocityY:r(f,"velocityY",0),setAngularVelocity:r(f,"angularVelocity",0),setAngularAcceleration:r(f,"angularAcceleration",0),setAngularDrag:r(f,"angularDrag",0),setMass:r(f,"mass",1),setImmovable:r(f,"immovable",!1)},t.call(this,c,d,f),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.DYNAMIC_BODY);var o=i.body;for(var c in this.defaults)o[c](this.defaults[c])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,o,c){c===void 0&&(c=0);for(var d=this.getChildren(),f=0;f<d.length;f++)d[f].body.velocity.set(i+f*c,o+f*c);return this},setVelocityX:function(i,o){o===void 0&&(o=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.x=i+d*o;return this},setVelocityY:function(i,o){o===void 0&&(o=0);for(var c=this.getChildren(),d=0;d<c.length;d++)c[d].body.velocity.y=i+d*o;return this}});u.exports=h},3017:u=>{var x,e,l,p,a,s,r,t,n,h,i,o,c,d,f,v,m,g=function(D,A,L){x=D,e=A;var b=x.velocity.x,F=e.velocity.x;return l=x.pushable,n=x._dx<0,h=x._dx>0,i=x._dx===0,f=Math.abs(x.right-e.x)<=Math.abs(e.right-x.x),r=F-b*x.bounce.x,p=e.pushable,o=e._dx<0,c=e._dx>0,d=e._dx===0,v=!f,t=b-F*e.bounce.x,m=Math.abs(L),y()},y=function(){return h&&f&&e.blocked.right?(x.processX(-m,r,!1,!0),1):n&&v&&e.blocked.left?(x.processX(m,r,!0),1):c&&v&&x.blocked.right?(e.processX(-m,t,!1,!0),2):o&&f&&x.blocked.left?(e.processX(m,t,!0),2):0},T=function(){var D=x.velocity.x,A=e.velocity.x,L=Math.sqrt(A*A*e.mass/x.mass)*(A>0?1:-1),b=Math.sqrt(D*D*x.mass/e.mass)*(D>0?1:-1),F=(L+b)*.5;return L-=F,b-=F,a=F+L*x.bounce.x,s=F+b*e.bounce.x,n&&v?C(0):o&&f?C(1):h&&f?C(2):c&&v?C(3):!1},C=function(D){if(l&&p)m*=.5,D===0||D===3?(x.processX(m,a),e.processX(-m,s)):(x.processX(-m,a),e.processX(m,s));else if(l&&!p)D===0||D===3?x.processX(m,r,!0):x.processX(-m,r,!1,!0);else if(!l&&p)D===0||D===3?e.processX(-m,t,!1,!0):e.processX(m,t,!0);else{var A=m*.5;D===0?d?(x.processX(m,0,!0),e.processX(0,null,!1,!0)):c?(x.processX(A,0,!0),e.processX(-A,0,!1,!0)):(x.processX(A,e.velocity.x,!0),e.processX(-A,null,!1,!0)):D===1?i?(x.processX(0,null,!1,!0),e.processX(m,0,!0)):h?(x.processX(-A,0,!1,!0),e.processX(A,0,!0)):(x.processX(-A,null,!1,!0),e.processX(A,x.velocity.x,!0)):D===2?d?(x.processX(-m,0,!1,!0),e.processX(0,null,!0)):o?(x.processX(-A,0,!1,!0),e.processX(A,0,!0)):(x.processX(-A,e.velocity.x,!1,!0),e.processX(A,null,!0)):D===3&&(i?(x.processX(0,null,!0),e.processX(-m,0,!1,!0)):n?(x.processX(A,0,!0),e.processX(-A,0,!1,!0)):(x.processX(A,e.velocity.y,!0),e.processX(-A,null,!1,!0)))}return!0},E=function(D){if(D===1?e.velocity.x=0:f?e.processX(m,t,!0):e.processX(-m,t,!1,!0),x.moves){var A=x.directControl?x.y-x.autoFrame.y:x.y-x.prev.y;e.y+=A*x.friction.y,e._dy=e.y-e.prev.y}},z=function(D){if(D===2?x.velocity.x=0:v?x.processX(m,r,!0):x.processX(-m,r,!1,!0),e.moves){var A=e.directControl?e.y-e.autoFrame.y:e.y-e.prev.y;x.y+=A*e.friction.y,x._dy=x.y-x.prev.y}};u.exports={BlockCheck:y,Check:T,Set:g,Run:C,RunImmovableBody1:E,RunImmovableBody2:z}},47962:u=>{var x,e,l,p,a,s,r,t,n,h,i,o,c,d,f,v,m,g=function(D,A,L){x=D,e=A;var b=x.velocity.y,F=e.velocity.y;return l=x.pushable,n=x._dy<0,h=x._dy>0,i=x._dy===0,f=Math.abs(x.bottom-e.y)<=Math.abs(e.bottom-x.y),r=F-b*x.bounce.y,p=e.pushable,o=e._dy<0,c=e._dy>0,d=e._dy===0,v=!f,t=b-F*e.bounce.y,m=Math.abs(L),y()},y=function(){return h&&f&&e.blocked.down?(x.processY(-m,r,!1,!0),1):n&&v&&e.blocked.up?(x.processY(m,r,!0),1):c&&v&&x.blocked.down?(e.processY(-m,t,!1,!0),2):o&&f&&x.blocked.up?(e.processY(m,t,!0),2):0},T=function(){var D=x.velocity.y,A=e.velocity.y,L=Math.sqrt(A*A*e.mass/x.mass)*(A>0?1:-1),b=Math.sqrt(D*D*x.mass/e.mass)*(D>0?1:-1),F=(L+b)*.5;return L-=F,b-=F,a=F+L*x.bounce.y,s=F+b*e.bounce.y,n&&v?C(0):o&&f?C(1):h&&f?C(2):c&&v?C(3):!1},C=function(D){if(l&&p)m*=.5,D===0||D===3?(x.processY(m,a),e.processY(-m,s)):(x.processY(-m,a),e.processY(m,s));else if(l&&!p)D===0||D===3?x.processY(m,r,!0):x.processY(-m,r,!1,!0);else if(!l&&p)D===0||D===3?e.processY(-m,t,!1,!0):e.processY(m,t,!0);else{var A=m*.5;D===0?d?(x.processY(m,0,!0),e.processY(0,null,!1,!0)):c?(x.processY(A,0,!0),e.processY(-A,0,!1,!0)):(x.processY(A,e.velocity.y,!0),e.processY(-A,null,!1,!0)):D===1?i?(x.processY(0,null,!1,!0),e.processY(m,0,!0)):h?(x.processY(-A,0,!1,!0),e.processY(A,0,!0)):(x.processY(-A,null,!1,!0),e.processY(A,x.velocity.y,!0)):D===2?d?(x.processY(-m,0,!1,!0),e.processY(0,null,!0)):o?(x.processY(-A,0,!1,!0),e.processY(A,0,!0)):(x.processY(-A,e.velocity.y,!1,!0),e.processY(A,null,!0)):D===3&&(i?(x.processY(0,null,!0),e.processY(-m,0,!1,!0)):n?(x.processY(A,0,!0),e.processY(-A,0,!1,!0)):(x.processY(A,e.velocity.y,!0),e.processY(-A,null,!1,!0)))}return!0},E=function(D){if(D===1?e.velocity.y=0:f?e.processY(m,t,!0):e.processY(-m,t,!1,!0),x.moves){var A=x.directControl?x.x-x.autoFrame.x:x.x-x.prev.x;e.x+=A*x.friction.x,e._dx=e.x-e.prev.x}},z=function(D){if(D===2?x.velocity.y=0:v?x.processY(m,r,!0):x.processY(-m,r,!1,!0),e.moves){var A=e.directControl?e.x-e.autoFrame.x:e.x-e.prev.x;x.x+=A*e.friction.x,x._dx=x.x-x.prev.x}};u.exports={BlockCheck:y,Check:T,Set:g,Run:C,RunImmovableBody1:E,RunImmovableBody2:z}},14087:(u,x,e)=>{var l=e(64897),p=e(3017),a=function(s,r,t,n,h){h===void 0&&(h=l(s,r,t,n));var i=s.immovable,o=r.immovable;if(t||h===0||i&&o||s.customSeparateX||r.customSeparateX)return h!==0||s.embedded&&r.embedded;var c=p.Set(s,r,h);return!i&&!o?c>0?!0:p.Check():(i?p.RunImmovableBody1(c):o&&p.RunImmovableBody2(c),!0)};u.exports=a},89936:(u,x,e)=>{var l=e(45170),p=e(47962),a=function(s,r,t,n,h){h===void 0&&(h=l(s,r,t,n));var i=s.immovable,o=r.immovable;if(t||h===0||i&&o||s.customSeparateY||r.customSeparateY)return h!==0||s.embedded&&r.embedded;var c=p.Set(s,r,h);return!i&&!o?c>0?!0:p.Check():(i?p.RunImmovableBody1(c):o&&p.RunImmovableBody2(c),!0)};u.exports=a},95829:u=>{var x=function(e,l){return l===void 0&&(l={}),l.none=e,l.up=!1,l.down=!1,l.left=!1,l.right=!1,e||(l.up=!0,l.down=!0,l.left=!0,l.right=!0),l};u.exports=x},72624:(u,x,e)=>{var l=e(87902),p=e(83419),a=e(78389),s=e(37747),r=e(37303),t=e(95829),n=e(26099),h=new p({Mixins:[a],initialize:function(o,c){var d=64,f=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=c!==void 0;m&&c.displayWidth&&(d=c.displayWidth,f=c.displayHeight),m||(c=v),this.world=o,this.gameObject=m?c:void 0,this.isBody=!0,this.debugShowBody=o.defaults.debugShowStaticBody,this.debugBodyColor=o.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(c.x-d*c.originX,c.y-f*c.originY),this.width=d,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=t(!1),this.touching=t(!0),this.wasTouching=t(!0),this.blocked=t(!0),this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,o){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),o&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,o){return o===void 0&&(o=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,o),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,o,c){c===void 0&&(c=!0);var d=this.gameObject;if(d&&d.frame&&(i||(i=d.frame.realWidth),o||(o=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=o,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(o/2),c&&d&&d.getCenter){var f=d.displayWidth/2,v=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,o,c){return o===void 0&&(o=this.offset.x),c===void 0&&(c=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,c),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,o){var c=this.gameObject;i===void 0&&(i=c.x),o===void 0&&(o=c.y),this.world.staticTree.remove(this),c.setPosition(i,o),c.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,o){return this.isCircle?l(this,i,o):r(this,i,o)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var o=this.position,c=o.x+this.halfWidth,d=o.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(c,d,this.width/2):i.strokeRect(o.x,o.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});u.exports=h},71464:(u,x,e)=>{var l=e(13759),p=e(83419),a=e(78389),s=e(37747),r=e(95540),t=e(26479),n=e(41212),h=new p({Extends:t,Mixins:[a],initialize:function(o,c,d,f){!d&&!f?f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l}:n(d)?(f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler,f.createMultipleCallback=this.createMultipleCallbackHandler,f.classType=r(f,"classType",l)):Array.isArray(d)&&n(d[0])?(f=d,d=null,f.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",l)})):f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=s.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,t.call(this,c,d,f),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,s.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,o=0;o<i.length;o++)i[o].body.reset();return this}});u.exports=h},82248:(u,x,e)=>{var l=e(55495),p=e(37742),a=e(45319),s=e(83419),r=e(79342),t=e(37747),n=e(20339),h=e(52816),i=e(50792),o=e(63012),c=e(43855),d=e(5470),f=e(94977),v=e(64897),m=e(45170),g=e(96523),y=e(35154),T=e(36383),C=e(25774),E=e(96602),z=e(87841),D=e(59542),A=e(40012),L=e(14087),b=e(89936),F=e(35072),V=e(72624),B=e(2483),N=e(61340),U=e(26099),I=e(15994),H=new s({Extends:i,initialize:function(R,Y){i.call(this),this.scene=R,this.bodies=new F,this.staticBodies=new F,this.pendingDestroy=new F,this.colliders=new C,this.gravity=new U(y(Y,"gravity.x",0),y(Y,"gravity.y",0)),this.bounds=new z(y(Y,"x",0),y(Y,"y",0),y(Y,"width",R.sys.scale.width),y(Y,"height",R.sys.scale.height)),this.checkCollision={up:y(Y,"checkCollision.up",!0),down:y(Y,"checkCollision.down",!0),left:y(Y,"checkCollision.left",!0),right:y(Y,"checkCollision.right",!0)},this.fps=y(Y,"fps",60),this.fixedStep=y(Y,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(Y,"timeScale",1),this.OVERLAP_BIAS=y(Y,"overlapBias",4),this.TILE_BIAS=y(Y,"tileBias",16),this.forceX=y(Y,"forceX",!1),this.isPaused=y(Y,"isPaused",!1),this._total=0,this.drawDebug=y(Y,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(Y,"debugShowBody",!0),debugShowStaticBody:y(Y,"debugShowStaticBody",!0),debugShowVelocity:y(Y,"debugShowVelocity",!0),bodyDebugColor:y(Y,"debugBodyColor",16711935),staticBodyDebugColor:y(Y,"debugStaticBodyColor",255),velocityDebugColor:y(Y,"debugVelocityColor",65280)},this.maxEntries=y(Y,"maxEntries",16),this.useTree=y(Y,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new N,this._tempMatrix2=new N,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,R){R===void 0&&(R=t.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var Y=0;Y<O.length;Y++){var G=O[Y];if(G.isParent)for(var k=G.getChildren(),W=0;W<k.length;W++){var X=k[W];X.isParent?this.enable(X,R):this.enableBody(X,R)}else this.enableBody(G,R)}},enableBody:function(O,R){return R===void 0&&(R=t.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(R===t.DYNAMIC_BODY?O.body=new p(this,O):R===t.STATIC_BODY&&(O.body=new V(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===t.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===t.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var R=0;R<O.length;R++){var Y=O[R];if(Y.isParent)for(var G=Y.getChildren(),k=0;k<G.length;k++){var W=G[k];W.isParent?this.disable(W):this.disableBody(W.body)}else this.disableBody(Y.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===t.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===t.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,R,Y,G,k,W,X,j){return this.bounds.setTo(O,R,Y,G),k!==void 0&&this.setBoundsCollision(k,W,X,j),this},setBoundsCollision:function(O,R,Y,G){return O===void 0&&(O=!0),R===void 0&&(R=!0),Y===void 0&&(Y=!0),G===void 0&&(G=!0),this.checkCollision.left=O,this.checkCollision.right=R,this.checkCollision.up=Y,this.checkCollision.down=G,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(O,R,Y,G,k){Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y);var W=new r(this,!1,O,R,Y,G,k);return this.colliders.add(W),W},addOverlap:function(O,R,Y,G,k){Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y);var W=new r(this,!0,O,R,Y,G,k);return this.colliders.add(W),W},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,R){if(!(this.isPaused||this.bodies.size===0)){var Y,G=this._frameTime,k=this._frameTimeMS*this.timeScale;this._elapsed+=R;var W,X=this.bodies.entries,j=this._elapsed>=k;for(this.fixedStep||(G=R*.001,j=!0,this._elapsed=0),Y=0;Y<X.length;Y++)W=X[Y],W.enable&&W.preUpdate(j,G);if(j){this._elapsed-=k,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(X));var K=this.colliders.update();for(Y=0;Y<K.length;Y++){var $=K[Y];$.active&&$.update()}this.emit(o.WORLD_STEP,G)}for(;this._elapsed>=k;)this._elapsed-=k,this.step(G)}},step:function(O){var R,Y,G=this.bodies.entries,k=G.length;for(R=0;R<k;R++)Y=G[R],Y.enable&&Y.update(O);this.useTree&&(this.tree.clear(),this.tree.load(G));var W=this.colliders.update();for(R=0;R<W.length;R++){var X=W[R];X.active&&X.update()}this.emit(o.WORLD_STEP,O),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var O,R,Y=this.bodies.entries,G=Y.length,k=this.bodies,W=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<G;O++)R=Y[O],R.enable&&R.postUpdate();if(this.drawDebug){var X=this.debugGraphic;for(X.clear(),O=0;O<G;O++)R=Y[O],R.willDrawDebug()&&R.drawDebug(X);for(Y=W.entries,G=Y.length,O=0;O<G;O++)R=Y[O],R.willDrawDebug()&&R.drawDebug(X)}var j=this.pendingDestroy;if(j.size>0){var K=this.tree,$=this.staticTree;for(Y=j.entries,G=Y.length,O=0;O<G;O++)R=Y[O],R.physicsType===t.DYNAMIC_BODY?(K.remove(R),k.delete(R)):R.physicsType===t.STATIC_BODY&&($.remove(R),W.delete(R)),R.world=void 0,R.gameObject=void 0;j.clear()}},updateMotion:function(O,R){O.allowRotation&&this.computeAngularVelocity(O,R),this.computeVelocity(O,R)},computeAngularVelocity:function(O,R){var Y=O.angularVelocity,G=O.angularAcceleration,k=O.angularDrag,W=O.maxAngular;G?Y+=G*R:O.allowDrag&&k&&(k*=R,d(Y-k,0,.1)?Y-=k:f(Y+k,0,.1)?Y+=k:Y=0),Y=a(Y,-W,W);var X=Y-O.angularVelocity;O.angularVelocity+=X,O.rotation+=O.angularVelocity*R},computeVelocity:function(O,R){var Y=O.velocity.x,G=O.acceleration.x,k=O.drag.x,W=O.maxVelocity.x,X=O.velocity.y,j=O.acceleration.y,K=O.drag.y,$=O.maxVelocity.y,Z=O.speed,J=O.maxSpeed,Q=O.allowDrag,_=O.useDamping;O.allowGravity&&(Y+=(this.gravity.x+O.gravity.x)*R,X+=(this.gravity.y+O.gravity.y)*R),G?Y+=G*R:Q&&k&&(_?(k=Math.pow(k,R),Y*=k,Z=Math.sqrt(Y*Y+X*X),c(Z,0,.001)&&(Y=0)):(k*=R,d(Y-k,0,.01)?Y-=k:f(Y+k,0,.01)?Y+=k:Y=0)),j?X+=j*R:Q&&K&&(_?(K=Math.pow(K,R),X*=K,Z=Math.sqrt(Y*Y+X*X),c(Z,0,.001)&&(X=0)):(K*=R,d(X-K,0,.01)?X-=K:f(X+K,0,.01)?X+=K:X=0)),Y=a(Y,-W,W),X=a(X,-$,$),O.velocity.set(Y,X),J>-1&&O.velocity.length()>J&&(O.velocity.normalize().scale(J),Z=J),O.speed=Z},separate:function(O,R,Y,G,k){var W,X,j=!1,K=!0;if(!O.enable||!R.enable||O.checkCollision.none||R.checkCollision.none||!this.intersects(O,R)||Y&&Y.call(G,O.gameObject||O,R.gameObject||R)===!1)return j;if(O.isCircle||R.isCircle){var $=this.separateCircle(O,R,k);$.result?(j=!0,K=!1):(W=$.x,X=$.y,K=!0)}if(K){var Z=!1,J=!1,Q=this.OVERLAP_BIAS;k?(Z=L(O,R,k,Q,W),J=b(O,R,k,Q,X)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(Z=L(O,R,k,Q,W),this.intersects(O,R)&&(J=b(O,R,k,Q,X))):(J=b(O,R,k,Q,X),this.intersects(O,R)&&(Z=L(O,R,k,Q,W))),j=Z||J}return j&&(k?(O.onOverlap||R.onOverlap)&&this.emit(o.OVERLAP,O.gameObject,R.gameObject,O,R):(O.onCollide||R.onCollide)&&this.emit(o.COLLIDE,O.gameObject,R.gameObject,O,R)),j},separateCircle:function(O,R,Y){v(O,R,!1,0),m(O,R,!1,0);var G=O.isCircle,k=R.isCircle,W=O.center,X=R.center,j=O.immovable,K=R.immovable,$=O.velocity,Z=R.velocity,J=0,Q=!0;if(G!==k){Q=!1;var _=W.x,ae=W.y,oe=O.halfWidth,le=R.position.x,q=R.position.y,ie=R.right,ne=R.bottom;k&&(_=X.x,ae=X.y,oe=R.halfWidth,le=O.position.x,q=O.position.y,ie=O.right,ne=O.bottom),ae<q?_<le?J=n(_,ae,le,q)-oe:_>ie&&(J=n(_,ae,ie,q)-oe):ae>ne&&(_<le?J=n(_,ae,le,ne)-oe:_>ie&&(J=n(_,ae,ie,ne)-oe)),J*=-1}else J=O.halfWidth+R.halfWidth-h(W,X);O.overlapR=J,R.overlapR=J;var fe=l(W,X),ye=(J+T.EPSILON)*Math.cos(fe),Re=(J+T.EPSILON)*Math.sin(fe),ge={overlap:J,result:!1,x:ye,y:Re};if(Y&&(!Q||Q&&J!==0))return ge.result=!0,ge;if(!Q&&J===0||j&&K||O.customSeparateX||R.customSeparateX)return ge.x=void 0,ge.y=void 0,ge;var xe=!O.pushable&&!R.pushable;if(Q){var be=W.x-X.x,Je=W.y-X.y,Ce=Math.sqrt(Math.pow(be,2)+Math.pow(Je,2)),Ve=(X.x-W.x)/Ce||0,Ye=(X.y-W.y)/Ce||0,at=2*($.x*Ve+$.y*Ye-Z.x*Ve-Z.y*Ye)/(O.mass+R.mass);(j||K||!O.pushable||!R.pushable)&&(at*=2),!j&&O.pushable&&($.x=$.x-at/O.mass*Ve,$.y=$.y-at/O.mass*Ye,$.multiply(O.bounce)),!K&&R.pushable&&(Z.x=Z.x+at/R.mass*Ve,Z.y=Z.y+at/R.mass*Ye,Z.multiply(R.bounce)),!j&&!K&&(ye*=.5,Re*=.5),!j||O.pushable||xe?(O.x-=ye,O.y-=Re,O.updateCenter()):(!K||R.pushable||xe)&&(R.x+=ye,R.y+=Re,R.updateCenter()),ge.result=!0}else!j||O.pushable||xe?(O.x-=ye,O.y-=Re,O.updateCenter()):(!K||R.pushable||xe)&&(R.x+=ye,R.y+=Re,R.updateCenter()),ge.x=void 0,ge.y=void 0;return ge},intersects:function(O,R){return O===R?!1:!O.isCircle&&!R.isCircle?!(O.right<=R.left||O.bottom<=R.top||O.left>=R.right||O.top>=R.bottom):O.isCircle?R.isCircle?h(O.center,R.center)<=O.halfWidth+R.halfWidth:this.circleBodyIntersects(O,R):this.circleBodyIntersects(R,O)},circleBodyIntersects:function(O,R){var Y=a(O.center.x,R.left,R.right),G=a(O.center.y,R.top,R.bottom),k=(O.center.x-Y)*(O.center.x-Y),W=(O.center.y-G)*(O.center.y-G);return k+W<=O.halfWidth*O.halfWidth},overlap:function(O,R,Y,G,k){return Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y),this.collideObjects(O,R,Y,G,k,!0)},collide:function(O,R,Y,G,k){return Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y),this.collideObjects(O,R,Y,G,k,!1)},collideObjects:function(O,R,Y,G,k,W){var X,j;O.isParent&&(O.physicsType===void 0||R===void 0||O===R)&&(O=O.children.entries),R&&R.isParent&&R.physicsType===void 0&&(R=R.children.entries);var K=Array.isArray(O),$=Array.isArray(R);if(this._total=0,!K&&!$)this.collideHandler(O,R,Y,G,k,W);else if(!K&&$)for(X=0;X<R.length;X++)this.collideHandler(O,R[X],Y,G,k,W);else if(K&&!$)if(R)for(X=0;X<O.length;X++)this.collideHandler(O[X],R,Y,G,k,W);else for(X=0;X<O.length;X++){var Z=O[X];for(j=X+1;j<O.length;j++)X!==j&&this.collideHandler(Z,O[j],Y,G,k,W)}else for(X=0;X<O.length;X++)for(j=0;j<R.length;j++)this.collideHandler(O[X],R[j],Y,G,k,W);return this._total>0},collideHandler:function(O,R,Y,G,k,W){if(R===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,Y,G,k,W);if(!O||!R)return!1;if(O.body||O.isBody){if(R.body||R.isBody)return this.collideSpriteVsSprite(O,R,Y,G,k,W);if(R.isParent)return this.collideSpriteVsGroup(O,R,Y,G,k,W);if(R.isTilemap)return this.collideSpriteVsTilemapLayer(O,R,Y,G,k,W)}else if(O.isParent){if(R.body||R.isBody)return this.collideSpriteVsGroup(R,O,Y,G,k,W);if(R.isParent)return this.collideGroupVsGroup(O,R,Y,G,k,W);if(R.isTilemap)return this.collideGroupVsTilemapLayer(O,R,Y,G,k,W)}else if(O.isTilemap){if(R.body||R.isBody)return this.collideSpriteVsTilemapLayer(R,O,Y,G,k,W);if(R.isParent)return this.collideGroupVsTilemapLayer(R,O,Y,G,k,W)}},canCollide:function(O,R){return O&&R&&(O.collisionMask&R.collisionCategory)!==0&&(R.collisionMask&O.collisionCategory)!==0},collideSpriteVsSprite:function(O,R,Y,G,k,W){var X=O.isBody?O:O.body,j=R.isBody?R:R.body;return this.canCollide(X,j)?(this.separate(X,j,G,k,W)&&(Y&&Y.call(k,O,R),this._total++),!0):!1},collideSpriteVsGroup:function(O,R,Y,G,k,W){var X=O.isBody?O:O.body;if(!(R.getLength()===0||!X||!X.enable||X.checkCollision.none||!this.canCollide(X,R))){var j,K,$;if(this.useTree||R.physicsType===t.STATIC_BODY){var Z=this.treeMinMax;Z.minX=X.left,Z.minY=X.top,Z.maxX=X.right,Z.maxY=X.bottom;var J=R.physicsType===t.DYNAMIC_BODY?this.tree.search(Z):this.staticTree.search(Z);for(K=J.length,j=0;j<K;j++)$=J[j],!(X===$||!$.enable||$.checkCollision.none||!R.contains($.gameObject))&&this.separate(X,$,G,k,W)&&(Y&&Y.call(k,X.gameObject,$.gameObject),this._total++)}else{var Q=R.getChildren(),_=R.children.entries.indexOf(O);for(K=Q.length,j=0;j<K;j++)$=Q[j].body,!(!$||j===_||!$.enable)&&this.separate(X,$,G,k,W)&&(Y&&Y.call(k,X.gameObject,$.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,R,Y,G,k,W){if(!this.canCollide(O,R))return!1;var X=O.getChildren();if(X.length===0)return!1;for(var j=!1,K=0;K<X.length;K++)(X[K].body||X[K].isBody)&&this.collideSpriteVsTilemapLayer(X[K],R,Y,G,k,W)&&(j=!0);return j},collideTiles:function(O,R,Y,G,k){return R.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,R,Y,G,k,!1,!1)},overlapTiles:function(O,R,Y,G,k){return R.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,R,Y,G,k,!0,!1)},collideSpriteVsTilemapLayer:function(O,R,Y,G,k,W){var X=O.isBody?O:O.body;if(!X.enable||X.checkCollision.none||!this.canCollide(X,R))return!1;var j=R.layer,K=X.x-j.tileWidth*R.scaleX,$=X.y-j.tileHeight*R.scaleY,Z=X.width+j.tileWidth*R.scaleX,J=X.height+j.tileHeight*R.scaleY,Q=W?null:this.tileFilterOptions,_=g(K,$,Z,J,Q,R.scene.cameras.main,R.layer);return _.length===0?!1:this.collideSpriteVsTilesHandler(O,_,Y,G,k,W,!0)},collideSpriteVsTilesHandler:function(O,R,Y,G,k,W,X){for(var j=O.isBody?O:O.body,K,$={left:0,right:0,top:0,bottom:0},Z,J=!1,Q=0;Q<R.length;Q++){K=R[Q],Z=K.tilemapLayer;var _=Z.tileToWorldXY(K.x,K.y);$.left=_.x,$.top=_.y,$.right=$.left+K.width*Z.scaleX,$.bottom=$.top+K.height*Z.scaleY,B($,j)&&(!G||G.call(k,O,K))&&E(K,O)&&(W||A(Q,j,K,$,Z,this.TILE_BIAS,X))&&(this._total++,J=!0,Y&&Y.call(k,O,K),W&&j.onOverlap?this.emit(o.TILE_OVERLAP,O,K,j):j.onCollide&&this.emit(o.TILE_COLLIDE,O,K,j))}return J},collideGroupVsGroup:function(O,R,Y,G,k,W){if(!(O.getLength()===0||R.getLength()===0||!this.canCollide(O,R)))for(var X=O.getChildren(),j=0;j<X.length;j++)this.collideSpriteVsGroup(X[j],R,Y,G,k,W)},wrap:function(O,R){O.body?this.wrapObject(O,R):O.getChildren?this.wrapArray(O.getChildren(),R):Array.isArray(O)?this.wrapArray(O,R):this.wrapObject(O,R)},wrapArray:function(O,R){for(var Y=0;Y<O.length;Y++)this.wrapObject(O[Y],R)},wrapObject:function(O,R){R===void 0&&(R=0),O.x=I(O.x,this.bounds.left-R,this.bounds.right+R),O.y=I(O.y,this.bounds.top-R,this.bounds.bottom+R)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});u.exports=H},1093:u=>{var x={setAcceleration:function(e,l){return this.body.acceleration.set(e,l),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};u.exports=x},59023:u=>{var x={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};u.exports=x},62069:u=>{var x={setBounce:function(e,l){return this.body.bounce.set(e,l),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,l,p,a){return this.body.setCollideWorldBounds(e,l,p,a),this}};u.exports=x},78389:(u,x,e)=>{var l=e(79599),p={setCollisionCategory:function(a){var s=this.body?this.body:this;return s.collisionCategory=a,this},willCollideWith:function(a){var s=this.body?this.body:this;return(s.collisionMask&a)!==0},addCollidesWith:function(a){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask|a,this},removeCollidesWith:function(a){var s=this.body?this.body:this;return s.collisionMask=s.collisionMask&~a,this},setCollidesWith:function(a){var s=this.body?this.body:this;return s.collisionMask=l(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=2147483647,this}};u.exports=p},87118:u=>{var x={setDebug:function(e,l,p){return this.debugShowBody=e,this.debugShowVelocity=l,this.debugBodyColor=p,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};u.exports=x},52819:u=>{var x={setDrag:function(e,l){return this.body.drag.set(e,l),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};u.exports=x},4074:u=>{var x={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,l,p,a,s){return e&&this.body.reset(l,p),a&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,l){return e===void 0&&(e=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};u.exports=x},40831:u=>{var x={setFriction:function(e,l){return this.body.friction.set(e,l),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};u.exports=x},26775:u=>{var x={setGravity:function(e,l){return this.body.gravity.set(e,l),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};u.exports=x},9437:u=>{var x={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};u.exports=x},30621:u=>{var x={setMass:function(e){return this.body.mass=e,this}};u.exports=x},72441:(u,x,e)=>{var l=e(47956),p=e(96503),a=e(2044),s=e(81491),r=function(t,n,h,i,o,c){var d=l(t,n-i,h-i,2*i,2*i,o,c);if(d.length===0)return d;for(var f=new p(n,h,i),v=new p,m=[],g=0;g<d.length;g++){var y=d[g];y.isCircle?(v.setTo(y.center.x,y.center.y,y.halfWidth),a(f,v)&&m.push(y)):s(f,y)&&m.push(y)}return m};u.exports=r},47956:u=>{var x=function(e,l,p,a,s,r,t){r===void 0&&(r=!0),t===void 0&&(t=!1);var n=[],h=[],i=e.treeMinMax;if(i.minX=l,i.minY=p,i.maxX=l+a,i.maxY=p+s,t&&(h=e.staticTree.search(i)),r&&e.useTree)n=e.tree.search(i);else if(r){var o=e.bodies,c={position:{x:l,y:p},left:l,top:p,right:l+a,bottom:p+s,isCircle:!1},d=e.intersects;o.iterate(function(f){d(f,c)&&n.push(f)})}return h.concat(n)};u.exports=x},62121:u=>{var x={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};u.exports=x},29384:u=>{var x={setOffset:function(e,l){return this.body.setOffset(e,l),this},setSize:function(e,l,p){return this.body.setSize(e,l,p),this},setBodySize:function(e,l,p){return this.body.setSize(e,l,p),this},setCircle:function(e,l,p){return this.body.setCircle(e,l,p),this}};u.exports=x},15098:u=>{var x={setVelocity:function(e,l){return this.body.setVelocity(e,l),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,l){return this.body.maxVelocity.set(e,l),this}};u.exports=x},92209:(u,x,e)=>{u.exports={Acceleration:e(1093),Angular:e(59023),Bounce:e(62069),Collision:e(78389),Debug:e(87118),Drag:e(52819),Enable:e(4074),Friction:e(40831),Gravity:e(26775),Immovable:e(9437),Mass:e(30621),OverlapCirc:e(72441),OverlapRect:e(47956),Pushable:e(62121),Size:e(29384),Velocity:e(15098)}},37747:u=>{var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};u.exports=x},20009:u=>{u.exports="collide"},36768:u=>{u.exports="overlap"},60473:u=>{u.exports="pause"},89954:u=>{u.exports="resume"},61804:u=>{u.exports="tilecollide"},7161:u=>{u.exports="tileoverlap"},34689:u=>{u.exports="worldbounds"},16006:u=>{u.exports="worldstep"},63012:(u,x,e)=>{u.exports={COLLIDE:e(20009),OVERLAP:e(36768),PAUSE:e(60473),RESUME:e(89954),TILE_COLLIDE:e(61804),TILE_OVERLAP:e(7161),WORLD_BOUNDS:e(34689),WORLD_STEP:e(16006)}},27064:(u,x,e)=>{var l=e(37747),p=e(79291),a={ArcadePhysics:e(86689),Body:e(37742),Collider:e(79342),Components:e(92209),Events:e(63012),Factory:e(66022),GetCollidesWith:e(79599),GetOverlapX:e(64897),GetOverlapY:e(45170),SeparateX:e(14087),SeparateY:e(89936),Group:e(60758),Image:e(71289),Sprite:e(13759),StaticBody:e(72624),StaticGroup:e(71464),Tilemap:e(55173),World:e(82248)};a=p(!1,a,l),u.exports=a},96602:u=>{var x=function(e,l){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,l,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,l,e):!0};u.exports=x},36294:u=>{var x=function(e,l){l<0?(e.blocked.none=!1,e.blocked.left=!0):l>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=l,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};u.exports=x},67013:u=>{var x=function(e,l){l<0?(e.blocked.none=!1,e.blocked.up=!0):l>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=l,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};u.exports=x},40012:(u,x,e)=>{var l=e(21329),p=e(53442),a=e(2483),s=function(r,t,n,h,i,o,c){var d=h.left,f=h.top,v=h.right,m=h.bottom,g=n.faceLeft||n.faceRight,y=n.faceTop||n.faceBottom;if(c||(g=!0,y=!0),!g&&!y)return!1;var T=0,C=0,E=0,z=1;if(t.deltaAbsX()>t.deltaAbsY()?E=-1:t.deltaAbsX()<t.deltaAbsY()&&(z=-1),t.deltaX()!==0&&t.deltaY()!==0&&g&&y&&(E=Math.min(Math.abs(t.position.x-v),Math.abs(t.right-d)),z=Math.min(Math.abs(t.position.y-m),Math.abs(t.bottom-f))),E<z){if(g&&(T=l(t,n,d,v,o,c),T!==0&&!a(h,t)))return!0;y&&(C=p(t,n,f,m,o,c))}else{if(y&&(C=p(t,n,f,m,o,c),C!==0&&!a(h,t)))return!0;g&&(T=l(t,n,d,v,o,c))}return T!==0||C!==0};u.exports=s},21329:(u,x,e)=>{var l=e(36294),p=function(a,s,r,t,n,h){var i=0,o=s.faceLeft,c=s.faceRight,d=s.collideLeft,f=s.collideRight;return h||(o=!0,c=!0,d=!0,f=!0),a.deltaX()<0&&f&&a.checkCollision.left?c&&a.x<t&&(i=a.x-t,i<-n&&(i=0)):a.deltaX()>0&&d&&a.checkCollision.right&&o&&a.right>r&&(i=a.right-r,i>n&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:l(a,i)),i};u.exports=p},53442:(u,x,e)=>{var l=e(67013),p=function(a,s,r,t,n,h){var i=0,o=s.faceTop,c=s.faceBottom,d=s.collideUp,f=s.collideDown;return h||(o=!0,c=!0,d=!0,f=!0),a.deltaY()<0&&f&&a.checkCollision.up?c&&a.y<t&&(i=a.y-t,i<-n&&(i=0)):a.deltaY()>0&&d&&a.checkCollision.down&&o&&a.bottom>r&&(i=a.bottom-r,i>n&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:l(a,i)),i};u.exports=p},2483:u=>{var x=function(e,l){return!(l.right<=e.left||l.bottom<=e.top||l.position.x>=e.right||l.position.y>=e.bottom)};u.exports=x},55173:(u,x,e)=>{var l={ProcessTileCallbacks:e(96602),ProcessTileSeparationX:e(36294),ProcessTileSeparationY:e(67013),SeparateTile:e(40012),TileCheckX:e(21329),TileCheckY:e(53442),TileIntersectsBody:e(2483)};u.exports=l},44563:(u,x,e)=>{u.exports={Arcade:e(27064),Matter:e(3875)}},68174:(u,x,e)=>{var l=e(83419),p=e(26099),a=new l({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,t=this.centerDiff,n=s.bounds.max.x-s.bounds.min.x,h=s.bounds.max.y-s.bounds.min.y,i=n*s.centerOfMass.x,o=h*s.centerOfMass.y;return r.set(n/2,h/2),t.set(i-r.x,o-r.y),!0},getTopLeft:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r+n.x+h.x,t+n.y+h.y)}return!1},getTopCenter:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r+h.x,t+n.y+h.y)}return!1},getTopRight:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r-(n.x-h.x),t+n.y+h.y)}return!1},getLeftCenter:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r+n.x+h.x,t+h.y)}return!1},getCenter:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.centerDiff;return new p(r+n.x,t+n.y)}return!1},getRightCenter:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r-(n.x-h.x),t+h.y)}return!1},getBottomLeft:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r+n.x+h.x,t-(n.y-h.y))}return!1},getBottomCenter:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r+h.x,t-(n.y-h.y))}return!1},getBottomRight:function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),this.parseBody(s)){var n=this.boundsCenter,h=this.centerDiff;return new p(r-(n.x-h.x),t-(n.y-h.y))}return!1}});u.exports=a},19933:(u,x,e)=>{var l=e(6790);l.Body=e(22562),l.Composite=e(69351),l.World=e(4372),l.Collision=e(52284),l.Detector=e(81388),l.Pairs=e(99561),l.Pair=e(4506),l.Query=e(73296),l.Resolver=e(66272),l.Constraint=e(48140),l.Common=e(53402),l.Engine=e(48413),l.Events=e(35810),l.Sleeping=e(53614),l.Plugin=e(73832),l.Bodies=e(66280),l.Composites=e(74116),l.Axes=e(66615),l.Bounds=e(15647),l.Svg=e(74058),l.Vector=e(31725),l.Vertices=e(41598),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,u.exports=l},28137:(u,x,e)=>{var l=e(66280),p=e(83419),a=e(74116),s=e(48140),r=e(74058),t=e(75803),n=e(23181),h=e(34803),i=e(73834),o=e(19496),c=e(85791),d=e(98713),f=e(41598),v=new p({initialize:function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},rectangle:function(m,g,y,T,C){var E=l.rectangle(m,g,y,T,C);return this.world.add(E),E},trapezoid:function(m,g,y,T,C,E){var z=l.trapezoid(m,g,y,T,C,E);return this.world.add(z),z},circle:function(m,g,y,T,C){var E=l.circle(m,g,y,T,C);return this.world.add(E),E},polygon:function(m,g,y,T,C){var E=l.polygon(m,g,y,T,C);return this.world.add(E),E},fromVertices:function(m,g,y,T,C,E,z){typeof y=="string"&&(y=f.fromPath(y));var D=l.fromVertices(m,g,y,T,C,E,z);return this.world.add(D),D},fromPhysicsEditor:function(m,g,y,T,C){C===void 0&&(C=!0);var E=o.parseBody(m,g,y,T);return C&&!this.world.has(E)&&this.world.add(E),E},fromSVG:function(m,g,y,T,C,E){T===void 0&&(T=1),C===void 0&&(C={}),E===void 0&&(E=!0);for(var z=y.getElementsByTagName("path"),D=[],A=0;A<z.length;A++){var L=r.pathToVertices(z[A],30);T!==1&&f.scale(L,T,T),D.push(L)}var b=l.fromVertices(m,g,D,C);return E&&this.world.add(b),b},fromJSON:function(m,g,y,T,C){T===void 0&&(T={}),C===void 0&&(C=!0);var E=c.parseBody(m,g,y,T);return E&&C&&this.world.add(E),E},imageStack:function(m,g,y,T,C,E,z,D,A){z===void 0&&(z=0),D===void 0&&(D=0),A===void 0&&(A={});var L=this.world,b=this.sys.displayList;A.addToWorld=!1;var F=a.stack(y,T,C,E,z,D,function(V,B){var N=new n(L,V,B,m,g,A);return b.add(N),N.body});return L.add(F),F},stack:function(m,g,y,T,C,E,z){var D=a.stack(m,g,y,T,C,E,z);return this.world.add(D),D},pyramid:function(m,g,y,T,C,E,z){var D=a.pyramid(m,g,y,T,C,E,z);return this.world.add(D),D},chain:function(m,g,y,T,C,E){return a.chain(m,g,y,T,C,E)},mesh:function(m,g,y,T,C){return a.mesh(m,g,y,T,C)},newtonsCradle:function(m,g,y,T,C){var E=a.newtonsCradle(m,g,y,T,C);return this.world.add(E),E},car:function(m,g,y,T,C){var E=a.car(m,g,y,T,C);return this.world.add(E),E},softBody:function(m,g,y,T,C,E,z,D,A,L){var b=a.softBody(m,g,y,T,C,E,z,D,A,L);return this.world.add(b),b},joint:function(m,g,y,T,C){return this.constraint(m,g,y,T,C)},spring:function(m,g,y,T,C){return this.constraint(m,g,y,T,C)},constraint:function(m,g,y,T,C){T===void 0&&(T=1),C===void 0&&(C={}),C.bodyA=m.type==="body"?m:m.body,C.bodyB=g.type==="body"?g:g.body,isNaN(y)||(C.length=y),C.stiffness=T;var E=s.create(C);return this.world.add(E),E},worldConstraint:function(m,g,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyB=m.type==="body"?m:m.body,isNaN(g)||(T.length=g),T.stiffness=y;var C=s.create(T);return this.world.add(C),C},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var g=new d(this.scene,this.world,m);return this.world.add(g.constraint),g},image:function(m,g,y,T,C){var E=new n(this.world,m,g,y,T,C);return this.sys.displayList.add(E),E},tileBody:function(m,g){return new i(this.world,m,g)},sprite:function(m,g,y,T,C){var E=new h(this.world,m,g,y,T,C);return this.sys.displayList.add(E),this.sys.updateList.add(E),E},gameObject:function(m,g,y){return t(this.world,m,g,y)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});u.exports=v},75803:(u,x,e)=>{var l=e(31884),p=e(95540),a=e(26099);function s(t){return!!t.get&&typeof t.get=="function"||!!t.set&&typeof t.set=="function"}var r=function(t,n,h,i){h===void 0&&(h={}),i===void 0&&(i=!0);var o=n.x,c=n.y;n.body={temp:!0,position:{x:o,y:c}};var d=[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity];if(d.forEach(function(v){for(var m in v)s(v[m])?Object.defineProperty(n,m,{get:v[m].get,set:v[m].set}):Object.defineProperty(n,m,{value:v[m]})}),n.world=t,n._tempVec2=new a(o,c),h.hasOwnProperty("type")&&h.type==="body")n.setExistingBody(h,i);else{var f=p(h,"shape",null);f||(f="rectangle"),h.addToWorld=i,n.setBody(f,h)}return n};u.exports=r},23181:(u,x,e)=>{var l=e(83419),p=e(31884),a=e(95643),s=e(95540),r=e(88571),t=e(72699),n=e(26099),h=new l({Extends:r,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,t],initialize:function(o,c,d,f,v,m){a.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,v),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new n(c,d);var g=s(m,"shape",null);g?this.setBody(g,m):this.setRectangle(this.width,this.height,m),this.setPosition(c,d),this.initPipeline(),this.initPostPipeline(!0)}});u.exports=h},42045:(u,x,e)=>{var l=e(60461),p=e(66615),a=e(66280),s=e(22562),r=e(68174),t=e(15647),n=e(83419),h=e(52284),i=e(53402),o=e(69351),c=e(74116),d=e(48140),f=e(81388),v=e(20339),m=e(28137),g=e(95540),y=e(35154),T=e(46975),C=e(4506),E=e(99561),z=e(37277),D=e(73296),A=e(66272),L=e(44594),b=e(74058),F=e(31725),V=e(41598),B=e(68243);i.setDecomp(e(55973));var N=new n({initialize:function(I){this.scene=I,this.systems=I.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=o,this.collision=h,this.detector=f,this.pair=C,this.pairs=E,this.query=D,this.resolver=A,this.constraint=d,this.bodies=a,this.composites=c,this.axes=p,this.bounds=t,this.svg=b,this.vector=F,this.vertices=V,this.verts=V,this._tempVec2=F.create(),A._restingThresh=y(this.config,"restingThresh",4),A._restingThreshTangent=y(this.config,"restingThreshTangent",6),A._positionDampen=y(this.config,"positionDampen",.9),A._positionWarming=y(this.config,"positionWarming",.8),A._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),I.sys.events.once(L.BOOT,this.boot,this),I.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new B(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new r,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new B(this.scene,this.config),this.add=new m(this.world));var U=this.systems.events;U.on(L.UPDATE,this.world.update,this.world),U.on(L.POST_UPDATE,this.world.postUpdate,this.world),U.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,I=this.systems.settings.physics,H=T(g(I,"matter",{}),g(U,"matter",{}));return H},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,I){this.world.step(U,I)},containsPoint:function(U,I,H){U=this.getMatterBodies(U);var O=F.create(I,H),R=D.point(U,O);return R.length>0},intersectPoint:function(U,I,H){H=this.getMatterBodies(H);var O=F.create(U,I),R=[],Y=D.point(H,O);return Y.forEach(function(G){R.indexOf(G)===-1&&R.push(G)}),R},intersectRect:function(U,I,H,O,R,Y){R===void 0&&(R=!1),Y=this.getMatterBodies(Y);var G={min:{x:U,y:I},max:{x:U+H,y:I+O}},k=[],W=D.region(Y,G,R);return W.forEach(function(X){k.indexOf(X)===-1&&k.push(X)}),k},intersectRay:function(U,I,H,O,R,Y){R===void 0&&(R=1),Y=this.getMatterBodies(Y);for(var G=[],k=D.ray(Y,F.create(U,I),F.create(H,O),R),W=0;W<k.length;W++)G.push(k[W].body);return G},intersectBody:function(U,I){I=this.getMatterBodies(I);for(var H=[],O=D.collides(U,I),R=0;R<O.length;R++){var Y=O[R];Y.bodyA===U?H.push(Y.bodyB):H.push(Y.bodyA)}return H},overlap:function(U,I,H,O,R){H===void 0&&(H=null),O===void 0&&(O=null),R===void 0&&(R=H),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),I=this.getMatterBodies(I);for(var Y=!1,G=0;G<U.length;G++)for(var k=U[G],W=D.collides(k,I),X=0;X<W.length;X++){var j=W[X],K=j.bodyA.id===k.id?j.bodyB:j.bodyA;if(!O||O.call(R,k,K,j)){if(Y=!0,H)H.call(R,k,K,j);else if(!O)return!0}}return Y},setCollisionCategory:function(U,I){return U=this.getMatterBodies(U),U.forEach(function(H){H.collisionFilter.category=I}),this},setCollisionGroup:function(U,I){return U=this.getMatterBodies(U),U.forEach(function(H){H.collisionFilter.group=I}),this},setCollidesWith:function(U,I){U=this.getMatterBodies(U);var H=0;if(!Array.isArray(I))H=I;else for(var O=0;O<I.length;O++)H|=I[O];return U.forEach(function(R){R.collisionFilter.mask=H}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var I=[],H=0;H<U.length;H++){var O=U[H].hasOwnProperty("body")?U[H].body:U[H];I.push(O)}return I},setVelocity:function(U,I,H){U=this.getMatterBodies(U);var O=this._tempVec2;return O.x=I,O.y=H,U.forEach(function(R){s.setVelocity(R,O)}),this},setVelocityX:function(U,I){U=this.getMatterBodies(U);var H=this._tempVec2;return H.x=I,U.forEach(function(O){H.y=O.velocity.y,s.setVelocity(O,H)}),this},setVelocityY:function(U,I){U=this.getMatterBodies(U);var H=this._tempVec2;return H.y=I,U.forEach(function(O){H.x=O.velocity.x,s.setVelocity(O,H)}),this},setAngularVelocity:function(U,I){return U=this.getMatterBodies(U),U.forEach(function(H){s.setAngularVelocity(H,I)}),this},applyForce:function(U,I){U=this.getMatterBodies(U);var H=this._tempVec2;return U.forEach(function(O){H.x=O.position.x,H.y=O.position.y,s.applyForce(O,H,I)}),this},applyForceFromPosition:function(U,I,H,O){U=this.getMatterBodies(U);var R=this._tempVec2;return U.forEach(function(Y){O===void 0&&(O=Y.angle),R.x=H*Math.cos(O),R.y=H*Math.sin(O),s.applyForce(Y,I,R)}),this},applyForceFromAngle:function(U,I,H){U=this.getMatterBodies(U);var O=this._tempVec2;return U.forEach(function(R){H===void 0&&(H=R.angle),O.x=I*Math.cos(H),O.y=I*Math.sin(H),s.applyForce(R,{x:R.position.x,y:R.position.y},O)}),this},getConstraintLength:function(U){var I=U.pointA.x,H=U.pointA.y,O=U.pointB.x,R=U.pointB.y;return U.bodyA&&(I+=U.bodyA.position.x,H+=U.bodyA.position.y),U.bodyB&&(O+=U.bodyB.position.x,R+=U.bodyB.position.y),v(I,H,O,R)},alignBody:function(U,I,H,O){U=U.hasOwnProperty("body")?U.body:U;var R;switch(O){case l.TOP_LEFT:case l.LEFT_TOP:R=this.bodyBounds.getTopLeft(U,I,H);break;case l.TOP_CENTER:R=this.bodyBounds.getTopCenter(U,I,H);break;case l.TOP_RIGHT:case l.RIGHT_TOP:R=this.bodyBounds.getTopRight(U,I,H);break;case l.LEFT_CENTER:R=this.bodyBounds.getLeftCenter(U,I,H);break;case l.CENTER:R=this.bodyBounds.getCenter(U,I,H);break;case l.RIGHT_CENTER:R=this.bodyBounds.getRightCenter(U,I,H);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:R=this.bodyBounds.getBottomLeft(U,I,H);break;case l.BOTTOM_CENTER:R=this.bodyBounds.getBottomCenter(U,I,H);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:R=this.bodyBounds.getBottomRight(U,I,H);break}return R&&s.setPosition(U,R),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off(L.UPDATE,this.world.update,this.world),U.off(L.POST_UPDATE,this.world.postUpdate,this.world)),U.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});z.register("MatterPhysics",N,"matterPhysics"),u.exports=N},34803:(u,x,e)=>{var l=e(9674),p=e(83419),a=e(31884),s=e(95643),r=e(95540),t=e(72699),n=e(68287),h=e(26099),i=new p({Extends:n,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,t],initialize:function(c,d,f,v,m,g){s.call(this,c.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new h(d,f);var y=r(g,"shape",null);y?this.setBody(y,g):this.setRectangle(this.width,this.height,g),this.setPosition(d,f),this.initPipeline(),this.initPostPipeline(!0)}});u.exports=i},73834:(u,x,e)=>{var l=e(66280),p=e(22562),a=e(83419),s=e(31884),r=e(62644),t=e(50792),n=e(95540),h=e(97022),i=e(41598),o=new a({Extends:t,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(d,f,v){t.call(this),this.tile=f,this.world=d,f.physics.matterBody&&f.physics.matterBody.destroy(),f.physics.matterBody=this;var m=n(v,"body",null),g=n(v,"addToWorld",!0);if(m)this.setBody(m,g);else{var y=f.getCollisionGroup(),T=n(y,"objects",[]);T.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}if(f.flipX||f.flipY){var C={x:f.getCenterX(),y:f.getCenterY()},E=f.flipX?-1:1,z=f.flipY?-1:1;p.scale(m,E,z,C)}},setFromTileRectangle:function(c){c===void 0&&(c={}),h(c,"isStatic")||(c.isStatic=!0),h(c,"addToWorld")||(c.addToWorld=!0);var d=this.tile.getBounds(),f=d.x+d.width/2,v=d.y+d.height/2,m=l.rectangle(f,v,d.width,d.height,c);return this.setBody(m,c.addToWorld),this},setFromTileCollision:function(c){c===void 0&&(c={}),h(c,"isStatic")||(c.isStatic=!0),h(c,"addToWorld")||(c.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,f=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),m=this.tile.getTop(),g=this.tile.getCollisionGroup(),y=n(g,"objects",[]),T=[],C=0;C<y.length;C++){var E=y[C],z=v+E.x*d,D=m+E.y*f,A=E.width*d,L=E.height*f,b=null;if(E.rectangle)b=l.rectangle(z+A/2,D+L/2,A,L,c);else if(E.ellipse)b=l.circle(z+A/2,D+L/2,A/2,c);else if(E.polygon||E.polyline){var F=E.polygon?E.polygon:E.polyline,V=F.map(function(I){return{x:I.x*d,y:I.y*f}}),B=i.create(V),N=i.centre(B);z+=N.x,D+=N.y,b=l.fromVertices(z,D,B,c)}b&&T.push(b)}if(T.length===1)this.setBody(T[0],c.addToWorld);else if(T.length>1){var U=r(c);U.parts=T,this.setBody(p.create(U),U.addToWorld)}return this},setBody:function(c,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=c,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});u.exports=o},19496:(u,x,e)=>{var l=e(66280),p=e(22562),a=e(53402),s=e(95540),r=e(41598),t={parseBody:function(n,h,i,o){o===void 0&&(o={});for(var c=s(i,"fixtures",[]),d=[],f=0;f<c.length;f++)for(var v=this.parseFixture(c[f]),m=0;m<v.length;m++)d.push(v[m]);var g=a.clone(i,!0);a.extend(g,o,!0),delete g.fixtures,delete g.type;var y=p.create(g);return p.setParts(y,d),p.setPosition(y,{x:n,y:h}),y},parseFixture:function(n){var h=a.extend({},!1,n);delete h.circle,delete h.vertices;var i;if(n.circle){var o=s(n.circle,"x"),c=s(n.circle,"y"),d=s(n.circle,"radius");i=[l.circle(o,c,d,h)]}else n.vertices&&(i=this.parseVertices(n.vertices,h));return i},parseVertices:function(n,h){h===void 0&&(h={});for(var i=[],o=0;o<n.length;o++)r.clockwiseSort(n[o]),i.push(p.create(a.extend({position:r.centre(n[o]),vertices:n[o]},h)));return l.flagCoincidentParts(i)}};u.exports=t},85791:(u,x,e)=>{var l=e(66280),p=e(22562),a={parseBody:function(s,r,t,n){n===void 0&&(n={});var h,i=t.vertices;if(i.length===1)n.vertices=i[0],h=p.create(n),l.flagCoincidentParts(h.parts);else{for(var o=[],c=0;c<i.length;c++){var d=p.create({vertices:i[c]});o.push(d)}l.flagCoincidentParts(o),n.parts=o,h=p.create(n)}return h.label=t.label,p.setPosition(h,{x:s,y:r}),h}};u.exports=a},98713:(u,x,e)=>{var l=e(15647),p=e(83419),a=e(69351),s=e(48140),r=e(81388),t=e(1121),n=e(8214),h=e(46975),i=e(53614),o=e(26099),c=e(41598),d=new p({initialize:function(v,m,g){g===void 0&&(g={});var y={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=v,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=s.create(h(g,y)),this.world.on(t.BEFORE_UPDATE,this.update,this),v.sys.input.on(n.POINTER_DOWN,this.onDown,this),v.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(f){this.pointer||(this.pointer=f,this.camera=f.camera)},onUp:function(f){f===this.pointer&&(this.pointer=null)},getBody:function(f){var v=this.position,m=this.constraint;this.camera.getWorldPoint(f.x,f.y,v);for(var g=a.allBodies(this.world.localWorld),y=0;y<g.length;y++){var T=g[y];if(!T.ignorePointer&&l.contains(T.bounds,v)&&r.canCollide(T.collisionFilter,m.collisionFilter)&&this.hitTestBody(T,v))return this.world.emit(t.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(f,v){for(var m=this.constraint,g=f.parts.length,y=g>1?1:0,T=y;T<g;T++){var C=f.parts[T];if(c.contains(C.vertices,v))return m.pointA=v,m.pointB={x:v.x-f.position.x,y:v.y-f.position.y},m.bodyB=f,m.angleB=f.angle,i.set(f,!1),this.part=C,this.body=f,!0}return!1},update:function(){var f=this.pointer,v=this.body;if(!this.active||!f){v&&this.stopDrag();return}if(!f.isDown&&v){this.stopDrag();return}else if(f.isDown){if(!this.camera||!v&&!this.getBody(f))return;v=this.body;var m=this.position,g=this.constraint;this.camera.getWorldPoint(f.x,f.y,m),g.pointA.x=m.x,g.pointA.y=m.y,i.set(v,!1),this.world.emit(t.DRAG,v,this)}},stopDrag:function(){var f=this.body,v=this.constraint;v.bodyB=null,v.pointB=null,this.pointer=null,this.body=null,this.part=null,f&&this.world.emit(t.DRAG_END,f,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(t.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});u.exports=d},68243:(u,x,e)=>{var l=e(66280),p=e(22562),a=e(83419),s=e(53402),r=e(69351),t=e(48413),n=e(50792),h=e(1121),i=e(95540),o=e(35154),c=e(22562),d=e(35810),f=e(73834),v=e(4372),m=e(13037),g=e(31725),y=new a({Extends:n,initialize:function(C,E){n.call(this),this.scene=C,this.engine=t.create(E),this.localWorld=this.engine.world;var z=o(E,"gravity",null);z?this.setGravity(z.x,z.y,z.scale):z===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(E,"enabled",!0),this.getDelta=o(E,"getDelta",this.update60Hz);var D=i(E,"runner",{}),A=i(D,"fps",!1),L=i(D,"fps",60),b=i(D,"delta",1e3/L),F=i(D,"deltaMin",1e3/L),V=i(D,"deltaMax",1e3/(L*.5));A||(L=1e3/b),this.runner={fps:L,deltaSampleSize:i(D,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:i(D,"isFixed",!1),delta:b,deltaMin:F,deltaMax:V},this.autoUpdate=o(E,"autoUpdate",!0);var B=o(E,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:i(B,"showAxes",!1),showAngleIndicator:i(B,"showAngleIndicator",!1),angleColor:i(B,"angleColor",15208787),showBroadphase:i(B,"showBroadphase",!1),broadphaseColor:i(B,"broadphaseColor",16757760),showBounds:i(B,"showBounds",!1),boundsColor:i(B,"boundsColor",16777215),showVelocity:i(B,"showVelocity",!1),velocityColor:i(B,"velocityColor",44783),showCollisions:i(B,"showCollisions",!1),collisionColor:i(B,"collisionColor",16094476),showSeparations:i(B,"showSeparations",!1),separationColor:i(B,"separationColor",16753920),showBody:i(B,"showBody",!0),showStaticBody:i(B,"showStaticBody",!0),showInternalEdges:i(B,"showInternalEdges",!1),renderFill:i(B,"renderFill",!1),renderLine:i(B,"renderLine",!0),fillColor:i(B,"fillColor",1075465),fillOpacity:i(B,"fillOpacity",1),lineColor:i(B,"lineColor",2678297),lineOpacity:i(B,"lineOpacity",1),lineThickness:i(B,"lineThickness",1),staticFillColor:i(B,"staticFillColor",857979),staticLineColor:i(B,"staticLineColor",1255396),showSleeping:i(B,"showSleeping",!1),staticBodySleepOpacity:i(B,"staticBodySleepOpacity",.7),sleepFillColor:i(B,"sleepFillColor",4605510),sleepLineColor:i(B,"sleepLineColor",10066585),showSensors:i(B,"showSensors",!0),sensorFillColor:i(B,"sensorFillColor",857979),sensorLineColor:i(B,"sensorLineColor",1255396),showPositions:i(B,"showPositions",!0),positionSize:i(B,"positionSize",4),positionColor:i(B,"positionColor",14697178),showJoint:i(B,"showJoint",!0),jointColor:i(B,"jointColor",14737474),jointLineOpacity:i(B,"jointLineOpacity",1),jointLineThickness:i(B,"jointLineThickness",2),pinSize:i(B,"pinSize",4),pinColor:i(B,"pinColor",4382944),springColor:i(B,"springColor",14697184),anchorColor:i(B,"anchorColor",15724527),anchorSize:i(B,"anchorSize",4),showConvexHulls:i(B,"showConvexHulls",!1),hullColor:i(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(E,"setBounds",!1)){var N=E.setBounds;if(typeof N=="boolean")this.setBounds();else{var U=i(N,"x",0),I=i(N,"y",0),H=i(N,"width",C.sys.scale.width),O=i(N,"height",C.sys.scale.height),R=i(N,"thickness",64),Y=i(N,"left",!0),G=i(N,"right",!0),k=i(N,"top",!0),W=i(N,"bottom",!0);this.setBounds(U,I,H,O,R,Y,G,k,W)}}},setCompositeRenderStyle:function(T){var C=T.bodies,E=T.constraints,z=T.composites,D,A,L;for(D=0;D<C.length;D++)A=C[D],L=A.render,this.setBodyRenderStyle(A,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(D=0;D<E.length;D++)A=E[D],L=A.render,this.setConstraintRenderStyle(A,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(D=0;D<z.length;D++)A=z[D],this.setCompositeRenderStyle(A);return this},setBodyRenderStyle:function(T,C,E,z,D,A){var L=T.render,b=this.debugConfig;return L?(C==null&&(C=T.isStatic?b.staticLineColor:b.lineColor),E==null&&(E=b.lineOpacity),z==null&&(z=b.lineThickness),D==null&&(D=T.isStatic?b.staticFillColor:b.fillColor),A==null&&(A=b.fillOpacity),C!==!1&&(L.lineColor=C),E!==!1&&(L.lineOpacity=E),z!==!1&&(L.lineThickness=z),D!==!1&&(L.fillColor=D),A!==!1&&(L.fillOpacity=A),this):this},setConstraintRenderStyle:function(T,C,E,z,D,A,L){var b=T.render,F=this.debugConfig;if(!b)return this;if(C==null){var V=b.type;V==="line"?C=F.jointColor:V==="pin"?C=F.pinColor:V==="spring"&&(C=F.springColor)}return E==null&&(E=F.jointLineOpacity),z==null&&(z=F.jointLineThickness),D==null&&(D=F.pinSize),A==null&&(A=F.anchorColor),L==null&&(L=F.anchorSize),C!==!1&&(b.lineColor=C),E!==!1&&(b.lineOpacity=E),z!==!1&&(b.lineThickness=z),D!==!1&&(b.pinSize=D),A!==!1&&(b.anchorColor=A),L!==!1&&(b.anchorSize=L),this},setEventsProxy:function(){var T=this,C=this.engine,E=this.localWorld;this.drawDebug&&(d.on(E,"compositeModified",function(z){T.setCompositeRenderStyle(z)}),d.on(E,"beforeAdd",function(z){for(var D=[].concat(z.object),A=0;A<D.length;A++){var L=D[A],b=L.render;L.type==="body"?T.setBodyRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity):L.type==="composite"?T.setCompositeRenderStyle(L):L.type==="constraint"&&T.setConstraintRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize)}})),d.on(E,"beforeAdd",function(z){T.emit(h.BEFORE_ADD,z)}),d.on(E,"afterAdd",function(z){T.emit(h.AFTER_ADD,z)}),d.on(E,"beforeRemove",function(z){T.emit(h.BEFORE_REMOVE,z)}),d.on(E,"afterRemove",function(z){T.emit(h.AFTER_REMOVE,z)}),d.on(C,"beforeUpdate",function(z){T.emit(h.BEFORE_UPDATE,z)}),d.on(C,"afterUpdate",function(z){T.emit(h.AFTER_UPDATE,z)}),d.on(C,"collisionStart",function(z){var D=z.pairs,A,L;D.length>0&&D.map(function(b){A=b.bodyA,L=b.bodyB,A.gameObject&&A.gameObject.emit("collide",A,L,b),L.gameObject&&L.gameObject.emit("collide",L,A,b),d.trigger(A,"onCollide",{pair:b}),d.trigger(L,"onCollide",{pair:b}),A.onCollideCallback&&A.onCollideCallback(b),L.onCollideCallback&&L.onCollideCallback(b),A.onCollideWith[L.id]&&A.onCollideWith[L.id](L,b),L.onCollideWith[A.id]&&L.onCollideWith[A.id](A,b)}),T.emit(h.COLLISION_START,z,A,L)}),d.on(C,"collisionActive",function(z){var D=z.pairs,A,L;D.length>0&&D.map(function(b){A=b.bodyA,L=b.bodyB,A.gameObject&&A.gameObject.emit("collideActive",A,L,b),L.gameObject&&L.gameObject.emit("collideActive",L,A,b),d.trigger(A,"onCollideActive",{pair:b}),d.trigger(L,"onCollideActive",{pair:b}),A.onCollideActiveCallback&&A.onCollideActiveCallback(b),L.onCollideActiveCallback&&L.onCollideActiveCallback(b)}),T.emit(h.COLLISION_ACTIVE,z,A,L)}),d.on(C,"collisionEnd",function(z){var D=z.pairs,A,L;D.length>0&&D.map(function(b){A=b.bodyA,L=b.bodyB,A.gameObject&&A.gameObject.emit("collideEnd",A,L,b),L.gameObject&&L.gameObject.emit("collideEnd",L,A,b),d.trigger(A,"onCollideEnd",{pair:b}),d.trigger(L,"onCollideEnd",{pair:b}),A.onCollideEndCallback&&A.onCollideEndCallback(b),L.onCollideEndCallback&&L.onCollideEndCallback(b)}),T.emit(h.COLLISION_END,z,A,L)})},setBounds:function(T,C,E,z,D,A,L,b,F){return T===void 0&&(T=0),C===void 0&&(C=0),E===void 0&&(E=this.scene.sys.scale.width),z===void 0&&(z=this.scene.sys.scale.height),D===void 0&&(D=64),A===void 0&&(A=!0),L===void 0&&(L=!0),b===void 0&&(b=!0),F===void 0&&(F=!0),this.updateWall(A,"left",T-D,C-D,D,z+D*2),this.updateWall(L,"right",T+E,C-D,D,z+D*2),this.updateWall(b,"top",T,C-D,E,D),this.updateWall(F,"bottom",T,C+z,E,D),this},updateWall:function(T,C,E,z,D,A){var L=this.walls[C];T?(L&&v.remove(this.localWorld,L),E+=D/2,z+=A/2,this.walls[C]=this.create(E,z,D,A,{isStatic:!0,friction:0,frictionStatic:0})):(L&&v.remove(this.localWorld,L),this.walls[C]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,C,E){return T===void 0&&(T=0),C===void 0&&(C=1),E===void 0&&(E=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=E,this},create:function(T,C,E,z,D){var A=l.rectangle(T,C,E,z,D);return v.add(this.localWorld,A),A},add:function(T){return v.add(this.localWorld,T),this},remove:function(T,C){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++){var z=T[E],D=z.body?z.body:z;r.remove(this.localWorld,D,C)}return this},removeConstraint:function(T,C){return r.remove(this.localWorld,T,C),this},convertTilemapLayer:function(T,C){var E=T.layer,z=T.getTilesWithin(0,0,E.width,E.height,{isColliding:!0});return this.convertTiles(z,C),this},convertTiles:function(T,C){if(T.length===0)return this;for(var E=0;E<T.length;E++)new f(this,T[E],C);return this},nextGroup:function(T){return c.nextGroup(T)},nextCategory:function(){return c.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=s.now(),this.emit(h.RESUME),this},update:function(T){if(!(!this.enabled||!this.autoUpdate)){var C=this.engine,E=this.runner,z=s.now(),D=E.delta,A=0,L=T-E.timeLastTick;if((!L||!E.timeLastTick||L>Math.max(m._maxFrameDelta,E.maxFrameTime))&&(L=E.frameDelta||m._frameDeltaFallback),E.frameDeltaSmoothing){E.frameDeltaHistory.push(L),E.frameDeltaHistory=E.frameDeltaHistory.slice(-E.frameDeltaHistorySize);var b=E.frameDeltaHistory.slice(0).sort(),F=E.frameDeltaHistory.slice(b.length*m._smoothingLowerBound,b.length*m._smoothingUpperBound),V=m._mean(F);L=V||L}E.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),E.frameDelta=L,E.timeLastTick=T,E.timeBuffer+=E.frameDelta,E.timeBuffer=s.clamp(E.timeBuffer,0,E.frameDelta+D*m._timeBufferMargin),E.lastUpdatesDeferred=0;for(var B=E.maxUpdates||Math.ceil(E.maxFrameTime/D),N=s.now();D>0&&E.timeBuffer>=D*m._timeBufferMargin;){t.update(C,D),E.timeBuffer-=D,A+=1;var U=s.now()-z,I=s.now()-N,H=U+m._elapsedNextEstimate*I/A;if(A>=B||H>E.maxFrameTime){E.lastUpdatesDeferred=Math.round(Math.max(0,E.timeBuffer/D-m._timeBufferMargin));break}}}},step:function(T){t.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var C=T.hasOwnProperty("body")?T.body:T;return r.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,C=this.engine,E=this.debugGraphic,z=r.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,E,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(z,E,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(z),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(z,E,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(z,E,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(C.pairs.list,E,T.separationColor),T.showCollisions&&this.renderCollisions(C.pairs.list,E,T.collisionColor)}},renderGrid:function(T,C,E,z){C.lineStyle(1,E,z);for(var D=s.keys(T.buckets),A=0;A<D.length;A++){var L=D[A];if(!(T.buckets[L].length<2)){var b=L.split(/C|R/);C.strokeRect(parseInt(b[1],10)*T.bucketWidth,parseInt(b[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,C,E){C.lineStyle(1,E,1);for(var z=0;z<T.length;z++){var D=T[z];if(D.isActive){var A=D.collision,L=A.bodyA,b=A.bodyB,F=L.position,V=b.position,B=A.penetration,N=!L.isStatic&&!b.isStatic?4:1;b.isStatic&&(N=0),C.lineBetween(V.x,V.y,V.x-B.x*N,V.y-B.y*N),N=!L.isStatic&&!b.isStatic?4:1,L.isStatic&&(N=0),C.lineBetween(F.x,F.y,F.x-B.x*N,F.y-B.y*N)}}return this},renderCollisions:function(T,C,E){C.lineStyle(1,E,.5),C.fillStyle(E,1);var z,D;for(z=0;z<T.length;z++)if(D=T[z],!!D.isActive)for(var A=0;A<D.contactCount;A++){var L=D.contacts[A],b=L.vertex;b&&C.fillRect(b.x-2,b.y-2,5,5)}for(z=0;z<T.length;z++)if(D=T[z],!!D.isActive){var F=D.collision,V=D.contacts;if(D.contactCount>0){var B=V[0].vertex.x,N=V[0].vertex.y;D.contactCount===2&&(B=(V[0].vertex.x+V[1].vertex.x)/2,N=(V[0].vertex.y+V[1].vertex.y)/2),F.bodyB===F.supports[0].body||F.bodyA.isStatic?C.lineBetween(B-F.normal.x*8,N-F.normal.y*8,B,N):C.lineBetween(B+F.normal.x*8,N+F.normal.y*8,B,N)}}return this},renderBodyBounds:function(T,C,E,z){C.lineStyle(1,E,z);for(var D=0;D<T.length;D++){var A=T[D];if(A.render.visible){var L=A.bounds;if(L)C.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var b=A.parts,F=b.length>1?1:0;F<b.length;F++){var V=b[F];C.strokeRect(V.bounds.min.x,V.bounds.min.y,V.bounds.max.x-V.bounds.min.x,V.bounds.max.y-V.bounds.min.y)}}}return this},renderBodyAxes:function(T,C,E,z,D){C.lineStyle(1,z,D);for(var A=0;A<T.length;A++){var L=T[A],b=L.parts;if(L.render.visible){var F,V,B;if(E)for(V=b.length>1?1:0;V<b.length;V++)for(F=b[V],B=0;B<F.axes.length;B++){var N=F.axes[B];C.lineBetween(F.position.x,F.position.y,F.position.x+N.x*20,F.position.y+N.y*20)}else for(V=b.length>1?1:0;V<b.length;V++)for(F=b[V],B=0;B<F.axes.length;B++)C.lineBetween(F.position.x,F.position.y,(F.vertices[0].x+F.vertices[F.vertices.length-1].x)/2,(F.vertices[0].y+F.vertices[F.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,C,E,z,D){C.lineStyle(D,E,z);for(var A=0;A<T.length;A++){var L=T[A];L.render.visible&&C.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(T){for(var C=this.debugGraphic,E=this.debugConfig,z=E.showBody,D=E.showStaticBody,A=E.showSleeping,L=E.showInternalEdges,b=E.showConvexHulls,F=E.renderFill,V=E.renderLine,B=E.staticBodySleepOpacity,N=E.sleepFillColor,U=E.sleepLineColor,I=E.hullColor,H=0;H<T.length;H++){var O=T[H];if(O.render.visible&&!(!D&&O.isStatic||!z&&!O.isStatic)){var R=O.render.lineColor,Y=O.render.lineOpacity,G=O.render.lineThickness,k=O.render.fillColor,W=O.render.fillOpacity;A&&O.isSleeping&&(O.isStatic?(Y*=B,W*=B):(R=U,k=N)),F||(k=null),V||(R=null),this.renderBody(O,C,L,R,Y,G,k,W);var X=O.parts.length;b&&X>1&&this.renderConvexHull(O,C,I,G)}}},renderBody:function(T,C,E,z,D,A,L,b){z===void 0&&(z=null),D===void 0&&(D=null),A===void 0&&(A=1),L===void 0&&(L=null),b===void 0&&(b=null);for(var F=this.debugConfig,V=F.sensorFillColor,B=F.sensorLineColor,N=T.parts,U=N.length,I=U>1?1:0;I<U;I++){var H=N[I],O=H.render,R=O.opacity;if(!(!O.visible||R===0||H.isSensor&&!F.showSensors)){var Y=H.circleRadius;if(C.beginPath(),H.isSensor?(L!==null&&C.fillStyle(V,b*R),z!==null&&C.lineStyle(A,B,D*R)):(L!==null&&C.fillStyle(L,b*R),z!==null&&C.lineStyle(A,z,D*R)),Y)C.arc(H.position.x,H.position.y,Y,0,2*Math.PI);else{var G=H.vertices,k=G.length;C.moveTo(G[0].x,G[0].y);for(var W=1;W<k;W++){var X=G[W];if(!G[W-1].isInternal||E?C.lineTo(X.x,X.y):C.moveTo(X.x,X.y),W<k&&X.isInternal&&!E){var j=(W+1)%k;C.moveTo(G[j].x,G[j].y)}}C.closePath()}L!==null&&C.fillPath(),z!==null&&C.strokePath()}}if(F.showPositions&&!T.isStatic){var K=T.position.x,$=T.position.y,Z=Math.ceil(F.positionSize/2);C.fillStyle(F.positionColor,1),C.fillRect(K-Z,$-Z,F.positionSize,F.positionSize)}return this},renderConvexHull:function(T,C,E,z){z===void 0&&(z=1);var D=T.parts,A=D.length;if(A>1){var L=T.vertices;C.lineStyle(z,E),C.beginPath(),C.moveTo(L[0].x,L[0].y);for(var b=1;b<L.length;b++)C.lineTo(L[b].x,L[b].y);C.lineTo(L[0].x,L[0].y),C.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,C=r.allConstraints(this.localWorld),E=0;E<C.length;E++){var z=C[E].render,D=z.lineColor,A=z.lineOpacity,L=z.lineThickness,b=z.pinSize,F=z.anchorColor,V=z.anchorSize;this.renderConstraint(C[E],T,D,A,L,b,F,V)}},renderConstraint:function(T,C,E,z,D,A,L,b){var F=T.render;if(!F.visible||!T.pointA||!T.pointB)return this;C.lineStyle(D,E,z);var V=T.bodyA,B=T.bodyB,N,U;if(V?N=g.add(V.position,T.pointA):N=T.pointA,F.type==="pin")C.strokeCircle(N.x,N.y,A);else{if(B?U=g.add(B.position,T.pointB):U=T.pointB,C.beginPath(),C.moveTo(N.x,N.y),F.type==="spring")for(var I=g.sub(U,N),H=g.perp(g.normalise(I)),O=Math.ceil(s.clamp(T.length/5,12,20)),R,Y=1;Y<O;Y+=1)R=Y%2===0?1:-1,C.lineTo(N.x+I.x*(Y/O)+H.x*R*4,N.y+I.y*(Y/O)+H.y*R*4);C.lineTo(U.x,U.y)}return C.strokePath(),F.anchors&&b>0&&(C.fillStyle(L),C.fillCircle(N.x,N.y,b),C.fillCircle(U.x,U.y,b)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),t.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});u.exports=y},70410:u=>{var x={setBounce:function(e){return this.body.restitution=e,this}};u.exports=x},66968:u=>{var x={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var l=0;if(!Array.isArray(e))l=e;else for(var p=0;p<e.length;p++)l|=e[p];return this.body.collisionFilter.mask=l,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,l){Array.isArray(e)||(e=[e]);for(var p=0;p<e.length;p++){var a=e[p].hasOwnProperty("body")?e[p].body:e[p];this.body.setOnCollideWith(a,l)}return this}};u.exports=x},51607:(u,x,e)=>{var l=e(22562),p={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,s){return l.applyForce(this.body,a,s),this},thrust:function(a){var s=this.body.angle;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var s=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};u.exports=p},5436:u=>{var x={setFriction:function(e,l,p){return this.body.friction=e,l!==void 0&&(this.body.frictionAir=l),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};u.exports=x},39858:u=>{var x={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};u.exports=x},37302:(u,x,e)=>{var l=e(22562),p=e(26099),a={setMass:function(s){return l.setMass(this.body,s),this},setDensity:function(s){return l.setDensity(this.body,s),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};u.exports=a},39132:u=>{var x={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};u.exports=x},57772:(u,x,e)=>{var l=e(66280),p=e(22562),a=e(43855),s=e(95540),r=e(19496),t=e(85791),n=e(41598),h={setRectangle:function(i,o,c){return this.setBody({type:"rectangle",width:i,height:o},c)},setCircle:function(i,o){return this.setBody({type:"circle",radius:i},o)},setPolygon:function(i,o,c){return this.setBody({type:"polygon",sides:o,radius:i},c)},setTrapezoid:function(i,o,c,d){return this.setBody({type:"trapezoid",width:i,height:o,slope:c},d)},setExistingBody:function(i,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var c=0;c<i.parts.length;c++)i.parts[c].gameObject=this;var d=this;if(i.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},o&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var f=i.render.sprite.xOffset,v=i.render.sprite.yOffset,m=i.centerOfMass.x,g=i.centerOfMass.y;if(a(m,.5)&&a(g,.5))this.setOrigin(f+.5,v+.5);else{var y=i.centerOffset.x,T=i.centerOffset.y;this.setOrigin(f+y/this.displayWidth,v+T/this.displayHeight)}}return this},setBody:function(i,o){if(!i)return this;var c;typeof i=="string"&&(i={type:i});var d=s(i,"type","rectangle"),f=s(i,"x",this._tempVec2.x),v=s(i,"y",this._tempVec2.y),m=s(i,"width",this.width),g=s(i,"height",this.height);switch(d){case"rectangle":c=l.rectangle(f,v,m,g,o);break;case"circle":var y=s(i,"radius",Math.max(m,g)/2),T=s(i,"maxSides",25);c=l.circle(f,v,y,o,T);break;case"trapezoid":var C=s(i,"slope",.5);c=l.trapezoid(f,v,m,g,C,o);break;case"polygon":var E=s(i,"sides",5),z=s(i,"radius",Math.max(m,g)/2);c=l.polygon(f,v,E,z,o);break;case"fromVertices":case"fromVerts":var D=s(i,"verts",null);if(D)if(typeof D=="string"&&(D=n.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,D),c=this.body;else{var A=s(i,"flagInternal",!1),L=s(i,"removeCollinear",.01),b=s(i,"minimumArea",10);c=l.fromVertices(f,v,D,o,A,L,b)}break;case"fromPhysicsEditor":c=r.parseBody(f,v,i,o);break;case"fromPhysicsTracer":c=t.parseBody(f,v,i,o);break}return c&&this.setExistingBody(c,i.addToWorld),this}};u.exports=h},38083:(u,x,e)=>{var l=e(1121),p=e(53614),a=e(35810),s={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,t){return this.setSleepStartEvent(r),this.setSleepEndEvent(t),this},setSleepStartEvent:function(r){if(r){var t=this.world;a.on(this.body,"sleepStart",function(n){t.emit(l.SLEEP_START,n,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var t=this.world;a.on(this.body,"sleepEnd",function(n){t.emit(l.SLEEP_END,n,this)})}else a.off(this.body,"sleepEnd");return this}};u.exports=s},90556:(u,x,e)=>{var l=e(22562),p={setStatic:function(a){return l.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};u.exports=p},85436:(u,x,e)=>{var l=e(22562),p=e(36383),a=e(86554),s=e(30954),r=4,t={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),l.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var h=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,l.scale(this.body,h,i),l.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var h=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,l.scale(this.body,h,i),l.scale(this.body,this._scaleX,n)}},angle:{get:function(){return s(this.body.angle*p.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=a(n),l.setAngle(this.body,this._rotation)}},setPosition:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this._tempVec2.set(n,h),l.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=a(n),l.setAngle(this.body,n),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,l.setAngle(this.body,this.rotation),this},setScale:function(n,h,i){n===void 0&&(n=1),h===void 0&&(h=n);var o=1/this._scaleX,c=1/this._scaleY;return this._scaleX=n,this._scaleY=h,l.scale(this.body,o,c,i),l.scale(this.body,n,h,i),this}};u.exports=t},42081:(u,x,e)=>{var l=e(22562),p={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,s){return this._tempVec2.set(a,s),l.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return l.getVelocity(this.body)},setAngularVelocity:function(a){return l.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return l.getAngularVelocity(this.body)},setAngularSpeed:function(a){return l.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return l.getAngularSpeed(this.body)}};u.exports=p},31884:(u,x,e)=>{u.exports={Bounce:e(70410),Collision:e(66968),Force:e(51607),Friction:e(5436),Gravity:e(39858),Mass:e(37302),Sensor:e(39132),SetBody:e(57772),Sleep:e(38083),Static:e(90556),Transform:e(85436),Velocity:e(42081)}},85608:u=>{u.exports="afteradd"},1213:u=>{u.exports="afterremove"},25968:u=>{u.exports="afterupdate"},67205:u=>{u.exports="beforeadd"},39438:u=>{u.exports="beforeremove"},44823:u=>{u.exports="beforeupdate"},92593:u=>{u.exports="collisionactive"},60128:u=>{u.exports="collisionend"},76861:u=>{u.exports="collisionstart"},92362:u=>{u.exports="dragend"},76408:u=>{u.exports="drag"},93971:u=>{u.exports="dragstart"},5656:u=>{u.exports="pause"},47861:u=>{u.exports="resume"},79099:u=>{u.exports="sleepend"},35906:u=>{u.exports="sleepstart"},1121:(u,x,e)=>{u.exports={AFTER_ADD:e(85608),AFTER_REMOVE:e(1213),AFTER_UPDATE:e(25968),BEFORE_ADD:e(67205),BEFORE_REMOVE:e(39438),BEFORE_UPDATE:e(44823),COLLISION_ACTIVE:e(92593),COLLISION_END:e(60128),COLLISION_START:e(76861),DRAG_END:e(92362),DRAG:e(76408),DRAG_START:e(93971),PAUSE:e(5656),RESUME:e(47861),SLEEP_END:e(79099),SLEEP_START:e(35906)}},3875:(u,x,e)=>{u.exports={BodyBounds:e(68174),Components:e(31884),Events:e(1121),Factory:e(28137),MatterGameObject:e(75803),Image:e(23181),Matter:e(19933),MatterPhysics:e(42045),PolyDecomp:e(55973),Sprite:e(34803),TileBody:e(73834),PhysicsEditorParser:e(19496),PhysicsJSONParser:e(85791),PointerConstraint:e(98713),World:e(68243)}},22562:(u,x,e)=>{var l={};u.exports=l;var p=e(41598),a=e(31725),s=e(53614),r=e(53402),t=e(15647),n=e(66615);(function(){l._timeCorrection=!0,l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l._baseDelta=16.666666666666668,l.create=function(i){var o={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=p.centre(i.vertices):i.hasOwnProperty("vertices")||(o.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var c=r.extend(o,i);return h(c,i),c.setOnCollideWith=function(d,f){return f?this.onCollideWith[d.id]=f:delete this.onCollideWith[d.id],this},c},l.nextGroup=function(i){return i?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var h=function(i,o){if(o=o||{},l.set(i,{bounds:i.bounds||t.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),p.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),t.update(i.bounds,i.vertices,i.velocity),l.set(i,{axes:o.axes||i.axes,area:o.area||i.area,mass:o.mass||i.mass,inertia:o.inertia||i.inertia}),i.parts.length===1){var c=i.bounds,d=i.centerOfMass,f=i.centerOffset,v=c.max.x-c.min.x,m=c.max.y-c.min.y;d.x=-(c.min.x-i.position.x)/v,d.y=-(c.min.y-i.position.y)/m,f.x=v*d.x,f.y=m*d.y}};l.set=function(i,o,c){var d;typeof o=="string"&&(d=o,o={},o[d]=c);for(d in o)if(Object.prototype.hasOwnProperty.call(o,d))switch(c=o[d],d){case"isStatic":l.setStatic(i,c);break;case"isSleeping":s.set(i,c);break;case"mass":l.setMass(i,c);break;case"density":l.setDensity(i,c);break;case"inertia":l.setInertia(i,c);break;case"vertices":l.setVertices(i,c);break;case"position":l.setPosition(i,c);break;case"angle":l.setAngle(i,c);break;case"velocity":l.setVelocity(i,c);break;case"angularVelocity":l.setAngularVelocity(i,c);break;case"speed":l.setSpeed(i,c);break;case"angularSpeed":l.setAngularSpeed(i,c);break;case"parts":l.setParts(i,c);break;case"centre":l.setCentre(i,c);break;default:i[d]=c}},l.setStatic=function(i,o){for(var c=0;c<i.parts.length;c++){var d=i.parts[c];o?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=o}},l.setMass=function(i,o){var c=i.inertia/(i.mass/6);i.inertia=c*(o/6),i.inverseInertia=1/i.inertia,i.mass=o,i.inverseMass=1/i.mass,i.density=i.mass/i.area},l.setDensity=function(i,o){l.setMass(i,o*i.area),i.density=o},l.setInertia=function(i,o){i.inertia=o,i.inverseInertia=1/i.inertia},l.setVertices=function(i,o){o[0].body===i?i.vertices=o:i.vertices=p.create(o,i),i.axes=n.fromVertices(i.vertices),i.area=p.area(i.vertices),l.setMass(i,i.density*i.area);var c=p.centre(i.vertices);p.translate(i.vertices,c,-1),l.setInertia(i,l._inertiaScale*p.inertia(i.vertices,i.mass)),p.translate(i.vertices,i.position),t.update(i.bounds,i.vertices,i.velocity)},l.setParts=function(i,o,c){var d;for(o=o.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<o.length;d++){var f=o[d];f!==i&&(f.parent=i,i.parts.push(f))}if(i.parts.length!==1){if(c=typeof c<"u"?c:!0,c){var v=[];for(d=0;d<o.length;d++)v=v.concat(o[d].vertices);p.clockwiseSort(v);var m=p.hull(v),g=p.centre(m);l.setVertices(i,m),p.translate(i.vertices,g)}var y=l._totalProperties(i),T=y.centre.x,C=y.centre.y,E=i.bounds,z=i.centerOfMass,D=i.centerOffset;t.update(E,i.vertices,i.velocity),z.x=-(E.min.x-T)/(E.max.x-E.min.x),z.y=-(E.min.y-C)/(E.max.y-E.min.y),D.x=T,D.y=C,i.area=y.area,i.parent=i,i.position.x=T,i.position.y=C,i.positionPrev.x=T,i.positionPrev.y=C,l.setMass(i,y.mass),l.setInertia(i,y.inertia),l.setPosition(i,y.centre)}},l.setCentre=function(i,o,c){c?(i.positionPrev.x+=o.x,i.positionPrev.y+=o.y,i.position.x+=o.x,i.position.y+=o.y):(i.positionPrev.x=o.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=o.y-(i.position.y-i.positionPrev.y),i.position.x=o.x,i.position.y=o.y)},l.setPosition=function(i,o,c){var d=a.sub(o,i.position);c?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=a.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var f=0;f<i.parts.length;f++){var v=i.parts[f];v.position.x+=d.x,v.position.y+=d.y,p.translate(v.vertices,d),t.update(v.bounds,v.vertices,i.velocity)}},l.setAngle=function(i,o,c){var d=o-i.angle;c?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var f=0;f<i.parts.length;f++){var v=i.parts[f];v.angle+=d,p.rotate(v.vertices,d,i.position),n.rotate(v.axes,d),t.update(v.bounds,v.vertices,i.velocity),f>0&&a.rotateAbout(v.position,d,i.position,v.position)}},l.setVelocity=function(i,o){var c=i.deltaTime/l._baseDelta;i.positionPrev.x=i.position.x-o.x*c,i.positionPrev.y=i.position.y-o.y*c,i.velocity.x=(i.position.x-i.positionPrev.x)/c,i.velocity.y=(i.position.y-i.positionPrev.y)/c,i.speed=a.magnitude(i.velocity)},l.getVelocity=function(i){var o=l._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*o,y:(i.position.y-i.positionPrev.y)*o}},l.getSpeed=function(i){return a.magnitude(l.getVelocity(i))},l.setSpeed=function(i,o){l.setVelocity(i,a.mult(a.normalise(l.getVelocity(i)),o))},l.setAngularVelocity=function(i,o){var c=i.deltaTime/l._baseDelta;i.anglePrev=i.angle-o*c,i.angularVelocity=(i.angle-i.anglePrev)/c,i.angularSpeed=Math.abs(i.angularVelocity)},l.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*l._baseDelta/i.deltaTime},l.getAngularSpeed=function(i){return Math.abs(l.getAngularVelocity(i))},l.setAngularSpeed=function(i,o){l.setAngularVelocity(i,r.sign(l.getAngularVelocity(i))*o)},l.translate=function(i,o,c){l.setPosition(i,a.add(i.position,o),c)},l.rotate=function(i,o,c,d){if(!c)l.setAngle(i,i.angle+o,d);else{var f=Math.cos(o),v=Math.sin(o),m=i.position.x-c.x,g=i.position.y-c.y;l.setPosition(i,{x:c.x+(m*f-g*v),y:c.y+(m*v+g*f)},d),l.setAngle(i,i.angle+o,d)}},l.scale=function(i,o,c,d){var f=0,v=0;d=d||i.position;for(var m=i.inertia===1/0,g=0;g<i.parts.length;g++){var y=i.parts[g];y.scale.x=o,y.scale.y=c,p.scale(y.vertices,o,c,d),y.axes=n.fromVertices(y.vertices),y.area=p.area(y.vertices),l.setMass(y,i.density*y.area),p.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),l.setInertia(y,l._inertiaScale*p.inertia(y.vertices,y.mass)),p.translate(y.vertices,{x:y.position.x,y:y.position.y}),g>0&&(f+=y.area,v+=y.inertia),y.position.x=d.x+(y.position.x-d.x)*o,y.position.y=d.y+(y.position.y-d.y)*c,t.update(y.bounds,y.vertices,i.velocity)}i.parts.length>1&&(i.area=f,i.isStatic||(l.setMass(i,i.density*f),l.setInertia(i,v))),i.circleRadius&&(o===c?i.circleRadius*=o:i.circleRadius=null),m&&l.setInertia(i,1/0)},l.update=function(i,o){o=(typeof o<"u"?o:16.666666666666668)*i.timeScale;var c=o*o,d=l._timeCorrection?o/(i.deltaTime||o):1,f=1-i.frictionAir*(o/r._baseDelta),v=(i.position.x-i.positionPrev.x)*d,m=(i.position.y-i.positionPrev.y)*d;i.velocity.x=v*f+i.force.x/i.mass*c,i.velocity.y=m*f+i.force.y/i.mass*c,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=o,i.angularVelocity=(i.angle-i.anglePrev)*f*d+i.torque/i.inertia*c,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var g=0;g<i.parts.length;g++){var y=i.parts[g];p.translate(y.vertices,i.velocity),g>0&&(y.position.x+=i.velocity.x,y.position.y+=i.velocity.y),i.angularVelocity!==0&&(p.rotate(y.vertices,i.angularVelocity,i.position),n.rotate(y.axes,i.angularVelocity),g>0&&a.rotateAbout(y.position,i.angularVelocity,i.position,y.position)),t.update(y.bounds,y.vertices,i.velocity)}},l.updateVelocities=function(i){var o=l._baseDelta/i.deltaTime,c=i.velocity;c.x=(i.position.x-i.positionPrev.x)*o,c.y=(i.position.y-i.positionPrev.y)*o,i.speed=Math.sqrt(c.x*c.x+c.y*c.y),i.angularVelocity=(i.angle-i.anglePrev)*o,i.angularSpeed=Math.abs(i.angularVelocity)},l.applyForce=function(i,o,c){var d={x:o.x-i.position.x,y:o.y-i.position.y};i.force.x+=c.x,i.force.y+=c.y,i.torque+=d.x*c.y-d.y*c.x},l._totalProperties=function(i){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=i.parts.length===1?0:1;c<i.parts.length;c++){var d=i.parts[c],f=d.mass!==1/0?d.mass:1;o.mass+=f,o.area+=d.area,o.inertia+=d.inertia,o.centre=a.add(o.centre,a.mult(d.position,f))}return o.centre=a.div(o.centre,o.mass),o},l.wrap=function(i,o){var c=t.wrap(i.bounds,o);return c&&l.translate(i,c),c}})()},69351:(u,x,e)=>{var l={};u.exports=l;var p=e(35810),a=e(53402),s=e(15647),r=e(22562);(function(){l.create=function(t){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},l.setModified=function(t,n,h,i){if(p.trigger(t,"compositeModified",t),t.isModified=n,n&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),h&&t.parent&&l.setModified(t.parent,n,h,i),i)for(var o=0;o<t.composites.length;o++){var c=t.composites[o];l.setModified(c,n,h,i)}},l.add=function(t,n){var h=[].concat(n);p.trigger(t,"beforeAdd",{object:n});for(var i=0;i<h.length;i++){var o=h[i];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(t,o);break;case"constraint":l.addConstraint(t,o);break;case"composite":l.addComposite(t,o);break;case"mouseConstraint":l.addConstraint(t,o.constraint);break}}return p.trigger(t,"afterAdd",{object:n}),t},l.remove=function(t,n,h){var i=[].concat(n);p.trigger(t,"beforeRemove",{object:n});for(var o=0;o<i.length;o++){var c=i[o];switch(c.type){case"body":l.removeBody(t,c,h);break;case"constraint":l.removeConstraint(t,c,h);break;case"composite":l.removeComposite(t,c,h);break;case"mouseConstraint":l.removeConstraint(t,c.constraint);break}}return p.trigger(t,"afterRemove",{object:n}),t},l.addComposite=function(t,n){return t.composites.push(n),n.parent=t,l.setModified(t,!0,!0,!1),t},l.removeComposite=function(t,n,h){var i=a.indexOf(t.composites,n);if(i!==-1){var o=l.allBodies(n);l.removeCompositeAt(t,i);for(var c=0;c<o.length;c++)o[c].sleepCounter=0}if(h)for(var c=0;c<t.composites.length;c++)l.removeComposite(t.composites[c],n,!0);return t},l.removeCompositeAt=function(t,n){return t.composites.splice(n,1),l.setModified(t,!0,!0,!1),t},l.addBody=function(t,n){return t.bodies.push(n),l.setModified(t,!0,!0,!1),t},l.removeBody=function(t,n,h){var i=a.indexOf(t.bodies,n);if(i!==-1&&(l.removeBodyAt(t,i),n.sleepCounter=0),h)for(var o=0;o<t.composites.length;o++)l.removeBody(t.composites[o],n,!0);return t},l.removeBodyAt=function(t,n){return t.bodies.splice(n,1),l.setModified(t,!0,!0,!1),t},l.addConstraint=function(t,n){return t.constraints.push(n),l.setModified(t,!0,!0,!1),t},l.removeConstraint=function(t,n,h){var i=a.indexOf(t.constraints,n);if(i!==-1&&l.removeConstraintAt(t,i),h)for(var o=0;o<t.composites.length;o++)l.removeConstraint(t.composites[o],n,!0);return t},l.removeConstraintAt=function(t,n){return t.constraints.splice(n,1),l.setModified(t,!0,!0,!1),t},l.clear=function(t,n,h){if(h)for(var i=0;i<t.composites.length;i++)l.clear(t.composites[i],n,!0);return n?t.bodies=t.bodies.filter(function(o){return o.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,l.setModified(t,!0,!0,!1),t},l.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var n=[].concat(t.bodies),h=0;h<t.composites.length;h++)n=n.concat(l.allBodies(t.composites[h]));return t.cache&&(t.cache.allBodies=n),n},l.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var n=[].concat(t.constraints),h=0;h<t.composites.length;h++)n=n.concat(l.allConstraints(t.composites[h]));return t.cache&&(t.cache.allConstraints=n),n},l.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var n=[].concat(t.composites),h=0;h<t.composites.length;h++)n=n.concat(l.allComposites(t.composites[h]));return t.cache&&(t.cache.allComposites=n),n},l.get=function(t,n,h){var i,o;switch(h){case"body":i=l.allBodies(t);break;case"constraint":i=l.allConstraints(t);break;case"composite":i=l.allComposites(t).concat(t);break}return i?(o=i.filter(function(c){return c.id.toString()===n.toString()}),o.length===0?null:o[0]):null},l.move=function(t,n,h){return l.remove(t,n),l.add(h,n),t},l.rebase=function(t){for(var n=l.allBodies(t).concat(l.allConstraints(t)).concat(l.allComposites(t)),h=0;h<n.length;h++)n[h].id=a.nextId();return t},l.translate=function(t,n,h){for(var i=h?l.allBodies(t):t.bodies,o=0;o<i.length;o++)r.translate(i[o],n);return t},l.rotate=function(t,n,h,i){for(var o=Math.cos(n),c=Math.sin(n),d=i?l.allBodies(t):t.bodies,f=0;f<d.length;f++){var v=d[f],m=v.position.x-h.x,g=v.position.y-h.y;r.setPosition(v,{x:h.x+(m*o-g*c),y:h.y+(m*c+g*o)}),r.rotate(v,n)}return t},l.scale=function(t,n,h,i,o){for(var c=o?l.allBodies(t):t.bodies,d=0;d<c.length;d++){var f=c[d],v=f.position.x-i.x,m=f.position.y-i.y;r.setPosition(f,{x:i.x+v*n,y:i.y+m*h}),r.scale(f,n,h)}return t},l.bounds=function(t){for(var n=l.allBodies(t),h=[],i=0;i<n.length;i+=1){var o=n[i];h.push(o.bounds.min,o.bounds.max)}return s.create(h)},l.wrap=function(t,n){var h=s.wrap(l.bounds(t),n);return h&&l.translate(t,h),h}})()},4372:(u,x,e)=>{var l={};u.exports=l;var p=e(69351);(function(){l.create=p.create,l.add=p.add,l.remove=p.remove,l.clear=p.clear,l.addComposite=p.addComposite,l.addBody=p.addBody,l.addConstraint=p.addConstraint})()},52284:(u,x,e)=>{var l={};u.exports=l;var p=e(41598),a=e(4506);(function(){var s=[],r={overlap:0,axis:null},t={overlap:0,axis:null};l.create=function(n,h){return{pair:null,collided:!1,bodyA:n,bodyB:h,parentA:n.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},l.collides=function(n,h,i){if(l._overlapAxes(r,n.vertices,h.vertices,n.axes),r.overlap<=0||(l._overlapAxes(t,h.vertices,n.vertices,h.axes),t.overlap<=0))return null;var o=i&&i.table[a.id(n,h)],c;o?c=o.collision:(c=l.create(n,h),c.collided=!0,c.bodyA=n.id<h.id?n:h,c.bodyB=n.id<h.id?h:n,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),n=c.bodyA,h=c.bodyB;var d;r.overlap<t.overlap?d=r:d=t;var f=c.normal,v=c.tangent,m=c.penetration,g=c.supports,y=d.overlap,T=d.axis,C=T.x,E=T.y,z=h.position.x-n.position.x,D=h.position.y-n.position.y;C*z+E*D>=0&&(C=-C,E=-E),f.x=C,f.y=E,v.x=-E,v.y=C,m.x=C*y,m.y=E*y,c.depth=y;var A=l._findSupports(n,h,f,1),L=0;if(p.contains(n.vertices,A[0])&&(g[L++]=A[0]),p.contains(n.vertices,A[1])&&(g[L++]=A[1]),L<2){var b=l._findSupports(h,n,f,-1);p.contains(h.vertices,b[0])&&(g[L++]=b[0]),L<2&&p.contains(h.vertices,b[1])&&(g[L++]=b[1])}return L===0&&(g[L++]=A[0]),c.supportCount=L,c},l._overlapAxes=function(n,h,i,o){var c=h.length,d=i.length,f=h[0].x,v=h[0].y,m=i[0].x,g=i[0].y,y=o.length,T=Number.MAX_VALUE,C=0,E,z,D,A,L,b;for(L=0;L<y;L++){var F=o[L],V=F.x,B=F.y,N=f*V+v*B,U=m*V+g*B,I=N,H=U;for(b=1;b<c;b+=1)A=h[b].x*V+h[b].y*B,A>I?I=A:A<N&&(N=A);for(b=1;b<d;b+=1)A=i[b].x*V+i[b].y*B,A>H?H=A:A<U&&(U=A);if(z=I-U,D=H-N,E=z<D?z:D,E<T&&(T=E,C=L,E<=0))break}n.axis=o[C],n.overlap=T},l._findSupports=function(n,h,i,o){var c=h.vertices,d=c.length,f=n.position.x,v=n.position.y,m=i.x*o,g=i.y*o,y=c[0],T=y,C=m*(f-T.x)+g*(v-T.y),E,z,D;for(D=1;D<d;D+=1)T=c[D],z=m*(f-T.x)+g*(v-T.y),z<C&&(C=z,y=T);return E=c[(d+y.index-1)%d],C=m*(f-E.x)+g*(v-E.y),T=c[(y.index+1)%d],m*(f-T.x)+g*(v-T.y)<C?(s[0]=y,s[1]=T,s):(s[0]=y,s[1]=E,s)}})()},43424:u=>{var x={};u.exports=x,function(){x.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},81388:(u,x,e)=>{var l={};u.exports=l;var p=e(53402),a=e(52284);(function(){l.create=function(s){var r={bodies:[],collisions:[],pairs:null};return p.extend(r,s)},l.setBodies=function(s,r){s.bodies=r.slice(0)},l.clear=function(s){s.bodies=[],s.collisions=[]},l.collisions=function(s){var r=s.pairs,t=s.bodies,n=t.length,h=l.canCollide,i=a.collides,o=s.collisions,c=0,d,f;for(t.sort(l._compareBoundsX),d=0;d<n;d++){var v=t[d],m=v.bounds,g=v.bounds.max.x,y=v.bounds.max.y,T=v.bounds.min.y,C=v.isStatic||v.isSleeping,E=v.parts.length,z=E===1;for(f=d+1;f<n;f++){var D=t[f],A=D.bounds;if(A.min.x>g)break;if(!(y<A.min.y||T>A.max.y)&&!(C&&(D.isStatic||D.isSleeping))&&h(v.collisionFilter,D.collisionFilter)){var L=D.parts.length;if(z&&L===1){var b=i(v,D,r);b&&(o[c++]=b)}else for(var F=E>1?1:0,V=L>1?1:0,B=F;B<E;B++)for(var N=v.parts[B],m=N.bounds,U=V;U<L;U++){var I=D.parts[U],A=I.bounds;if(!(m.min.x>A.max.x||m.max.x<A.min.x||m.max.y<A.min.y||m.min.y>A.max.y)){var b=i(N,I,r);b&&(o[c++]=b)}}}}}return o.length!==c&&(o.length=c),o},l.canCollide=function(s,r){return s.group===r.group&&s.group!==0?s.group>0:(s.mask&r.category)!==0&&(r.mask&s.category)!==0},l._compareBoundsX=function(s,r){return s.bounds.min.x-r.bounds.min.x}})()},4506:(u,x,e)=>{var l={};u.exports=l;var p=e(43424);(function(){l.create=function(a,s){var r=a.bodyA,t=a.bodyB,n={id:l.id(r,t),bodyA:r,bodyB:t,collision:a,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||t.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return l.update(n,a,s),n},l.update=function(a,s,r){var t=s.supports,n=s.supportCount,h=a.contacts,i=s.parentA,o=s.parentB;a.isActive=!0,a.timeUpdated=r,a.collision=s,a.separation=s.depth,a.inverseMass=i.inverseMass+o.inverseMass,a.friction=i.friction<o.friction?i.friction:o.friction,a.frictionStatic=i.frictionStatic>o.frictionStatic?i.frictionStatic:o.frictionStatic,a.restitution=i.restitution>o.restitution?i.restitution:o.restitution,a.slop=i.slop>o.slop?i.slop:o.slop,a.contactCount=n,s.pair=a;var c=t[0],d=h[0],f=t[1],v=h[1];(v.vertex===c||d.vertex===f)&&(h[1]=d,h[0]=d=v,v=h[1]),d.vertex=c,v.vertex=f},l.setActive=function(a,s,r){s?(a.isActive=!0,a.timeUpdated=r):(a.isActive=!1,a.contactCount=0)},l.id=function(a,s){return a.id<s.id?a.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+a.id.toString(36)}})()},99561:(u,x,e)=>{var l={};u.exports=l;var p=e(4506),a=e(53402);(function(){l.create=function(s){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},l.update=function(s,r,t){var n=p.update,h=p.create,i=p.setActive,o=s.table,c=s.list,d=c.length,f=d,v=s.collisionStart,m=s.collisionEnd,g=s.collisionActive,y=r.length,T=0,C=0,E=0,z,D,A;for(A=0;A<y;A++)z=r[A],D=z.pair,D?(D.isActive&&(g[E++]=D),n(D,z,t)):(D=h(z,t),o[D.id]=D,v[T++]=D,c[f++]=D);for(f=0,d=c.length,A=0;A<d;A++)D=c[A],D.timeUpdated>=t?c[f++]=D:(i(D,!1,t),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?c[f++]=D:(m[C++]=D,delete o[D.id]));c.length!==f&&(c.length=f),v.length!==T&&(v.length=T),m.length!==C&&(m.length=C),g.length!==E&&(g.length=E)},l.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},73296:(u,x,e)=>{var l={};u.exports=l;var p=e(31725),a=e(52284),s=e(15647),r=e(66280),t=e(41598);(function(){l.collides=function(n,h){for(var i=[],o=h.length,c=n.bounds,d=a.collides,f=s.overlaps,v=0;v<o;v++){var m=h[v],g=m.parts.length,y=g===1?0:1;if(n!==m&&f(m.bounds,c))for(var T=y;T<g;T++){var C=m.parts[T];if(f(C.bounds,c)){var E=d(C,n);if(E){i.push(E);break}}}}return i},l.ray=function(n,h,i,o){o=o||1e-100;for(var c=p.angle(h,i),d=p.magnitude(p.sub(h,i)),f=(i.x+h.x)*.5,v=(i.y+h.y)*.5,m=r.rectangle(f,v,d,o,{angle:c}),g=l.collides(m,n),y=0;y<g.length;y+=1){var T=g[y];T.body=T.bodyB=T.bodyA}return g},l.region=function(n,h,i){for(var o=[],c=0;c<n.length;c++){var d=n[c],f=s.overlaps(d.bounds,h);(f&&!i||!f&&i)&&o.push(d)}return o},l.point=function(n,h){for(var i=[],o=0;o<n.length;o++){var c=n[o];if(s.contains(c.bounds,h))for(var d=c.parts.length===1?0:1;d<c.parts.length;d++){var f=c.parts[d];if(s.contains(f.bounds,h)&&t.contains(f.vertices,h)){i.push(c);break}}}return i}})()},66272:(u,x,e)=>{var l={};u.exports=l;var p=e(41598),a=e(53402),s=e(15647);(function(){l._restingThresh=2,l._restingThreshTangent=Math.sqrt(6),l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l._frictionMaxStatic=Number.MAX_VALUE,l.preSolvePosition=function(r){var t,n,h,i=r.length;for(t=0;t<i;t++)n=r[t],n.isActive&&(h=n.contactCount,n.collision.parentA.totalContacts+=h,n.collision.parentB.totalContacts+=h)},l.solvePosition=function(r,t,n){var h,i,o,c,d,f,v,m,g=l._positionDampen*(n||1),y=a.clamp(t/a._baseDelta,0,1),T=r.length;for(h=0;h<T;h++)i=r[h],!(!i.isActive||i.isSensor)&&(o=i.collision,c=o.parentA,d=o.parentB,f=o.normal,i.separation=o.depth+f.x*(d.positionImpulse.x-c.positionImpulse.x)+f.y*(d.positionImpulse.y-c.positionImpulse.y));for(h=0;h<T;h++)i=r[h],!(!i.isActive||i.isSensor)&&(o=i.collision,c=o.parentA,d=o.parentB,f=o.normal,m=i.separation-i.slop*y,(c.isStatic||d.isStatic)&&(m*=2),c.isStatic||c.isSleeping||(v=g/c.totalContacts,c.positionImpulse.x+=f.x*m*v,c.positionImpulse.y+=f.y*m*v),d.isStatic||d.isSleeping||(v=g/d.totalContacts,d.positionImpulse.x-=f.x*m*v,d.positionImpulse.y-=f.y*m*v))},l.postSolvePosition=function(r){for(var t=l._positionWarming,n=r.length,h=p.translate,i=s.update,o=0;o<n;o++){var c=r[o],d=c.positionImpulse,f=d.x,v=d.y,m=c.velocity;if(c.totalContacts=0,f!==0||v!==0){for(var g=0;g<c.parts.length;g++){var y=c.parts[g];h(y.vertices,d),i(y.bounds,y.vertices,m),y.position.x+=f,y.position.y+=v}c.positionPrev.x+=f,c.positionPrev.y+=v,f*m.x+v*m.y<0?(d.x=0,d.y=0):(d.x*=t,d.y*=t)}}},l.preSolveVelocity=function(r){var t=r.length,n,h;for(n=0;n<t;n++){var i=r[n];if(!(!i.isActive||i.isSensor)){var o=i.contacts,c=i.contactCount,d=i.collision,f=d.parentA,v=d.parentB,m=d.normal,g=d.tangent;for(h=0;h<c;h++){var y=o[h],T=y.vertex,C=y.normalImpulse,E=y.tangentImpulse;if(C!==0||E!==0){var z=m.x*C+g.x*E,D=m.y*C+g.y*E;f.isStatic||f.isSleeping||(f.positionPrev.x+=z*f.inverseMass,f.positionPrev.y+=D*f.inverseMass,f.anglePrev+=f.inverseInertia*((T.x-f.position.x)*D-(T.y-f.position.y)*z)),v.isStatic||v.isSleeping||(v.positionPrev.x-=z*v.inverseMass,v.positionPrev.y-=D*v.inverseMass,v.anglePrev-=v.inverseInertia*((T.x-v.position.x)*D-(T.y-v.position.y)*z))}}}}},l.solveVelocity=function(r,t){var n=t/a._baseDelta,h=n*n,i=h*n,o=-l._restingThresh*n,c=l._restingThreshTangent,d=l._frictionNormalMultiplier*n,f=l._frictionMaxStatic,v=r.length,m,g,y,T;for(y=0;y<v;y++){var C=r[y];if(!(!C.isActive||C.isSensor)){var E=C.collision,z=E.parentA,D=E.parentB,A=E.normal.x,L=E.normal.y,b=E.tangent.x,F=E.tangent.y,V=C.inverseMass,B=C.friction*C.frictionStatic*d,N=C.contacts,U=C.contactCount,I=1/U,H=z.position.x-z.positionPrev.x,O=z.position.y-z.positionPrev.y,R=z.angle-z.anglePrev,Y=D.position.x-D.positionPrev.x,G=D.position.y-D.positionPrev.y,k=D.angle-D.anglePrev;for(T=0;T<U;T++){var W=N[T],X=W.vertex,j=X.x-z.position.x,K=X.y-z.position.y,$=X.x-D.position.x,Z=X.y-D.position.y,J=H-K*R,Q=O+j*R,_=Y-Z*k,ae=G+$*k,oe=J-_,le=Q-ae,q=A*oe+L*le,ie=b*oe+F*le,ne=C.separation+q,fe=Math.min(ne,1);fe=ne<0?0:fe;var ye=fe*B;ie<-ye||ie>ye?(g=ie>0?ie:-ie,m=C.friction*(ie>0?1:-1)*i,m<-g?m=-g:m>g&&(m=g)):(m=ie,g=f);var Re=j*L-K*A,ge=$*L-Z*A,xe=I/(V+z.inverseInertia*Re*Re+D.inverseInertia*ge*ge),be=(1+C.restitution)*q*xe;if(m*=xe,q<o)W.normalImpulse=0;else{var Je=W.normalImpulse;W.normalImpulse+=be,W.normalImpulse>0&&(W.normalImpulse=0),be=W.normalImpulse-Je}if(ie<-c||ie>c)W.tangentImpulse=0;else{var Ce=W.tangentImpulse;W.tangentImpulse+=m,W.tangentImpulse<-g&&(W.tangentImpulse=-g),W.tangentImpulse>g&&(W.tangentImpulse=g),m=W.tangentImpulse-Ce}var Ve=A*be+b*m,Ye=L*be+F*m;z.isStatic||z.isSleeping||(z.positionPrev.x+=Ve*z.inverseMass,z.positionPrev.y+=Ye*z.inverseMass,z.anglePrev+=(j*Ye-K*Ve)*z.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=Ve*D.inverseMass,D.positionPrev.y-=Ye*D.inverseMass,D.anglePrev-=($*Ye-Z*Ve)*D.inverseInertia)}}}}})()},48140:(u,x,e)=>{var l={};u.exports=l;var p=e(41598),a=e(31725),s=e(53614),r=e(15647),t=e(66615),n=e(53402);(function(){l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(h){var i=h;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var o=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,c=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,d=a.magnitude(a.sub(o,c));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(f.type="pin",f.anchors=!1):i.stiffness<.9&&(f.type="spring"),i.render=n.extend(f,i.render),i},l.preSolveAll=function(h){for(var i=0;i<h.length;i+=1){var o=h[i],c=o.constraintImpulse;o.isStatic||c.x===0&&c.y===0&&c.angle===0||(o.position.x+=c.x,o.position.y+=c.y,o.angle+=c.angle)}},l.solveAll=function(h,i){for(var o=n.clamp(i/n._baseDelta,0,1),c=0;c<h.length;c+=1){var d=h[c],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(f||v)&&l.solve(h[c],o)}for(c=0;c<h.length;c+=1)d=h[c],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!f&&!v&&l.solve(h[c],o)},l.solve=function(h,i){var o=h.bodyA,c=h.bodyB,d=h.pointA,f=h.pointB;if(!(!o&&!c)){o&&!o.isStatic&&(a.rotate(d,o.angle-h.angleA,d),h.angleA=o.angle),c&&!c.isStatic&&(a.rotate(f,c.angle-h.angleB,f),h.angleB=c.angle);var v=d,m=f;if(o&&(v=a.add(o.position,d)),c&&(m=a.add(c.position,f)),!(!v||!m)){var g=a.sub(v,m),y=a.magnitude(g);y<l._minLength&&(y=l._minLength);var T=(y-h.length)/y,C=h.stiffness>=1||h.length===0,E=C?h.stiffness*i:h.stiffness*i*i,z=h.damping*i,D=a.mult(g,T*E),A=(o?o.inverseMass:0)+(c?c.inverseMass:0),L=(o?o.inverseInertia:0)+(c?c.inverseInertia:0),b=A+L,F,V,B,N,U;if(z>0){var I=a.create();B=a.div(g,y),U=a.sub(c&&a.sub(c.position,c.positionPrev)||I,o&&a.sub(o.position,o.positionPrev)||I),N=a.dot(B,U)}o&&!o.isStatic&&(V=o.inverseMass/A,o.constraintImpulse.x-=D.x*V,o.constraintImpulse.y-=D.y*V,o.position.x-=D.x*V,o.position.y-=D.y*V,z>0&&(o.positionPrev.x-=z*B.x*N*V,o.positionPrev.y-=z*B.y*N*V),F=a.cross(d,D)/b*l._torqueDampen*o.inverseInertia*(1-h.angularStiffness),o.constraintImpulse.angle-=F,o.angle-=F),c&&!c.isStatic&&(V=c.inverseMass/A,c.constraintImpulse.x+=D.x*V,c.constraintImpulse.y+=D.y*V,c.position.x+=D.x*V,c.position.y+=D.y*V,z>0&&(c.positionPrev.x+=z*B.x*N*V,c.positionPrev.y+=z*B.y*N*V),F=a.cross(f,D)/b*l._torqueDampen*c.inverseInertia*(1-h.angularStiffness),c.constraintImpulse.angle+=F,c.angle+=F)}}},l.postSolveAll=function(h){for(var i=0;i<h.length;i++){var o=h[i],c=o.constraintImpulse;if(!(o.isStatic||c.x===0&&c.y===0&&c.angle===0)){s.set(o,!1);for(var d=0;d<o.parts.length;d++){var f=o.parts[d];p.translate(f.vertices,c),d>0&&(f.position.x+=c.x,f.position.y+=c.y),c.angle!==0&&(p.rotate(f.vertices,c.angle,o.position),t.rotate(f.axes,c.angle),d>0&&a.rotateAbout(f.position,c.angle,o.position,f.position)),r.update(f.bounds,f.vertices,o.velocity)}c.angle*=l._warming,c.x*=l._warming,c.y*=l._warming}}},l.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},l.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},l.currentLength=function(h){var i=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),o=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),c=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),d=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),f=i-c,v=o-d;return Math.sqrt(f*f+v*v)}})()},53402:(u,x,e)=>{var l={};u.exports=l,function(){l._baseDelta=16.666666666666668,l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l._warnedOnce={},l._decomp=null,l.extend=function(a,s){var r,t,n;typeof s=="boolean"?(r=2,n=s):(r=1,n=!0);for(var h=r;h<arguments.length;h++){var i=arguments[h];if(i)for(var o in i)n&&i[o]&&i[o].constructor===Object&&(!a[o]||a[o].constructor===Object)?(a[o]=a[o]||{},l.extend(a[o],n,i[o])):a[o]=i[o]}return a},l.clone=function(a,s){return l.extend({},s,a)},l.keys=function(a){if(Object.keys)return Object.keys(a);var s=[];for(var r in a)s.push(r);return s},l.values=function(a){var s=[];if(Object.keys){for(var r=Object.keys(a),t=0;t<r.length;t++)s.push(a[r[t]]);return s}for(var n in a)s.push(a[n]);return s},l.get=function(a,s,r,t){s=s.split(".").slice(r,t);for(var n=0;n<s.length;n+=1)a=a[s[n]];return a},l.set=function(a,s,r,t,n){var h=s.split(".").slice(t,n);return l.get(a,s,0,-1)[h[h.length-1]]=r,r},l.shuffle=function(a){for(var s=a.length-1;s>0;s--){var r=Math.floor(l.random()*(s+1)),t=a[s];a[s]=a[r],a[r]=t}return a},l.choose=function(a){return a[Math.floor(l.random()*a.length)]},l.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},l.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},l.isFunction=function(a){return typeof a=="function"},l.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},l.isString=function(a){return toString.call(a)==="[object String]"},l.clamp=function(a,s,r){return a<s?s:a>r?r:a},l.sign=function(a){return a<0?-1:1},l.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-l._nowStartTime},l.random=function(a,s){return a=typeof a<"u"?a:0,s=typeof s<"u"?s:1,a+p()*(s-a)};var p=function(){return l._seed=(l._seed*9301+49297)%233280,l._seed/233280};l.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},l.logLevel=1,l.log=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.info=function(){console&&l.logLevel>0&&l.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warn=function(){console&&l.logLevel>0&&l.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},l.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");l._warnedOnce[a]||(l.warn(a),l._warnedOnce[a]=!0)},l.deprecated=function(a,s,r){a[s]=l.chain(function(){l.warnOnce("\u{1F505} deprecated \u{1F505}",r)},a[s])},l.nextId=function(){return l._nextId++},l.indexOf=function(a,s){if(a.indexOf)return a.indexOf(s);for(var r=0;r<a.length;r++)if(a[r]===s)return r;return-1},l.map=function(a,s){if(a.map)return a.map(s);for(var r=[],t=0;t<a.length;t+=1)r.push(s(a[t]));return r},l.topologicalSort=function(a){var s=[],r=[],t=[];for(var n in a)!r[n]&&!t[n]&&l._topologicalSort(n,r,t,a,s);return s},l._topologicalSort=function(a,s,r,t,n){var h=t[a]||[];r[a]=!0;for(var i=0;i<h.length;i+=1){var o=h[i];r[o]||s[o]||l._topologicalSort(o,s,r,t,n)}r[a]=!1,s[a]=!0,n.push(a)},l.chain=function(){for(var a=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?a.push.apply(a,r._chained):a.push(r)}var t=function(){for(var n,h=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)h[i]=arguments[i];for(i=0;i<a.length;i+=1){var c=a[i].apply(n,h);typeof c<"u"&&(n=c)}return n};return t._chained=a,t},l.chainPathBefore=function(a,s,r){return l.set(a,s,l.chain(r,l.get(a,s)))},l.chainPathAfter=function(a,s,r){return l.set(a,s,l.chain(l.get(a,s),r))},l.setDecomp=function(a){l._decomp=a},l.getDecomp=function(){var a=l._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof e.g<"u"&&(a=e.g.decomp)}catch{a=null}return a}}()},48413:(u,x,e)=>{var l={};u.exports=l;var p=e(53614),a=e(66272),s=e(81388),r=e(99561),t=e(35810),n=e(69351),h=e(48140),i=e(53402),o=e(22562);(function(){l._deltaMax=16.666666666666668,l.create=function(c){c=c||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},f=i.extend(d,c);return f.world=c.world||n.create({label:"World"}),f.pairs=c.pairs||r.create(),f.detector=c.detector||s.create(),f.detector.pairs=f.pairs,f.grid={buckets:[]},f.world.gravity=f.gravity,f.broadphase=f.grid,f.metrics={},f},l.update=function(c,d){var f=i.now(),v=c.world,m=c.detector,g=c.pairs,y=c.timing,T=y.timestamp,C;d>l._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",l._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:i._baseDelta,d*=y.timeScale,y.timestamp+=d,y.lastDelta=d;var E={timestamp:y.timestamp,delta:d};t.trigger(c,"beforeUpdate",E);var z=n.allBodies(v),D=n.allConstraints(v),A=n.allComposites(v);for(v.isModified&&(s.setBodies(m,z),n.setModified(v,!1,!1,!0)),c.enableSleeping&&p.update(z,d),l._bodiesApplyGravity(z,c.gravity),l.wrap(z,A),l.attractors(z),d>0&&l._bodiesUpdate(z,d),t.trigger(c,"beforeSolve",E),h.preSolveAll(z),C=0;C<c.constraintIterations;C++)h.solveAll(D,d);h.postSolveAll(z);var L=s.collisions(m);r.update(g,L,T),c.enableSleeping&&p.afterCollisions(g.list),g.collisionStart.length>0&&t.trigger(c,"collisionStart",{pairs:g.collisionStart,timestamp:y.timestamp,delta:d});var b=i.clamp(20/c.positionIterations,0,1);for(a.preSolvePosition(g.list),C=0;C<c.positionIterations;C++)a.solvePosition(g.list,d,b);for(a.postSolvePosition(z),h.preSolveAll(z),C=0;C<c.constraintIterations;C++)h.solveAll(D,d);for(h.postSolveAll(z),a.preSolveVelocity(g.list),C=0;C<c.velocityIterations;C++)a.solveVelocity(g.list,d);return l._bodiesUpdateVelocities(z),g.collisionActive.length>0&&t.trigger(c,"collisionActive",{pairs:g.collisionActive,timestamp:y.timestamp,delta:d}),g.collisionEnd.length>0&&t.trigger(c,"collisionEnd",{pairs:g.collisionEnd,timestamp:y.timestamp,delta:d}),l._bodiesClearForces(z),t.trigger(c,"afterUpdate",E),c.timing.lastElapsed=i.now()-f,c},l.merge=function(c,d){if(i.extend(c,d),d.world){c.world=d.world,l.clear(c);for(var f=n.allBodies(c.world),v=0;v<f.length;v++){var m=f[v];p.set(m,!1),m.id=i.nextId()}}},l.clear=function(c){r.clear(c.pairs),s.clear(c.detector)},l._bodiesClearForces=function(c){for(var d=c.length,f=0;f<d;f++){var v=c[f];v.force.x=0,v.force.y=0,v.torque=0}},l._bodiesApplyGravity=function(c,d){var f=typeof d.scale<"u"?d.scale:.001,v=c.length;if(!(d.x===0&&d.y===0||f===0))for(var m=0;m<v;m++){var g=c[m];g.ignoreGravity||g.isStatic||g.isSleeping||(g.force.y+=g.mass*d.y*f,g.force.x+=g.mass*d.x*f)}},l._bodiesUpdate=function(c,d){for(var f=c.length,v=0;v<f;v++){var m=c[v];m.isStatic||m.isSleeping||o.update(m,d)}},l._bodiesUpdateVelocities=function(c){for(var d=c.length,f=0;f<d;f++)o.updateVelocities(c[f])},l.wrap=function(c,d){for(var f=0;f<c.length;f+=1){var v=c[f];v.wrapBounds!==null&&o.wrap(v,v.wrapBounds)}for(f=0;f<d.length;f+=1){var m=d[f];m.wrapBounds!==null&&n.wrap(m,m.wrapBounds)}},l.attractors=function(c){for(var d=0;d<c.length;d++){var f=c[d],v=f.attractors;if(v&&v.length>0)for(var m=0;m<c.length;m++){var g=c[m];if(d!==m)for(var y=0;y<v.length;y++){var T=v[y],C=T;i.isFunction(T)&&(C=T(f,g)),C&&o.applyForce(g,g.position,C)}}}}})()},35810:(u,x,e)=>{var l={};u.exports=l;var p=e(53402);(function(){l.on=function(a,s,r){for(var t=s.split(" "),n,h=0;h<t.length;h++)n=t[h],a.events=a.events||{},a.events[n]=a.events[n]||[],a.events[n].push(r);return r},l.off=function(a,s,r){if(!s){a.events={};return}typeof s=="function"&&(r=s,s=p.keys(a.events).join(" "));for(var t=s.split(" "),n=0;n<t.length;n++){var h=a.events[t[n]],i=[];if(r&&h)for(var o=0;o<h.length;o++)h[o]!==r&&i.push(h[o]);a.events[t[n]]=i}},l.trigger=function(a,s,r){var t,n,h,i,o=a.events;if(o&&p.keys(o).length>0){r||(r={}),t=s.split(" ");for(var c=0;c<t.length;c++)if(n=t[c],h=o[n],h){i=p.clone(r,!1),i.name=n,i.source=a;for(var d=0;d<h.length;d++)h[d].apply(a,[i])}}}})()},6790:(u,x,e)=>{var l={};u.exports=l;var p=e(73832),a=e(53402);(function(){l.name="matter-js",l.version="0.20.0",l.uses=[],l.used=[],l.use=function(){p.use(l,Array.prototype.slice.call(arguments))},l.before=function(s,r){return s=s.replace(/^Matter./,""),a.chainPathBefore(l,s,r)},l.after=function(s,r){return s=s.replace(/^Matter./,""),a.chainPathAfter(l,s,r)}})()},73832:(u,x,e)=>{var l={};u.exports=l;var p=e(53402);(function(){l._registry={},l.register=function(a){if(l.isPlugin(a)||p.warn("Plugin.register:",l.toString(a),"does not implement all required fields."),a.name in l._registry){var s=l._registry[a.name],r=l.versionParse(a.version).number,t=l.versionParse(s.version).number;r>t?(p.warn("Plugin.register:",l.toString(s),"was upgraded to",l.toString(a)),l._registry[a.name]=a):r<t?p.warn("Plugin.register:",l.toString(s),"can not be downgraded to",l.toString(a)):a!==s&&p.warn("Plugin.register:",l.toString(a),"is already registered to different plugin object")}else l._registry[a.name]=a;return a},l.resolve=function(a){return l._registry[l.dependencyParse(a).name]},l.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},l.isPlugin=function(a){return a&&a.name&&a.version&&a.install},l.isUsed=function(a,s){return a.used.indexOf(s)>-1},l.isFor=function(a,s){var r=a.for&&l.dependencyParse(a.for);return!a.for||s.name===r.name&&l.versionSatisfies(s.version,r.range)},l.use=function(a,s){if(a.uses=(a.uses||[]).concat(s||[]),a.uses.length===0){p.warn("Plugin.use:",l.toString(a),"does not specify any dependencies to install.");return}for(var r=l.dependencies(a),t=p.topologicalSort(r),n=[],h=0;h<t.length;h+=1)if(t[h]!==a.name){var i=l.resolve(t[h]);if(!i){n.push("\u274C "+t[h]);continue}l.isUsed(a,i.name)||(l.isFor(i,a)||(p.warn("Plugin.use:",l.toString(i),"is for",i.for,"but installed on",l.toString(a)+"."),i._warned=!0),i.install?i.install(a):(p.warn("Plugin.use:",l.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push("\u{1F536} "+l.toString(i)),delete i._warned):n.push("\u2705 "+l.toString(i)),a.used.push(i.name))}n.length>0&&!i.silent&&p.info(n.join("  "))},l.dependencies=function(a,s){var r=l.dependencyParse(a),t=r.name;if(s=s||{},!(t in s)){a=l.resolve(a)||a,s[t]=p.map(a.uses||[],function(h){l.isPlugin(h)&&l.register(h);var i=l.dependencyParse(h),o=l.resolve(h);return o&&!l.versionSatisfies(o.version,i.range)?(p.warn("Plugin.dependencies:",l.toString(o),"does not satisfy",l.toString(i),"used by",l.toString(r)+"."),o._warned=!0,a._warned=!0):o||(p.warn("Plugin.dependencies:",l.toString(h),"used by",l.toString(r),"could not be resolved."),a._warned=!0),i.name});for(var n=0;n<s[t].length;n+=1)l.dependencies(s[t][n],s);return s}},l.dependencyParse=function(a){if(p.isString(a)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(a)||p.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},l.versionParse=function(a){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(a)||p.warn("Plugin.versionParse:",a,"is not a valid version or range.");var r=s.exec(a),t=Number(r[4]),n=Number(r[5]),h=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:a,operator:r[1]||r[2]||"",major:t,minor:n,patch:h,parts:[t,n,h],prerelease:r[7],number:t*1e8+n*1e4+h}},l.versionSatisfies=function(a,s){s=s||"*";var r=l.versionParse(s),t=l.versionParse(a);if(r.isRange){if(r.operator==="*"||a==="*")return!0;if(r.operator===">")return t.number>r.number;if(r.operator===">=")return t.number>=r.number;if(r.operator==="~")return t.major===r.major&&t.minor===r.minor&&t.patch>=r.patch;if(r.operator==="^")return r.major>0?t.major===r.major&&t.number>=r.number:r.minor>0?t.minor===r.minor&&t.patch>=r.patch:t.patch===r.patch}return a===s||a==="*"}})()},13037:(u,x,e)=>{var l={};u.exports=l;var p=e(35810),a=e(48413),s=e(53402);(function(){l._maxFrameDelta=66.66666666666667,l._frameDeltaFallback=16.666666666666668,l._timeBufferMargin=1.5,l._elapsedNextEstimate=1,l._smoothingLowerBound=.1,l._smoothingUpperBound=.9,l.create=function(t){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},h=s.extend(n,t);return h.fps=0,h},l.run=function(t,n){return t.timeBuffer=l._frameDeltaFallback,function h(i){t.frameRequestId=l._onNextFrame(t,h),i&&t.enabled&&l.tick(t,n,i)}(),t},l.tick=function(t,n,h){var i=s.now(),o=t.delta,c=0,d=h-t.timeLastTick;if((!d||!t.timeLastTick||d>Math.max(l._maxFrameDelta,t.maxFrameTime))&&(d=t.frameDelta||l._frameDeltaFallback),t.frameDeltaSmoothing){t.frameDeltaHistory.push(d),t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var f=t.frameDeltaHistory.slice(0).sort(),v=t.frameDeltaHistory.slice(f.length*l._smoothingLowerBound,f.length*l._smoothingUpperBound),m=r(v);d=m||d}t.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),t.frameDelta=d,t.timeLastTick=h,t.timeBuffer+=t.frameDelta,t.timeBuffer=s.clamp(t.timeBuffer,0,t.frameDelta+o*l._timeBufferMargin),t.lastUpdatesDeferred=0;var g=t.maxUpdates||Math.ceil(t.maxFrameTime/o),y={timestamp:n.timing.timestamp};p.trigger(t,"beforeTick",y),p.trigger(t,"tick",y);for(var T=s.now();o>0&&t.timeBuffer>=o*l._timeBufferMargin;){p.trigger(t,"beforeUpdate",y),a.update(n,o),p.trigger(t,"afterUpdate",y),t.timeBuffer-=o,c+=1;var C=s.now()-i,E=s.now()-T,z=C+l._elapsedNextEstimate*E/c;if(c>=g||z>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/o-l._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=c,p.trigger(t,"afterTick",y),t.frameDeltaHistory.length>=100&&(t.lastUpdatesDeferred&&Math.round(t.frameDelta/o)>g?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):t.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof t.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(t.deltaMin||t.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),t.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},l.stop=function(t){l._cancelNextFrame(t)},l._onNextFrame=function(t,n){if(typeof window<"u"&&window.requestAnimationFrame)t.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return t.frameRequestId},l._cancelNextFrame=function(t){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(t.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var r=function(t){for(var n=0,h=t.length,i=0;i<h;i+=1)n+=t[i];return n/h||0}})()},53614:(u,x,e)=>{var l={};u.exports=l;var p=e(22562),a=e(35810),s=e(53402);(function(){l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(r,t){for(var n=t/s._baseDelta,h=l._motionSleepThreshold,i=0;i<r.length;i++){var o=r[i],c=p.getSpeed(o),d=p.getAngularSpeed(o),f=c*c+d*d;if(o.force.x!==0||o.force.y!==0){l.set(o,!1);continue}var v=Math.min(o.motion,f),m=Math.max(o.motion,f);o.motion=l._minBias*v+(1-l._minBias)*m,o.sleepThreshold>0&&o.motion<h?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/n&&l.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},l.afterCollisions=function(r){for(var t=l._motionSleepThreshold,n=0;n<r.length;n++){var h=r[n];if(h.isActive){var i=h.collision,o=i.bodyA.parent,c=i.bodyB.parent;if(!(o.isSleeping&&c.isSleeping||o.isStatic||c.isStatic)&&(o.isSleeping||c.isSleeping)){var d=o.isSleeping&&!o.isStatic?o:c,f=d===o?c:o;!d.isStatic&&f.motion>t&&l.set(d,!1)}}}},l.set=function(r,t){var n=r.isSleeping;t?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,n||a.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,n&&a.trigger(r,"sleepEnd"))}})()},66280:(u,x,e)=>{var l={};u.exports=l;var p=e(41598),a=e(53402),s=e(22562),r=e(15647),t=e(31725);(function(){l.rectangle=function(n,h,i,o,c){c=c||{};var d={label:"Rectangle Body",position:{x:n,y:h},vertices:p.fromPath("L 0 0 L "+i+" 0 L "+i+" "+o+" L 0 "+o)};if(c.chamfer){var f=c.chamfer;d.vertices=p.chamfer(d.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete c.chamfer}return s.create(a.extend({},d,c))},l.trapezoid=function(n,h,i,o,c,d){d=d||{},c>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),c*=.5;var f=(1-c*2)*i,v=i*c,m=v+f,g=m+v,y;c<.5?y="L 0 0 L "+v+" "+-o+" L "+m+" "+-o+" L "+g+" 0":y="L 0 0 L "+m+" "+-o+" L "+g+" 0";var T={label:"Trapezoid Body",position:{x:n,y:h},vertices:p.fromPath(y)};if(d.chamfer){var C=d.chamfer;T.vertices=p.chamfer(T.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete d.chamfer}return s.create(a.extend({},T,d))},l.circle=function(n,h,i,o,c){o=o||{};var d={label:"Circle Body",circleRadius:i};c=c||25;var f=Math.ceil(Math.max(10,Math.min(c,i)));return f%2===1&&(f+=1),l.polygon(n,h,f,i,a.extend({},d,o))},l.polygon=function(n,h,i,o,c){if(c=c||{},i<3)return l.circle(n,h,o,c);for(var d=2*Math.PI/i,f="",v=d*.5,m=0;m<i;m+=1){var g=v+m*d,y=Math.cos(g)*o,T=Math.sin(g)*o;f+="L "+y.toFixed(3)+" "+T.toFixed(3)+" "}var C={label:"Polygon Body",position:{x:n,y:h},vertices:p.fromPath(f)};if(c.chamfer){var E=c.chamfer;C.vertices=p.chamfer(C.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete c.chamfer}return s.create(a.extend({},C,c))},l.fromVertices=function(n,h,i,o,c,d,f,v){var m=a.getDecomp(),g,y,T,C,E,z,D,A,L,b,F;for(g=!!(m&&m.quickDecomp),o=o||{},T=[],c=typeof c<"u"?c:!1,d=typeof d<"u"?d:.01,f=typeof f<"u"?f:10,v=typeof v<"u"?v:.01,a.isArray(i[0])||(i=[i]),b=0;b<i.length;b+=1)if(z=i[b],C=p.isConvex(z),E=!C,E&&!g&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),C||!g)C?z=p.clockwiseSort(z):z=p.hull(z),T.push({position:{x:n,y:h},vertices:z});else{var V=z.map(function(W){return[W.x,W.y]});m.makeCCW(V),d!==!1&&m.removeCollinearPoints(V,d),v!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(V,v);var B=m.quickDecomp(V);for(D=0;D<B.length;D++){var N=B[D],U=N.map(function(W){return{x:W[0],y:W[1]}});f>0&&p.area(U)<f||T.push({position:p.centre(U),vertices:U})}}for(D=0;D<T.length;D++)T[D]=s.create(a.extend(T[D],o));if(c){var I=5;for(D=0;D<T.length;D++){var H=T[D];for(A=D+1;A<T.length;A++){var O=T[A];if(r.overlaps(H.bounds,O.bounds)){var R=H.vertices,Y=O.vertices;for(L=0;L<H.vertices.length;L++)for(F=0;F<O.vertices.length;F++){var G=t.magnitudeSquared(t.sub(R[(L+1)%R.length],Y[F])),k=t.magnitudeSquared(t.sub(R[L],Y[(F+1)%Y.length]));G<I&&k<I&&(R[L].isInternal=!0,Y[F].isInternal=!0)}}}}}return T.length>1?(y=s.create(a.extend({parts:T.slice(0)},o)),s.setPosition(y,{x:n,y:h}),y):T[0]},l.flagCoincidentParts=function(n,h){h===void 0&&(h=5);for(var i=0;i<n.length;i++)for(var o=n[i],c=i+1;c<n.length;c++){var d=n[c];if(r.overlaps(o.bounds,d.bounds))for(var f=o.vertices,v=d.vertices,m=0;m<o.vertices.length;m++)for(var g=0;g<d.vertices.length;g++){var y=t.magnitudeSquared(t.sub(f[(m+1)%f.length],v[g])),T=t.magnitudeSquared(t.sub(f[m],v[(g+1)%v.length]));y<h&&T<h&&(f[m].isInternal=!0,v[g].isInternal=!0)}}return n}})()},74116:(u,x,e)=>{var l={};u.exports=l;var p=e(69351),a=e(48140),s=e(53402),r=e(22562),t=e(66280);(function(){l.stack=function(n,h,i,o,c,d,f){for(var v=p.create({label:"Stack"}),m=n,g=h,y,T=0,C=0;C<o;C++){for(var E=0,z=0;z<i;z++){var D=f(m,g,z,C,y,T);if(D){var A=D.bounds.max.y-D.bounds.min.y,L=D.bounds.max.x-D.bounds.min.x;A>E&&(E=A),r.translate(D,{x:L*.5,y:A*.5}),m=D.bounds.max.x+c,p.addBody(v,D),y=D,T+=1}else m+=c}g+=E+d,m=n}return v},l.chain=function(n,h,i,o,c,d){for(var f=n.bodies,v=1;v<f.length;v++){var m=f[v-1],g=f[v],y=m.bounds.max.y-m.bounds.min.y,T=m.bounds.max.x-m.bounds.min.x,C=g.bounds.max.y-g.bounds.min.y,E=g.bounds.max.x-g.bounds.min.x,z={bodyA:m,pointA:{x:T*h,y:y*i},bodyB:g,pointB:{x:E*o,y:C*c}},D=s.extend(z,d);p.addConstraint(n,a.create(D))}return n.label+=" Chain",n},l.mesh=function(n,h,i,o,c){var d=n.bodies,f,v,m,g,y;for(f=0;f<i;f++){for(v=1;v<h;v++)m=d[v-1+f*h],g=d[v+f*h],p.addConstraint(n,a.create(s.extend({bodyA:m,bodyB:g},c)));if(f>0)for(v=0;v<h;v++)m=d[v+(f-1)*h],g=d[v+f*h],p.addConstraint(n,a.create(s.extend({bodyA:m,bodyB:g},c))),o&&v>0&&(y=d[v-1+(f-1)*h],p.addConstraint(n,a.create(s.extend({bodyA:y,bodyB:g},c)))),o&&v<h-1&&(y=d[v+1+(f-1)*h],p.addConstraint(n,a.create(s.extend({bodyA:y,bodyB:g},c))))}return n.label+=" Mesh",n},l.pyramid=function(n,h,i,o,c,d,f){return l.stack(n,h,i,o,c,d,function(v,m,g,y,T,C){var E=Math.min(o,Math.ceil(i/2)),z=T?T.bounds.max.x-T.bounds.min.x:0;if(!(y>E)){y=E-y;var D=y,A=i-1-y;if(!(g<D||g>A)){C===1&&r.translate(T,{x:(g+(i%2===1?1:-1))*z,y:0});var L=T?g*z:0;return f(n+L+g*c,m,g,y,T,C)}}})},l.newtonsCradle=function(n,h,i,o,c){for(var d=p.create({label:"Newtons Cradle"}),f=0;f<i;f++){var v=1.9,m=t.circle(n+f*(o*v),h+c,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),g=a.create({pointA:{x:n+f*(o*v),y:h},bodyB:m});p.addBody(d,m),p.addConstraint(d,g)}return d},l.car=function(n,h,i,o,c){var d=r.nextGroup(!0),f=20,v=-i*.5+f,m=i*.5-f,g=0,y=p.create({label:"Car"}),T=t.rectangle(n,h,i,o,{collisionFilter:{group:d},chamfer:{radius:o*.5},density:2e-4}),C=t.circle(n+v,h+g,c,{collisionFilter:{group:d},friction:.8}),E=t.circle(n+m,h+g,c,{collisionFilter:{group:d},friction:.8}),z=a.create({bodyB:T,pointB:{x:v,y:g},bodyA:C,stiffness:1,length:0}),D=a.create({bodyB:T,pointB:{x:m,y:g},bodyA:E,stiffness:1,length:0});return p.addBody(y,T),p.addBody(y,C),p.addBody(y,E),p.addConstraint(y,z),p.addConstraint(y,D),y},l.softBody=function(n,h,i,o,c,d,f,v,m,g){m=s.extend({inertia:1/0},m),g=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},g);var y=l.stack(n,h,i,o,c,d,function(T,C){return t.circle(T,C,v,m)});return l.mesh(y,i,o,f,g),y.label="Soft Body",y}})()},66615:(u,x,e)=>{var l={};u.exports=l;var p=e(31725),a=e(53402);(function(){l.fromVertices=function(s){for(var r={},t=0;t<s.length;t++){var n=(t+1)%s.length,h=p.normalise({x:s[n].y-s[t].y,y:s[t].x-s[n].x}),i=h.y===0?1/0:h.x/h.y;i=i.toFixed(3).toString(),r[i]=h}return a.values(r)},l.rotate=function(s,r){if(r!==0)for(var t=Math.cos(r),n=Math.sin(r),h=0;h<s.length;h++){var i=s[h],o;o=i.x*t-i.y*n,i.y=i.x*n+i.y*t,i.x=o}}})()},15647:u=>{var x={};u.exports=x,function(){x.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&x.update(l,e),l},x.update=function(e,l,p){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var a=0;a<l.length;a++){var s=l[a];s.x>e.max.x&&(e.max.x=s.x),s.x<e.min.x&&(e.min.x=s.x),s.y>e.max.y&&(e.max.y=s.y),s.y<e.min.y&&(e.min.y=s.y)}p&&(p.x>0?e.max.x+=p.x:e.min.x+=p.x,p.y>0?e.max.y+=p.y:e.min.y+=p.y)},x.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},x.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},x.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},x.shift=function(e,l){var p=e.max.x-e.min.x,a=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+p,e.min.y=l.y,e.max.y=l.y+a},x.wrap=function(e,l,p){var a=null,s=null;if(typeof l.min.x<"u"&&typeof l.max.x<"u"&&(e.min.x>l.max.x?a=l.min.x-e.max.x:e.max.x<l.min.x&&(a=l.max.x-e.min.x)),typeof l.min.y<"u"&&typeof l.max.y<"u"&&(e.min.y>l.max.y?s=l.min.y-e.max.y:e.max.y<l.min.y&&(s=l.max.y-e.min.y)),a!==null||s!==null)return{x:a||0,y:s||0}}}()},74058:(u,x,e)=>{var l={};u.exports=l;var p=e(15647),a=e(53402);(function(){l.pathToVertices=function(s,r){typeof window<"u"&&!("SVGPathSeg"in window)&&a.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var t,n,h,i,o,c,d,f,v,m,g=[],y,T,C=0,E=0,z=0;r=r||15;var D=function(L,b,F){var V=F%2===1&&F>1;if(!v||L!=v.x||b!=v.y){v&&V?(y=v.x,T=v.y):(y=0,T=0);var B={x:y+L,y:T+b};(V||!v)&&(v=B),g.push(B),E=y+L,z=T+b}},A=function(L){var b=L.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":E=L.x,z=L.y;break;case"H":E=L.x;break;case"V":z=L.y;break}D(E,z,L.pathSegType)}};for(l._svgPathToAbsolute(s),h=s.getTotalLength(),c=[],t=0;t<s.pathSegList.numberOfItems;t+=1)c.push(s.pathSegList.getItem(t));for(d=c.concat();C<h;){if(m=s.getPathSegAtLength(C),o=c[m],o!=f){for(;d.length&&d[0]!=o;)A(d.shift());f=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=s.getPointAtLength(C),D(i.x,i.y,0);break}C+=r}for(t=0,n=d.length;t<n;++t)A(d[t]);return g},l._svgPathToAbsolute=function(s){for(var r,t,n,h,i,o,c=s.pathSegList,d=0,f=0,v=c.numberOfItems,m=0;m<v;++m){var g=c.getItem(m),y=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(y))"x"in g&&(d=g.x),"y"in g&&(f=g.y);else switch("x1"in g&&(n=d+g.x1),"x2"in g&&(i=d+g.x2),"y1"in g&&(h=f+g.y1),"y2"in g&&(o=f+g.y2),"x"in g&&(d+=g.x),"y"in g&&(f+=g.y),y){case"m":c.replaceItem(s.createSVGPathSegMovetoAbs(d,f),m);break;case"l":c.replaceItem(s.createSVGPathSegLinetoAbs(d,f),m);break;case"h":c.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(d),m);break;case"v":c.replaceItem(s.createSVGPathSegLinetoVerticalAbs(f),m);break;case"c":c.replaceItem(s.createSVGPathSegCurvetoCubicAbs(d,f,n,h,i,o),m);break;case"s":c.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(d,f,i,o),m);break;case"q":c.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(d,f,n,h),m);break;case"t":c.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(d,f),m);break;case"a":c.replaceItem(s.createSVGPathSegArcAbs(d,f,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),m);break;case"z":case"Z":d=r,f=t;break}(y=="M"||y=="m")&&(r=d,t=f)}}})()},31725:u=>{var x={};u.exports=x,function(){x.create=function(e,l){return{x:e||0,y:l||0}},x.clone=function(e){return{x:e.x,y:e.y}},x.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},x.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},x.rotate=function(e,l,p){var a=Math.cos(l),s=Math.sin(l);p||(p={});var r=e.x*a-e.y*s;return p.y=e.x*s+e.y*a,p.x=r,p},x.rotateAbout=function(e,l,p,a){var s=Math.cos(l),r=Math.sin(l);a||(a={});var t=p.x+((e.x-p.x)*s-(e.y-p.y)*r);return a.y=p.y+((e.x-p.x)*r+(e.y-p.y)*s),a.x=t,a},x.normalise=function(e){var l=x.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},x.dot=function(e,l){return e.x*l.x+e.y*l.y},x.cross=function(e,l){return e.x*l.y-e.y*l.x},x.cross3=function(e,l,p){return(l.x-e.x)*(p.y-e.y)-(l.y-e.y)*(p.x-e.x)},x.add=function(e,l,p){return p||(p={}),p.x=e.x+l.x,p.y=e.y+l.y,p},x.sub=function(e,l,p){return p||(p={}),p.x=e.x-l.x,p.y=e.y-l.y,p},x.mult=function(e,l){return{x:e.x*l,y:e.y*l}},x.div=function(e,l){return{x:e.x/l,y:e.y/l}},x.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},x.neg=function(e){return{x:-e.x,y:-e.y}},x.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(u,x,e)=>{var l={};u.exports=l;var p=e(31725),a=e(53402);(function(){l.create=function(s,r){for(var t=[],n=0;n<s.length;n++){var h=s[n],i={x:h.x,y:h.y,index:n,body:r,isInternal:!1};t.push(i)}return t},l.fromPath=function(s,r){var t=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return s.replace(t,function(h,i,o){n.push({x:parseFloat(i),y:parseFloat(o)})}),l.create(n,r)},l.centre=function(s){for(var r=l.area(s,!0),t={x:0,y:0},n,h,i,o=0;o<s.length;o++)i=(o+1)%s.length,n=p.cross(s[o],s[i]),h=p.mult(p.add(s[o],s[i]),n),t=p.add(t,h);return p.div(t,6*r)},l.mean=function(s){for(var r={x:0,y:0},t=0;t<s.length;t++)r.x+=s[t].x,r.y+=s[t].y;return p.div(r,s.length)},l.area=function(s,r){for(var t=0,n=s.length-1,h=0;h<s.length;h++)t+=(s[n].x-s[h].x)*(s[n].y+s[h].y),n=h;return r?t/2:Math.abs(t)/2},l.inertia=function(s,r){for(var t=0,n=0,h=s,i,o,c=0;c<h.length;c++)o=(c+1)%h.length,i=Math.abs(p.cross(h[o],h[c])),t+=i*(p.dot(h[o],h[o])+p.dot(h[o],h[c])+p.dot(h[c],h[c])),n+=i;return r/6*(t/n)},l.translate=function(s,r,t){t=typeof t<"u"?t:1;var n=s.length,h=r.x*t,i=r.y*t,o;for(o=0;o<n;o++)s[o].x+=h,s[o].y+=i;return s},l.rotate=function(s,r,t){if(r!==0){var n=Math.cos(r),h=Math.sin(r),i=t.x,o=t.y,c=s.length,d,f,v,m;for(m=0;m<c;m++)d=s[m],f=d.x-i,v=d.y-o,d.x=i+(f*n-v*h),d.y=o+(f*h+v*n);return s}},l.contains=function(s,r){for(var t=r.x,n=r.y,h=s.length,i=s[h-1],o,c=0;c<h;c++){if(o=s[c],(t-i.x)*(o.y-i.y)+(n-i.y)*(i.x-o.x)>0)return!1;i=o}return!0},l.scale=function(s,r,t,n){if(r===1&&t===1)return s;n=n||l.centre(s);for(var h,i,o=0;o<s.length;o++)h=s[o],i=p.sub(h,n),s[o].x=n.x+i.x*r,s[o].y=n.y+i.y*t;return s},l.chamfer=function(s,r,t,n,h){typeof r=="number"?r=[r]:r=r||[8],t=typeof t<"u"?t:-1,n=n||2,h=h||14;for(var i=[],o=0;o<s.length;o++){var c=s[o-1>=0?o-1:s.length-1],d=s[o],f=s[(o+1)%s.length],v=r[o<r.length?o:r.length-1];if(v===0){i.push(d);continue}var m=p.normalise({x:d.y-c.y,y:c.x-d.x}),g=p.normalise({x:f.y-d.y,y:d.x-f.x}),y=Math.sqrt(2*Math.pow(v,2)),T=p.mult(a.clone(m),v),C=p.normalise(p.mult(p.add(m,g),.5)),E=p.sub(d,p.mult(C,y)),z=t;t===-1&&(z=Math.pow(v,.32)*1.75),z=a.clamp(z,n,h),z%2===1&&(z+=1);for(var D=Math.acos(p.dot(m,g)),A=D/z,L=0;L<z;L++)i.push(p.add(p.rotate(T,A*L),E))}return i},l.clockwiseSort=function(s){var r=l.mean(s);return s.sort(function(t,n){return p.angle(r,t)-p.angle(r,n)}),s},l.isConvex=function(s){var r=0,t=s.length,n,h,i,o;if(t<3)return null;for(n=0;n<t;n++)if(h=(n+1)%t,i=(n+2)%t,o=(s[h].x-s[n].x)*(s[i].y-s[h].y),o-=(s[h].y-s[n].y)*(s[i].x-s[h].x),o<0?r|=1:o>0&&(r|=2),r===3)return!1;return r!==0?!0:null},l.hull=function(s){var r=[],t=[],n,h;for(s=s.slice(0),s.sort(function(i,o){var c=i.x-o.x;return c!==0?c:i.y-o.y}),h=0;h<s.length;h+=1){for(n=s[h];t.length>=2&&p.cross3(t[t.length-2],t[t.length-1],n)<=0;)t.pop();t.push(n)}for(h=s.length-1;h>=0;h-=1){for(n=s[h];r.length>=2&&p.cross3(r[r.length-2],r[r.length-1],n)<=0;)r.pop();r.push(n)}return r.pop(),t.pop(),r.concat(t)}})()},55973:u=>{u.exports={decomp:D,quickDecomp:F,isSimple:L,removeCollinearPoints:V,removeDuplicatePoints:B,makeCCW:f};function x(I,H,O){O=O||0;var R=[0,0],Y,G,k,W,X,j,K;return Y=I[1][1]-I[0][1],G=I[0][0]-I[1][0],k=Y*I[0][0]+G*I[0][1],W=H[1][1]-H[0][1],X=H[0][0]-H[1][0],j=W*H[0][0]+X*H[0][1],K=Y*X-W*G,N(K,0,O)||(R[0]=(X*k-G*j)/K,R[1]=(Y*j-W*k)/K),R}function e(I,H,O,R){var Y=H[0]-I[0],G=H[1]-I[1],k=R[0]-O[0],W=R[1]-O[1];if(k*G-W*Y===0)return!1;var X=(Y*(O[1]-I[1])+G*(I[0]-O[0]))/(k*G-W*Y),j=(k*(I[1]-O[1])+W*(O[0]-I[0]))/(W*Y-k*G);return X>=0&&X<=1&&j>=0&&j<=1}function l(I,H,O){return(H[0]-I[0])*(O[1]-I[1])-(O[0]-I[0])*(H[1]-I[1])}function p(I,H,O){return l(I,H,O)>0}function a(I,H,O){return l(I,H,O)>=0}function s(I,H,O){return l(I,H,O)<0}function r(I,H,O){return l(I,H,O)<=0}var t=[],n=[];function h(I,H,O,R){if(R){var Y=t,G=n;Y[0]=H[0]-I[0],Y[1]=H[1]-I[1],G[0]=O[0]-H[0],G[1]=O[1]-H[1];var k=Y[0]*G[0]+Y[1]*G[1],W=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),X=Math.sqrt(G[0]*G[0]+G[1]*G[1]),j=Math.acos(k/(W*X));return j<R}else return l(I,H,O)===0}function i(I,H){var O=H[0]-I[0],R=H[1]-I[1];return O*O+R*R}function o(I,H){var O=I.length;return I[H<0?H%O+O:H%O]}function c(I){I.length=0}function d(I,H,O,R){for(var Y=O;Y<R;Y++)I.push(H[Y])}function f(I){for(var H=0,O=I,R=1;R<I.length;++R)(O[R][1]<O[H][1]||O[R][1]===O[H][1]&&O[R][0]>O[H][0])&&(H=R);return p(o(I,H-1),o(I,H),o(I,H+1))?!1:(v(I),!0)}function v(I){for(var H=[],O=I.length,R=0;R!==O;R++)H.push(I.pop());for(var R=0;R!==O;R++)I[R]=H[R]}function m(I,H){return s(o(I,H-1),o(I,H),o(I,H+1))}var g=[],y=[];function T(I,H,O){var R,Y,G=g,k=y;if(a(o(I,H+1),o(I,H),o(I,O))&&r(o(I,H-1),o(I,H),o(I,O)))return!1;Y=i(o(I,H),o(I,O));for(var W=0;W!==I.length;++W)if(!((W+1)%I.length===H||W===H)&&a(o(I,H),o(I,O),o(I,W+1))&&r(o(I,H),o(I,O),o(I,W))&&(G[0]=o(I,H),G[1]=o(I,O),k[0]=o(I,W),k[1]=o(I,W+1),R=x(G,k),i(o(I,H),R)<Y))return!1;return!0}function C(I,H,O){for(var R=0;R!==I.length;++R)if(!(R===H||R===O||(R+1)%I.length===H||(R+1)%I.length===O)&&e(o(I,H),o(I,O),o(I,R),o(I,R+1)))return!1;return!0}function E(I,H,O,R){var Y=R||[];if(c(Y),H<O)for(var G=H;G<=O;G++)Y.push(I[G]);else{for(var G=0;G<=O;G++)Y.push(I[G]);for(var G=H;G<I.length;G++)Y.push(I[G])}return Y}function z(I){for(var H=[],O=[],R=[],Y=[],G=Number.MAX_VALUE,k=0;k<I.length;++k)if(m(I,k)){for(var W=0;W<I.length;++W)if(T(I,k,W)){O=z(E(I,k,W,Y)),R=z(E(I,W,k,Y));for(var X=0;X<R.length;X++)O.push(R[X]);O.length<G&&(H=O,G=O.length,H.push([o(I,k),o(I,W)]))}}return H}function D(I){var H=z(I);return H.length>0?A(I,H):[I]}function A(I,H){if(H.length===0)return[I];if(H instanceof Array&&H.length&&H[0]instanceof Array&&H[0].length===2&&H[0][0]instanceof Array){for(var O=[I],R=0;R<H.length;R++)for(var Y=H[R],G=0;G<O.length;G++){var k=O[G],W=A(k,Y);if(W){O.splice(G,1),O.push(W[0],W[1]);break}}return O}else{var Y=H,R=I.indexOf(Y[0]),G=I.indexOf(Y[1]);return R!==-1&&G!==-1?[E(I,R,G),E(I,G,R)]:!1}}function L(I){var H=I,O;for(O=0;O<H.length-1;O++)for(var R=0;R<O-1;R++)if(e(H[O],H[O+1],H[R],H[R+1]))return!1;for(O=1;O<H.length-2;O++)if(e(H[0],H[H.length-1],H[O],H[O+1]))return!1;return!0}function b(I,H,O,R,Y){Y=Y||0;var G=H[1]-I[1],k=I[0]-H[0],W=G*I[0]+k*I[1],X=R[1]-O[1],j=O[0]-R[0],K=X*O[0]+j*O[1],$=G*j-X*k;return N($,0,Y)?[0,0]:[(j*W-k*K)/$,(G*K-X*W)/$]}function F(I,H,O,R,Y,G,k){G=G||100,k=k||0,Y=Y||25,H=typeof H<"u"?H:[],O=O||[],R=R||[];var W=[0,0],X=[0,0],j=[0,0],K=0,$=0,Z=0,J=0,Q=0,_=0,ae=0,oe=[],le=[],q=I,ie=I;if(ie.length<3)return H;if(k++,k>G)return console.warn("quickDecomp: max level ("+G+") reached."),H;for(var ne=0;ne<I.length;++ne)if(m(q,ne)){O.push(q[ne]),K=$=Number.MAX_VALUE;for(var fe=0;fe<I.length;++fe)p(o(q,ne-1),o(q,ne),o(q,fe))&&r(o(q,ne-1),o(q,ne),o(q,fe-1))&&(j=b(o(q,ne-1),o(q,ne),o(q,fe),o(q,fe-1)),s(o(q,ne+1),o(q,ne),j)&&(Z=i(q[ne],j),Z<$&&($=Z,X=j,_=fe))),p(o(q,ne+1),o(q,ne),o(q,fe+1))&&r(o(q,ne+1),o(q,ne),o(q,fe))&&(j=b(o(q,ne+1),o(q,ne),o(q,fe),o(q,fe+1)),p(o(q,ne-1),o(q,ne),j)&&(Z=i(q[ne],j),Z<K&&(K=Z,W=j,Q=fe)));if(_===(Q+1)%I.length)j[0]=(X[0]+W[0])/2,j[1]=(X[1]+W[1])/2,R.push(j),ne<Q?(d(oe,q,ne,Q+1),oe.push(j),le.push(j),_!==0&&d(le,q,_,q.length),d(le,q,0,ne+1)):(ne!==0&&d(oe,q,ne,q.length),d(oe,q,0,Q+1),oe.push(j),le.push(j),d(le,q,_,ne+1));else{if(_>Q&&(Q+=I.length),J=Number.MAX_VALUE,Q<_)return H;for(var fe=_;fe<=Q;++fe)a(o(q,ne-1),o(q,ne),o(q,fe))&&r(o(q,ne+1),o(q,ne),o(q,fe))&&(Z=i(o(q,ne),o(q,fe)),Z<J&&C(q,ne,fe)&&(J=Z,ae=fe%I.length));ne<ae?(d(oe,q,ne,ae+1),ae!==0&&d(le,q,ae,ie.length),d(le,q,0,ne+1)):(ne!==0&&d(oe,q,ne,ie.length),d(oe,q,0,ae+1),d(le,q,ae,ne+1))}return oe.length<le.length?(F(oe,H,O,R,Y,G,k),F(le,H,O,R,Y,G,k)):(F(le,H,O,R,Y,G,k),F(oe,H,O,R,Y,G,k)),H}return H.push(I),H}function V(I,H){for(var O=0,R=I.length-1;I.length>3&&R>=0;--R)h(o(I,R-1),o(I,R),o(I,R+1),H)&&(I.splice(R%I.length,1),O++);return O}function B(I,H){for(var O=I.length-1;O>=1;--O)for(var R=I[O],Y=O-1;Y>=0;--Y)if(U(R,I[Y],H)){I.splice(O,1);continue}}function N(I,H,O){return O=O||0,Math.abs(I-H)<=O}function U(I,H,O){return N(I[0],H[0],O)&&N(I[1],H[1],O)}},52018:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});u.exports=p},42363:u=>{var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};u.exports=x},37277:u=>{var x={},e={},l={};l.register=function(p,a,s,r){r===void 0&&(r=!1),x[p]={plugin:a,mapping:s,custom:r}},l.registerCustom=function(p,a,s,r){e[p]={plugin:a,mapping:s,data:r}},l.hasCore=function(p){return x.hasOwnProperty(p)},l.hasCustom=function(p){return e.hasOwnProperty(p)},l.getCore=function(p){return x[p]},l.getCustom=function(p){return e[p]},l.getCustomClass=function(p){return e.hasOwnProperty(p)?e[p].plugin:null},l.remove=function(p){x.hasOwnProperty(p)&&delete x[p]},l.removeCustom=function(p){e.hasOwnProperty(p)&&delete e[p]},l.destroyCorePlugins=function(){for(var p in x)x.hasOwnProperty(p)&&delete x[p]},l.destroyCustomPlugins=function(){for(var p in e)e.hasOwnProperty(p)&&delete e[p]},u.exports=l},77332:(u,x,e)=>{var l=e(83419),p=e(8443),a=e(50792),s=e(74099),r=e(44603),t=e(39429),n=e(95540),h=e(37277),i=e(72905),o=new l({Extends:a,initialize:function(d){a.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted?this.boot():d.events.once(p.BOOT,this.boot,this)},boot:function(){var c,d,f,v,m,g,y,T=this.game.config,C=T.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),c=0;c<C.length;c++)d=C[c],f=n(d,"key",null),v=n(d,"plugin",null),m=n(d,"start",!1),g=n(d,"mapping",null),y=n(d,"data",null),f&&(v?this.install(f,v,m,g,y):console.warn("Missing `plugin` for key: "+f));for(C=T.installScenePlugins,C=C.concat(this._pendingScene),c=0;c<C.length;c++)d=C[c],f=n(d,"key",null),v=n(d,"plugin",null),g=n(d,"mapping",null),f&&(v?this.installScenePlugin(f,v,g):console.warn("Missing `plugin` for key: "+f));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(c,d,f){var v,m,g,y=this.game,T=c.scene,C=c.settings.map,E=c.settings.isBooted;for(v=0;v<d.length;v++)m=d[v],y[m]?(c[m]=y[m],C.hasOwnProperty(m)&&(T[C[m]]=c[m])):m==="game"&&C.hasOwnProperty(m)&&(T[C[m]]=y);for(var z=0;z<f.length;z++)for(g=f[z],v=0;v<g.length;v++)if(m=g[v],!!h.hasCore(m)){var D=h.getCore(m),A=D.mapping,L=new D.plugin(T,this,A);c[A]=L,D.custom?T[A]=L:C.hasOwnProperty(A)&&(T[C[A]]=L),E&&L.boot()}for(g=this.plugins,v=0;v<g.length;v++){var b=g[v];b.mapping&&(T[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,d,f,v,m){if(m===void 0&&(m=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(h.hasCore(c)||h.register(c,d,f,!0),this.scenePlugins.indexOf(c)===-1)this.scenePlugins.push(c);else if(!m&&h.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(v){var g=new d(v,this,c);v.sys[c]=g,f&&f!==""&&(v[f]=g),g.boot()}},install:function(c,d,f,v,m){if(f===void 0&&(f=!1),v===void 0&&(v=null),m===void 0&&(m=null),typeof d!="function")return console.warn("Invalid Plugin: "+c),null;if(h.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(v!==null&&(f=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:d,start:f,mapping:v,data:m});else if(h.registerCustom(c,d,v,m),f)return this.start(c);return null},getIndex:function(c){for(var d=this.plugins,f=0;f<d.length;f++){var v=d[f];if(v.key===c)return f}return-1},getEntry:function(c){var d=this.getIndex(c);if(d!==-1)return this.plugins[d]},isActive:function(c){var d=this.getEntry(c);return d&&d.active},start:function(c,d){d===void 0&&(d=c);var f=this.getEntry(d);return f&&!f.active?(f.active=!0,f.plugin.start()):f||(f=this.createEntry(c,d)),f?f.plugin:null},createEntry:function(c,d){var f=h.getCustom(c);if(f){var v=new f.plugin(this);f={key:d,plugin:v,active:!0,mapping:f.mapping,data:f.data},this.plugins.push(f),v.init(f.data),v.start()}return f},stop:function(c){var d=this.getEntry(c);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(c,d){d===void 0&&(d=!0);var f=this.getEntry(c);if(f)return f.plugin;var v=this.getClass(c);return v&&d?(f=this.createEntry(c,c),f?f.plugin:null):v||null},getClass:function(c){return h.getCustomClass(c)},removeGlobalPlugin:function(c){var d=this.getEntry(c);d&&i(this.plugins,d),h.removeCustom(c)},removeScenePlugin:function(c){i(this.scenePlugins,c),h.remove(c)},registerGameObject:function(c,d,f){return d&&t.register(c,d),f&&r.register(c,f),this},removeGameObject:function(c,d,f){return d===void 0&&(d=!0),f===void 0&&(f=!0),d&&t.remove(c),f&&r.remove(c),this},registerFileType:function(c,d,f){s.register(c,d),f&&f.sys.load&&(f.sys.load[c]=d)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});u.exports=o},45145:(u,x,e)=>{var l=e(52018),p=e(83419),a=e(44594),s=new p({Extends:l,initialize:function(t,n,h){l.call(this,n),this.scene=t,this.systems=t.sys,this.pluginKey=h,t.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});u.exports=s},18922:(u,x,e)=>{u.exports={BasePlugin:e(52018),DefaultPlugins:e(42363),PluginCache:e(37277),PluginManager:e(77332),ScenePlugin:e(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(u){let x=performance.now(),e=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,p=(a,s)=>{let r=this.getVideoPlaybackQuality(),t=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(t>l){let n=this.mozFrameDelay||r.totalFrameDelay-e.totalFrameDelay||0,h=s-a;u(s,{presentationTime:s+n*1e3,expectedDisplayTime:s+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:t,processingDuration:n}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(n=>p(s,n))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(a=>p(x,a)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(u){cancelAnimationFrame(this._rvfcpolyfillmap[u]),delete this._rvfcpolyfillmap[u]})},10312:u=>{u.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:u=>{var x={DEFAULT:0,LINEAR:0,NEAREST:1};u.exports=x},68627:(u,x,e)=>{var l=e(19715),p=e(32880),a=e(83419),s=e(8054),r=e(50792),t=e(92503),n=e(56373),h=e(97480),i=e(69442),o=e(61340),c=new a({Extends:r,initialize:function(f){r.call(this);var v=f.config;this.config={clearBeforeRender:v.clearBeforeRender,backgroundColor:v.backgroundColor,antialias:v.antialias,roundPixels:v.roundPixels},this.game=f,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=f.canvas;var m={alpha:f.config.transparent,desynchronized:f.config.desynchronized,willReadFrequently:!1};this.gameContext=v.context?v.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=f.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var d=this.game,f=d.scale.baseSize;this.width=f.width,this.height=f.height,this.isBooted=!0,d.scale.on(h.RESIZE,this.onResize,this),this.resize(f.width,f.height)},onResize:function(d,f){(f.width!==this.width||f.height!==this.height)&&this.resize(f.width,f.height)},resize:function(d,f){this.width=d,this.height=f,this.emit(t.RESIZE,d,f)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,f=this.config,v=this.width,m=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),this.emit(t.PRE_RENDER_CLEAR),f.clearBeforeRender&&(d.clearRect(0,0,v,m),f.transparent||(d.fillStyle=f.backgroundColor.rgba,d.fillRect(0,0,v,m))),d.save(),this.drawCount=0,this.emit(t.PRE_RENDER)},render:function(d,f,v){var m=f.length;this.emit(t.RENDER,d,v);var g=v.x,y=v.y,T=v.width,C=v.height,E=v.renderToTexture?v.context:d.sys.context;E.save(),this.game.scene.customViewports&&(E.beginPath(),E.rect(g,y,T,C),E.clip()),v.emit(l.PRE_RENDER,v),this.currentContext=E;var z=v.mask;z&&z.preRenderCanvas(this,null,v._maskCamera),v.transparent||(E.fillStyle=v.backgroundColor.rgba,E.fillRect(g,y,T,C)),E.globalAlpha=v.alpha,E.globalCompositeOperation="source-over",this.drawCount+=m,v.renderToTexture&&v.emit(l.PRE_RENDER,v),v.matrix.copyToContext(E);for(var D=0;D<m;D++){var A=f[D];A.mask&&A.mask.preRenderCanvas(this,A,v),A.renderCanvas(this,A,v),A.mask&&A.mask.postRenderCanvas(this,A,v)}E.setTransform(1,0,0,1,0,0),E.globalCompositeOperation="source-over",E.globalAlpha=1,v.flashEffect.postRenderCanvas(E),v.fadeEffect.postRenderCanvas(E),v.dirty=!1,z&&z.postRenderCanvas(this),E.restore(),v.renderToTexture&&(v.emit(l.POST_RENDER,v),v.renderToGame&&d.sys.context.drawImage(v.canvas,g,y)),v.emit(l.POST_RENDER,v)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(t.POST_RENDER);var f=this.snapshotState;f.callback&&(p(this.gameCanvas,f),f.callback=null)},snapshotCanvas:function(d,f,v,m,g,y,T,C,E){v===void 0&&(v=!1),this.snapshotArea(m,g,y,T,f,C,E);var z=this.snapshotState;return z.getPixel=v,p(d,z),z.callback=null,this},snapshot:function(d,f,v){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,f,v)},snapshotArea:function(d,f,v,m,g,y,T){var C=this.snapshotState;return C.callback=g,C.type=y,C.encoder=T,C.getPixel=!1,C.x=d,C.y=f,C.width=Math.min(v,this.gameCanvas.width),C.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(d,f,v){return this.snapshotArea(d,f,1,1,v),this.snapshotState.getPixel=!0,this},batchSprite:function(d,f,v,m){var g=v.alpha*d.alpha;if(g!==0){var y=this.currentContext,T=this._tempMatrix1,C=this._tempMatrix2,E=f.canvasData,z=E.x,D=E.y,A=f.cutWidth,L=f.cutHeight,b=f.customPivot,F=f.source.resolution,V=d.displayOriginX,B=d.displayOriginY,N=-V+f.x,U=-B+f.y;if(d.isCropped){var I=d._crop;(I.flipX!==d.flipX||I.flipY!==d.flipY)&&f.updateCropUVs(I,d.flipX,d.flipY),A=I.cw,L=I.ch,z=I.cx,D=I.cy,N=-V+I.x,U=-B+I.y,d.flipX&&(N>=0?N=-(N+A):N<0&&(N=Math.abs(N)-A)),d.flipY&&(U>=0?U=-(U+L):U<0&&(U=Math.abs(U)-L))}var H=1,O=1;d.flipX&&(b||(N+=-f.realWidth+V*2),H=-1),d.flipY&&(b||(U+=-f.realHeight+B*2),O=-1);var R=d.x,Y=d.y;if(v.roundPixels&&(R=Math.floor(R),Y=Math.floor(Y)),C.applyITRS(R,Y,d.rotation,d.scaleX*H,d.scaleY*O),T.copyFrom(v.matrix),m?(T.multiplyWithOffset(m,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),C.e=R,C.f=Y):(C.e-=v.scrollX*d.scrollFactorX,C.f-=v.scrollY*d.scrollFactorY),T.multiply(C),v.renderRoundPixels&&(T.e=Math.floor(T.e+.5),T.f=Math.floor(T.f+.5)),y.save(),T.setToContext(y),y.globalCompositeOperation=this.blendModes[d.blendMode],y.globalAlpha=g,y.imageSmoothingEnabled=!f.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,v),A>0&&L>0){var G=A/F,k=L/F;v.roundPixels&&(N=Math.floor(N+.5),U=Math.floor(U+.5),G+=.5,k+=.5),y.drawImage(f.source.image,z,D,A,L,N,U,G,k)}d.mask&&d.mask.postRenderCanvas(this,d,v),y.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});u.exports=c},55830:(u,x,e)=>{u.exports={CanvasRenderer:e(68627),GetBlendModes:e(56373),SetTransform:e(20926)}},56373:(u,x,e)=>{var l=e(10312),p=e(89289),a=function(){var s=[],r=p.supportNewBlendModes,t="source-over";return s[l.NORMAL]=t,s[l.ADD]="lighter",s[l.MULTIPLY]=r?"multiply":t,s[l.SCREEN]=r?"screen":t,s[l.OVERLAY]=r?"overlay":t,s[l.DARKEN]=r?"darken":t,s[l.LIGHTEN]=r?"lighten":t,s[l.COLOR_DODGE]=r?"color-dodge":t,s[l.COLOR_BURN]=r?"color-burn":t,s[l.HARD_LIGHT]=r?"hard-light":t,s[l.SOFT_LIGHT]=r?"soft-light":t,s[l.DIFFERENCE]=r?"difference":t,s[l.EXCLUSION]=r?"exclusion":t,s[l.HUE]=r?"hue":t,s[l.SATURATION]=r?"saturation":t,s[l.COLOR]=r?"color":t,s[l.LUMINOSITY]=r?"luminosity":t,s[l.ERASE]="destination-out",s[l.SOURCE_IN]="source-in",s[l.SOURCE_OUT]="source-out",s[l.SOURCE_ATOP]="source-atop",s[l.DESTINATION_OVER]="destination-over",s[l.DESTINATION_IN]="destination-in",s[l.DESTINATION_OUT]="destination-out",s[l.DESTINATION_ATOP]="destination-atop",s[l.LIGHTER]="lighter",s[l.COPY]="copy",s[l.XOR]="xor",s};u.exports=a},20926:(u,x,e)=>{var l=e(91296),p=function(a,s,r,t,n){var h=t.alpha*r.alpha;if(h<=0)return!1;var i=l(r,t,n).calc;return s.globalCompositeOperation=a.blendModes[r.blendMode],s.globalAlpha=h,s.save(),i.setToContext(s),s.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:a.antialias,!0};u.exports=p},63899:u=>{u.exports="losewebgl"},6119:u=>{u.exports="postrender"},48070:u=>{u.exports="prerender"},15640:u=>{u.exports="render"},8912:u=>{u.exports="resize"},87124:u=>{u.exports="restorewebgl"},92503:(u,x,e)=>{u.exports={LOSE_WEBGL:e(63899),POST_RENDER:e(6119),PRE_RENDER:e(48070),RENDER:e(15640),RESIZE:e(8912),RESTORE_WEBGL:e(87124)}},36909:(u,x,e)=>{u.exports={Events:e(92503),Snapshot:e(89966)},u.exports.Canvas=e(55830),u.exports.WebGL=e(4159)},32880:(u,x,e)=>{var l=e(27919),p=e(40987),a=e(95540),s=function(r,t){var n=a(t,"callback"),h=a(t,"type","image/png"),i=a(t,"encoder",.92),o=Math.abs(Math.round(a(t,"x",0))),c=Math.abs(Math.round(a(t,"y",0))),d=Math.floor(a(t,"width",r.width)),f=Math.floor(a(t,"height",r.height)),v=a(t,"getPixel",!1);if(v){var m=r.getContext("2d",{willReadFrequently:!1}),g=m.getImageData(o,c,1,1),y=g.data;n.call(null,new p(y[0],y[1],y[2],y[3]))}else if(o!==0||c!==0||d!==r.width||f!==r.height){var T=l.createWebGL(this,d,f),C=T.getContext("2d",{willReadFrequently:!0});d>0&&f>0&&C.drawImage(r,o,c,d,f,0,0,d,f);var E=new Image;E.onerror=function(){n.call(null),l.remove(T)},E.onload=function(){n.call(null,E),l.remove(T)},E.src=T.toDataURL(h,i)}else{var z=new Image;z.onerror=function(){n.call(null)},z.onload=function(){n.call(null,z)},z.src=r.toDataURL(h,i)}};u.exports=s},88815:(u,x,e)=>{var l=e(27919),p=e(40987),a=e(95540),s=function(r,t){var n=r,h=a(t,"callback"),i=a(t,"type","image/png"),o=a(t,"encoder",.92),c=Math.abs(Math.round(a(t,"x",0))),d=Math.abs(Math.round(a(t,"y",0))),f=a(t,"getPixel",!1),v=a(t,"isFramebuffer",!1),m=v?a(t,"bufferWidth",1):n.drawingBufferWidth,g=v?a(t,"bufferHeight",1):n.drawingBufferHeight;if(f){var y=new Uint8Array(4),T=v?d:g-d;n.readPixels(c,T,1,1,n.RGBA,n.UNSIGNED_BYTE,y),h.call(null,new p(y[0],y[1],y[2],y[3]))}else{var C=Math.floor(a(t,"width",m)),E=Math.floor(a(t,"height",g)),z=C*E*4,D=new Uint8Array(z);n.readPixels(c,g-d-E,C,E,n.RGBA,n.UNSIGNED_BYTE,D);for(var A=l.createWebGL(this,C,E),L=A.getContext("2d",{willReadFrequently:!0}),b=L.getImageData(0,0,C,E),F=b.data,V=0;V<E;V++)for(var B=0;B<C;B++){var N=((E-V-1)*C+B)*4,U=v?z-(V*C+(C-B))*4:(V*C+B)*4;F[U+0]=D[N+0],F[U+1]=D[N+1],F[U+2]=D[N+2],F[U+3]=D[N+3]}L.putImageData(b,0,0);var I=new Image;I.onerror=function(){h.call(null),l.remove(A)},I.onload=function(){h.call(null,I),l.remove(A)},I.src=A.toDataURL(i,o)}};u.exports=s},89966:(u,x,e)=>{u.exports={Canvas:e(32880),WebGL:e(88815)}},7530:(u,x,e)=>{var l=e(83419),p=e(36060),a=e(90330),s=e(82264),r=e(95540),t=e(32302),n=e(63448),h=e(31302),i=e(58918),o=e(14811),c=e(92651),d=e(96569),f=e(56527),v=e(57516),m=e(43439),g=e(81041),y=e(12385),T=e(7589),C=e(95428),E=e(72905),z=new l({initialize:function(A){this.game=A.game,this.renderer=A,this.classes=new a([[p.UTILITY_PIPELINE,T],[p.MULTI_PIPELINE,v],[p.BITMAPMASK_PIPELINE,h],[p.SINGLE_PIPELINE,y],[p.ROPE_PIPELINE,g],[p.LIGHT_PIPELINE,d],[p.POINTLIGHT_PIPELINE,m],[p.MOBILE_PIPELINE,f]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,A,L){var b=this.renderer,F=this.renderTargets;this.frameInc=Math.floor(r(D,"frameInc",32));var V=b.width,B=b.height,N=this.game.config.disablePreFX,U=this.game.config.disablePostFX;if(U||this.postPipelineClasses.setAll([[String(o.BARREL),i.Barrel],[String(o.BLOOM),i.Bloom],[String(o.BLUR),i.Blur],[String(o.BOKEH),i.Bokeh],[String(o.CIRCLE),i.Circle],[String(o.COLOR_MATRIX),i.ColorMatrix],[String(o.DISPLACEMENT),i.Displacement],[String(o.GLOW),i.Glow],[String(o.GRADIENT),i.Gradient],[String(o.PIXELATE),i.Pixelate],[String(o.SHADOW),i.Shadow],[String(o.SHINE),i.Shine],[String(o.VIGNETTE),i.Vignette],[String(o.WIPE),i.Wipe]]),!N){this.classes.set(p.FX_PIPELINE,c);for(var I=Math.min(V,B),H=Math.ceil(I/this.frameInc),O=1;O<H;O++){var R=O*this.frameInc;F.push(new t(b,R,R)),F.push(new t(b,R,R)),F.push(new t(b,R,R)),this.maxDimension=R}F.push(new t(b,V,B,1,0,!0,!0)),F.push(new t(b,V,B,1,0,!0,!0)),F.push(new t(b,V,B,1,0,!0,!0))}var Y,G,k=this,W=this.game;if(this.classes.each(function(j,K){Y=k.add(j,new K({game:W})),j===p.UTILITY_PIPELINE&&(k.UTILITY_PIPELINE=Y,k.fullFrame1=Y.fullFrame1,k.fullFrame2=Y.fullFrame2,k.halfFrame1=Y.halfFrame1,k.halfFrame2=Y.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),N||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),D)for(G in D){var X=D[G];Y=new X(W),Y.name=G,Y.isPostFX?this.postPipelineClasses.set(G,X):this.has(G)||(this.classes.set(G,X),this.add(G,Y))}this.default=this.get(A),L&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var A=this.get(D);return A&&(this.default=A),A},add:function(D,A){if(A.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,b=this.renderer;return L.has(D)?console.warn("Pipeline exists: "+D):(A.name=D,A.manager=this,L.set(D,A)),A.hasBooted||A.boot(),b.width!==0&&b.height!==0&&!A.isPreFX&&A.resize(b.width,b.height),A},addPostPipeline:function(D,A){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,A)},flush:function(){this.current&&this.current.flush()},has:function(D){var A=this.pipelines;return typeof D=="string"?A.has(D):!!A.contains(D)},get:function(D){var A=this.pipelines;if(typeof D=="string")return A.get(D);if(A.contains(D))return D},getPostPipeline:function(D,A,L){var b=this.postPipelineClasses,F,V="",B=typeof D;if(B==="string"||B==="number"?(F=b.get(D),V=D):B==="function"?(b.contains(D)&&(F=D),V=D.name):B==="object"&&(F=b.get(D.name),V=D.name),F){var N=new F(this.game,L);return N.name=V,A&&(N.gameObject=A),this.postPipelineInstances.push(N),N}},removePostPipeline:function(D){E(this.postPipelineInstances,D)},remove:function(D,A,L){A===void 0&&(A=!0),L===void 0&&(L=!0),this.pipelines.delete(D),A&&this.classes.delete(D),L&&this.postPipelineClasses.delete(D)},set:function(D,A,L){if(!D.isPostFX)return this.isCurrent(D,L)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(L)),D.updateProjectionMatrix(),D.onBind(A),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=A.length-1;L>=0;L--){var b=A[L];b.active&&b.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=0;L<A.length;L++){var b=A[L];b.active&&b.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=A.length-1;L>=0;L--){var b=A[L];b.active&&b.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=0;L<A.length;L++){var b=A[L];b.active&&b.postBatch(D)}}},isCurrent:function(D,A){var L=this.renderer,b=this.current;return b&&!A&&(A=b.currentShader),!(b!==D||A.program!==L.currentProgram)},copyFrame:function(D,A,L,b,F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,A,L,b,F),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,A,L,b){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,A,L,b),this},blendFrames:function(D,A,L,b,F){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,A,L,b,F),this},blendFramesAdditive:function(D,A,L,b,F){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,A,L,b,F),this},clearFrame:function(D,A){return this.UTILITY_PIPELINE.clearFrame(D,A),this},blitFrame:function(D,A,L,b,F,V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,A,L,b,F,V),this},copyFrameRect:function(D,A,L,b,F,V,B,N){return this.UTILITY_PIPELINE.copyFrameRect(D,A,L,b,F,V,B,N),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,A){A.restoreContext()}),C(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var A=this.renderer,L=A.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),A.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,A.width,A.height),A.currentProgram=null,A.setBlendMode(0,!0);var b=A.vaoExtension;b&&b.bindVertexArrayOES(null);var F=this.pipelines.entries;for(var V in F)F[V].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var A=D.vaoExtension;A&&A.bindVertexArrayOES(null)},getRenderTarget:function(D){var A=this.renderTargets,L=3;if(D>this.maxDimension)return this.targetIndex=A.length-L,A[this.targetIndex];var b=(n(D,this.frameInc,0,!0)-1)*L;return this.targetIndex=b,A[b]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});u.exports=z},32302:(u,x,e)=>{var l=e(83419),p=e(92503),a=new l({initialize:function(r,t,n,h,i,o,c,d,f){h===void 0&&(h=1),i===void 0&&(i=0),o===void 0&&(o=!0),c===void 0&&(c=!1),d===void 0&&(d=!0),f===void 0&&(f=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=i,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=f,this.init(t,n),c?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(s,r){var t=this.renderer;this.texture=t.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=t.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){if(this.autoResize&&this.willResize(s,r)){var t=this.renderer;t.deleteFramebuffer(this.framebuffer),t.deleteTexture(this.texture),this.texture=t.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=t.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r}return this},willResize:function(s,r){return typeof s!="number"||typeof r!="number"?!1:(s=Math.round(s*this.scale),r=Math.round(r*this.scale),s=Math.max(s,1),r=Math.max(r,1),s!==this.width||r!==this.height)},bind:function(s,r,t){s===void 0&&(s=!1);var n=this.renderer;if(s&&n.flush(),r&&t&&this.resize(r,t),n.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(s,r,t,n){var h=this.renderer,i=h.gl;h.pushFramebuffer(this.framebuffer),s!==void 0&&r!==void 0&&t!==void 0&&n!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(s,r,t,n)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),h.popFramebuffer(),h.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.off(p.RESIZE,this.resize,this),s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});u.exports=a},70554:u=>{u.exports={getTintFromFloats:function(x,e,l,p){var a=(x*255|0)&255,s=(e*255|0)&255,r=(l*255|0)&255,t=(p*255|0)&255;return(t<<24|a<<16|s<<8|r)>>>0},getTintAppendFloatAlpha:function(x,e){var l=(e*255|0)&255;return(l<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,e){var l=(x>>16|0)&255,p=(x>>8|0)&255,a=(x|0)&255,s=(e*255|0)&255;return(s<<24|a<<16|p<<8|l)>>>0},getFloatsFromUintRGB:function(x){var e=(x>>16|0)&255,l=(x>>8|0)&255,p=(x|0)&255;return[e/255,l/255,p/255]},checkShaderMax:function(x,e){var l=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?l:Math.min(l,e)},parseFragmentShaderMaxTextures:function(x,e){if(!x)return"";for(var l="",p=0;p<e;p++)p>0&&(l+=`
	else `),p<e-1&&(l+="if (outTexId < "+p+".5)"),l+=`
	{`,l+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",l+=`
	}`;return x=x.replace(/%count%/gi,e.toString()),x.replace(/%forloop%/gi,l)},setGlowQuality:function(x,e,l,p){return l===void 0&&(l=e.config.glowFXQuality),p===void 0&&(p=e.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/l/p).toFixed(7)),x=x.replace(/__DIST__/gi,p.toFixed(0)+".0"),x}}},29100:(u,x,e)=>{var l=e(83419),p=e(62644),a=e(50792),s=e(77085),r=e(95540),t=e(37867),n=e(92503),h=e(32302),i=e(70554),o=e(38683),c=new l({Extends:a,initialize:function(f){a.call(this);var v=f.game,m=v.renderer,g=m.gl;this.name=r(f,"name","WebGLPipeline"),this.game=v,this.renderer=m,this.manager,this.gl=g,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(f,"topology",g.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(f,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=f,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=r(f,"resizeUniform","")},boot:function(){var d,f=this.gl,v=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new t().identity());var g=this.renderTargets,y=r(v,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var T=m.width,C=m.height;if(typeof y=="number")for(d=0;d<y;d++)g.push(new h(m,T,C,1,0,!0));else if(Array.isArray(y))for(d=0;d<y.length;d++){var E=r(y[d],"scale",1),z=r(y[d],"minFilter",0),D=r(y[d],"autoClear",1),A=r(y[d],"autoResize",!1),L=r(y[d],"width",null),b=r(y[d],"height",L);L?g.push(new h(m,L,b,1,z,D,A)):g.push(new h(m,T,C,E,z,D,A))}g.length&&(this.currentRenderTarget=g[0]),this.setShadersFromConfig(v);var F=this.shaders,V=0;for(d=0;d<F.length;d++)F[d].vertexSize>V&&(V=F[d].vertexSize);var B=r(v,"batchSize",m.config.batchSize);this.vertexCapacity=B*6;var N=new ArrayBuffer(this.vertexCapacity*V);this.vertexData=N,this.bytes=new Uint8Array(N),this.vertexViewF32=new Float32Array(N),this.vertexViewU32=new Uint32Array(N);var U=r(v,"vertices",null);for(U?(this.vertexViewF32.set(U),this.vertexBuffer=m.createVertexBuffer(N,f.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(N.byteLength,f.DYNAMIC_DRAW),this.setVertexBuffer(),d=F.length-1;d>=0;d--)F[d].rebind();this.hasBooted=!0,m.on(n.RESIZE,this.resize,this),m.on(n.PRE_RENDER,this.onPreRender,this),m.on(n.RENDER,this.onRender,this),m.on(n.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,f,v){var m=this.renderer;if(d!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var g=this.setVertexBuffer(v);g&&!f&&(f=!0),d.bind(f,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var f=this.shaders,v=0;v<f.length;v++)if(f[v].name===d)return f[v]},setShadersFromConfig:function(d){var f,v=this.shaders,m=this.renderer;for(f=0;f<v.length;f++)v[f].destroy();var g="vertShader",y="fragShader",T="attributes",C=r(d,g,null),E=i.parseFragmentShaderMaxTextures(r(d,y,null),m.maxTextures),z=r(d,T,null),D=r(d,"shaders",[]),A=D.length;if(A===0)C&&E&&(this.shaders=[new o(this,"default",C,E,p(z))]);else{var L=[];for(f=0;f<A;f++){var b=D[f],F,V,B,N;if(typeof b=="string"?(F="default",V=C,B=i.parseFragmentShaderMaxTextures(b,m.maxTextures),N=z):(F=r(b,"name","default"),V=r(b,g,C),B=i.parseFragmentShaderMaxTextures(r(b,y,E),m.maxTextures),N=r(b,T,z)),F==="default"){var U=B.split(`
`),I=U[0].trim();I.indexOf("#define SHADER_NAME")>-1&&(F=I.substring(20))}V&&B&&L.push(new o(this,F,V,B,p(N)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var f=this.currentBatch;f&&(f.texture.push(d),f.unit++,f.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var f=this.currentBatch,v=f.texture.indexOf(d);return v===-1?f.texture.length===this.renderer.maxTextures?this.createBatch(d):(f.unit++,f.maxUnit++,f.texture.push(d),this.currentUnit=f.unit,this.currentTexture=d,f.unit):(this.currentUnit=v,this.currentTexture=d,v)},setGameObject:function(d,f){return f===void 0&&(f=d.frame),this.pushBatch(f.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,f){(d!==this.width||f!==this.height)&&this.flush(),this.width=d,this.height=f;for(var v=this.renderTargets,m=0;m<v.length;m++)v[m].resize(d,f);return this.setProjectionMatrix(d,f),this.resizeUniform&&this.set2f(this.resizeUniform,d,f),this.emit(s.RESIZE,d,f,this),this.onResize(d,f),this},setProjectionMatrix:function(d,f){var v=this.projectionMatrix;if(!v)return this;this.projectionWidth=d,this.projectionHeight=f,v.ortho(0,d,f,0,-1e3,1e3);for(var m=this.shaders,g="uProjectionMatrix",y=0;y<m.length;y++){var T=m[y];T.hasUniform(g)&&(T.resetUniform(g),T.setMatrix4fv(g,!1,v.val,T))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var f=this.projectionMatrix;if(!f)return this;var v=this.projectionWidth,m=this.projectionHeight;d?f.ortho(0,v,0,m,-1e3,1e3):f.ortho(0,v,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,f.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,f=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==f)&&this.setProjectionMatrix(d,f)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var f=!1,v=this.gl;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(v.bindBuffer(v.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,f=!0),d.bind(f),this.currentShader=d,this.activeTextures.length=0,this.emit(s.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var f=this.shaders,v=f.length-1;v>=0;v--){var m=f[v].rebind();(!d||m===d)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,f=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,f&&this.setVertexBuffer();for(var v=0;v<d.length;v++){var m=d[v];m.syncUniforms(),f&&m.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var f=this.gl;return this.gl.bindBuffer(f.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var f=this.gl,v=this.vertexCount,m=this.currentShader.vertexSize,g=this.topology;if(this.active){this.setVertexBuffer(),v===this.vertexCapacity?f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.DYNAMIC_DRAW):f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,v*m));var y,T,C,E=this.batch,z=this.activeTextures;if(this.forceZero)for(z[0]||f.activeTexture(f.TEXTURE0),y=0;y<E.length;y++)T=E[y],C=T.texture[0],z[0]!==C&&(f.bindTexture(f.TEXTURE_2D,C.webGLTexture),z[0]=C),f.drawArrays(g,T.start,T.count);else for(y=0;y<E.length;y++){T=E[y];for(var D=0;D<=T.maxUnit;D++)C=T.texture[D],z[D]!==C&&(f.activeTexture(f.TEXTURE0+D),f.bindTexture(f.TEXTURE_2D,C.webGLTexture),z[D]=C);f.drawArrays(g,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,f,v,m,g,y,T){var C=this.vertexViewF32,E=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++z]=d,C[++z]=f,C[++z]=v,C[++z]=m,C[++z]=g,C[++z]=y,E[++z]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I){I===void 0&&(I=this.currentUnit);var H=!1;this.shouldFlush(6)&&(this.flush(),H=!0),this.currentBatch||(I=this.setTexture2D(U));var O=this.vertexViewF32,R=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++Y]=f,O[++Y]=v,O[++Y]=z,O[++Y]=D,O[++Y]=I,O[++Y]=N,R[++Y]=b,O[++Y]=m,O[++Y]=g,O[++Y]=z,O[++Y]=L,O[++Y]=I,O[++Y]=N,R[++Y]=V,O[++Y]=y,O[++Y]=T,O[++Y]=A,O[++Y]=L,O[++Y]=I,O[++Y]=N,R[++Y]=B,O[++Y]=f,O[++Y]=v,O[++Y]=z,O[++Y]=D,O[++Y]=I,O[++Y]=N,R[++Y]=b,O[++Y]=y,O[++Y]=T,O[++Y]=A,O[++Y]=L,O[++Y]=I,O[++Y]=N,R[++Y]=B,O[++Y]=C,O[++Y]=E,O[++Y]=A,O[++Y]=D,O[++Y]=I,O[++Y]=N,R[++Y]=F,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),H},batchTri:function(d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B){B===void 0&&(B=this.currentUnit);var N=!1;this.shouldFlush(3)&&(this.flush(),N=!0),this.currentBatch||(B=this.setTexture2D(V));var U=this.vertexViewF32,I=this.vertexViewU32,H=this.vertexCount*this.currentShader.vertexComponentCount-1;return U[++H]=f,U[++H]=v,U[++H]=C,U[++H]=E,U[++H]=B,U[++H]=F,I[++H]=A,U[++H]=m,U[++H]=g,U[++H]=C,U[++H]=D,U[++H]=B,U[++H]=F,I[++H]=L,U[++H]=y,U[++H]=T,U[++H]=z,U[++H]=D,U[++H]=B,U[++H]=F,I[++H]=b,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),N},drawFillRect:function(d,f,v,m,g,y,T,C){T===void 0&&(T=this.renderer.whiteTexture),C===void 0&&(C=!0),d=Math.floor(d),f=Math.floor(f);var E=Math.floor(d+v),z=Math.floor(f+m),D=this.setTexture2D(T),A=i.getTintAppendFloatAlphaAndSwap(g,y),L=0,b=0,F=1,V=1;C&&(b=1,V=0),this.batchQuad(null,d,f,d,z,E,z,E,f,L,b,F,V,A,A,A,A,0,T,D)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,f){f===void 0&&(f=0);var v=this.gl;return v.activeTexture(v.TEXTURE0+f),v.bindTexture(v.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,f){return this.bindTexture(d.texture,f)},setTime:function(d,f){return this.set1f(d,this.game.loop.getDuration(),f),this},setBoolean:function(d,f,v){return v===void 0&&(v=this.currentShader),v.setBoolean(d,f),this},set1f:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1f(d,f),this},set2f:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.set2f(d,f,v),this},set3f:function(d,f,v,m,g){return g===void 0&&(g=this.currentShader),g.set3f(d,f,v,m),this},set4f:function(d,f,v,m,g,y){return y===void 0&&(y=this.currentShader),y.set4f(d,f,v,m,g),this},set1fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1fv(d,f),this},set2fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set2fv(d,f),this},set3fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set3fv(d,f),this},set4fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set4fv(d,f),this},set1iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1iv(d,f),this},set2iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set2iv(d,f),this},set3iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set3iv(d,f),this},set4iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set4iv(d,f),this},set1i:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1i(d,f),this},set2i:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.set2i(d,f,v),this},set3i:function(d,f,v,m,g){return g===void 0&&(g=this.currentShader),g.set3i(d,f,v,m),this},set4i:function(d,f,v,m,g,y){return y===void 0&&(y=this.currentShader),y.set4i(d,f,v,m,g),this},setMatrix2fv:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(d,f,v),this},setMatrix3fv:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(d,f,v),this},setMatrix4fv:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(d,f,v),this},destroy:function(){this.emit(s.DESTROY,this);var d,f=this.shaders;for(d=0;d<f.length;d++)f[d].destroy();var v=this.renderTargets;for(d=0;d<v.length;d++)v[d].destroy();var m=this.renderer;return m.deleteBuffer(this.vertexBuffer),m.off(n.RESIZE,this.resize,this),m.off(n.PRE_RENDER,this.onPreRender,this),m.off(n.RENDER,this.onRender,this),m.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});u.exports=c},74797:(u,x,e)=>{var l=e(95428),p=e(72905),a=e(19715),s=e(83419),r=e(8054),t=e(50792),n=e(92503),h=e(50030),i=e(37867),o=e(29747),c=e(7530),d=e(32302),f=e(97480),v=e(69442),m=e(70554),g=e(88815),y=e(26128),T=e(1482),C=e(82751),E=e(84387),z=e(93567),D=e(57183),A=!1;if(0)var L;var b=new s({Extends:t,initialize:function(V){t.call(this);var B=V.config,N={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:N,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=V,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=V.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=o,this.contextRestoredHandler=o,this.previousContextLostHandler=o,this.previousContextRestoredHandler=o,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(F){var V,B=this.game,N=this.canvas,U=F.backgroundColor;if(A&&(this.spector=new L.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),B.config.context?V=B.config.context:V=N.getContext("webgl",F.contextCreation)||N.getContext("experimental-webgl",F.contextCreation),!V||V.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=V,this.setExtensions(),this.setContextHandlers(),B.context=V;for(var I=0;I<=27;I++)this.blendModes.push({func:[V.ONE,V.ONE_MINUS_SRC_ALPHA],equation:V.FUNC_ADD});this.blendModes[1].func=[V.ONE,V.DST_ALPHA],this.blendModes[2].func=[V.DST_COLOR,V.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[V.ONE,V.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[V.ZERO,V.ONE_MINUS_SRC_ALPHA],equation:V.FUNC_REVERSE_SUBTRACT},this.glFormats=[V.BYTE,V.SHORT,V.UNSIGNED_BYTE,V.UNSIGNED_SHORT,V.FLOAT],this.glFuncMap={mat2:{func:V.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:V.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:V.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:V.uniform1f,length:1},"1fv":{func:V.uniform1fv,length:1},"1i":{func:V.uniform1i,length:1},"1iv":{func:V.uniform1iv,length:1},"2f":{func:V.uniform2f,length:2},"2fv":{func:V.uniform2fv,length:1},"2i":{func:V.uniform2i,length:2},"2iv":{func:V.uniform2iv,length:1},"3f":{func:V.uniform3f,length:3},"3fv":{func:V.uniform3fv,length:1},"3i":{func:V.uniform3i,length:3},"3iv":{func:V.uniform3iv,length:1},"4f":{func:V.uniform4f,length:4},"4fv":{func:V.uniform4fv,length:1},"4i":{func:V.uniform4i,length:4},"4iv":{func:V.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=V.getParameter(V.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=V.getParameter(V.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),V.disable(V.DEPTH_TEST),V.disable(V.CULL_FACE),V.enable(V.BLEND),V.clearColor(U.redGL,U.greenGL,U.blueGL,U.alphaGL);var H=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return H.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=V[F.mipmapFilter]),this.maxTextures=m.checkShaderMax(V,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new c(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),B.textures.once(v.READY,this.boot,this),this},boot:function(){var F=this.game,V=this.pipelines,B=F.scale.baseSize,N=B.width,U=B.height;this.width=N,this.height=U,this.isBooted=!0,this.renderTarget=new d(this,N,U,1,0,!0,!0),this.maskTarget=new d(this,N,U,1,0,!0,!0),this.maskSource=new d(this,N,U,1,0,!0,!0);var I=F.config;V.boot(I.pipeline,I.defaultPipeline,I.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),F.scale.on(f.RESIZE,this.onResize,this),this.resize(N,U)},setExtensions:function(){var F=this.gl,V=F.getSupportedExtensions();this.supportedExtensions=V;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=V.indexOf(B)>-1?F.getExtension(B):null;var N="OES_vertex_array_object";this.vaoExtension=V.indexOf(N)>-1?F.getExtension(N):null},setContextHandlers:function(F,V){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof V=="function"?this.contextRestoredHandler=V.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),F.preventDefault()},dispatchContextRestored:function(F){var V=this.gl;if(V.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(r.BlendModes.NORMAL),V.disable(V.BLEND),V.disable(V.DEPTH_TEST),V.enable(V.CULL_FACE),this.compression=this.getCompressedTextures();var B=function(N){N.createResource()};l(this.glTextureWrappers,B),l(this.glBufferWrappers,B),l(this.glFramebufferWrappers,B),l(this.glProgramWrappers,B),l(this.glAttribLocationWrappers,B),l(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),F.preventDefault()},createTemporaryTextures:function(){for(var F=this.gl,V=0;V<this.maxTextures;V++){var B=F.createTexture();F.activeTexture(F.TEXTURE0+V),F.bindTexture(F.TEXTURE_2D,B),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(V)}},captureFrame:function(F,V){F===void 0&&(F=!1),V===void 0&&(V=!1),A&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,F,V),this._debugCapture=!0)},captureNextFrame:function(){A&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(A&&this.spector)return this.spector.getFps()},log:function(){if(A&&this.spector){var F=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(F)}},startCapture:function(F,V,B){F===void 0&&(F=0),V===void 0&&(V=!1),B===void 0&&(B=!1),A&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,F,V,B),this._debugCapture=!0)},stopCapture:function(){if(A&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(F){if(A){var V=this.spector.getResultUI();V.display(F),this._debugCapture=!1}},onResize:function(F,V){(V.width!==this.width||V.height!==this.height)&&this.resize(V.width,V.height)},beginCapture:function(F,V){F===void 0&&(F=this.width),V===void 0&&(V=this.height),this.renderTarget.bind(!0,F,V),this.setProjectionMatrix(F,V)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(F,V){var B=this.gl;return this.width=F,this.height=V,this.setProjectionMatrix(F,V),B.viewport(0,0,F,V),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-V,F,V),this.defaultScissor[2]=F,this.defaultScissor[3]=V,this.emit(n.RESIZE,F,V),this},getCompressedTextures:function(){var F="WEBGL_compressed_texture_",V="WEBKIT_"+F,B="EXT_texture_compression_",N=function(I,H){var O=I.getExtension(F+H)||I.getExtension(V+H)||I.getExtension(B+H);if(O){var R={};for(var Y in O)R[O[Y]]=Y;return R}},U=this.gl;return{ETC:N(U,"etc"),ETC1:N(U,"etc1"),ATC:N(U,"atc"),ASTC:N(U,"astc"),BPTC:N(U,"bptc"),RGTC:N(U,"rgtc"),PVRTC:N(U,"pvrtc"),S3TC:N(U,"s3tc"),S3TCSRGB:N(U,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(F,V){var B=this.compression[F.toUpperCase()];if(V in B)return B[V]},supportsCompressedTexture:function(F,V){var B=this.compression[F.toUpperCase()];return B?V?V in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(F,V){return(F!==this.projectionWidth||V!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=V,this.projectionMatrix.ortho(0,F,V,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},getExtension:function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},flush:function(){this.pipelines.flush()},pushScissor:function(F,V,B,N,U){U===void 0&&(U=this.drawingBufferHeight);var I=this.scissorStack,H=[F,V,B,N];return I.push(H),this.setScissor(F,V,B,N,U),this.currentScissor=H,H},setScissor:function(F,V,B,N,U){U===void 0&&(U=this.drawingBufferHeight);var I=this.gl,H=this.currentScissor,O=B>0&&N>0;if(H&&O){var R=H[0],Y=H[1],G=H[2],k=H[3];O=R!==F||Y!==V||G!==B||k!==N}O&&(this.flush(),I.scissor(F,U-V-N,B,N))},resetScissor:function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var V=this.currentScissor;if(V){var B=V[0],N=V[1],U=V[2],I=V[3];U>0&&I>0&&F.scissor(B,this.drawingBufferHeight-N-I,U,I)}},popScissor:function(){var F=this.scissorStack;F.pop();var V=F[F.length-1];V&&this.setScissor(V[0],V[1],V[2],V[3]),this.currentScissor=V},hasActiveStencilMask:function(){var F=this.currentMask.mask,V=this.currentCameraMask.mask;return F&&F.isStencil||V&&V.isStencil},resetViewport:function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},setBlendMode:function(F,V){V===void 0&&(V=!1);var B=this.gl,N=this.blendModes[F];return V||F!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),B.enable(B.BLEND),B.blendEquation(N.equation),N.func.length>2?B.blendFuncSeparate(N.func[0],N.func[1],N.func[2],N.func[3]):B.blendFunc(N.func[0],N.func[1]),this.currentBlendMode=F,!0):!1},addBlendMode:function(F,V){var B=this.blendModes.push({func:F,equation:V});return B-1},updateBlendMode:function(F,V,B){return this.blendModes[F]&&(this.blendModes[F].func=V,B&&(this.blendModes[F].equation=B)),this},removeBlendMode:function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},pushFramebuffer:function(F,V,B,N,U){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,V,B,N,U))},setFramebuffer:function(F,V,B,N,U){if(V===void 0&&(V=!1),B===void 0&&(B=!0),N===void 0&&(N=null),U===void 0&&(U=!1),F===this.currentFramebuffer)return this;var I=this.gl,H=this.width,O=this.height;return F&&F.renderTexture&&B?(H=F.renderTexture.width,O=F.renderTexture.height):this.flush(),F?I.bindFramebuffer(I.FRAMEBUFFER,F.webGLFramebuffer):I.bindFramebuffer(I.FRAMEBUFFER,null),B&&I.viewport(0,0,H,O),N&&I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,N.webGLTexture,0),U&&(I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT)),V&&(F?(this.drawingBufferHeight=O,this.pushScissor(0,0,H,O)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},popFramebuffer:function(F,V){F===void 0&&(F=!1),V===void 0&&(V=!0);var B=this.fboStack;B.pop();var N=B[B.length-1];return N||(N=null),this.setFramebuffer(N,F,V),N},restoreFramebuffer:function(F,V){F===void 0&&(F=!1),V===void 0&&(V=!0);var B=this.fboStack,N=B[B.length-1];N||(N=null),this.currentFramebuffer=null,this.setFramebuffer(N,F,V)},setProgram:function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(F,V,B,N,U){U===void 0&&(U=!1);var I=this.gl,H=I.NEAREST,O=I.NEAREST,R=I.CLAMP_TO_EDGE,Y=null;V=F?F.width:V,B=F?F.height:B;var G=h(V,B);if(G&&!U&&(R=I.REPEAT),N===r.ScaleModes.LINEAR&&this.config.antialias){var k=F&&F.compressed,W=!k&&G||k&&F.mipmaps.length>1;H=this.mipmapFilter&&W?this.mipmapFilter:I.LINEAR,O=I.LINEAR}return!F&&typeof V=="number"&&typeof B=="number"?Y=this.createTexture2D(0,H,O,R,R,I.RGBA,null,V,B):Y=this.createTexture2D(0,H,O,R,R,I.RGBA,F),Y},createTexture2D:function(F,V,B,N,U,I,H,O,R,Y,G,k){typeof O!="number"&&(O=H?H.width:1),typeof R!="number"&&(R=H?H.height:1);var W=new C(this.gl,F,V,B,N,U,I,H,O,R,Y,G,k);return this.glTextureWrappers.push(W),W},createFramebuffer:function(F,V,B,N){this.currentFramebuffer=null;var U=new E(this.gl,F,V,B,N);return this.glFramebufferWrappers.push(U),U},beginBitmapMask:function(F,V){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=V))},drawBitmapMask:function(F,V,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,V),this.maskSource.unbind(!0),this.maskTarget.unbind();var N=this.gl,U=this.getCurrentStencilMask();U?(N.enable(N.STENCIL_TEST),U.mask.applyStencil(this,U.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,this.maskTarget.texture.webGLTexture),N.activeTexture(N.TEXTURE1),N.bindTexture(N.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(F,V){var B=new T(this.gl,F,V);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(F,V){var B=this.gl,N=new y(B,F,B.ARRAY_BUFFER,V);return this.glBufferWrappers.push(N),N},createAttribLocation:function(F,V){var B=new z(this.gl,F,V);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(F,V){var B=new D(this.gl,F,V);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(F,V){var B=this.gl,N=new y(B,F,B.ELEMENT_ARRAY_BUFFER,V);return this.glBufferWrappers.push(N),N},deleteTexture:function(F){if(F)return p(this.glTextureWrappers,F),F.destroy(),this},deleteFramebuffer:function(F){return F?(p(this.fboStack,F),p(this.glFramebufferWrappers,F),F.destroy(),this):this},deleteProgram:function(F){return F&&(p(this.glProgramWrappers,F),F.destroy()),this},deleteAttribLocation:function(F){return F&&(p(this.glAttribLocationWrappers,F),F.destroy()),this},deleteUniformLocation:function(F){return F&&(p(this.glUniformLocationWrappers,F),F.destroy()),this},deleteBuffer:function(F){return F?(p(this.glBufferWrappers,F),F.destroy(),this):this},preRenderCamera:function(F){var V=F.x,B=F.y,N=F.width,U=F.height,I=F.backgroundColor;if(F.emit(a.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(V,B,N,U),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),I.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(V,B,N,U,m.getTintFromFloats(I.blueGL,I.greenGL,I.redGL,1),I.alphaGL)}},getCurrentStencilMask:function(){var F=null,V=this.maskStack,B=this.currentCameraMask;return V.length>0?F=V[V.length-1]:B.mask&&B.mask.isStencil&&(F=B),F},postRenderCamera:function(F){var V=F.flashEffect,B=F.fadeEffect;if(V.isRunning||B.isRunning||B.isComplete){var N=this.pipelines.setMulti();V.postRenderWebGL(N,m.getTintFromFloats),B.postRenderWebGL(N,m.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(a.POST_RENDER,F)},preRender:function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var V=this.config.backgroundColor;F.clearColor(V.redGL,V.greenGL,V.blueGL,V.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(F,V,B){if(!this.contextLost){var N=V.length;if(this.emit(n.RENDER,F,B),this.preRenderCamera(B),N===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var U=this.currentMask,I=0;I<N;I++){this.finalType=I===N-1;var H=V[I],O=H.mask;U=this.currentMask,U.mask&&U.mask!==O&&U.mask.postRenderWebGL(this,U.camera),O&&U.mask!==O&&O.preRenderWebGL(this,H,B),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var R=H.type;R!==this.currentType&&(this.newType=!0,this.currentType=R),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=V[I+1].type===this.currentType,H.renderWebGL(this,H,B),this.newType=!1}U=this.currentMask,U.mask&&U.mask.postRenderWebGL(this,U.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var F=this.snapshotState;F.callback&&(g(this.gl,F),F.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var F=this.gl,V=this.getCurrentStencilMask();if(V){var B=V.mask;F.enable(F.STENCIL_TEST),B.invertAlpha?F.stencilFunc(F.NOTEQUAL,B.level,255):F.stencilFunc(F.EQUAL,B.level,255)}},snapshot:function(F,V,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,V,B)},snapshotArea:function(F,V,B,N,U,I,H){var O=this.snapshotState;return O.callback=U,O.type=I,O.encoder=H,O.getPixel=!1,O.x=F,O.y=V,O.width=B,O.height=N,this},snapshotPixel:function(F,V,B){return this.snapshotArea(F,V,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(F,V,B,N,U,I,H,O,R,Y,G){U===void 0&&(U=!1),I===void 0&&(I=0),H===void 0&&(H=0),O===void 0&&(O=V),R===void 0&&(R=B),Y==="pixel"&&(U=!0,Y="image/png");var k=this.currentFramebuffer;this.snapshotArea(I,H,O,R,N,Y,G);var W=this.snapshotState;return W.getPixel=U,W.isFramebuffer=!0,W.bufferWidth=V,W.bufferHeight=B,W.width=Math.min(W.width,V),W.height=Math.min(W.height,B),this.setFramebuffer(F),g(this.gl,W),this.setFramebuffer(k),W.callback=null,W.isFramebuffer=!1,this},canvasToTexture:function(F,V,B,N){B===void 0&&(B=!1),N===void 0&&(N=!1);var U=this.gl,I=U.NEAREST,H=U.NEAREST,O=F.width,R=F.height,Y=U.CLAMP_TO_EDGE,G=h(O,R);return!B&&G&&(Y=U.REPEAT),this.config.antialias&&(I=G&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,H=U.LINEAR),V?(V.update(F,O,R,N,Y,Y,I,H,V.format),V):this.createTexture2D(0,I,H,Y,Y,U.RGBA,F,O,R,!0,!1,N)},createCanvasTexture:function(F,V,B){return V===void 0&&(V=!1),B===void 0&&(B=!1),this.canvasToTexture(F,null,V,B)},updateCanvasTexture:function(F,V,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.canvasToTexture(F,V,N,B)},videoToTexture:function(F,V,B,N){B===void 0&&(B=!1),N===void 0&&(N=!1);var U=this.gl,I=U.NEAREST,H=U.NEAREST,O=F.videoWidth,R=F.videoHeight,Y=U.CLAMP_TO_EDGE,G=h(O,R);return!B&&G&&(Y=U.REPEAT),this.config.antialias&&(I=G&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,H=U.LINEAR),V?(V.update(F,O,R,N,Y,Y,I,H,V.format),V):this.createTexture2D(0,I,H,Y,Y,U.RGBA,F,O,R,!0,!0,N)},createVideoTexture:function(F,V,B){return V===void 0&&(V=!1),B===void 0&&(B=!1),this.videoToTexture(F,null,V,B)},updateVideoTexture:function(F,V,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.videoToTexture(F,V,N,B)},createUint8ArrayTexture:function(F,V,B){var N=this.gl,U=N.NEAREST,I=N.NEAREST,H=N.CLAMP_TO_EDGE,O=h(V,B);return O&&(H=N.REPEAT),this.createTexture2D(0,U,I,H,H,N.RGBA,F,V,B)},setTextureFilter:function(F,V){var B=this.gl,N=V===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var U=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,F.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,N),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,N),F.minFilter=N,F.magFilter=N,U&&B.bindTexture(B.TEXTURE_2D,U),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=function(V){V.destroy()};l(this.glAttribLocationWrappers,F),l(this.glBufferWrappers,F),l(this.glFramebufferWrappers,F),l(this.glProgramWrappers,F),l(this.glTextureWrappers,F),l(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,A&&(this.spector=null)}});u.exports=b},38683:(u,x,e)=>{var l=e(83419),p=e(95428),a=e(95540),s=e(14500),r=new l({initialize:function(n,h,i,o,c){this.pipeline=n,this.name=h,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=o,this.vertSrc=i,this.program=this.renderer.createProgram(i,o),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(t){var n=0,h=0,i=[];this.vertexComponentCount=0;for(var o=0;o<t.length;o++){var c=t[o],d=c.name,f=a(c,"size",1),v=a(c,"type",s.FLOAT),m=v.enum,g=v.size,y=!!c.normalized;i.push({name:d,size:f,type:m,normalized:y,offset:h,enabled:!1,location:-1}),g===4?n+=f:n++,h+=f*g}this.vertexSize=h,this.vertexComponentCount=n,this.attributes=i},bind:function(t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),t&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(t){t===void 0&&(t=!1);for(var n=this.gl,h=this.renderer,i=this.vertexSize,o=this.attributes,c=this.program,d=0;d<o.length;d++){var f=o[d],v=f.size,m=f.type,g=f.offset,y=f.enabled,T=f.location,C=!!f.normalized;if(t){T!==-1&&h.deleteAttribLocation(T);var E=this.renderer.createAttribLocation(c,f.name);E.webGLAttribLocation>=0?(n.enableVertexAttribArray(E.webGLAttribLocation),n.vertexAttribPointer(E.webGLAttribLocation,v,m,C,i,g),f.enabled=!0,f.location=E):E.webGLAttribLocation!==-1&&n.disableVertexAttribArray(E.webGLAttribLocation)}else y?n.vertexAttribPointer(T.webGLAttribLocation,v,m,C,i,g):!y&&T!==-1&&T.webGLAttribLocation>-1&&(n.disableVertexAttribArray(T.webGLAttribLocation),f.location=-1)}return this},createUniforms:function(){var t=this.gl,n=this.program,h=this.uniforms,i,o,c,d=t.getProgramParameter(n.webGLProgram,t.ACTIVE_UNIFORMS);for(i=0;i<d;i++){var f=t.getActiveUniform(n.webGLProgram,i);if(f){o=f.name,c=this.renderer.createUniformLocation(n,o),c!==null&&(h[o]={name:o,location:c,setter:null,value1:null,value2:null,value3:null,value4:null});var v=o.indexOf("[");v>0&&(o=o.substr(0,v),h.hasOwnProperty(o)||(c=this.renderer.createUniformLocation(n,o),c!==null&&(h[o]={name:o,location:c,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var t=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var h=this.uniforms[n];h.setter&&h.setter.call(t,h.location.webGLUniformLocation,h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(t){return this.uniforms.hasOwnProperty(t)},resetUniform:function(t){var n=this.uniforms[t];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(t,n,h,i){var o=this.uniforms[n];return o?((i||o.value1!==h)&&(o.setter||(o.setter=t),o.value1=h,this.renderer.setProgram(this.program),t.call(this.gl,o.location.webGLUniformLocation,h),this.pipeline.currentShader=this),this):this},setUniform2:function(t,n,h,i,o){var c=this.uniforms[n];return c?((o||c.value1!==h||c.value2!==i)&&(c.setter||(c.setter=t),c.value1=h,c.value2=i,this.renderer.setProgram(this.program),t.call(this.gl,c.location.webGLUniformLocation,h,i),this.pipeline.currentShader=this),this):this},setUniform3:function(t,n,h,i,o,c){var d=this.uniforms[n];return d?((c||d.value1!==h||d.value2!==i||d.value3!==o)&&(d.setter||(d.setter=t),d.value1=h,d.value2=i,d.value3=o,this.renderer.setProgram(this.program),t.call(this.gl,d.location.webGLUniformLocation,h,i,o),this.pipeline.currentShader=this),this):this},setUniform4:function(t,n,h,i,o,c,d){var f=this.uniforms[n];return f?((d||f.value1!==h||f.value2!==i||f.value3!==o||f.value4!==c)&&(f.setter||(f.setter=t),f.value1=h,f.value2=i,f.value3=o,f.value4=c,this.renderer.setProgram(this.program),t.call(this.gl,f.location.webGLUniformLocation,h,i,o,c),this.pipeline.currentShader=this),this):this},setBoolean:function(t,n){return this.setUniform1(this.gl.uniform1i,t,Number(n))},set1f:function(t,n){return this.setUniform1(this.gl.uniform1f,t,n)},set2f:function(t,n,h){return this.setUniform2(this.gl.uniform2f,t,n,h)},set3f:function(t,n,h,i){return this.setUniform3(this.gl.uniform3f,t,n,h,i)},set4f:function(t,n,h,i,o){return this.setUniform4(this.gl.uniform4f,t,n,h,i,o)},set1fv:function(t,n){return this.setUniform1(this.gl.uniform1fv,t,n,!0)},set2fv:function(t,n){return this.setUniform1(this.gl.uniform2fv,t,n,!0)},set3fv:function(t,n){return this.setUniform1(this.gl.uniform3fv,t,n,!0)},set4fv:function(t,n){return this.setUniform1(this.gl.uniform4fv,t,n,!0)},set1iv:function(t,n){return this.setUniform1(this.gl.uniform1iv,t,n,!0)},set2iv:function(t,n){return this.setUniform1(this.gl.uniform2iv,t,n,!0)},set3iv:function(t,n){return this.setUniform1(this.gl.uniform3iv,t,n,!0)},set4iv:function(t,n){return this.setUniform1(this.gl.uniform4iv,t,n,!0)},set1i:function(t,n){return this.setUniform1(this.gl.uniform1i,t,n)},set2i:function(t,n,h){return this.setUniform2(this.gl.uniform2i,t,n,h)},set3i:function(t,n,h,i){return this.setUniform3(this.gl.uniform3i,t,n,h,i)},set4i:function(t,n,h,i,o){return this.setUniform4(this.gl.uniform4i,t,n,h,i,o)},setMatrix2fv:function(t,n,h){return this.setUniform2(this.gl.uniformMatrix2fv,t,n,h,!0)},setMatrix3fv:function(t,n,h){return this.setUniform2(this.gl.uniformMatrix3fv,t,n,h,!0)},setMatrix4fv:function(t,n,h){return this.setUniform2(this.gl.uniformMatrix4fv,t,n,h,!0)},createProgram:function(t,n){return t===void 0&&(t=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=t,this.fragSrc=n,this.program=this.renderer.createProgram(t,n),this.createUniforms(),this.rebind()},destroy:function(){var t=this.renderer;p(this.uniforms,function(n){t.deleteUniformLocation(n.location)}),this.uniforms=null,p(this.attributes,function(n){t.deleteAttribLocation(n.location)}),this.attributes=null,t.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});u.exports=r},14500:u=>{var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};u.exports=x},4159:(u,x,e)=>{var l=e(14500),p=e(79291),a={PipelineManager:e(7530),Pipelines:e(96615),RenderTarget:e(32302),Utils:e(70554),WebGLPipeline:e(29100),WebGLRenderer:e(74797),WebGLShader:e(38683),Wrappers:e(9503)};a=p(!1,a,l),u.exports=a},31302:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(78908),s=e(85191),r=e(14500),t=e(29100),n=new l({Extends:t,initialize:function(i){i.fragShader=p(i,"fragShader",a),i.vertShader=p(i,"vertShader",s),i.batchSize=p(i,"batchSize",1),i.vertices=p(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=p(i,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),t.call(this,i)},boot:function(){t.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,i){t.prototype.resize.call(this,h,i),this.set2f("uResolution",h,i)},beginMask:function(h,i,o){this.renderer.beginBitmapMask(h,o)},endMask:function(h,i,o){var c=this.gl,d=this.renderer,f=h.bitmapMask;f&&c&&(d.drawBitmapMask(f,i,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),c.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),c.bindTexture(c.TEXTURE_2D,null))}});u.exports=n},92651:(u,x,e)=>{var l=e(83419),p=e(58918),a=e(14811),s=e(95540),r=e(43558),t=e(89350),n=e(70554),h=new l({Extends:r,initialize:function(o){o.shaders=[n.setGlowQuality(t.FXGlowFrag,o.game),t.FXShadowFrag,t.FXPixelateFrag,t.FXVignetteFrag,t.FXShineFrag,t.FXBlurLowFrag,t.FXBlurMedFrag,t.FXBlurHighFrag,t.FXGradientFrag,t.FXBloomFrag,t.ColorMatrixFrag,t.FXCircleFrag,t.FXBarrelFrag,t.FXDisplacementFrag,t.FXWipeFrag,t.FXBokehFrag],r.call(this,o);var c=this.game;this.glow=new p.Glow(c),this.shadow=new p.Shadow(c),this.pixelate=new p.Pixelate(c),this.vignette=new p.Vignette(c),this.shine=new p.Shine(c),this.gradient=new p.Gradient(c),this.circle=new p.Circle(c),this.barrel=new p.Barrel(c),this.wipe=new p.Wipe(c),this.bokeh=new p.Bokeh(c);var d=[];d[a.GLOW]=this.onGlow,d[a.SHADOW]=this.onShadow,d[a.PIXELATE]=this.onPixelate,d[a.VIGNETTE]=this.onVignette,d[a.SHINE]=this.onShine,d[a.BLUR]=this.onBlur,d[a.GRADIENT]=this.onGradient,d[a.BLOOM]=this.onBloom,d[a.COLOR_MATRIX]=this.onColorMatrix,d[a.CIRCLE]=this.onCircle,d[a.BARREL]=this.onBarrel,d[a.DISPLACEMENT]=this.onDisplacement,d[a.WIPE]=this.onWipe,d[a.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(i,o,c){this.source=i,this.target=o,this.swap=c;var d=i.width,f=i.height,v=this.tempSprite,m=this.fxHandlers;if(v&&v.preFX)for(var g=v.preFX.list,y=0;y<g.length;y++){var T=g[y];T.active&&m[T.type].call(this,T,d,f)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,o=this.target;this.copy(i,o),this.source=o,this.target=i},onGlow:function(i,o,c){var d=this.shaders[a.GLOW];this.setShader(d),this.glow.onPreRender(i,d,o,c),this.runDraw()},onShadow:function(i){var o=this.shaders[a.SHADOW];this.setShader(o),this.shadow.onPreRender(i,o),this.runDraw()},onPixelate:function(i,o,c){var d=this.shaders[a.PIXELATE];this.setShader(d),this.pixelate.onPreRender(i,d,o,c),this.runDraw()},onVignette:function(i){var o=this.shaders[a.VIGNETTE];this.setShader(o),this.vignette.onPreRender(i,o),this.runDraw()},onShine:function(i,o,c){var d=this.shaders[a.SHINE];this.setShader(d),this.shine.onPreRender(i,d,o,c),this.runDraw()},onBlur:function(i,o,c){var d=s(i,"quality"),f=this.shaders[a.BLUR+d];this.setShader(f),this.set1i("uMainSampler",0),this.set2f("resolution",o,c),this.set1f("strength",s(i,"strength")),this.set3fv("color",s(i,"glcolor"));for(var v=s(i,"x"),m=s(i,"y"),g=s(i,"steps"),y=0;y<g;y++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var o=this.shaders[a.GRADIENT];this.setShader(o),this.gradient.onPreRender(i,o),this.runDraw()},onBloom:function(i,o,c){var d=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",s(i,"blurStrength")),this.set3fv("color",s(i,"glcolor"));for(var f=2/o*s(i,"offsetX"),v=2/c*s(i,"offsetY"),m=s(i,"steps"),g=0;g<m;g++)this.set2f("offset",f,0),this.runDraw(),this.set2f("offset",0,v),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,o,c){var d=this.shaders[a.CIRCLE];this.setShader(d),this.circle.onPreRender(i,d,o,c),this.runDraw()},onBarrel:function(i){var o=this.shaders[a.BARREL];this.setShader(o),this.barrel.onPreRender(i,o),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var o=this.shaders[a.WIPE];this.setShader(o),this.wipe.onPreRender(i,o),this.runDraw()},onBokeh:function(i,o,c){var d=this.shaders[a.BOKEH];this.setShader(d),this.bokeh.onPreRender(i,d,o,c),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});u.exports=h},96569:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(31063),s=e(57516),r=e(61340),t=e(26099),n=e(29100),h=new l({Extends:s,initialize:function(o){var c=p(o,"fragShader",a);o.fragShader=c.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),s.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new t,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){n.prototype.boot.call(this)},onRender:function(i,o){var c=i.sys.lights;if(this.lightsActive=!1,!(!c||!c.active)){var d=c.getLights(o),f=d.length;this.lightsActive=!0;var v,m=this.renderer,g=m.height,y=o.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",c.ambientColor.r,c.ambientColor.g,c.ambientColor.b),this.set1i("uLightCount",f),v=0;v<f;v++){var C=d[v].light,E=C.color,z="uLights["+v+"].";y.transformPoint(C.x,C.y,T),this.set2f(z+"position",T.x-o.scrollX*C.scrollFactorX*o.zoom,g-(T.y-o.scrollY*C.scrollFactorY*o.zoom)),this.set3f(z+"color",E.r,E.g,E.b),this.set1f(z+"intensity",C.intensity),this.set1f(z+"radius",C.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(i){var c=-i,d=Math.cos(c),f=Math.sin(c);o[1]=f,o[3]=-f,o[0]=o[4]=d}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=i}},setTexture2D:function(i,o){var c=this.renderer;i===void 0&&(i=c.whiteTexture);var d=this.getNormalMap(o);this.isNewNormalMap(i,d)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(d),this.currentNormalMap=d);var f=0;if(o&&o.parentContainer){var v=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);f=v.rotationNormalized}else o&&(f=o.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(d)),this.setNormalMapRotation(f),0},setGameObject:function(i,o){o===void 0&&(o=i.frame);var c=o.glTexture,d=this.getNormalMap(i);if(this.isNewNormalMap(c,d)&&(this.flush(),this.createBatch(c),this.addTextureToBatch(d),this.currentNormalMap=d),i.parentContainer){var f=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(f.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(c),this.addTextureToBatch(d)),0},isNewNormalMap:function(i,o){return this.currentTexture!==i||this.currentNormalMap!==o},getNormalMap:function(i){var o;if(i)i.displayTexture?o=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?o=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?o=i.tileset[0].image.dataSource[0]:o=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return o?o.glTexture:this.renderer.normalTexture},batchSprite:function(i,o,c){this.lightsActive&&s.prototype.batchSprite.call(this,i,o,c)},batchTexture:function(i,o,c,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H,O,R,Y,G,k,W,X,j){this.lightsActive&&s.prototype.batchTexture.call(this,i,o,c,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H,O,R,Y,G,k,W,X,j)},batchTextureFrame:function(i,o,c,d,f,v,m){this.lightsActive&&s.prototype.batchTextureFrame.call(this,i,o,c,d,f,v,m)}});u.exports=h},56527:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(57516),s=e(45561),r=e(60722),t=e(14500),n=e(29100),h=new l({Extends:a,initialize:function(o){o.fragShader=p(o,"fragShader",s),o.vertShader=p(o,"vertShader",r),o.attributes=p(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:t.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,o.resizeUniform="uResolution",a.call(this,o)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});u.exports=h},57516:(u,x,e)=>{var l=e(83419),p=e(94811),a=e(95540),s=e(98840),r=e(44667),t=e(61340),n=e(70554),h=e(14500),i=e(29100),o=new l({Extends:i,initialize:function(d){var f=d.game.renderer,v=a(d,"fragShader",s);d.fragShader=n.parseFragmentShaderMaxTextures(v,f.maxTextures),d.vertShader=a(d,"vertShader",r),d.attributes=a(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",i.call(this,d),this._tempMatrix1=new t,this._tempMatrix2=new t,this._tempMatrix3=new t,this.calcMatrix=new t,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var c=this.renderer;this.set1iv("uMainSampler",c.textureIndexes),this.set2f("uResolution",c.width,c.height)},batchSprite:function(c,d,f){this.manager.set(this,c);var v=this._tempMatrix1,m=this._tempMatrix2,g=this._tempMatrix3,y=c.frame,T=y.glTexture,C=y.u0,E=y.v0,z=y.u1,D=y.v1,A=y.x,L=y.y,b=y.cutWidth,F=y.cutHeight,V=y.customPivot,B=c.displayOriginX,N=c.displayOriginY,U=-B+A,I=-N+L;if(c.isCropped){var H=c._crop;(H.flipX!==c.flipX||H.flipY!==c.flipY)&&y.updateCropUVs(H,c.flipX,c.flipY),C=H.u0,E=H.v0,z=H.u1,D=H.v1,b=H.width,F=H.height,A=H.x,L=H.y,U=-B+A,I=-N+L}var O=1,R=1;c.flipX&&(V||(U+=-y.realWidth+B*2),O=-1),c.flipY&&(V||(I+=-y.realHeight+N*2),R=-1);var Y=c.x,G=c.y;d.roundPixels&&(Y=Math.floor(Y),G=Math.floor(G)),m.applyITRS(Y,G,c.rotation,c.scaleX*O,c.scaleY*R),v.copyFrom(d.matrix),f?(v.multiplyWithOffset(f,-d.scrollX*c.scrollFactorX,-d.scrollY*c.scrollFactorY),m.e=Y,m.f=G):(m.e-=d.scrollX*c.scrollFactorX,m.f-=d.scrollY*c.scrollFactorY),v.multiply(m,g);var k=g.setQuad(U,I,U+b,I+F,d.renderRoundPixels),W=n.getTintAppendFloatAlpha,X=d.alpha,j=W(c.tintTopLeft,X*c._alphaTL),K=W(c.tintTopRight,X*c._alphaTR),$=W(c.tintBottomLeft,X*c._alphaBL),Z=W(c.tintBottomRight,X*c._alphaBR);this.shouldFlush(6)&&this.flush();var J=this.setGameObject(c,y);this.manager.preBatch(c),this.batchQuad(c,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],C,E,z,D,j,K,$,Z,c.tintFill,T,J),this.manager.postBatch(c)},batchTexture:function(c,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H,O,R,Y,G,k,W,X,j,K,$,Z){Z===void 0&&(Z=!1),this.manager.set(this,c);var J=this._tempMatrix1,Q=this._tempMatrix2,_=this._tempMatrix3,ae=B/f+k,oe=N/v+W,le=(B+U)/f+k,q=(N+I)/v+W,ie=y,ne=T,fe=-F,ye=-V;if(c.isCropped){var Re=c._crop,ge=Re.width,xe=Re.height;ie=ge,ne=xe,y=ge,T=xe,B=Re.x,N=Re.y;var be=B,Je=N;D&&(be=U-Re.x-ge),A&&(Je=I-Re.y-xe),ae=be/f+k,oe=Je/v+W,le=(be+ge)/f+k,q=(Je+xe)/v+W,fe=-F+B,ye=-V+N}A=A^(!K&&d.isRenderTexture?1:0),D&&(ie*=-1,fe+=y),A&&(ne*=-1,ye+=T),X.roundPixels&&(m=Math.floor(m),g=Math.floor(g)),Q.applyITRS(m,g,z,C,E),J.copyFrom(X.matrix),j?(J.multiplyWithOffset(j,-X.scrollX*L,-X.scrollY*b),Q.e=m,Q.f=g):(Q.e-=X.scrollX*L,Q.f-=X.scrollY*b),J.multiply(Q,_);var Ce=_.setQuad(fe,ye,fe+ie,ye+ne,X.renderRoundPixels);$==null&&($=this.setTexture2D(d)),c&&!Z&&this.manager.preBatch(c),this.batchQuad(c,Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7],ae,oe,le,q,H,O,R,Y,G,d,$),c&&!Z&&this.manager.postBatch(c)},batchTextureFrame:function(c,d,f,v,m,g,y){this.manager.set(this);var T=this._tempMatrix1.copyFrom(g),C=this._tempMatrix2;y?T.multiply(y,C):C=T;var E=C.setQuad(d,f,d+c.width,f+c.height),z=this.setTexture2D(c.source.glTexture);v=n.getTintAppendFloatAlpha(v,m),this.batchQuad(null,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],c.u0,c.v0,c.u1,c.v1,v,v,v,v,0,c.glTexture,z)},batchFillRect:function(c,d,f,v,m,g){this.renderer.pipelines.set(this);var y=this.calcMatrix;g&&g.multiply(m,y);var T=y.setQuad(c,d,c+f,d+v),C=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,C.TL,C.TR,C.BL,C.BR,2)},batchFillTriangle:function(c,d,f,v,m,g,y,T){this.renderer.pipelines.set(this);var C=this.calcMatrix;T&&T.multiply(y,C);var E=C.getX(c,d),z=C.getY(c,d),D=C.getX(f,v),A=C.getY(f,v),L=C.getX(m,g),b=C.getY(m,g),F=this.fillTint;this.batchTri(null,E,z,D,A,L,b,0,0,1,1,F.TL,F.TR,F.BL,2)},batchStrokeTriangle:function(c,d,f,v,m,g,y,T,C){var E=this.tempTriangle;E[0].x=c,E[0].y=d,E[0].width=y,E[1].x=f,E[1].y=v,E[1].width=y,E[2].x=m,E[2].y=g,E[2].width=y,E[3].x=c,E[3].y=d,E[3].width=y,this.batchStrokePath(E,y,!1,T,C)},batchFillPath:function(c,d,f){this.renderer.pipelines.set(this);var v=this.calcMatrix;f&&f.multiply(d,v);for(var m=c.length,g=this.polygonCache,y,T,C=this.fillTint.TL,E=this.fillTint.TR,z=this.fillTint.BL,D=0;D<m;++D)T=c[D],g.push(T.x,T.y);y=p(g),m=y.length;for(var A=0;A<m;A+=3){var L=y[A+0]*2,b=y[A+1]*2,F=y[A+2]*2,V=g[L+0],B=g[L+1],N=g[b+0],U=g[b+1],I=g[F+0],H=g[F+1],O=v.getX(V,B),R=v.getY(V,B),Y=v.getX(N,U),G=v.getY(N,U),k=v.getX(I,H),W=v.getY(I,H);this.batchTri(null,O,R,Y,G,k,W,0,0,1,1,C,E,z,2)}g.length=0},batchStrokePath:function(c,d,f,v,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var g=c.length-1,y=0;y<g;y++){var T=c[y],C=c[y+1];this.batchLine(T.x,T.y,C.x,C.y,T.width/2,C.width/2,d,y,!f&&y===g-1,v,m)}},batchLine:function(c,d,f,v,m,g,y,T,C,E,z){this.renderer.pipelines.set(this);var D=this.calcMatrix;z&&z.multiply(E,D);var A=f-c,L=v-d,b=Math.sqrt(A*A+L*L);if(b!==0){var F=m*(v-d)/b,V=m*(c-f)/b,B=g*(v-d)/b,N=g*(c-f)/b,U=f-B,I=v-N,H=c-F,O=d-V,R=f+B,Y=v+N,G=c+F,k=d+V,W=D.getX(U,I),X=D.getY(U,I),j=D.getX(H,O),K=D.getY(H,O),$=D.getX(R,Y),Z=D.getY(R,Y),J=D.getX(G,k),Q=D.getY(G,k),_=this.strokeTint,ae=_.TL,oe=_.TR,le=_.BL,q=_.BR;if(this.batchQuad(null,J,Q,j,K,W,X,$,Z,0,0,1,1,ae,oe,le,q,2),!(y<=2)){var ie=this.prevQuad,ne=this.firstQuad;T>0&&ie[4]?this.batchQuad(null,J,Q,j,K,ie[0],ie[1],ie[2],ie[3],0,0,1,1,ae,oe,le,q,2):(ne[0]=J,ne[1]=Q,ne[2]=j,ne[3]=K,ne[4]=1),C&&ne[4]?this.batchQuad(null,W,X,$,Z,ne[0],ne[1],ne[2],ne[3],0,0,1,1,ae,oe,le,q,2):(ie[0]=W,ie[1]=X,ie[2]=$,ie[3]=Z,ie[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});u.exports=o},43439:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(4127),s=e(89924),r=e(29100),t=new l({Extends:r,initialize:function(h){h.vertShader=p(h,"vertShader",s),h.fragShader=p(h,"fragShader",a),h.attributes=p(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,h)},onRender:function(n,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(n,h,i,o,c,d,f,v,m,g,y,T){var C=n.color,E=n.intensity,z=n.radius,D=n.attenuation,A=C.r*E,L=C.g*E,b=C.b*E,F=h.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,o,y,T,z,D,A,L,b,F),this.batchLightVert(c,d,y,T,z,D,A,L,b,F),this.batchLightVert(f,v,y,T,z,D,A,L,b,F),this.batchLightVert(i,o,y,T,z,D,A,L,b,F),this.batchLightVert(f,v,y,T,z,D,A,L,b,F),this.batchLightVert(m,g,y,T,z,D,A,L,b,F),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,h,i,o,c,d,f,v,m,g){var y=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++T]=n,y[++T]=h,y[++T]=i,y[++T]=o,y[++T]=c,y[++T]=d,y[++T]=f,y[++T]=v,y[++T]=m,y[++T]=g,this.vertexCount++}});u.exports=t},84057:(u,x,e)=>{var l=e(83419),p=e(89422),a=e(95540),s=e(27681),r=e(49627),t=e(29100),n=new l({Extends:t,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",s),i.vertShader=a(i,"vertShader",r),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],t.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){t.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var o=this.renderTargets,c=0;c<o.length;c++)o[c].autoResize=!0},postBatch:function(h){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,i,o){o===void 0&&(o=!1);var c=this.gl;c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,h.texture.webGLTexture);var d=c.getParameter(c.FRAMEBUFFER_BINDING);c.bindFramebuffer(c.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,i.texture.webGLTexture,0),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),o&&(c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,d))},copyFrame:function(h,i,o,c,d){this.manager.copyFrame(h,i,o,c,d)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,i,o){this.manager.drawFrame(h,i,o,this.colorMatrix)},blendFrames:function(h,i,o,c,d){this.manager.blendFrames(h,i,o,c,d)},blendFramesAdditive:function(h,i,o,c,d){this.manager.blendFramesAdditive(h,i,o,c,d)},clearFrame:function(h,i){this.manager.clearFrame(h,i)},blitFrame:function(h,i,o,c,d,f){this.manager.blitFrame(h,i,o,c,d,f)},copyFrameRect:function(h,i,o,c,d,f,v,m){this.manager.copyFrameRect(h,i,o,c,d,f,v,m)},bindAndDraw:function(h,i,o,c,d){o===void 0&&(o=!0),c===void 0&&(c=!0);var f=this.gl,v=this.renderer;this.bind(d),this.set1i("uMainSampler",0),i?(f.viewport(0,0,i.width,i.height),f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),o&&(c?f.clearColor(0,0,0,0):f.clearColor(0,0,0,1),f.clear(f.COLOR_BUFFER_BIT))):(v.popFramebuffer(!1,!1),v.currentFramebuffer||f.viewport(0,0,v.width,v.height)),v.restoreStencilMask(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),i&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,v.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),t.prototype.destroy.call(this),this}});u.exports=n},43558:(u,x,e)=>{var l=e(10312),p=e(67502),a=e(83419),s=e(96293),r=e(95540),t=e(57516),n=e(27681),h=e(87841),i=e(32302),o=e(45561),c=e(60722),d=e(29100),f=new a({Extends:t,initialize:function(m){var g=r(m,"fragShader",n),y=r(m,"vertShader",c),T=r(m,"drawShader",n),C=[{name:"DrawSprite",fragShader:o,vertShader:c},{name:"CopySprite",fragShader:g,vertShader:y},{name:"DrawGame",fragShader:T,vertShader:c},{name:"ColorMatrix",fragShader:s}],E=r(m,"shaders",[]);m.shaders=C.concat(E),m.vertShader||(m.vertShader=y),m.batchSize=1,t.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var v=this.shaders,m=this.renderer;this.drawSpriteShader=v[0],this.copyShader=v[1],this.gameShader=v[2],this.colorMatrixShader=v[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var g=new ArrayBuffer(168);this.quadVertexData=g,this.quadVertexViewF32=new Float32Array(g),this.quadVertexBuffer=m.createVertexBuffer(g,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader,this.set2f("uResolution",m.width,m.height)},onResize:function(v,m){var g=this.quadVertexViewF32;g[1]=m,g[22]=m,g[14]=v,g[28]=v,g[35]=v,g[36]=m},batchQuad:function(v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H){var O=Math.min(m,y,C,z),R=Math.min(g,T,E,D),Y=Math.max(m,y,C,z),G=Math.max(g,T,E,D),k=Y-O,W=G-R,X=this.spriteBounds.setTo(O,R,k,W),j=v?v.preFX.padding:0,K=k+j*2,$=W+j*2,Z=Math.abs(Math.max(K,$)),J=this.manager.getRenderTarget(Z),Q=this.targetBounds.setTo(0,0,J.width,J.height);p(Q,Math.round(X.centerX),Math.round(X.centerY)),this.tempSprite=v;var _=this.gl,ae=this.renderer;ae.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ae.width,ae.height),this.flipProjectionMatrix(!0),v&&(this.onDrawSprite(v,J),v.preFX.onFX(this));var oe=this.fsTarget;return this.flush(),_.viewport(0,0,ae.width,ae.height),_.bindFramebuffer(_.FRAMEBUFFER,oe.framebuffer.webGLFramebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,oe.texture.webGLTexture,0),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),this.setTexture2D(H),this.batchVert(m,g,A,L,0,I,V),this.batchVert(y,T,A,F,0,I,N),this.batchVert(C,E,b,F,0,I,U),this.batchVert(m,g,A,L,0,I,V),this.batchVert(C,E,b,F,0,I,U),this.batchVert(z,D,b,L,0,I,B),this.flush(),this.flipProjectionMatrix(!1),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,J.texture.webGLTexture),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,Q.x,Q.y,Q.width,Q.height),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null),this.onBatch(v),this.currentShader=this.copyShader,this.onDraw(J,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(v,m,g,y,T,C,E){g===void 0&&(g=!0),y===void 0&&(y=!0),T===void 0&&(T=!1),E===void 0&&(E=this.copyShader);var z=this.gl,D=this.tempSprite;C&&(E=this.colorMatrixShader),this.currentShader=E;var A=this.setVertexBuffer(this.quadVertexBuffer);E.bind(A,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),D.preFX.onFXCopy(this),this.onCopySprite(v,m,D),C&&(this.set1fv("uColorMatrix",C.getData()),this.set1f("uAlpha",C.alpha)),z.activeTexture(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,v.texture.webGLTexture),v.height>m.height)z.viewport(0,0,v.width,v.height),this.setTargetUVs(v,m);else{var b=m.height-v.height;z.viewport(0,b,v.width,v.height),this.resetUVs()}if(z.bindFramebuffer(z.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,m.texture.webGLTexture,0),g&&(z.clearColor(0,0,0,+!y),z.clear(z.COLOR_BUFFER_BIT)),T){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(l.ERASE)}z.bufferData(z.ARRAY_BUFFER,this.quadVertexData,z.STATIC_DRAW),z.drawArrays(z.TRIANGLES,0,6),T&&this.renderer.setBlendMode(F),z.bindFramebuffer(z.FRAMEBUFFER,null)},copy:function(v,m){var g=this.gl;this.set1i("uMainSampler",0),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,v.texture.webGLTexture),g.viewport(0,0,v.width,v.height),this.setUVs(0,0,0,1,1,1,1,0),g.bindFramebuffer(g.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,m.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.quadVertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null)},blendFrames:function(v,m,g,y,T){this.manager.blendFrames(v,m,g,y,T)},blendFramesAdditive:function(v,m,g,y,T){this.manager.blendFramesAdditive(v,m,g,y,T)},drawToGame:function(v){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(v)},copyToGame:function(v){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(v)},bindAndDraw:function(v){var m=this.gl,g=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(v.texture);var y=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,C=this.targetBounds.y,E=T+v.width,z=C+v.height,D=y.getX(T,C),A=y.getX(T,z),L=y.getX(E,z),b=y.getX(E,C),F=y.getY(T,C),V=y.getY(T,z),B=y.getY(E,z),N=y.getY(E,C),U=16777215;this.batchVert(D,F,0,0,0,0,U),this.batchVert(A,V,0,1,0,0,U),this.batchVert(L,B,1,1,0,0,U),this.batchVert(D,F,0,0,0,0,U),this.batchVert(L,B,1,1,0,0,U),this.batchVert(b,N,1,0,0,0,U),g.restoreFramebuffer(!1,!0),g.currentFramebuffer||m.viewport(0,0,g.width,g.height),g.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(v){this.drawToGame(v)},setUVs:function(v,m,g,y,T,C,E,z){var D=this.quadVertexViewF32;D[2]=v,D[3]=m,D[9]=g,D[10]=y,D[16]=T,D[17]=C,D[23]=v,D[24]=m,D[30]=T,D[31]=C,D[37]=E,D[38]=z},setTargetUVs:function(v,m){var g=m.height/v.height;g>.5?g=.5-(g-.5):g=.5+(.5-g),this.setUVs(0,g,0,1+g,1,1+g,1,g)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,t.prototype.destroy.call(this),this}});u.exports=f},81041:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(57516),s=new l({Extends:a,initialize:function(t){t.topology=5,t.batchSize=p(t,"batchSize",256),a.call(this,t)}});u.exports=s},12385:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(57516),s=e(45561),r=e(60722),t=e(29100),n=new l({Extends:a,initialize:function(i){i.fragShader=p(i,"fragShader",s),i.vertShader=p(i,"vertShader",r),i.forceZero=!0,a.call(this,i)},boot:function(){t.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height)}});u.exports=n},7589:(u,x,e)=>{var l=e(35407),p=e(10312),a=e(83419),s=e(89422),r=e(96293),t=e(36682),n=e(95540),h=e(48247),i=e(49627),o=e(29100),c=new a({Extends:o,initialize:function(f){f.renderTarget=n(f,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),f.vertShader=n(f,"vertShader",i),f.shaders=n(f,"shaders",[{name:"Copy",fragShader:t},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:r}]),f.attributes=n(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],f.batchSize=1,o.call(this,f),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var d=this.shaders,f=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=f[0],this.fullFrame2=f[1],this.halfFrame1=f[2],this.halfFrame2=f[3]},copyFrame:function(d,f,v,m,g){v===void 0&&(v=1),m===void 0&&(m=!0),g===void 0&&(g=!0);var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,d.texture.webGLTexture),f?(y.viewport(0,0,f.width,f.height),y.bindFramebuffer(y.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f.texture.webGLTexture,0)):y.viewport(0,0,d.width,d.height),m&&(g?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blitFrame:function(d,f,v,m,g,y,T){v===void 0&&(v=1),m===void 0&&(m=!0),g===void 0&&(g=!0),y===void 0&&(y=!1),T===void 0&&(T=!1);var C=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),d.height>f.height)C.viewport(0,0,d.width,d.height),this.setTargetUVs(d,f);else{var E=f.height-d.height;C.viewport(0,E,d.width,d.height)}if(C.bindFramebuffer(C.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,f.texture.webGLTexture,0),m&&(g?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),y){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}T&&this.flipY(),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),y&&this.renderer.setBlendMode(z),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,f,v,m,g,y,T,C){T===void 0&&(T=!0),C===void 0&&(C=!0);var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,d.texture.webGLTexture,0),T&&(C?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,f.texture.webGLTexture),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,v,m,g,y),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},copyToGame:function(d){var f=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,d.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6)},drawFrame:function(d,f,v,m){v===void 0&&(v=!0),m===void 0&&(m=this.colorMatrix);var g=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,d.texture.webGLTexture),f?(g.viewport(0,0,f.width,f.height),g.bindFramebuffer(g.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,f.texture.webGLTexture,0)):g.viewport(0,0,d.width,d.height),v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blendFrames:function(d,f,v,m,g,y){m===void 0&&(m=1),g===void 0&&(g=!0),y===void 0&&(y=this.linearShader);var T=this.gl;this.setShader(y),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,f.texture.webGLTexture),v?(T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0),T.viewport(0,0,v.width,v.height)):T.viewport(0,0,d.width,d.height),g?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(d,f,v,m,g){this.blendFrames(d,f,v,m,g,this.addShader)},clearFrame:function(d,f){f===void 0&&(f=!0);var v=this.gl;v.viewport(0,0,d.width,d.height),v.bindFramebuffer(v.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),f?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;v.bindFramebuffer(v.FRAMEBUFFER,m.webGLFramebuffer)},setUVs:function(d,f,v,m,g,y,T,C){var E=this.vertexViewF32;E[2]=d,E[3]=f,E[6]=v,E[7]=m,E[10]=g,E[11]=y,E[14]=d,E[15]=f,E[18]=g,E[19]=y,E[22]=T,E[23]=C},setTargetUVs:function(d,f){var v=f.height/d.height;v>.5?v=.5-(v-.5):v=.5+(.5-v),this.setUVs(0,v,0,1+v,1,1+v,1,v)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});u.exports=c},36060:u=>{var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};u.exports=x},84817:u=>{u.exports="pipelineafterflush"},36712:u=>{u.exports="pipelinebeforeflush"},40285:u=>{u.exports="pipelinebind"},65918:u=>{u.exports="pipelineboot"},92852:u=>{u.exports="pipelinedestroy"},56072:u=>{u.exports="pipelinerebind"},57566:u=>{u.exports="pipelineresize"},77085:(u,x,e)=>{u.exports={AFTER_FLUSH:e(84817),BEFORE_FLUSH:e(36712),BIND:e(40285),BOOT:e(65918),DESTROY:e(92852),REBIND:e(56072),RESIZE:e(57566)}},54812:(u,x,e)=>{var l=e(83419),p=e(99155),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.amount=1},onPreRender:function(r,t){r=this.getController(r),this.set1f("amount",r.amount,t)}});u.exports=s},67329:(u,x,e)=>{var l=e(83419),p=e(24400),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var t=this.getController(),n=this.fullFrame1,h=this.fullFrame2;this.copyFrame(r,h);for(var i=2/r.width*t.offsetX,o=2/r.height*t.offsetY,c=0;c<t.steps;c++)this.set2f("offset",i,0),this.copySprite(r,n),this.set2f("offset",0,o),this.copySprite(n,r);this.blendFrames(h,r,n,t.strength),this.copyToGame(n)}});u.exports=s},8861:(u,x,e)=>{var l=e(83419),p=e(41514),a=e(51078),s=e(94328),r=e(84057),t=new l({Extends:r,initialize:function(h){r.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var h=this.getController(),i=this.gl,o=this.fullFrame1,c=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var d=0;d<h.steps;d++)this.set2f("offset",h.x,0),this.copySprite(n,o),this.set2f("offset",0,h.y),this.copySprite(o,n);i.bindFramebuffer(i.FRAMEBUFFER,c),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});u.exports=t},51051:(u,x,e)=>{var l=e(83419),p=e(90610),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,t,n,h){r=this.getController(r),this.set1f("radius",r.radius,t),this.set1f("amount",r.amount,t),this.set1f("contrast",r.contrast,t),this.set1f("strength",r.strength,t),this.set2f("blur",r.blurX,r.blurY,t),this.setBoolean("isTiltShift",r.isTiltShift,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},89428:(u,x,e)=>{var l=e(83419),p=e(91899),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,t,n,h){r=this.getController(r),this.set1f("scale",r.scale,t),this.set1f("feather",r.feather,t),this.set1f("thickness",r.thickness,t),this.set3fv("color",r.glcolor,t),this.set4fv("backgroundColor",r.glcolor2,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},88904:(u,x,e)=>{var l=e(83419),p=e(84057),a=new l({Extends:p,initialize:function(r){p.call(this,{game:r})},onDraw:function(s){var r=this.fullFrame1;this.controller?this.manager.drawFrame(s,r,!0,this.controller):this.drawFrame(s,r),this.copyToGame(r)}});u.exports=a},63563:(u,x,e)=>{var l=e(83419),p=e(47838),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var t=this.game.textures.getFrame(r);t&&(this.glTexture=t.glTexture)},onDraw:function(r){var t=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",t.x,t.y),this.bindTexture(t.glTexture,1),this.copySprite(r,n),this.copyToGame(n)}});u.exports=s},94045:(u,x,e)=>{var l=e(83419),p=e(95540),a=e(98656),s=e(84057),r=e(70554),t=new l({Extends:s,initialize:function(h,i){var o=p(i,"quality",.1),c=p(i,"distance",10);s.call(this,{game:h,fragShader:r.setGlowQuality(a,h,o,c)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,h,i,o){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,h),this.set1f("innerStrength",n.innerStrength,h),this.set4fv("glowColor",n.glcolor,h),this.setBoolean("knockout",n.knockout,h),i&&o&&this.set2f("resolution",i,o,h)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});u.exports=t},74088:(u,x,e)=>{var l=e(83419),p=e(70463),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,t){r=this.getController(r),this.set1f("alpha",r.alpha,t),this.set1i("size",r.size,t),this.set3fv("color1",r.glcolor1,t),this.set3fv("color2",r.glcolor2,t),this.set2f("positionFrom",r.fromX,r.fromY,t),this.set2f("positionTo",r.toX,r.toY,t)}});u.exports=s},99636:(u,x,e)=>{var l=e(83419),p=e(50831),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.amount=1},onPreRender:function(r,t,n,h){r=this.getController(r),this.set1f("amount",r.amount,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},34700:(u,x,e)=>{var l=e(83419),p=e(92595),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,t){r=this.getController(r);var n=r.samples;this.set1i("samples",n,t),this.set1f("intensity",r.intensity,t),this.set1f("decay",r.decay,t),this.set1f("power",r.power/n,t),this.set2f("lightPosition",r.x,r.y,t),this.set4fv("color",r.glcolor,t)}});u.exports=s},91157:(u,x,e)=>{var l=e(83419),p=e(72464),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,t,n,h){r=this.getController(r),this.setTime("time",t),this.set1f("speed",r.speed,t),this.set1f("lineWidth",r.lineWidth,t),this.set1f("gradient",r.gradient,t),this.setBoolean("reveal",r.reveal,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});u.exports=s},27797:(u,x,e)=>{var l=e(83419),p=e(39249),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,t){r=this.getController(r),this.set1f("radius",r.radius,t),this.set1f("strength",r.strength,t),this.set2f("position",r.x,r.y,t)}});u.exports=s},67603:(u,x,e)=>{var l=e(83419),p=e(2878),a=e(84057),s=new l({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,t){r=this.getController(r);var n=r.progress,h=r.wipeWidth,i=r.direction,o=r.axis;this.set4f("config",n,h,i,o,t),this.setBoolean("reveal",r.reveal,t)}});u.exports=s},58918:(u,x,e)=>{var l={Barrel:e(54812),Bloom:e(67329),Blur:e(8861),Bokeh:e(51051),Circle:e(89428),ColorMatrix:e(88904),Displacement:e(63563),Glow:e(94045),Gradient:e(74088),Pixelate:e(99636),Shadow:e(34700),Shine:e(91157),Vignette:e(27797),Wipe:e(67603)};u.exports=l},96615:(u,x,e)=>{var l=e(36060),p=e(79291),a={FX:e(58918),BitmapMaskPipeline:e(31302),Events:e(77085),FXPipeline:e(92651),LightPipeline:e(96569),MobilePipeline:e(56527),MultiPipeline:e(57516),PointLightPipeline:e(43439),PostFXPipeline:e(84057),PreFXPipeline:e(43558),RopePipeline:e(81041),SinglePipeline:e(12385),UtilityPipeline:e(7589)};a=p(!1,a,l),u.exports=a},35407:u=>{u.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:u=>{u.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:u=>{u.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:u=>{u.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:u=>{u.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:u=>{u.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:u=>{u.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:u=>{u.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:u=>{u.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:u=>{u.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:u=>{u.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:u=>{u.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:u=>{u.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:u=>{u.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:u=>{u.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:u=>{u.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:u=>{u.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:u=>{u.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:u=>{u.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:u=>{u.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:u=>{u.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:u=>{u.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:u=>{u.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:u=>{u.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:u=>{u.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:u=>{u.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:u=>{u.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:u=>{u.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:u=>{u.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:u=>{u.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:u=>{u.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:u=>{u.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:u=>{u.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:u=>{u.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(u,x,e)=>{u.exports={AddBlendFrag:e(35407),BitmapMaskFrag:e(78908),BitmapMaskVert:e(85191),ColorMatrixFrag:e(96293),CopyFrag:e(36682),FXBarrelFrag:e(99155),FXBloomFrag:e(24400),FXBlurHighFrag:e(94328),FXBlurLowFrag:e(41514),FXBlurMedFrag:e(51078),FXBokehFrag:e(90610),FXCircleFrag:e(91899),FXDisplacementFrag:e(47838),FXGlowFrag:e(98656),FXGradientFrag:e(70463),FXPixelateFrag:e(50831),FXShadowFrag:e(92595),FXShineFrag:e(72464),FXVignetteFrag:e(39249),FXWipeFrag:e(2878),LightFrag:e(31063),LinearBlendFrag:e(48247),MeshFrag:e(41214),MeshVert:e(39653),MobileFrag:e(62143),MobileVert:e(47940),MultiFrag:e(98840),MultiVert:e(44667),PointLightFrag:e(4127),PointLightVert:e(89924),PostFXFrag:e(27681),QuadVert:e(49627),SingleFrag:e(45561),SingleVert:e(60722)}},93567:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t){this.webGLAttribLocation=-1,this.gl=s,this.program=r,this.name=t,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});u.exports=p},26128:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t,n){this.webGLBuffer=null,this.gl=s,this.initialDataOrSize=r,this.bufferType=t,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var s=this.bufferType,r=a.createBuffer();this.webGLBuffer=r,a.bindBuffer(s,this.webGLBuffer),a.bufferData(s,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(s,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});u.exports=p},84387:(u,x,e)=>{var l=e(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new l({initialize:function(r,t,n,h,i){this.webGLFramebuffer=null,this.gl=r,this.width=t,this.height=n,this.renderTexture=h,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){var r=this.renderTexture,t=0,n=s.createFramebuffer();if(this.webGLFramebuffer=n,s.bindFramebuffer(s.FRAMEBUFFER,n),r.isRenderTexture=!0,r.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,r.webGLTexture,0),t=s.checkFramebufferStatus(s.FRAMEBUFFER),t!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[t]||t));if(this.addDepthStencilBuffer){var h=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,h),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,this.width,this.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,h)}s.bindFramebuffer(s.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var s=this.gl;if(!s.isContextLost()){s.bindFramebuffer(s.FRAMEBUFFER,this.webGLFramebuffer);var r=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);r!==null&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,null,0),s.deleteTexture(r));var t=s.getFramebufferAttachmentParameter(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);t!==null&&s.deleteRenderbuffer(t),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});u.exports=a},1482:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t){this.webGLProgram=null,this.gl=s,this.vertexSource=r,this.fragmentSource=t,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var s=a.createProgram(),r=a.createShader(a.VERTEX_SHADER),t=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(r,this.vertexSource),a.shaderSource(t,this.fragmentSource),a.compileShader(r),a.compileShader(t);var n=`Shader failed:
`;if(!a.getShaderParameter(r,a.COMPILE_STATUS))throw new Error("Vertex "+n+a.getShaderInfoLog(r));if(!a.getShaderParameter(t,a.COMPILE_STATUS))throw new Error("Fragment "+n+a.getShaderInfoLog(t));if(a.attachShader(s,r),a.attachShader(s,t),a.linkProgram(s),!a.getProgramParameter(s,a.LINK_STATUS))throw new Error("Link "+n+a.getProgramInfoLog(s));a.useProgram(s),this.webGLProgram=s}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});u.exports=p},82751:(u,x,e)=>{var l=e(83419),p=e(50030),a=new l({initialize:function(r,t,n,h,i,o,c,d,f,v,m,g,y){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=r,this.mipLevel=t,this.minFilter=n,this.magFilter=h,this.wrapT=i,this.wrapS=o,this.format=c,this.pixels=d,this.width=f,this.height=v,this.pma=m??!0,this.forceSize=!!g,this.flipY=!!y,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var s=this.gl;if(!s.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var r=s.createTexture();r.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=r,this._processTexture()}},update:function(s,r,t,n,h,i,o,c,d){if(!(r===0||t===0)){this.pixels=s,this.width=r,this.height=t,this.flipY=n,this.wrapS=h,this.wrapT=i,this.minFilter=o,this.magFilter=c,this.format=d;var f=this.gl;f.isContextLost()||this._processTexture()}},_processTexture:function(){var s=this.gl;s.activeTexture(s.TEXTURE0);var r=s.getParameter(s.TEXTURE_BINDING_2D);s.bindTexture(s.TEXTURE_2D,this.webGLTexture),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,this.minFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,this.magFilter),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,this.wrapS),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,this.wrapT),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,this.flipY);var t=this.pixels,n=this.mipLevel,h=this.width,i=this.height,o=this.format,c=!1;if(t==null)s.texImage2D(s.TEXTURE_2D,n,o,h,i,0,o,s.UNSIGNED_BYTE,null),c=p(h,i);else if(t.compressed){h=t.width,i=t.height,c=t.generateMipmap;for(var d=0;d<t.mipmaps.length;d++)s.compressedTexImage2D(s.TEXTURE_2D,d,t.internalFormat,t.mipmaps[d].width,t.mipmaps[d].height,0,t.mipmaps[d].data)}else t instanceof Uint8Array?(s.texImage2D(s.TEXTURE_2D,n,o,h,i,0,o,s.UNSIGNED_BYTE,t),c=p(h,i)):(this.forceSize||(h=t.width,i=t.height),s.texImage2D(s.TEXTURE_2D,n,o,o,s.UNSIGNED_BYTE,t),c=p(h,i));c&&s.generateMipmap(s.TEXTURE_2D),r?s.bindTexture(s.TEXTURE_2D,r):s.bindTexture(s.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(s){this.__SPECTOR_Metadata=s,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=s)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});u.exports=a},57183:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t){this.webGLUniformLocation=null,this.gl=s,this.program=r,this.name=t,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});u.exports=p},9503:(u,x,e)=>{var l={WebGLAttribLocationWrapper:e(93567),WebGLBufferWrapper:e(26128),WebGLProgramWrapper:e(1482),WebGLTextureWrapper:e(82751),WebGLFramebufferWrapper:e(84387),WebGLUniformLocationWrapper:e(57183)};u.exports=l},76531:(u,x,e)=>{var l=e(13560),p=e(83419),a=e(50792),s=e(97480),r=e(8443),t=e(57811),n=e(74403),h=e(45818),i=e(29747),o=e(87841),c=e(86555),d=e(56583),f=e(26099),v=e(38058),m=new p({Extends:a,initialize:function(y){a.call(this),this.game=y,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new f(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var g=this.game;this.canvas=g.canvas,this.fullscreen=g.device.fullscreen;var y=this.scaleMode;y!==l.SCALE_MODE.RESIZE&&y!==l.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(y),y===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),g.events.on(r.PRE_STEP,this.step,this),g.events.once(r.READY,this.refresh,this),g.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(g){this.getParent(g),this.getParentBounds();var y=g.width,T=g.height,C=g.scaleMode,E=g.zoom,z=g.autoRound;if(typeof y=="string")if(y.substr(-1)!=="%")y=parseInt(y,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var A=parseInt(y,10)/100;y=Math.floor(D*A)}if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var b=parseInt(T,10)/100;T=Math.floor(L*b)}this.scaleMode=C,this.autoRound=z,this.autoCenter=g.autoCenter,this.resizeInterval=g.resizeInterval,z&&(y=Math.floor(y),T=Math.floor(T)),this.gameSize.setSize(y,T),E===l.ZOOM.MAX_ZOOM&&(E=this.getMaxZoom()),this.zoom=E,E!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,T),z&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),g.minWidth>0&&this.displaySize.setMin(g.minWidth*E,g.minHeight*E),g.maxWidth>0&&this.displaySize.setMax(g.maxWidth*E,g.maxHeight*E),this.displaySize.setSize(y,T),(g.snapWidth>0||g.snapHeight>0)&&this.displaySize.setSnap(g.snapWidth,g.snapHeight),this.orientation=h(y,T)},getParent:function(g){var y=g.parent;if(y!==null){if(this.parent=n(y),this.parentIsWindow=this.parent===document.body,g.expandParent&&g.scaleMode!==l.SCALE_MODE.NONE){var T=this.parent.getBoundingClientRect();(this.parentIsWindow||T.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",T=this.parent.getBoundingClientRect(),!this.parentIsWindow&&T.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}g.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(g.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var g=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=t(!0));var T=y.width,C=y.height;if(g.width!==T||g.height!==C)return g.setSize(T,C),!0;if(this.canvas){var E=this.canvasBounds,z=this.canvas.getBoundingClientRect();if(z.x!==E.x||z.y!==E.y)return!0}return!1},lockOrientation:function(g){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,g):!1},setParentSize:function(g,y){return this.parentSize.setSize(g,y),this.refresh()},setGameSize:function(g,y){var T=this.autoRound;T&&(g=Math.floor(g),y=Math.floor(y));var C=this.width,E=this.height;return this.gameSize.resize(g,y),this.baseSize.resize(g,y),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(g/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(C,E)},resize:function(g,y){var T=this.zoom,C=this.autoRound;C&&(g=Math.floor(g),y=Math.floor(y));var E=this.width,z=this.height;this.gameSize.resize(g,y),this.baseSize.resize(g,y),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(g*T,y*T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,A=g*T,L=y*T;return C&&(A=Math.floor(A),L=Math.floor(L)),(A!==g||L!==y)&&(D.width=A+"px",D.height=L+"px"),this.refresh(E,z)},setZoom:function(g){return this.zoom=g,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(g,y){return g===void 0&&(g=0),y===void 0&&(y=g),this.displaySize.setSnap(g,y),this.refresh()},refresh:function(g,y){g===void 0&&(g=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var T=this.game.domContainer;if(T){this.baseSize.setCSS(T);var C=this.canvas.style,E=T.style;E.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",E.marginLeft=C.marginLeft,E.marginTop=C.marginTop}return this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,g,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var g=h(this.width,this.height);g!==this.orientation&&(this.orientation=g,this.emit(s.ORIENTATION_CHANGE,g))}},updateScale:function(){var g=this.canvas.style,y=this.gameSize.width,T=this.gameSize.height,C,E,z=this.zoom,D=this.autoRound;if(this.scaleMode===l.SCALE_MODE.NONE)this.displaySize.setSize(y*z,T*z),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),this._resetZoom&&(g.width=C+"px",g.height=E+"px",this._resetZoom=!1);else if(this.scaleMode===l.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),this.canvas.width=C,this.canvas.height=E;else if(this.scaleMode===l.SCALE_MODE.EXPAND){var A=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),g.width=C+"px",g.height=E+"px";var b=this.parentSize.width/A,F=this.parentSize.height/L;b<F&&b!==0?this.baseSize.setSize(A,this.parentSize.height/b):F!==0&&this.baseSize.setSize(this.displaySize.width/F,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),C=this.baseSize.width,E=this.baseSize.height,D&&(C=Math.floor(C),E=Math.floor(E)),this.canvas.width=C,this.canvas.height=E}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),g.width=C+"px",g.height=E+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var g=d(this.parentSize.width,this.gameSize.width,0,!0),y=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(g,y),1)},updateCenter:function(){var g=this.autoCenter;if(g!==l.CENTER.NO_CENTER){var y=this.canvas,T=y.style,C=y.getBoundingClientRect(),E=C.width,z=C.height,D=Math.floor((this.parentSize.width-E)/2),A=Math.floor((this.parentSize.height-z)/2);g===l.CENTER.CENTER_HORIZONTALLY?A=0:g===l.CENTER.CENTER_VERTICALLY&&(D=0),T.marginLeft=D+"px",T.marginTop=A+"px"}},updateBounds:function(){var g=this.canvasBounds,y=this.canvas.getBoundingClientRect();g.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),g.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),g.width=y.width,g.height=y.height},transformX:function(g){return(g-this.canvasBounds.left)*this.displayScale.x},transformY:function(g){return(g-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(g){g===void 0&&(g={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(s.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var T=this.getFullscreenTarget();y.keyboard?T[y.request](Element.ALLOW_KEYBOARD_INPUT):T[y.request](g)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(g){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,g)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var g=document.createElement("div");g.style.margin="0",g.style.padding="0",g.style.width="100%",g.style.height="100%",this.fullscreenTarget=g,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var g=this.fullscreenTarget;if(g&&g.parentNode){var y=g.parentNode;y.insertBefore(this.canvas,g),y.removeChild(g)}}},stopFullscreen:function(){var g=this.fullscreen;if(!g.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;g.active&&document[g.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(g){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(g)},startListeners:function(){var g=this,y=this.domlisteners;if(y.orientationChange=function(){g.updateBounds(),g._checkOrientation=!0,g.dirty=!0,g.refresh()},y.windowResize=function(){g.updateBounds(),g.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",y.orientationChange,!1):window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(C){return g.onFullScreenChange(C)},y.fullScreenError=function(C){return g.onFullScreenError(C)};var T=["webkit","moz",""];T.forEach(function(C){document.addEventListener(C+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(C+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(g,y){g instanceof v||(y=g,g=void 0),y===void 0&&(y=new o);var T=this.baseSize,C=this.parentSize,E=this.canvasBounds,z=this.displayScale,D=E.x>=0?0:-(E.x*z.x),A=E.y>=0?0:-(E.y*z.y),L;C.width>=E.width?L=T.width:L=T.width-(E.width-C.width)*z.x;var b;return C.height>=E.height?b=T.height:b=T.height-(E.height-C.height)*z.y,y.setTo(D,A,L,b),g&&(y.width/=g.zoomX,y.height/=g.zoomY,y.centerX=g.centerX+g.scrollX,y.centerY=g.centerY+g.scrollY),y},step:function(g,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var g=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",g.orientationChange,!1):window.removeEventListener("orientationchange",g.orientationChange,!1),window.removeEventListener("resize",g.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(T){document.removeEventListener(T+"fullscreenchange",g.fullScreenChange,!1),document.removeEventListener(T+"fullscreenerror",g.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",g.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});u.exports=m},64743:u=>{u.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:u=>{u.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:u=>{u.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:u=>{u.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(u,x,e)=>{var l={CENTER:e(64743),ORIENTATION:e(39218),SCALE_MODE:e(81050),ZOOM:e(80805)};u.exports=l},56139:u=>{u.exports="enterfullscreen"},2336:u=>{u.exports="fullscreenfailed"},47412:u=>{u.exports="fullscreenunsupported"},51452:u=>{u.exports="leavefullscreen"},20666:u=>{u.exports="orientationchange"},47945:u=>{u.exports="resize"},97480:(u,x,e)=>{u.exports={ENTER_FULLSCREEN:e(56139),FULLSCREEN_FAILED:e(2336),FULLSCREEN_UNSUPPORTED:e(47412),LEAVE_FULLSCREEN:e(51452),ORIENTATION_CHANGE:e(20666),RESIZE:e(47945)}},93364:(u,x,e)=>{var l=e(79291),p=e(13560),a={Center:e(64743),Events:e(97480),Orientation:e(39218),ScaleManager:e(76531),ScaleModes:e(81050),Zoom:e(80805)};a=l(!1,a,p.CENTER),a=l(!1,a,p.ORIENTATION),a=l(!1,a,p.SCALE_MODE),a=l(!1,a,p.ZOOM),u.exports=a},27397:(u,x,e)=>{var l=e(95540),p=e(35355),a=function(s){var r=s.game.config.defaultPhysicsSystem,t=l(s.settings,"physics",!1);if(!(!r&&!t)){var n=[];if(r&&n.push(p(r+"Physics")),t)for(var h in t)h=p(h.concat("Physics")),n.indexOf(h)===-1&&n.push(h);return n}};u.exports=a},52106:(u,x,e)=>{var l=e(95540),p=function(a){var s=a.plugins.getDefaultScenePlugins(),r=l(a.settings,"plugins",!1);return Array.isArray(r)?r:s||[]};u.exports=p},87033:u=>{var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};u.exports=x},97482:(u,x,e)=>{var l=e(83419),p=e(2368),a=new l({initialize:function(r){this.sys=new p(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});u.exports=a},60903:(u,x,e)=>{var l=e(83419),p=e(89993),a=e(44594),s=e(8443),r=e(35154),t=e(54899),n=e(29747),h=e(97482),i=e(2368),o=new l({initialize:function(d,f){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,f){Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++)this._pending.push({key:"default",scene:f[v],autoStart:v===0,data:{}})}d.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h),this.game.events.emit(s.SYSTEM_READY,this.systemScene,this);var c,d,f,v;for(c=0;c<this._pending.length;c++){d=this._pending[c],f=d.key,v=d.scene;var m;v instanceof h?m=this.createSceneFromInstance(f,v):typeof v=="object"?m=this.createSceneFromObject(f,v):typeof v=="function"&&(m=this.createSceneFromFunction(f,v)),f=m.sys.settings.key,this.keys[f]=m,this.scenes.push(m),this._data[f]&&(m.sys.settings.data=this._data[f].data,this._data[f].autoStart&&(d.autoStart=!0)),(d.autoStart||m.sys.settings.active)&&this._start.push(f)}for(this._pending.length=0,this._data={},this.isBooted=!0,c=0;c<this._start.length;c++)d=this._start[c],this.start(d);this._start.length=0}},processQueue:function(){var c=this._pending.length,d=this._queue.length;if(!(c===0&&d===0)){var f,v;if(c){for(f=0;f<c;f++)v=this._pending[f],this.add(v.key,v.scene,v.autoStart,v.data);for(f=0;f<this._start.length;f++)v=this._start[f],this.start(v);this._start.length=0,this._pending.length=0}for(f=0;f<this._queue.length;f++)v=this._queue[f],this[v.op](v.keyA,v.keyB,v.data);this._queue.length=0}},add:function(c,d,f,v){if(f===void 0&&(f=!1),v===void 0&&(v={}),this.isProcessing||!this.isBooted)return this._pending.push({key:c,scene:d,autoStart:f,data:v}),this.isBooted||(this._data[c]={data:v}),null;c=this.getKey(c,d);var m;return d instanceof h?m=this.createSceneFromInstance(c,d):typeof d=="object"?(d.key=c,m=this.createSceneFromObject(c,d)):typeof d=="function"&&(m=this.createSceneFromFunction(c,d)),m.sys.settings.data=v,c=m.sys.settings.key,this.keys[c]=m,this.scenes.push(m),(f||m.sys.settings.active)&&(this._pending.length?this._start.push(c):this.start(c)),m},remove:function(c){if(this.isProcessing)return this.queueOp("remove",c);var d=this.getScene(c);if(!d||d.sys.isTransitioning())return this;var f=this.scenes.indexOf(d),v=d.sys.settings.key;return f>-1&&(delete this.keys[v],this.scenes.splice(f,1),this._start.indexOf(v)>-1&&(f=this._start.indexOf(v),this._start.splice(f,1)),d.sys.destroy()),this},bootScene:function(c){var d=c.sys,f=d.settings;d.sceneUpdate=n,c.init&&(c.init.call(c,f.data),f.status=p.INIT,f.isTransition&&d.events.emit(a.TRANSITION_INIT,f.transitionFrom,f.transitionDuration));var v;d.load&&(v=d.load,v.reset()),v&&c.preload?(c.preload.call(c),f.status=p.LOADING,v.once(t.COMPLETE,this.loadComplete,this),v.start()):this.create(c)},loadComplete:function(c){this.create(c.scene)},payloadComplete:function(c){this.bootScene(c.scene)},update:function(c,d){this.processQueue(),this.isProcessing=!0;for(var f=this.scenes.length-1;f>=0;f--){var v=this.scenes[f].sys;v.settings.status>p.START&&v.settings.status<=p.RUNNING&&v.step(c,d),v.scenePlugin&&v.scenePlugin._target&&v.scenePlugin.step(c,d)}},render:function(c){for(var d=0;d<this.scenes.length;d++){var f=this.scenes[d].sys;f.settings.visible&&f.settings.status>=p.LOADING&&f.settings.status<p.SLEEPING&&f.render(c)}this.isProcessing=!1},create:function(c){var d=c.sys,f=d.settings;c.create&&(f.status=p.CREATING,c.create.call(c,f.data),f.status===p.DESTROYED)||(f.isTransition&&d.events.emit(a.TRANSITION_START,f.transitionFrom,f.transitionDuration),c.update&&(d.sceneUpdate=c.update),f.status=p.RUNNING,d.events.emit(a.CREATE,c))},createSceneFromFunction:function(c,d){var f=new d;if(f instanceof h){var v=f.sys.settings.key;if(v!==""&&(c=v),this.keys.hasOwnProperty(c))throw new Error("Cannot add Scene with duplicate key: "+c);return this.createSceneFromInstance(c,f)}else return f.sys=new i(f),f.sys.settings.key=c,f.sys.init(this.game),f},createSceneFromInstance:function(c,d){var f=d.sys.settings.key;return f===""&&(d.sys.settings.key=c),d.sys.init(this.game),d},createSceneFromObject:function(c,d){var f=new h(d),v=f.sys.settings.key;v!==""?c=v:f.sys.settings.key=c,f.sys.init(this.game);for(var m=["init","preload","create","update","render"],g=0;g<m.length;g++){var y=r(d,m[g],null);y&&(f[m[g]]=y)}if(d.hasOwnProperty("extend")){for(var T in d.extend)if(d.extend.hasOwnProperty(T)){var C=d.extend[T];T==="data"&&f.hasOwnProperty("data")&&typeof C=="object"?f.data.merge(C):T!=="sys"&&(f[T]=C)}}return f},getKey:function(c,d){if(c||(c="default"),typeof d=="function")return c;if(d instanceof h?c=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(c=d.key),this.keys.hasOwnProperty(c))throw new Error("Cannot add Scene with duplicate key: "+c);return c},getScenes:function(c,d){c===void 0&&(c=!0),d===void 0&&(d=!1);for(var f=[],v=this.scenes,m=0;m<v.length;m++){var g=v[m];g&&(!c||c&&g.sys.isActive())&&f.push(g)}return d?f.reverse():f},getScene:function(c){if(typeof c=="string"){if(this.keys[c])return this.keys[c]}else for(var d=0;d<this.scenes.length;d++)if(c===this.scenes[d])return c;return null},isActive:function(c){var d=this.getScene(c);return d?d.sys.isActive():null},isPaused:function(c){var d=this.getScene(c);return d?d.sys.isPaused():null},isVisible:function(c){var d=this.getScene(c);return d?d.sys.isVisible():null},isSleeping:function(c){var d=this.getScene(c);return d?d.sys.isSleeping():null},pause:function(c,d){var f=this.getScene(c);return f&&f.sys.pause(d),this},resume:function(c,d){var f=this.getScene(c);return f&&f.sys.resume(d),this},sleep:function(c,d){var f=this.getScene(c);return f&&!f.sys.isTransitioning()&&f.sys.sleep(d),this},wake:function(c,d){var f=this.getScene(c);return f&&f.sys.wake(d),this},run:function(c,d){var f=this.getScene(c);if(!f){for(var v=0;v<this._pending.length;v++)if(this._pending[v].key===c){this.queueOp("start",c,d);break}return this}f.sys.isSleeping()?f.sys.wake(d):f.sys.isPaused()?f.sys.resume(d):this.start(c,d)},start:function(c,d){if(!this.isBooted)return this._data[c]={autoStart:!0,data:d},this;var f=this.getScene(c);if(!f)return console.warn("Scene key not found: "+c),this;var v=f.sys,m=v.settings.status;if(m>=p.START&&m<=p.CREATING)return this;if(m>=p.RUNNING&&m<=p.SLEEPING)v.shutdown(),v.sceneUpdate=n,v.start(d);else{v.sceneUpdate=n,v.start(d);var g;if(v.load&&(g=v.load),g&&v.settings.hasOwnProperty("pack")&&(g.reset(),g.addPack({payload:v.settings.pack})))return v.settings.status=p.LOADING,g.once(t.COMPLETE,this.payloadComplete,this),g.start(),this}return this.bootScene(f),this},stop:function(c,d){var f=this.getScene(c);if(f&&!f.sys.isTransitioning()&&f.sys.settings.status!==p.SHUTDOWN){var v=f.sys.load;v&&(v.off(t.COMPLETE,this.loadComplete,this),v.off(t.COMPLETE,this.payloadComplete,this)),f.sys.shutdown(d)}return this},switch:function(c,d,f){var v=this.getScene(c),m=this.getScene(d);return v&&m&&v!==m&&(this.sleep(c),this.isSleeping(d)?this.wake(d,f):this.start(d,f)),this},getAt:function(c){return this.scenes[c]},getIndex:function(c){var d=this.getScene(c);return this.scenes.indexOf(d)},bringToTop:function(c){if(this.isProcessing)return this.queueOp("bringToTop",c);var d=this.getIndex(c),f=this.scenes;if(d!==-1&&d<f.length){var v=this.getScene(c);f.splice(d,1),f.push(v)}return this},sendToBack:function(c){if(this.isProcessing)return this.queueOp("sendToBack",c);var d=this.getIndex(c);if(d!==-1&&d>0){var f=this.getScene(c);this.scenes.splice(d,1),this.scenes.unshift(f)}return this},moveDown:function(c){if(this.isProcessing)return this.queueOp("moveDown",c);var d=this.getIndex(c);if(d>0){var f=d-1,v=this.getScene(c),m=this.getAt(f);this.scenes[d]=m,this.scenes[f]=v}return this},moveUp:function(c){if(this.isProcessing)return this.queueOp("moveUp",c);var d=this.getIndex(c);if(d<this.scenes.length-1){var f=d+1,v=this.getScene(c),m=this.getAt(f);this.scenes[d]=m,this.scenes[f]=v}return this},moveAbove:function(c,d){if(c===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",c,d);var f=this.getIndex(c),v=this.getIndex(d);if(f!==-1&&v!==-1&&v<f){var m=this.getAt(v);this.scenes.splice(v,1),this.scenes.splice(f+(v>f),0,m)}return this},moveBelow:function(c,d){if(c===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",c,d);var f=this.getIndex(c),v=this.getIndex(d);if(f!==-1&&v!==-1&&v>f){var m=this.getAt(v);this.scenes.splice(v,1),f===0?this.scenes.unshift(m):this.scenes.splice(f-(v<f),0,m)}return this},queueOp:function(c,d,f,v){return this._queue.push({op:c,keyA:d,keyB:f,data:v}),this},swapPosition:function(c,d){if(c===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",c,d);var f=this.getIndex(c),v=this.getIndex(d);if(f!==v&&f!==-1&&v!==-1){var m=this.getAt(f);this.scenes[f]=this.scenes[v],this.scenes[v]=m}return this},dump:function(){for(var c=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],f=0;f<this.scenes.length;f++){var v=this.scenes[f].sys,m=v.settings.visible&&(v.settings.status===p.RUNNING||v.settings.status===p.PAUSED)?"[*] ":"[-] ";m+=v.settings.key+" ("+d[v.settings.status]+")",c.push(m)}console.log(c.join(`
`))},destroy:function(){for(var c=0;c<this.scenes.length;c++){var d=this.scenes[c].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});u.exports=o},52209:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(44594),s=e(95540),r=e(37277),t=new p({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,h),this},restart:function(n){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,n),this},transition:function(n){n===void 0&&(n={});var h=s(n,"target",!1),i=this.manager.getScene(h);if(!h||!this.checkValidTransition(i))return!1;var o=s(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=o,this._willSleep=s(n,"sleep",!1),this._willRemove=s(n,"remove",!1);var c=s(n,"onUpdate",null);c&&(this._onUpdate=c,this._onUpdateScope=s(n,"onUpdateScope",this.scene));var d=s(n,"allowInput",!1);this.settings.transitionAllowInput=d;var f=i.sys.settings;f.isTransition=!0,f.transitionFrom=this.scene,f.transitionDuration=o,f.transitionAllowInput=d,s(n,"moveAbove",!1)?this.manager.moveAbove(this.key,h):s(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),i.sys.isSleeping()?i.sys.wake(s(n,"data")):this.manager.start(h,s(n,"data"));var v=s(n,"onStart",null),m=s(n,"onStartScope",this.scene);return v&&v.call(m,this.scene,i,o),this.systems.events.emit(a.TRANSITION_OUT,i,o),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,h){this._elapsed+=h,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,h=this._target.sys.settings;n.events.emit(a.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,h,i,o){return this.manager.add(n,h,i,o)},launch:function(n,h){return n&&n!==this.key&&this.manager.queueOp("start",n,h),this},run:function(n,h){return n&&n!==this.key&&this.manager.queueOp("run",n,h),this},pause:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,h),this},resume:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,h),this},sleep:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,h),this},wake:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,h),this},switch:function(n,h){return n!==this.key&&this.manager.queueOp("switch",this.key,n,h),this},stop:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,h),this},setActive:function(n,h,i){h===void 0&&(h=this.key);var o=this.manager.getScene(h);return o&&o.sys.setActive(n,i),this},setVisible:function(n,h){h===void 0&&(h=this.key);var i=this.manager.getScene(h);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.swapPosition(n,h),this},moveAbove:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveAbove(n,h),this},moveBelow:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveBelow(n,h),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var h=this.manager.getScene(n);if(h)return h.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(a.SHUTDOWN,this.shutdown,this),n.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",t,"scenePlugin"),u.exports=t},55681:(u,x,e)=>{var l=e(89993),p=e(35154),a=e(46975),s=e(87033),r={create:function(t){return typeof t=="string"?t={key:t}:t===void 0&&(t={}),{status:l.PENDING,key:p(t,"key",""),active:p(t,"active",!1),visible:p(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(t,"pack",!1),cameras:p(t,"cameras",null),map:p(t,"map",a(s,p(t,"mapAdd",{}))),physics:p(t,"physics",{}),loader:p(t,"loader",{}),plugins:p(t,"plugins",!1),input:p(t,"input",{})}}};u.exports=r},2368:(u,x,e)=>{var l=e(83419),p=e(89993),a=e(42363),s=e(44594),r=e(27397),t=e(52106),n=e(29747),h=e(55681),i=new l({initialize:function(c,d){this.scene=c,this.game,this.renderer,this.config=d,this.settings=h.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(o){this.settings.status=p.INIT,this.sceneUpdate=n,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var c=o.plugins;this.plugins=c,c.addToScene(this,a.Global,[a.CoreScene,t(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(o,c){var d=this.events;d.emit(s.PRE_UPDATE,o,c),d.emit(s.UPDATE,o,c),this.sceneUpdate.call(this.scene,o,c),d.emit(s.POST_UPDATE,o,c)},render:function(o){var c=this.displayList;c.depthSort(),this.events.emit(s.PRE_RENDER,o),this.cameras.render(o,c),this.events.emit(s.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var c=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot pause non-running Scene",c.key):this.settings.active&&(c.status=p.PAUSED,c.active=!1,this.events.emit(s.PAUSE,this,o)),this},resume:function(o){var c=this.events,d=this.settings;return this.settings.active||(d.status=p.RUNNING,d.active=!0,c.emit(s.RESUME,this,o)),this},sleep:function(o){var c=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot sleep non-running Scene",c.key):(c.status=p.SLEEPING,c.active=!1,c.visible=!1,this.events.emit(s.SLEEP,this,o)),this},wake:function(o){var c=this.events,d=this.settings;return d.status=p.RUNNING,d.active=!0,d.visible=!0,c.emit(s.WAKE,this,o),d.isTransition&&c.emit(s.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>p.PENDING&&o<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,c){return o?this.resume(c):this.pause(c)},start:function(o){var c=this.events,d=this.settings;o&&(d.data=o),d.status=p.START,d.active=!0,d.visible=!0,c.emit(s.START,this),c.emit(s.READY,this,o)},shutdown:function(o){var c=this.events,d=this.settings;c.off(s.TRANSITION_INIT),c.off(s.TRANSITION_START),c.off(s.TRANSITION_COMPLETE),c.off(s.TRANSITION_OUT),d.status=p.SHUTDOWN,d.active=!1,d.visible=!1,c.emit(s.SHUTDOWN,this,o)},destroy:function(){var o=this.events,c=this.settings;c.status=p.DESTROYED,c.active=!1,c.visible=!1,o.emit(s.DESTROY,this),o.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],f=0;f<d.length;f++)this[d[f]]=null}});u.exports=i},89993:u=>{var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};u.exports=x},69830:u=>{u.exports="addedtoscene"},7919:u=>{u.exports="boot"},46763:u=>{u.exports="create"},11763:u=>{u.exports="destroy"},71555:u=>{u.exports="pause"},36735:u=>{u.exports="postupdate"},3809:u=>{u.exports="prerender"},90716:u=>{u.exports="preupdate"},58262:u=>{u.exports="ready"},91633:u=>{u.exports="removedfromscene"},10319:u=>{u.exports="render"},87132:u=>{u.exports="resume"},81961:u=>{u.exports="shutdown"},90194:u=>{u.exports="sleep"},6265:u=>{u.exports="start"},33178:u=>{u.exports="transitioncomplete"},43063:u=>{u.exports="transitioninit"},11259:u=>{u.exports="transitionout"},61611:u=>{u.exports="transitionstart"},45209:u=>{u.exports="transitionwake"},22966:u=>{u.exports="update"},21747:u=>{u.exports="wake"},44594:(u,x,e)=>{u.exports={ADDED_TO_SCENE:e(69830),BOOT:e(7919),CREATE:e(46763),DESTROY:e(11763),PAUSE:e(71555),POST_UPDATE:e(36735),PRE_RENDER:e(3809),PRE_UPDATE:e(90716),READY:e(58262),REMOVED_FROM_SCENE:e(91633),RENDER:e(10319),RESUME:e(87132),SHUTDOWN:e(81961),SLEEP:e(90194),START:e(6265),TRANSITION_COMPLETE:e(33178),TRANSITION_INIT:e(43063),TRANSITION_OUT:e(11259),TRANSITION_START:e(61611),TRANSITION_WAKE:e(45209),UPDATE:e(22966),WAKE:e(21747)}},62194:(u,x,e)=>{var l=e(89993),p=e(79291),a={Events:e(44594),GetPhysicsPlugins:e(27397),GetScenePlugins:e(52106),SceneManager:e(60903),ScenePlugin:e(52209),Settings:e(55681),Systems:e(2368)};a=p(!1,a,l),u.exports=a},30341:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(14463),s=e(79291),r=e(29747),t=new l({Extends:p,initialize:function(h,i,o){p.call(this),this.manager=h,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=s(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=s(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var h=this.markers[n];return h?(this.markers[n]=null,h):null},play:function(n,h){if(n===void 0&&(n=""),typeof n=="object"&&(h=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var n=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,h);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});u.exports=t},85034:(u,x,e)=>{var l=e(83419),p=e(41786),a=e(50792),s=e(14463),r=e(8443),t=e(46710),n=e(58731),h=e(29747),i=e(26099),o=new l({Extends:a,initialize:function(d){a.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,d.events.on(r.BLUR,this.onGameBlur,this),d.events.on(r.FOCUS,this.onGameFocus,this),d.events.on(r.PRE_STEP,this.update,this),d.events.once(r.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(c,d){d===void 0&&(d={});var f=this.add(c,d);f.spritemap=this.jsonCache.get(c).spritemap;for(var v in f.spritemap)if(f.spritemap.hasOwnProperty(v)){var m=p(d),g=f.spritemap[v];m.loop=g.hasOwnProperty("loop")?g.loop:!1,f.addMarker({name:v,start:g.start,duration:g.end-g.start,config:m})}return f},get:function(c){return n(this.sounds,"key",c)},getAll:function(c){return c?t(this.sounds,"key",c):t(this.sounds)},getAllPlaying:function(){return t(this.sounds,"isPlaying",!0)},play:function(c,d){var f=this.add(c);return f.once(s.COMPLETE,f.destroy,f),d?d.name?(f.addMarker(d),f.play(d.name)):f.play(d):f.play()},playAudioSprite:function(c,d,f){var v=this.addAudioSprite(c);return v.once(s.COMPLETE,v.destroy,v),v.play(d,f)},remove:function(c){var d=this.sounds.indexOf(c);return d!==-1?(c.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(c){c.destroy()}),this.sounds.length=0},removeByKey:function(c){for(var d=0,f=this.sounds.length-1;f>=0;f--){var v=this.sounds[f];v.key===c&&(v.destroy(),this.sounds.splice(f,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(c){c.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(c){c.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(c){c.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(c){var d=0;return this.getAll(c).forEach(function(f){f.stop()&&d++}),d},isPlaying:function(c){var d=this.sounds,f=d.length-1,v;if(c===void 0){for(;f>=0;f--)if(v=this.sounds[f],v.isPlaying)return!0}else for(;f>=0;f--)if(v=this.sounds[f],v.key===c&&v.isPlaying)return!0;return!1},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(c,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var f=this.sounds.length-1;f>=0;f--)this.sounds[f].pendingRemove&&this.sounds.splice(f,1);this.sounds.forEach(function(v){v.update(c,d)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(c,d){var f=this;this.sounds.forEach(function(v,m){v&&!v.pendingRemove&&c.call(d||f,v,m,f.sounds)})},setRate:function(c){return this.rate=c,this},rate:{get:function(){return this._rate},set:function(c){this._rate=c,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_RATE,this,c)}},setDetune:function(c){return this.detune=c,this},detune:{get:function(){return this._detune},set:function(c){this._detune=c,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,c)}}});u.exports=o},14747:(u,x,e)=>{var l=e(33684),p=e(25960),a=e(57490),s={create:function(r){var t=r.config.audio,n=r.device.audio;return t.noAudio||!n.webAudio&&!n.audioData?new p(r):n.webAudio&&!t.disableWebAudio?new a(r):new l(r)}};u.exports=s},19723:u=>{u.exports="complete"},98882:u=>{u.exports="decodedall"},57506:u=>{u.exports="decoded"},73146:u=>{u.exports="destroy"},11305:u=>{u.exports="detune"},40577:u=>{u.exports="detune"},30333:u=>{u.exports="mute"},20394:u=>{u.exports="rate"},21802:u=>{u.exports="volume"},1299:u=>{u.exports="looped"},99190:u=>{u.exports="loop"},97125:u=>{u.exports="mute"},89259:u=>{u.exports="pan"},79986:u=>{u.exports="pauseall"},17586:u=>{u.exports="pause"},19618:u=>{u.exports="play"},42306:u=>{u.exports="rate"},10387:u=>{u.exports="resumeall"},48959:u=>{u.exports="resume"},9960:u=>{u.exports="seek"},19180:u=>{u.exports="stopall"},98328:u=>{u.exports="stop"},50401:u=>{u.exports="unlocked"},52498:u=>{u.exports="volume"},14463:(u,x,e)=>{u.exports={COMPLETE:e(19723),DECODED:e(57506),DECODED_ALL:e(98882),DESTROY:e(73146),DETUNE:e(11305),GLOBAL_DETUNE:e(40577),GLOBAL_MUTE:e(30333),GLOBAL_RATE:e(20394),GLOBAL_VOLUME:e(21802),LOOP:e(99190),LOOPED:e(1299),MUTE:e(97125),PAN:e(89259),PAUSE_ALL:e(79986),PAUSE:e(17586),PLAY:e(19618),RATE:e(42306),RESUME_ALL:e(10387),RESUME:e(48959),SEEK:e(9960),STOP_ALL:e(19180),STOP:e(98328),UNLOCKED:e(50401),VOLUME:e(52498)}},64895:(u,x,e)=>{var l=e(30341),p=e(83419),a=e(14463),s=e(45319),r=new p({Extends:l,initialize:function(n,h,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,n,h,i)},play:function(t,n){return this.manager.isLocked(this,"play",[t,n])||!l.prototype.play.call(this,t,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,n=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var n=this.tags[t];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&h.push(o)},this),h.sort(function(o,c){return o.loop===c.loop?c.seek/c.duration-o.seek/o.duration:o.loop?1:-1});var i=h[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t){if(this.isPlaying){if(this.startTime>0){this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,h=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=h-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-h),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,!this.manager.isLocked(this,"mute",t)&&(this.updateMute(),this.emit(a.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,!this.manager.isLocked(this,"volume",t)&&(this.updateVolume(),this.emit(a.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,!this.manager.isLocked(this,a.RATE,t)&&(this.calculateRate(),this.emit(a.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,!this.manager.isLocked(this,a.DETUNE,t)&&(this.calculateRate(),this.emit(a.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(a.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,!this.manager.isLocked(this,"loop",t)&&(this.audio&&(this.audio.loop=t),this.emit(a.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.currentConfig.pan},set:function(t){this.currentConfig.pan=t,this.emit(a.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});u.exports=r},33684:(u,x,e)=>{var l=e(85034),p=e(83419),a=e(14463),s=e(64895),r=new p({Extends:l,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,n)},add:function(t,n){var h=new s(this,t,n);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each(function(o,c){for(var d=0;d<c.length;d++)if(c[d].dataset.locked==="true")return t.locked=!0,!1;return!0}),!!this.locked){var n=!1,h=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",i);var o=[];if(t.game.cache.audio.entries.each(function(d,f){for(var v=0;v<f.length;v++){var m=f[v];m.dataset.locked==="true"&&o.push(m)}return!0}),o.length!==0){var c=o[o.length-1];c.oncanplaythrough=function(){c.oncanplaythrough=null,o.forEach(function(d){d.dataset.locked="false"}),t.unlocked=!0},o.forEach(function(d){d.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(c){c.currentMarker===null&&c.duration===0&&(c.duration=c.tags[0].duration),c.totalDuration=c.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,n,h){return t.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:t,prop:n,value:h}),!0):!1},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(a.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,t)}}});u.exports=r},23717:(u,x,e)=>{u.exports={SoundManagerCreator:e(14747),Events:e(14463),BaseSound:e(30341),BaseSoundManager:e(85034),WebAudioSound:e(71741),WebAudioSoundManager:e(57490),HTML5AudioSound:e(64895),HTML5AudioSoundManager:e(33684),NoAudioSound:e(4603),NoAudioSoundManager:e(25960)}},4603:(u,x,e)=>{var l=e(30341),p=e(83419),a=e(50792),s=e(79291),r=e(29747),t=function(){return!1},n=function(){return null},h=function(){return this},i=new p({Extends:a,initialize:function(c,d,f){f===void 0&&(f={}),a.call(this),this.manager=c,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},f),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:t,updateMarker:t,removeMarker:n,play:t,pause:t,resume:t,stop:t,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:n,resetConfig:n,update:r,calculateRate:n,destroy:function(){l.prototype.destroy.call(this)}});u.exports=i},25960:(u,x,e)=>{var l=e(85034),p=e(83419),a=e(50792),s=e(4603),r=e(29747),t=new p({Extends:a,initialize:function(h){a.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,h){var i=new s(this,n,h);return this.sounds.push(i),i},addAudioSprite:function(n,h){var i=this.add(n,h);return i.spritemap={},i},get:function(n){return l.prototype.get.call(this,n)},getAll:function(n){return l.prototype.getAll.call(this,n)},play:function(n,h){return!1},playAudioSprite:function(n,h,i){return!1},remove:function(n){return l.prototype.remove.call(this,n)},removeAll:function(){return l.prototype.removeAll.call(this)},removeByKey:function(n){return l.prototype.removeByKey.call(this,n)},stopByKey:function(n){return l.prototype.stopByKey.call(this,n)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(n,h){l.prototype.forEachActiveSound.call(this,n,h)},destroy:function(){l.prototype.destroy.call(this)}});u.exports=t},71741:(u,x,e)=>{var l=e(30341),p=e(83419),a=e(14463),s=e(95540),r=new p({Extends:l,initialize:function(n,h,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,n,h,i)},play:function(t,n){return l.prototype.play.call(this,t,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return l.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var t=this.currentConfig.seek,n=this.currentConfig.delay,h=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+t,o=this.duration-t;this.playTime=h-t,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,i),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,n),Math.max(0,h))},createBufferSource:function(){var t=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(h){var i=h.target;(i===t.source||i===t.loopSource)&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var t=this.source;this.source=null,t.stop(),t.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var t=this.currentConfig.source;if(t&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=s(t,"panningModel","equalpower"),n.distanceModel=s(t,"distanceModel","inverse"),n.orientationX.value=s(t,"orientationX",0),n.orientationY.value=s(t,"orientationY",0),n.orientationZ.value=s(t,"orientationZ",-1),n.refDistance=s(t,"refDistance",1),n.maxDistance=s(t,"maxDistance",1e4),n.rolloffFactor=s(t,"rolloffFactor",1),n.coneInnerAngle=s(t,"coneInnerAngle",360),n.coneOuterAngle=s(t,"coneOuterAngle",0),n.coneOuterGain=s(t,"coneOuterGain",0),this.spatialSource=s(t,"follow",null),this.spatialSource||(n.positionX.value=s(t,"x",0),n.positionY.value=s(t,"y",0),n.positionZ.value=s(t,"z",0))}l.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(t){this.spatialNode&&(this.spatialNode.positionX.value=t)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(t){this.spatialNode&&(this.spatialNode.positionY.value=t)}},update:function(){if(this.isPlaying&&this.spatialSource){var t=s(this.spatialSource,"x",null),n=s(this.spatialSource,"y",null);t&&t!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=t),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){l.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,n=0;n<this.rateUpdates.length;n++){var h=0;n<this.rateUpdates.length-1?h=this.rateUpdates[n+1].time:h=this.manager.context.currentTime-this.playTime,t+=(h-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return t},getLoopTime:function(){for(var t=0,n=0;n<this.rateUpdates.length-1;n++)t+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-t)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit(a.RATE,this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit(a.DETUNE,this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit(a.MUTE,this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit(a.VOLUME,this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,t)}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(t){this.currentConfig.pan=t,this.pannerNode&&this.pannerNode.pan.setValueAtTime(t,this.manager.context.currentTime),this.emit(a.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});u.exports=r},57490:(u,x,e)=>{var l=e(53134),p=e(85034),a=e(83419),s=e(14463),r=e(8443),t=e(71741),n=e(95540),h=new a({Extends:p,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),p.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(i){var o=i.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,o){var c=new t(this,i,o);return this.sounds.push(c),c},decodeAudio:function(i,o){var c;Array.isArray(i)?c=i:c=[{key:i,data:o}];for(var d=this.game.cache.audio,f=c.length,v=0;v<c.length;v++){var m=c[v],g=m.key,y=m.data;typeof y=="string"&&(y=l(y));var T=function(E,z){d.add(E,z),this.emit(s.DECODED,E),f--,f===0&&this.emit(s.DECODED_ALL)}.bind(this,g),C=function(E,z){console.error("Error decoding audio: "+E+" - ",z?z.message:""),f--,f===0&&this.emit(s.DECODED_ALL)}.bind(this,g);this.context.decodeAudioData(y,T,C)}},setListenerPosition:function(i,o){return i===void 0&&(i=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(i,o),this},unlock:function(){var i=this,o=document.body,c=function d(){if(i.context&&o){var f=o.removeEventListener.bind(o);i.context.resume().then(function(){f("touchstart",d),f("touchend",d),f("click",d),f("keydown",d),i.unlocked=!0},function(){f("touchstart",d),f("touchend",d),f("click",d),f("keydown",d)})}};o&&(o.addEventListener("touchstart",c,!1),o.addEventListener("touchend",c,!1),o.addEventListener("click",c,!1),o.addEventListener("keydown",c,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,o){var c=this.context.listener;if(c&&c.positionX!==void 0){var d=n(this.listenerPosition,"x",null),f=n(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=c.positionX.value=d),f&&f!==this._spatialy&&(this._spatialy=c.positionY.value=f)}p.prototype.update.call(this,i,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}p.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(s.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(s.GLOBAL_VOLUME,this,i)}}});u.exports=h},73162:(u,x,e)=>{var l=e(37105),p=e(83419),a=e(29747),s=e(19186),r=new p({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(t,n){return n?l.Add(this.list,t):l.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,n,h){return h?l.AddAt(this.list,t,n):l.AddAt(this.list,t,n,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,n){return t?(n===void 0&&(n=function(h,i){return h[t]-i[t]}),s(this.list,n),this):this},getByName:function(t){return l.GetFirst(this.list,"name",t)},getRandom:function(t,n){return l.GetRandom(this.list,t,n)},getFirst:function(t,n,h,i){return l.GetFirst(this.list,t,n,h,i)},getAll:function(t,n,h,i){return l.GetAll(this.list,t,n,h,i)},count:function(t,n){return l.CountAllMatching(this.list,t,n)},swap:function(t,n){l.Swap(this.list,t,n)},moveTo:function(t,n){return l.MoveTo(this.list,t,n)},moveAbove:function(t,n){return l.MoveAbove(this.list,t,n)},moveBelow:function(t,n){return l.MoveBelow(this.list,t,n)},remove:function(t,n){return n?l.Remove(this.list,t):l.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,n){return n?l.RemoveAt(this.list,t):l.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,n,h){return h?l.RemoveBetween(this.list,t,n):l.RemoveBetween(this.list,t,n,this.removeCallback,this)},removeAll:function(t){for(var n=this.list.length;n--;)this.remove(this.list[n],t);return this},bringToTop:function(t){return l.BringToTop(this.list,t)},sendToBack:function(t){return l.SendToBack(this.list,t)},moveUp:function(t){return l.MoveUp(this.list,t),t},moveDown:function(t){return l.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(t,n){return l.Replace(this.list,t,n)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,n,h,i){return l.SetAll(this.list,t,n,h,i),this},each:function(t,n){for(var h=[null],i=2;i<arguments.length;i++)h.push(arguments[i]);for(i=0;i<this.list.length;i++)h[0]=this.list[i],t.apply(n,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});u.exports=r},90330:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s){this.entries={},this.size=0,this.setAll(s)},setAll:function(a){if(Array.isArray(a))for(var s=0;s<a.length;s++)this.set(a[s][0],a[s][1]);return this},set:function(a,s){return this.has(a)||this.size++,this.entries[a]=s,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],s=this.entries;for(var r in s)a.push(s[r]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],s=this.entries;for(var r in s)a.push(s[r]);return a},dump:function(){var a=this.entries;console.group("Map");for(var s in a)console.log(s,a[s]);console.groupEnd()},each:function(a){var s=this.entries;for(var r in s)if(a(r,s[r])===!1)break;return this},contains:function(a){var s=this.entries;for(var r in s)if(s[r]===a)return!0;return!1},merge:function(a,s){s===void 0&&(s=!1);var r=this.entries,t=a.entries;for(var n in t)r.hasOwnProperty(n)&&s?r[n]=t[n]:this.set(n,t[n]);return this}});u.exports=p},25774:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(82348),s=new l({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive(r)&&!this.isDestroying(r)||this.isPending(r)||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var t=this._pending,n=t.indexOf(r);n!==-1&&t.splice(n,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,t=this._destroy,n=r.length;n--;)t.push(r[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,t=this._active,n,h;for(n=0;n<r.length;n++){h=r[n];var i=t.indexOf(h);i!==-1&&(t.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,h))}for(r.length=0,r=this._pending,n=0;n<r.length;n++)h=r[n],(!this.checkQueue||this.checkQueue&&t.indexOf(h)===-1)&&(t.push(h),this.emit(a.PROCESS_QUEUE_ADD,h));return r.length=0,this._toProcess=0,t},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});u.exports=s},59542:(u,x,e)=>{var l=e(43886);function p(y){var T=[".left",".top",".right",".bottom"];if(!(this instanceof p))return new p(y,T);this._maxEntries=Math.max(4,y||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(y){var T=this.data,C=[],E=this.toBBox;if(!v(y,T))return C;for(var z=[],D,A,L,b;T;){for(D=0,A=T.children.length;D<A;D++)L=T.children[D],b=T.leaf?E(L):L,v(y,b)&&(T.leaf?C.push(L):f(y,b)?this._all(L,C):z.push(L));T=z.pop()}return C},collides:function(y){var T=this.data,C=this.toBBox;if(!v(y,T))return!1;for(var E=[],z,D,A,L;T;){for(z=0,D=T.children.length;z<D;z++)if(A=T.children[z],L=T.leaf?C(A):A,v(y,L)){if(T.leaf||f(y,L))return!0;E.push(A)}T=E.pop()}return!1},load:function(y){if(!(y&&y.length))return this;if(y.length<this._minEntries){for(var T=0,C=y.length;T<C;T++)this.insert(y[T]);return this}var E=this._build(y.slice(),0,y.length-1,0);if(!this.data.children.length)this.data=E;else if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var z=this.data;this.data=E,E=z}this._insert(E,this.data.height-E.height-1,!0)}return this},insert:function(y){return y&&this._insert(y,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(y,T){if(!y)return this;for(var C=this.data,E=this.toBBox(y),z=[],D=[],A,L,b,F;C||z.length;){if(C||(C=z.pop(),L=z[z.length-1],A=D.pop(),F=!0),C.leaf&&(b=a(y,C.children,T),b!==-1))return C.children.splice(b,1),z.push(C),this._condense(z),this;!F&&!C.leaf&&f(C,E)?(z.push(C),D.push(A),A=0,L=C,C=C.children[0]):L?(A++,C=L.children[A],F=!1):C=null}return this},toBBox:function(y){return y},compareMinX:n,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(y){return this.data=y,this},_all:function(y,T){for(var C=[];y;)y.leaf?T.push.apply(T,y.children):C.push.apply(C,y.children),y=C.pop();return T},_build:function(y,T,C,E){var z=C-T+1,D=this._maxEntries,A;if(z<=D)return A=m(y.slice(T,C+1)),s(A,this.toBBox),A;E||(E=Math.ceil(Math.log(z)/Math.log(D)),D=Math.ceil(z/Math.pow(D,E-1))),A=m([]),A.leaf=!1,A.height=E;var L=Math.ceil(z/D),b=L*Math.ceil(Math.sqrt(D)),F,V,B,N;for(g(y,T,C,b,this.compareMinX),F=T;F<=C;F+=b)for(B=Math.min(F+b-1,C),g(y,F,B,L,this.compareMinY),V=F;V<=B;V+=L)N=Math.min(V+L-1,B),A.children.push(this._build(y,V,N,E-1));return s(A,this.toBBox),A},_chooseSubtree:function(y,T,C,E){for(var z,D,A,L,b,F,V,B;E.push(T),!(T.leaf||E.length-1===C);){for(V=B=1/0,z=0,D=T.children.length;z<D;z++)A=T.children[z],b=i(A),F=c(y,A)-b,F<B?(B=F,V=b<V?b:V,L=A):F===B&&b<V&&(V=b,L=A);T=L||T.children[0]}return T},_insert:function(y,T,C){var E=this.toBBox,z=C?y:E(y),D=[],A=this._chooseSubtree(z,this.data,T,D);for(A.children.push(y),t(A,z);T>=0&&D[T].children.length>this._maxEntries;)this._split(D,T),T--;this._adjustParentBBoxes(z,D,T)},_split:function(y,T){var C=y[T],E=C.children.length,z=this._minEntries;this._chooseSplitAxis(C,z,E);var D=this._chooseSplitIndex(C,z,E),A=m(C.children.splice(D,C.children.length-D));A.height=C.height,A.leaf=C.leaf,s(C,this.toBBox),s(A,this.toBBox),T?y[T-1].children.push(A):this._splitRoot(C,A)},_splitRoot:function(y,T){this.data=m([y,T]),this.data.height=y.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(y,T,C){var E,z,D,A,L,b,F,V;for(b=F=1/0,E=T;E<=C-T;E++)z=r(y,0,E,this.toBBox),D=r(y,E,C,this.toBBox),A=d(z,D),L=i(z)+i(D),A<b?(b=A,V=E,F=L<F?L:F):A===b&&L<F&&(F=L,V=E);return V},_chooseSplitAxis:function(y,T,C){var E=y.leaf?this.compareMinX:n,z=y.leaf?this.compareMinY:h,D=this._allDistMargin(y,T,C,E),A=this._allDistMargin(y,T,C,z);D<A&&y.children.sort(E)},_allDistMargin:function(y,T,C,E){y.children.sort(E);var z=this.toBBox,D=r(y,0,T,z),A=r(y,C-T,C,z),L=o(D)+o(A),b,F;for(b=T;b<C-T;b++)F=y.children[b],t(D,y.leaf?z(F):F),L+=o(D);for(b=C-T-1;b>=T;b--)F=y.children[b],t(A,y.leaf?z(F):F),L+=o(A);return L},_adjustParentBBoxes:function(y,T,C){for(var E=C;E>=0;E--)t(T[E],y)},_condense:function(y){for(var T=y.length-1,C;T>=0;T--)y[T].children.length===0?T>0?(C=y[T-1].children,C.splice(C.indexOf(y[T]),1)):this.clear():s(y[T],this.toBBox)},compareMinX:function(y,T){return y.left-T.left},compareMinY:function(y,T){return y.top-T.top},toBBox:function(y){return{minX:y.left,minY:y.top,maxX:y.right,maxY:y.bottom}}};function a(y,T,C){if(!C)return T.indexOf(y);for(var E=0;E<T.length;E++)if(C(y,T[E]))return E;return-1}function s(y,T){r(y,0,y.children.length,T,y)}function r(y,T,C,E,z){z||(z=m(null)),z.minX=1/0,z.minY=1/0,z.maxX=-1/0,z.maxY=-1/0;for(var D=T,A;D<C;D++)A=y.children[D],t(z,y.leaf?E(A):A);return z}function t(y,T){return y.minX=Math.min(y.minX,T.minX),y.minY=Math.min(y.minY,T.minY),y.maxX=Math.max(y.maxX,T.maxX),y.maxY=Math.max(y.maxY,T.maxY),y}function n(y,T){return y.minX-T.minX}function h(y,T){return y.minY-T.minY}function i(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function o(y){return y.maxX-y.minX+(y.maxY-y.minY)}function c(y,T){return(Math.max(T.maxX,y.maxX)-Math.min(T.minX,y.minX))*(Math.max(T.maxY,y.maxY)-Math.min(T.minY,y.minY))}function d(y,T){var C=Math.max(y.minX,T.minX),E=Math.max(y.minY,T.minY),z=Math.min(y.maxX,T.maxX),D=Math.min(y.maxY,T.maxY);return Math.max(0,z-C)*Math.max(0,D-E)}function f(y,T){return y.minX<=T.minX&&y.minY<=T.minY&&T.maxX<=y.maxX&&T.maxY<=y.maxY}function v(y,T){return T.minX<=y.maxX&&T.minY<=y.maxY&&T.maxX>=y.minX&&T.maxY>=y.minY}function m(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(y,T,C,E,z){for(var D=[T,C],A;D.length;)C=D.pop(),T=D.pop(),!(C-T<=E)&&(A=T+Math.ceil((C-T)/E/2)*E,l(y,A,T,C,z),D.push(T,A,A,C))}u.exports=p},35072:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,s){for(var r=0;r<this.entries.length;r++){var t=this.entries[r];if(t[a]===s)return t}},getArray:function(){return this.entries.slice(0)},delete:function(a){var s=this.entries.indexOf(a);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var s=this.entries[a];console.log(s)}console.groupEnd()},each:function(a,s){var r,t=this.entries.slice(),n=t.length;if(s)for(r=0;r<n&&a.call(s,t[r],r)!==!1;r++);else for(r=0;r<n&&a(t[r],r)!==!1;r++);return this},iterate:function(a,s){var r,t=this.entries.length;if(s)for(r=0;r<t&&a.call(s,this.entries[r],r)!==!1;r++);else for(r=0;r<t&&a(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(a){var s,r=[];for(s=1;s<arguments.length;s++)r.push(arguments[s]);var t=this.entries.length;for(s=0;s<t;s++){var n=this.entries[s];n[a].apply(n,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var s=new p;return a.entries.forEach(function(r){s.set(r)}),this.entries.forEach(function(r){s.set(r)}),s},intersect:function(a){var s=new p;return this.entries.forEach(function(r){a.contains(r)&&s.set(r)}),s},difference:function(a){var s=new p;return this.entries.forEach(function(r){a.contains(r)||s.set(r)}),s},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});u.exports=p},86555:(u,x,e)=>{var l=e(45319),p=e(83419),a=e(56583),s=e(26099),r=new p({initialize:function(n,h,i,o){n===void 0&&(n=0),h===void 0&&(h=n),i===void 0&&(i=0),o===void 0&&(o=null),this._width=n,this._height=h,this._parent=o,this.aspectMode=i,this.aspectRatio=h===0?1:n/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(t){return t===void 0&&(t=0),this.aspectMode=t,this.setSize(this._width,this._height)},setSnap:function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.snapTo.set(t,n),this.setSize(this._width,this._height)},setParent:function(t){return this._parent=t,this.setSize(this._width,this._height)},setMin:function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.minWidth=l(t,0,this.maxWidth),this.minHeight=l(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(t,n){return t===void 0&&(t=Number.MAX_VALUE),n===void 0&&(n=t),this.maxWidth=l(t,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(t,n){switch(t===void 0&&(t=0),n===void 0&&(n=t),this.aspectMode){case r.NONE:this._width=this.getNewWidth(a(t,this.snapTo.x)),this._height=this.getNewHeight(a(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(t,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(t,n,!0);break;case r.ENVELOP:this.constrain(t,n,!1);break}return this},setAspectRatio:function(t){return this.aspectRatio=t,this.setSize(this._width,this._height)},resize:function(t,n){return this._width=this.getNewWidth(a(t,this.snapTo.x)),this._height=this.getNewHeight(a(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(t,n){return n===void 0&&(n=!0),t=l(t,this.minWidth,this.maxWidth),n&&this._parent&&t>this._parent.width&&(t=Math.max(this.minWidth,this._parent.width)),t},getNewHeight:function(t,n){return n===void 0&&(n=!0),t=l(t,this.minHeight,this.maxHeight),n&&this._parent&&t>this._parent.height&&(t=Math.max(this.minHeight,this._parent.height)),t},constrain:function(t,n,h){t===void 0&&(t=0),n===void 0&&(n=t),h===void 0&&(h=!0),t=this.getNewWidth(t),n=this.getNewHeight(n);var i=this.snapTo,o=n===0?1:t/n;return h&&this.aspectRatio>o||!h&&this.aspectRatio<o?(t=a(t,i.x),n=t/this.aspectRatio,i.y>0&&(n=a(n,i.y),t=n*this.aspectRatio)):(h&&this.aspectRatio<o||!h&&this.aspectRatio>o)&&(n=a(n,i.y),t=n*this.aspectRatio,i.x>0&&(t=a(t,i.x),n=t*(1/this.aspectRatio))),this._width=t,this._height=n,this},fitTo:function(t,n){return this.constrain(t,n,!0)},envelop:function(t,n){return this.constrain(t,n,!1)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(t){t&&t.style&&(t.style.width=this._width+"px",t.style.height=this._height+"px")},copy:function(t){return t.setAspectMode(this.aspectMode),t.aspectRatio=this.aspectRatio,t.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,u.exports=r},15238:u=>{u.exports="add"},56187:u=>{u.exports="remove"},82348:(u,x,e)=>{u.exports={PROCESS_QUEUE_ADD:e(15238),PROCESS_QUEUE_REMOVE:e(56187)}},41392:(u,x,e)=>{u.exports={Events:e(82348),List:e(73162),Map:e(90330),ProcessQueue:e(25774),RTree:e(59542),Set:e(35072),Size:e(86555)}},57382:(u,x,e)=>{var l=e(83419),p=e(45319),a=e(40987),s=e(8054),r=e(50030),t=e(79237),n=new l({Extends:t,initialize:function(i,o,c,d,f){t.call(this,i,o,c,d,f),this.add("__BASE",0,0,0,d,f),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=f,this.imageData=this.context.getImageData(0,0,d,f),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(h,i,o,c){return c===void 0&&(c=!0),this.context.drawImage(o,h,i),c&&this.update(),this},drawFrame:function(h,i,o,c,d){o===void 0&&(o=0),c===void 0&&(c=0),d===void 0&&(d=!0);var f=this.manager.getFrame(h,i);if(f){var v=f.canvasData,m=f.cutWidth,g=f.cutHeight,y=f.source.resolution;this.context.drawImage(f.source.image,v.x,v.y,m,g,o,c,m/y,g/y),d&&this.update()}return this},setPixel:function(h,i,o,c,d,f){f===void 0&&(f=255),h=Math.abs(Math.floor(h)),i=Math.abs(Math.floor(i));var v=this.getIndex(h,i);if(v>-1){var m=this.context.getImageData(h,i,1,1);m.data[0]=o,m.data[1]=c,m.data[2]=d,m.data[3]=f,this.context.putImageData(m,h,i)}return this},putData:function(h,i,o,c,d,f,v){return c===void 0&&(c=0),d===void 0&&(d=0),f===void 0&&(f=h.width),v===void 0&&(v=h.height),this.context.putImageData(h,i,o,c,d,f,v),this},getData:function(h,i,o,c){h=p(Math.floor(h),0,this.width-1),i=p(Math.floor(i),0,this.height-1),o=p(o,1,this.width-h),c=p(c,1,this.height-i);var d=this.context.getImageData(h,i,o,c);return d},getPixel:function(h,i,o){o||(o=new a);var c=this.getIndex(h,i);if(c>-1){var d=this.data,f=d[c+0],v=d[c+1],m=d[c+2],g=d[c+3];o.setTo(f,v,m,g)}return o},getPixels:function(h,i,o,c){h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=this.width),c===void 0&&(c=o),h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i));for(var d=p(h,0,this.width),f=p(h+o,0,this.width),v=p(i,0,this.height),m=p(i+c,0,this.height),g=new a,y=[],T=v;T<m;T++){for(var C=[],E=d;E<f;E++)g=this.getPixel(E,T,g),C.push({x:E,y:T,color:g.color,alpha:g.alphaGL});y.push(C)}return y},getIndex:function(h,i){return h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i)),h<this.width&&i<this.height?(h+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,i,o,c,d){return h===void 0&&(h=0),i===void 0&&(i=0),o===void 0&&(o=this.width),c===void 0&&(c=this.height),d===void 0&&(d=!0),this.context.clearRect(h,i,o,c),d&&this.update(),this},setSize:function(h,i){return i===void 0&&(i=h),(h!==this.width||i!==this.height)&&(this.canvas.width=h,this.canvas.height=i,this._source.width=h,this._source.height=i,this._source.isPowerOf2=r(h,i),this.frames.__BASE.setSize(h,i,0,0),this.width=h,this.height=i,this.refresh()),this},destroy:function(){t.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});u.exports=n},81320:(u,x,e)=>{var l=e(10312),p=e(38058),a=e(27919),s=e(83419),r=e(8054),t=e(4327),n=e(95540),h=e(36060),i=e(32302),o=e(79237),c=e(70554),d=new s({Extends:o,initialize:function(v,m,g,y){g===void 0&&(g=256),y===void 0&&(y=256),this.type="DynamicTexture";var T=v.game.renderer,C=T&&T.type===r.CANVAS,E=C?a.create2D(this,g,y):[this];o.call(this,v,m,E,g,y),this.add("__BASE",0,0,0,g,y),this.renderer=T,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=C?E:null,this.context=C?E.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,g,y).setScene(v.game.scene.systemScene,!1),this.renderTarget=C?null:new i(T,g,y,1,0,!1,!1,!0,!1),this.pipeline=C?null:T.pipelines.get(h.SINGLE_PIPELINE),this.setSize(g,y)},setSize:function(f,v){v===void 0&&(v=f);var m=this.get(),g=m.source;if(f!==this.width||v!==this.height){this.canvas&&(this.canvas.width=f,this.canvas.height=v);var y=this.renderTarget;y&&(y.willResize(f,v)&&y.resize(f,v),y.texture!==g.glTexture&&this.renderer.deleteTexture(g.glTexture),this.setFromRenderTarget()),this.camera.setSize(f,v),g.width=f,g.height=v,m.setSize(f,v),this.width=f,this.height=v}else{var T=this.getSourceImage();m.cutX+f>T.width&&(f=T.width-m.cutX),m.cutY+v>T.height&&(v=T.height-m.cutY),m.setSize(f,v,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var f=this.get(),v=f.source,m=this.renderTarget;return v.isRenderTexture=!0,v.isGLTexture=!0,v.glTexture=m.texture,this},setIsSpriteTexture:function(f){return this.isSpriteTexture=f,this},fill:function(f,v,m,g,y,T){var C=this.camera,E=this.renderer;v===void 0&&(v=1),m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height);var z=f>>16&255,D=f>>8&255,A=f&255,L=this.renderTarget;if(C.preRender(),L){L.bind(!0);var b=this.pipeline.manager.set(this.pipeline),F=E.width/L.width,V=E.height/L.height,B=L.height-(g+T);b.drawFillRect(m*F,B*V,y*F,T*V,c.getTintFromFloats(A/255,D/255,z/255,1),v),L.unbind(!0)}else{var N=this.context;E.setContext(N),N.globalCompositeOperation="source-over",N.fillStyle="rgba("+z+","+D+","+A+","+v+")",N.fillRect(m,g,y,T),E.setContext()}return this.dirty=!0,this},clear:function(f,v,m,g){if(this.dirty){var y=this.context,T=this.renderTarget;T?T.clear(f,v,m,g):y&&(f!==void 0&&v!==void 0&&m!==void 0&&g!==void 0?y.clearRect(f,v,m,g):(y.save(),y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,this.width,this.height),y.restore())),this.dirty=!1}return this},stamp:function(f,v,m,g,y){m===void 0&&(m=0),g===void 0&&(g=0);var T=n(y,"alpha",1),C=n(y,"tint",16777215),E=n(y,"angle",0),z=n(y,"rotation",0),D=n(y,"scale",1),A=n(y,"scaleX",D),L=n(y,"scaleY",D),b=n(y,"originX",.5),F=n(y,"originY",.5),V=n(y,"blendMode",0),B=n(y,"erase",!1),N=n(y,"skipBatch",!1),U=this.manager.resetStamp(T,C);return U.setAngle(0),E!==0?U.setAngle(E):z!==0&&U.setRotation(z),U.setScale(A,L),U.setTexture(f,v),U.setOrigin(b,F),U.setBlendMode(V),B&&(this._eraseMode=!0),N?this.batchGameObject(U,m,g):this.draw(U,m,g),B&&(this._eraseMode=!1),this},erase:function(f,v,m){return this._eraseMode=!0,this.draw(f,v,m),this._eraseMode=!1,this},draw:function(f,v,m,g,y){return this.beginDraw(),this.batchDraw(f,v,m,g,y),this.endDraw(),this},drawFrame:function(f,v,m,g,y,T){return this.beginDraw(),this.batchDrawFrame(f,v,m,g,y,T),this.endDraw(),this},repeat:function(f,v,m,g,y,T,C,E,z){if(m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height),C===void 0&&(C=1),E===void 0&&(E=16777215),z===void 0&&(z=!1),f instanceof t?v=f:v=this.manager.getFrame(f,v),!v)return this;var D=this.manager.resetStamp(C,E);D.setFrame(v),D.setOrigin(0);var A=v.width,L=v.height;y=Math.floor(y),T=Math.floor(T);var b=Math.ceil(y/A),F=Math.ceil(T/L),V=b*A-y,B=F*L-T;V>0&&(V=A-V),B>0&&(B=L-B),m<0&&(b+=Math.ceil(Math.abs(m)/A)),g<0&&(F+=Math.ceil(Math.abs(g)/L));var N=m,U=g,I=!1,H=this.manager.stampCrop.setTo(0,0,A,L);z||this.beginDraw();for(var O=0;O<F;O++){if(U+L<0){U+=L;continue}for(var R=0;R<b;R++){if(I=!1,N+A<0){N+=A;continue}else N<0&&(I=!0,H.width=A+N,H.x=A-H.width);U<0&&(I=!0,H.height=L+U,H.y=L-H.height),V>0&&R===b-1&&(I=!0,H.width=V),B>0&&O===F-1&&(I=!0,H.height=B),I&&D.setCrop(H),this.batchGameObject(D,N,U),D.isCropped=!1,H.setTo(0,0,A,L),N+=A}N=m,U+=L}return z||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var f=this.camera,v=this.renderer,m=this.renderTarget;f.preRender(),m?v.beginCapture(m.width,m.height):v.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(f,v,m,g,y){return Array.isArray(f)||(f=[f]),this.batchList(f,v,m,g,y),this},batchDrawFrame:function(f,v,m,g,y,T){m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=1),T===void 0&&(T=16777215);var C=this.manager.getFrame(f,v);return C&&(this.renderTarget?this.pipeline.batchTextureFrame(C,m,g,T,y,this.camera.matrix,null):this.batchTextureFrame(C,m,g,y,T)),this},endDraw:function(f){if(f===void 0&&(f=this._eraseMode),this.isDrawing){var v=this.renderer,m=this.renderTarget;if(m){var g=v.endCapture(),y=v.pipelines.setUtility();y.blitFrame(g,m,1,!1,!1,f,this.isSpriteTexture),v.resetScissor(),v.resetViewport()}else v.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(f,v,m,g,y){var T=f.length;if(T!==0)for(var C=0;C<T;C++){var E=f[C];!E||E===this||(E.renderWebGL||E.renderCanvas?this.batchGameObject(E,v,m):E.isParent||E.list?this.batchGroup(E.getChildren(),v,m):typeof E=="string"?this.batchTextureFrameKey(E,null,v,m,g,y):E instanceof t?this.batchTextureFrame(E,v,m,g,y):Array.isArray(E)&&this.batchList(E,v,m,g,y))}},batchGroup:function(f,v,m){v===void 0&&(v=0),m===void 0&&(m=0);for(var g=0;g<f.length;g++){var y=f[g];y.willRender(this.camera)&&this.batchGameObject(y,y.x+v,y.y+m)}},batchGameObject:function(f,v,m){v===void 0&&(v=f.x),m===void 0&&(m=f.y);var g=f.x,y=f.y,T=this.camera,C=this.renderer,E=this._eraseMode,z=f.mask;if(f.setPosition(v,m),this.canvas){if(E){var D=f.blendMode;f.blendMode=l.ERASE}z&&z.preRenderCanvas(C,f,T),f.renderCanvas(C,f,T,null),z&&z.postRenderCanvas(C,f,T),E&&(f.blendMode=D)}else C&&(z&&z.preRenderWebGL(C,f,T),E||C.setBlendMode(f.blendMode),f.renderWebGL(C,f,T),z&&z.postRenderWebGL(C,T,this.renderTarget));f.setPosition(g,y)},batchTextureFrameKey:function(f,v,m,g,y,T){var C=this.manager.getFrame(f,v);C&&this.batchTextureFrame(C,m,g,y,T)},batchTextureFrame:function(f,v,m,g,y){v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=1),y===void 0&&(y=16777215);var T=this.camera.matrix,C=this.renderTarget;if(C)this.pipeline.batchTextureFrame(f,v,m,y,g,T,null);else{var E=this.context,z=f.canvasData,D=f.source.image;E.save(),E.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",E.globalAlpha=g,T.setToContext(E),z.width>0&&z.height>0&&E.drawImage(D,z.x,z.y,z.width,z.height,v,m,z.width,z.height),E.restore()}},snapshotArea:function(f,v,m,g,y,T,C){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,f,v,m,g,T,C):this.renderer.snapshotCanvas(this.canvas,y,!1,f,v,m,g,T,C),this},snapshot:function(f,v,m){return this.snapshotArea(0,0,this.width,this.height,f,v,m)},snapshotPixel:function(f,v,m){return this.snapshotArea(f,v,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(f,v,m,g){var y=this.manager.resetStamp();y.setTexture(this),y.setOrigin(0),y.renderWebGL(f,y,m,g)},renderCanvas:function(){},destroy:function(){var f=this.manager.stamp;f&&f.texture===this&&this.manager.resetStamp(),o.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});u.exports=d},4327:(u,x,e)=>{var l=e(83419),p=e(45319),a=e(79291),s=new l({initialize:function(t,n,h,i,o,c,d){this.texture=t,this.name=n,this.source=t.source[h],this.sourceIndex=h,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(c,d,i,o)},setCutPosition:function(r,t){return r===void 0&&(r=0),t===void 0&&(t=0),this.cutX=r,this.cutY=t,this.updateUVs()},setCutSize:function(r,t){return this.cutWidth=r,this.cutHeight=t,this.updateUVs()},setSize:function(r,t,n,h){n===void 0&&(n=0),h===void 0&&(h=0),this.setCutPosition(n,h),this.setCutSize(r,t),this.width=r,this.height=t,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(t*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(t/2);var i=this.data,o=i.cut;o.x=n,o.y=h,o.w=r,o.h=t,o.r=n+r,o.b=h+t,i.sourceSize.w=r,i.sourceSize.h=t,i.spriteSourceSize.w=r,i.spriteSourceSize.h=t,i.radius=.5*Math.sqrt(r*r+t*t);var c=i.drawImage;return c.x=n,c.y=h,c.width=r,c.height=t,this.updateUVs()},setTrim:function(r,t,n,h,i,o){var c=this.data,d=c.spriteSourceSize;return c.trim=!0,c.sourceSize.w=r,c.sourceSize.h=t,d.x=n,d.y=h,d.w=i,d.h=o,d.r=n+i,d.b=h+o,this.x=n,this.y=h,this.width=i,this.height=o,this.halfWidth=i*.5,this.halfHeight=o*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(o/2),this.updateUVs()},setScale9:function(r,t,n,h){var i=this.data;return i.scale9=!0,i.is3Slice=t===0&&h===this.height,i.scale9Borders.x=r,i.scale9Borders.y=t,i.scale9Borders.w=n,i.scale9Borders.h=h,this},setCropUVs:function(r,t,n,h,i,o,c){var d=this.cutX,f=this.cutY,v=this.cutWidth,m=this.cutHeight,g=this.realWidth,y=this.realHeight;t=p(t,0,g),n=p(n,0,y),h=p(h,0,g-t),i=p(i,0,y-n);var T=d+t,C=f+n,E=h,z=i,D=this.data;if(D.trim){var A=D.spriteSourceSize;h=p(h,0,v-t),i=p(i,0,m-n);var L=t+h,b=n+i,F=!(A.r<t||A.b<n||A.x>L||A.y>b);if(F){var V=Math.max(A.x,t),B=Math.max(A.y,n),N=Math.min(A.r,L)-V,U=Math.min(A.b,b)-B;E=N,z=U,o?T=d+(v-(V-A.x)-N):T=d+(V-A.x),c?C=f+(m-(B-A.y)-U):C=f+(B-A.y),t=V,n=B,h=N,i=U}else T=0,C=0,E=0,z=0}else o&&(T=d+(v-t-h)),c&&(C=f+(m-n-i));var I=this.source.width,H=this.source.height;return r.u0=Math.max(0,T/I),r.v0=Math.max(0,C/H),r.u1=Math.min(1,(T+E)/I),r.v1=Math.min(1,(C+z)/H),r.x=t,r.y=n,r.cx=T,r.cy=C,r.cw=E,r.ch=z,r.width=h,r.height=i,r.flipX=o,r.flipY=c,r},updateCropUVs:function(r,t,n){return this.setCropUVs(r,r.x,r.y,r.width,r.height,t,n)},setUVs:function(r,t,n,h,i,o){var c=this.data.drawImage;return c.width=r,c.height=t,this.u0=n,this.v0=h,this.u1=i,this.v1=o,this},updateUVs:function(){var r=this.cutX,t=this.cutY,n=this.cutWidth,h=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=h;var o=this.source.width,c=this.source.height;return this.u0=r/o,this.v0=t/c,this.u1=(r+n)/o,this.v1=(t+h)/c,this},updateUVsInverted:function(){var r=this.source.width,t=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/t,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/t,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=a(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});u.exports=s},79237:(u,x,e)=>{var l=e(83419),p=e(4327),a=e(11876),s='Texture "%s" has no frame "%s"',r=new l({initialize:function(n,h,i,o,c){Array.isArray(i)||(i=[i]),this.manager=n,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<i.length;d++)this.source.push(new a(this,i[d],o,c))},add:function(t,n,h,i,o,c){if(this.has(t))return null;var d=new p(this,t,n,h,i,o,c);return this.frames[t]=d,this.firstFrame==="__BASE"&&(this.firstFrame=t),this.frameTotal++,d},remove:function(t){if(this.has(t)){var n=this.get(t);return n.destroy(),delete this.frames[t],!0}return!1},has:function(t){return this.frames.hasOwnProperty(t)},get:function(t){t||(t=this.firstFrame);var n=this.frames[t];return n||(console.warn(s,this.key,t),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(t){for(var n=0;n<this.source.length;n++)if(this.source[n]===t)return n;return-1},getFramesFromTextureSource:function(t,n){n===void 0&&(n=!1);var h=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var o=this.frames[i];o.sourceIndex===t&&h.push(o)}return h},getFrameBounds:function(t){t===void 0&&(t=0);for(var n=this.getFramesFromTextureSource(t,!0),h=n[0],i=h.cutX,o=h.cutY,c=h.cutX+h.cutWidth,d=h.cutY+h.cutHeight,f=1;f<n.length;f++){var v=n[f];v.cutX<i&&(i=v.cutX),v.cutY<o&&(o=v.cutY),v.cutX+v.cutWidth>c&&(c=v.cutX+v.cutWidth),v.cutY+v.cutHeight>d&&(d=v.cutY+v.cutHeight)}return{x:i,y:o,width:c-i,height:d-o}},getFrameNames:function(t){t===void 0&&(t=!1);var n=Object.keys(this.frames);if(!t){var h=n.indexOf("__BASE");h!==-1&&n.splice(h,1)}return n},getSourceImage:function(t){(t==null||this.frameTotal===1)&&(t="__BASE");var n=this.frames[t];return n?n.source.image:(console.warn(s,this.key,t),this.frames.__BASE.source.image)},getDataSourceImage:function(t){(t==null||this.frameTotal===1)&&(t="__BASE");var n=this.frames[t],h;return n?h=n.sourceIndex:(console.warn(s,this.key,t),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var h=this.source[n];this.dataSource.push(new a(this,t[n],h.width,h.height))}},setFilter:function(t){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(t);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(t)},destroy:function(){var t,n=this.source,h=this.dataSource;for(t=0;t<n.length;t++)n[t]&&n[t].destroy();for(t=0;t<h.length;t++)h[t]&&h[t].destroy();for(var i in this.frames){var o=this.frames[i];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});u.exports=r},17130:(u,x,e)=>{var l=e(27919),p=e(57382),a=e(83419),s=e(40987),r=e(8054),t=e(81320),n=e(50792),h=e(69442),i=e(4327),o=e(8443),c=e(99584),d=e(35154),f=e(88571),v=e(41212),m=e(61309),g=e(87841),y=e(79237),T=new a({Extends:n,initialize:function(E){n.call(this),this.game=E,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new g,this.silentWarnings=!1,E.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var C=this.game.config;C.defaultImage!==null&&this.addBase64("__DEFAULT",C.defaultImage),C.missingImage!==null&&this.addBase64("__MISSING",C.missingImage),C.whiteImage!==null&&this.addBase64("__WHITE",C.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(o.DESTROY,this.destroy,this),this.game.events.once(o.SYSTEM_READY,function(E){this.stamp=new f(E).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(C){return!C||typeof C!="string"||this.exists(C)?(this.silentWarnings||console.error("Texture key already in use: "+C),!1):!0},remove:function(C){if(typeof C=="string")if(this.exists(C))C=this.get(C);else return this.silentWarnings||console.warn("No texture found matching key: "+C),this;var E=C.key;return this.list.hasOwnProperty(E)&&(C.destroy(),this.emit(h.REMOVE,E),this.emit(h.REMOVE_KEY+E)),this},removeKey:function(C){return this.list.hasOwnProperty(C)&&delete this.list[C],this},addBase64:function(C,E){if(this.checkKey(C)){var z=this,D=new Image;D.onerror=function(){z.emit(h.ERROR,C)},D.onload=function(){var A=z.create(C,D);m.Image(A,0),z.emit(h.ADD,C,A),z.emit(h.ADD_KEY+C,A),z.emit(h.LOAD,C,A)},D.src=E}return this},getBase64:function(C,E,z,D){z===void 0&&(z="image/png"),D===void 0&&(D=.92);var A="",L=this.getFrame(C,E);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var b=L.canvasData,F=l.create2D(this,b.width,b.height),V=F.getContext("2d",{willReadFrequently:!0});b.width>0&&b.height>0&&V.drawImage(L.source.image,b.x,b.y,b.width,b.height,0,0,b.width,b.height),A=F.toDataURL(z,D),l.remove(F)}return A},addImage:function(C,E,z){var D=null;return this.checkKey(C)&&(D=this.create(C,E),m.Image(D,0),z&&D.setDataSource(z),this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)),D},addGLTexture:function(C,E){var z=null;if(this.checkKey(C)){var D=E.width,A=E.height;z=this.create(C,E,D,A),z.add("__BASE",0,0,0,D,A),this.emit(h.ADD,C,z),this.emit(h.ADD_KEY+C,z)}return z},addCompressedTexture:function(C,E,z){var D=null;if(this.checkKey(C)){if(D=this.create(C,E),D.add("__BASE",0,0,0,E.width,E.height),z){var A=function(b,F,V){Array.isArray(V.textures)||Array.isArray(V.frames)?m.JSONArray(b,F,V):m.JSONHash(b,F,V)};if(Array.isArray(z))for(var L=0;L<z.length;L++)A(D,L,z[L]);else A(D,0,z)}this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)}return D},addRenderTexture:function(C,E){var z=null;return this.checkKey(C)&&(z=this.create(C,E),z.add("__BASE",0,0,0,E.width,E.height),this.emit(h.ADD,C,z),this.emit(h.ADD_KEY+C,z)),z},generate:function(C,E){if(this.checkKey(C)){var z=l.create(this,1,1);return E.canvas=z,c(E),this.addCanvas(C,z)}else return null},createCanvas:function(C,E,z){if(E===void 0&&(E=256),z===void 0&&(z=256),this.checkKey(C)){var D=l.create(this,E,z,r.CANVAS,!0);return this.addCanvas(C,D)}return null},addCanvas:function(C,E,z){z===void 0&&(z=!1);var D=null;return z?D=new p(this,C,E,E.width,E.height):this.checkKey(C)&&(D=new p(this,C,E,E.width,E.height),this.list[C]=D,this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)),D},addDynamicTexture:function(C,E,z){var D=null;return typeof C=="string"&&!this.exists(C)?D=new t(this,C,E,z):(D=C,C=D.key),this.checkKey(C)?(this.list[C]=D,this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)):D=null,D},addAtlas:function(C,E,z,D){return Array.isArray(z.textures)||Array.isArray(z.frames)?this.addAtlasJSONArray(C,E,z,D):this.addAtlasJSONHash(C,E,z,D)},addAtlasJSONArray:function(C,E,z,D){var A=null;if(E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A){if(Array.isArray(z))for(var L=z.length===1,b=0;b<A.source.length;b++){var F=L?z[0]:z[b];m.JSONArray(A,b,F)}else m.JSONArray(A,0,z);D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)}return A},addAtlasJSONHash:function(C,E,z,D){var A=null;if(E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A){if(Array.isArray(z))for(var L=0;L<z.length;L++)m.JSONHash(A,L,z[L]);else m.JSONHash(A,0,z);D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)}return A},addAtlasXML:function(C,E,z,D){var A=null;return E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A&&(m.AtlasXML(A,0,z),D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)),A},addUnityAtlas:function(C,E,z,D){var A=null;return E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A&&(m.UnityYAML(A,0,z),D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)),A},addSpriteSheet:function(C,E,z,D){var A=null;if(E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A){var L=A.source[0].width,b=A.source[0].height;m.SpriteSheet(A,0,0,0,L,b,z),D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)}return A},addSpriteSheetFromAtlas:function(C,E){if(!this.checkKey(C))return null;var z=d(E,"atlas",null),D=d(E,"frame",null);if(!(!z||!D)){var A=this.get(z),L=A.get(D);if(L){var b=L.source.image;b||(b=L.source.glTexture);var F=this.create(C,b);return L.trimmed?m.SpriteSheetFromAtlas(F,L,E):m.SpriteSheet(F,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,E),this.emit(h.ADD,C,F),this.emit(h.ADD_KEY+C,F),F}}},addUint8Array:function(C,E,z,D){if(!this.checkKey(C)||E.length/4!==z*D)return null;var A=this.create(C,E,z,D);return A.add("__BASE",0,0,0,z,D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A),A},create:function(C,E,z,D){var A=null;return this.checkKey(C)&&(A=new y(this,C,E,z,D),this.list[C]=A),A},exists:function(C){return this.list.hasOwnProperty(C)},get:function(C){return C===void 0&&(C="__DEFAULT"),this.list[C]?this.list[C]:C instanceof y?C:C instanceof i?C.texture:this.list.__MISSING},cloneFrame:function(C,E){if(this.list[C])return this.list[C].get(E).clone()},getFrame:function(C,E){if(this.list[C])return this.list[C].get(E)},parseFrame:function(C){if(C){if(typeof C=="string")return this.getFrame(C);if(Array.isArray(C)&&C.length===2)return this.getFrame(C[0],C[1]);if(v(C))return this.getFrame(C.key,C.frame);if(C instanceof y)return C.get();if(C instanceof i)return C}else return},getTextureKeys:function(){var C=[];for(var E in this.list)E!=="__DEFAULT"&&E!=="__MISSING"&&E!=="__WHITE"&&E!=="__NORMAL"&&C.push(E);return C},getPixel:function(C,E,z,D){var A=this.getFrame(z,D);if(A){C-=A.x,E-=A.y;var L=A.data.cut;if(C+=L.x,E+=L.y,C>=L.x&&C<L.r&&E>=L.y&&E<L.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(A.source.image,C,E,1,1,0,0,1,1);var F=b.getImageData(0,0,1,1);return new s(F.data[0],F.data[1],F.data[2],F.data[3])}}return null},getPixelAlpha:function(C,E,z,D){var A=this.getFrame(z,D);if(A){C-=A.x,E-=A.y;var L=A.data.cut;if(C+=L.x,E+=L.y,C>=L.x&&C<L.r&&E>=L.y&&E<L.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(A.source.image,C,E,1,1,0,0,1,1);var F=b.getImageData(0,0,1,1);return F.data[3]}}return null},setTexture:function(C,E,z){return this.list[E]&&(C.texture=this.list[E],C.frame=C.texture.get(z)),C},renameTexture:function(C,E){var z=this.get(C);return z&&C!==E?(z.key=E,this.list[E]=z,delete this.list[C],!0):!1},each:function(C,E){for(var z=[null],D=1;D<arguments.length;D++)z.push(arguments[D]);for(var A in this.list)z[0]=this.list[A],C.apply(E,z)},resetStamp:function(C,E){C===void 0&&(C=1),E===void 0&&(E=16777215);var z=this.stamp;return z.setCrop(),z.setPosition(0),z.setAngle(0),z.setScale(1),z.setAlpha(C),z.setTint(E),z.setTexture("__WHITE"),z},destroy:function(){for(var C in this.list)this.list[C].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,l.remove(this._tempCanvas)}});u.exports=T},11876:(u,x,e)=>{var l=e(27919),p=e(83419),a=e(50030),s=e(29795),r=e(82751),t=new p({initialize:function(h,i,o,c,d){d===void 0&&(d=!1);var f=h.manager.game;this.renderer=f.renderer,this.texture=h,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=o||i.naturalWidth||i.videoWidth||i.width||0,this.height=c||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof r,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(f)},init:function(n){var h=this.renderer;if(h){var i=this.source;if(h.gl){var o=this.image,c=this.flipY,d=this.width,f=this.height,v=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(o,!1,c):this.isVideo?this.glTexture=h.createVideoTexture(o,!1,c):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,d,f,v):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(i,void 0,void 0,v):i instanceof Uint8Array?this.glTexture=h.createUint8ArrayTexture(i,d,f,v):this.glTexture=h.createTextureFromSource(o,d,f,v)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,h=this.image,i=this.flipY,o=n.gl;o&&this.isCanvas?n.updateCanvasTexture(h,this.glTexture,i):o&&this.isVideo&&n.updateVideoTexture(h,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});u.exports=t},19673:u=>{var x={LINEAR:0,NEAREST:1};u.exports=x},44538:u=>{u.exports="addtexture"},63486:u=>{u.exports="addtexture-"},94851:u=>{u.exports="onerror"},29099:u=>{u.exports="onload"},8678:u=>{u.exports="ready"},86415:u=>{u.exports="removetexture"},30879:u=>{u.exports="removetexture-"},69442:(u,x,e)=>{u.exports={ADD:e(44538),ADD_KEY:e(63486),ERROR:e(94851),LOAD:e(29099),READY:e(8678),REMOVE:e(86415),REMOVE_KEY:e(30879)}},27458:(u,x,e)=>{var l=e(79291),p=e(19673),a={CanvasTexture:e(57382),DynamicTexture:e(81320),Events:e(69442),FilterMode:p,Frame:e(4327),Parsers:e(61309),Texture:e(79237),TextureManager:e(17130),TextureSource:e(11876)};a=l(!1,a,p),u.exports=a},89905:u=>{var x=function(e,l,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=e.source[l];e.add("__BASE",l,0,0,a.width,a.height);for(var s=p.getElementsByTagName("SubTexture"),r,t=0;t<s.length;t++){var n=s[t].attributes,h=n.name.value,i=parseInt(n.x.value,10),o=parseInt(n.y.value,10),c=parseInt(n.width.value,10),d=parseInt(n.height.value,10);if(r=e.add(h,l,i,o,c,d),n.frameX){var f=Math.abs(parseInt(n.frameX.value,10)),v=Math.abs(parseInt(n.frameY.value,10)),m=parseInt(n.frameWidth.value,10),g=parseInt(n.frameHeight.value,10);r.setTrim(c,d,f,v,m,g)}}return e};u.exports=x},72893:u=>{var x=function(e,l){var p=e.source[l];return e.add("__BASE",l,0,0,p.width,p.height),e};u.exports=x},4832:u=>{var x=function(e,l){var p=e.source[l];return e.add("__BASE",l,0,0,p.width,p.height),e};u.exports=x},78566:(u,x,e)=>{var l=e(41786),p=function(a,s,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var t=a.source[s];a.add("__BASE",s,0,0,t.width,t.height);for(var n=Array.isArray(r.textures)?r.textures[s].frames:r.frames,h,i=0;i<n.length;i++){var o=n[i];if(h=a.add(o.filename,s,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var c=o.anchor||o.pivot;c&&(h.customPivot=!0,h.pivotX=c.x,h.pivotY=c.y),o.scale9Borders&&h.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),h.customData=l(o)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?a.customData[d]=r[d].slice(0):a.customData[d]=r[d]);return a};u.exports=p},39711:(u,x,e)=>{var l=e(41786),p=function(a,s,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var t=a.source[s];a.add("__BASE",s,0,0,t.width,t.height);var n=r.frames,h;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(h=a.add(i,s,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+i);continue}o.trimmed&&h.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(h.rotated=!0,h.updateUVsInverted());var c=o.anchor||o.pivot;c&&(h.customPivot=!0,h.pivotX=c.x,h.pivotY=c.y),o.scale9Borders&&h.setScale9(o.scale9Borders.x,o.scale9Borders.y,o.scale9Borders.w,o.scale9Borders.h),h.customData=l(o)}for(var d in r)d!=="frames"&&(Array.isArray(r[d])?a.customData[d]=r[d].slice(0):a.customData[d]=r[d]);return a};u.exports=p},31403:u=>{var x=function(e){var l=[171,75,84,88,32,49,49,187,13,10,26,10],p,a=new Uint8Array(e,0,12);for(p=0;p<a.length;p++)if(a[p]!==l[p]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(e,12,13*s),t=r.getUint32(0,!0)===67305985,n=r.getUint32(1*s,t);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=r.getUint32(4*s,t),i=r.getUint32(6*s,t),o=r.getUint32(7*s,t),c=Math.max(1,r.getUint32(11*s,t)),d=r.getUint32(12*s,t),f=new Array(c),v=12+13*4+d,m=i,g=o;for(p=0;p<c;p++){var y=new Int32Array(e,v,1)[0];v+=4,f[p]={data:new Uint8Array(e,v,y),width:m,height:g},m=Math.max(1,m>>1),g=Math.max(1,g>>1),v+=y}return{mipmaps:f,width:i,height:o,internalFormat:h,compressed:!0,generateMipmap:!1}};u.exports=x},82038:u=>{function x(E,z,D,A,L,b,F){return F===void 0&&(F=16),Math.floor((E+D)/L)*Math.floor((z+A)/b)*F}function e(E,z){return E=Math.max(E,16),z=Math.max(z,8),E*z/4}function l(E,z){return E=Math.max(E,8),z=Math.max(z,8),E*z/2}function p(E,z){return Math.ceil(E/4)*Math.ceil(z/4)*16}function a(E,z){return x(E,z,3,3,4,4,8)}function s(E,z){return x(E,z,3,3,4,4)}function r(E,z){return x(E,z,4,3,5,4)}function t(E,z){return x(E,z,4,4,5,5)}function n(E,z){return x(E,z,5,4,6,5)}function h(E,z){return x(E,z,5,5,6,6)}function i(E,z){return x(E,z,7,4,8,5)}function o(E,z){return x(E,z,7,5,8,6)}function c(E,z){return x(E,z,7,7,8,8)}function d(E,z){return x(E,z,9,4,10,5)}function f(E,z){return x(E,z,9,5,10,6)}function v(E,z){return x(E,z,9,7,10,8)}function m(E,z){return x(E,z,9,9,10,10)}function g(E,z){return x(E,z,11,9,12,10)}function y(E,z){return x(E,z,11,11,12,12)}var T={0:{sizeFunc:e,glFormat:[35841]},1:{sizeFunc:e,glFormat:[35843]},2:{sizeFunc:l,glFormat:[35840]},3:{sizeFunc:l,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:s,glFormat:[33777,35917]},9:{sizeFunc:s,glFormat:[33778,35918]},11:{sizeFunc:s,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:s,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:s,glFormat:[37490]},27:{sizeFunc:s,glFormat:[37808,37840]},28:{sizeFunc:r,glFormat:[37809,37841]},29:{sizeFunc:t,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:h,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:o,glFormat:[37814,37846]},34:{sizeFunc:c,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:f,glFormat:[37817,37849]},37:{sizeFunc:v,glFormat:[37818,37850]},38:{sizeFunc:m,glFormat:[37819,37851]},39:{sizeFunc:g,glFormat:[37820,37852]},40:{sizeFunc:y,glFormat:[37821,37853]}},C=function(E){for(var z=new Uint32Array(E,0,13),D=z[0],A=D===55727696,L=A?z[2]:z[3],b=z[4],F=T[L].glFormat[b],V=T[L].sizeFunc,B=z[11],N=z[7],U=z[6],I=52+z[12],H=new Uint8Array(E,I),O=new Array(B),R=0,Y=N,G=U,k=0;k<B;k++){var W=V(Y,G);O[k]={data:new Uint8Array(H.buffer,H.byteOffset+R,W),width:Y,height:G},Y=Math.max(1,Y>>1),G=Math.max(1,G>>1),R+=W}return{mipmaps:O,width:N,height:U,internalFormat:F,compressed:!0,generateMipmap:!1}};u.exports=C},75549:(u,x,e)=>{var l=e(95540),p=function(a,s,r,t,n,h,i){var o=l(i,"frameWidth",null),c=l(i,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=a.source[s];a.add("__BASE",s,0,0,d.width,d.height);var f=l(i,"startFrame",0),v=l(i,"endFrame",-1),m=l(i,"margin",0),g=l(i,"spacing",0),y=Math.floor((n-m+g)/(o+g)),T=Math.floor((h-m+g)/(c+g)),C=y*T;C===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(f>C||f<-C)&&(f=0),f<0&&(f=C+f),(v===-1||v>C||v<f)&&(v=C);for(var E=m,z=m,D=0,A=0,L=0,b=0;b<C;b++){D=0,A=0;var F=E+o,V=z+c;F>n&&(D=F-n),V>h&&(A=V-h),b>=f&&b<=v&&(a.add(L,s,r+E,t+z,o-D,c-A),L++),E+=o+g,E+o>n&&(E=m,z+=c+g)}return a};u.exports=p},47534:(u,x,e)=>{var l=e(95540),p=function(a,s,r){var t=l(r,"frameWidth",null),n=l(r,"frameHeight",t);if(!t)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=a.source[0];a.add("__BASE",0,0,0,h.width,h.height);var i=l(r,"startFrame",0),o=l(r,"endFrame",-1),c=l(r,"margin",0),d=l(r,"spacing",0),f=s.cutX,v=s.cutY,m=s.cutWidth,g=s.cutHeight,y=s.realWidth,T=s.realHeight,C=Math.floor((y-c+d)/(t+d)),E=Math.floor((T-c+d)/(n+d)),z=C*E,D=s.x,A=t-D,L=t-(y-m-D),b=s.y,F=n-b,V=n-(T-g-b);(i>z||i<-z)&&(i=0),i<0&&(i=z+i),o!==-1&&(z=i+(o+1));for(var B,N=c,U=c,I=0,H=0,O=0;O<E;O++){for(var R=O===0,Y=O===E-1,G=0;G<C;G++){var k=G===0,W=G===C-1;if(B=a.add(I,H,f+N,v+U,t,n),k||R||W||Y){var X=k?D:0,j=R?b:0,K=0,$=0;k&&(K+=t-A),W&&(K+=t-L),R&&($+=n-F),Y&&($+=n-V);var Z=t-K,J=n-$;B.cutWidth=Z,B.cutHeight=J,B.setTrim(t,n,X,j,Z,J)}N+=d,k?N+=A:W?N+=L:N+=t,I++}N=c,U+=d,R?U+=F:Y?U+=V:U+=n}return a};u.exports=p},86147:u=>{var x=0,e=function(p,a,s,r){var t=x-r.y-r.height;p.add(s,a,r.x,t,r.width,r.height)},l=function(p,a,s){var r=p.source[a];p.add("__BASE",a,0,0,r.width,r.height),x=r.height;for(var t=s.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",i="",o={x:0,y:0,width:0,height:0},c=0;c<t.length;c++){var d=t[c].match(n);if(d){var f=d[1]==="- ",v=d[2],m=d[3];if(f&&(i!==h&&(e(p,a,i,o),h=i),o={x:0,y:0,width:0,height:0}),v==="name"){i=m;continue}switch(v){case"x":case"y":case"width":case"height":o[v]=parseInt(m,10);break}}}return i!==h&&e(p,a,i,o),p};u.exports=l},55222:(u,x,e)=>{var l=e(50030),p=function(h){for(var i=h.mipmaps,o=1;o<i.length;o++){var c=i[o].width,d=i[o].height;if(!l(c,d))return console.warn("Mip level "+o+" is not a power-of-two size: "+c+"x"+d),!1}var f=n[h.internalFormat];return f?f(h):(console.warn("No format checker found for internal format "+h.internalFormat+". Assuming valid."),!0)};function a(h){for(var i=h.mipmaps,o=0;o<i.length;o++){var c=i[o].width,d=i[o].height;if((c<<o)%4!==0||(d<<o)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+o+" is "+c+"x"+d),!1}return!0}function s(){return!0}function r(h){var i=h.mipmaps,o=i[0];return l(o.width,o.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+o.width+"x"+o.height),!1)}function t(h){var i=h.mipmaps,o=i[0];return o.width%4!==0||o.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+o.width+"x"+o.height+" pixels"),!1):!0}var n={37488:s,37489:s,37490:s,37491:s,37492:s,37493:s,37494:s,37495:s,37496:s,37497:s,36196:s,37808:s,37809:s,37810:s,37811:s,37812:s,37813:s,37814:s,37815:s,37816:s,37817:s,37818:s,37819:s,37820:s,37821:s,37840:s,37841:s,37842:s,37843:s,37844:s,37845:s,37846:s,37847:s,37848:s,37849:s,37850:s,37851:s,37852:s,37853:s,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:r,35841:r,35842:r,35843:r,33776:a,33777:a,33778:a,33779:a,35916:t,35917:t,35918:t,35919:t};u.exports=p},61309:(u,x,e)=>{u.exports={AtlasXML:e(89905),Canvas:e(72893),Image:e(4832),JSONArray:e(78566),JSONHash:e(39711),KTXParser:e(31403),PVRParser:e(82038),SpriteSheet:e(75549),SpriteSheetFromAtlas:e(47534),UnityYAML:e(86147)}},80341:u=>{u.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s,r,t,n,h,i,o){(t===void 0||t<=0)&&(t=32),(n===void 0||n<=0)&&(n=32),h===void 0&&(h=0),i===void 0&&(i=0),this.name=s,this.firstgid=r|0,this.imageWidth=t|0,this.imageHeight=n|0,this.imageMargin=h|0,this.imageSpacing=i|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,s){return this.images.push({gid:a,image:s}),this.total++,this}});u.exports=p},27462:(u,x,e)=>{var l=e(83419),p=new l({initialize:function(s){if(this.gids=[],s!==void 0)for(var r=0;r<s.length;++r)for(var t=s[r],n=0;n<t.total;++n)this.gids[t.firstgid+n]=t;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var s=this.gids[a.gid];if(s){var r=s.getTileData(a.gid);if(r)return r.type}}},setTextureAndFrame:function(a,s,r,t){if(s===null&&this.gids&&t.gid!==void 0){var n=this.gids[t.gid];n&&(s===null&&n.image!==void 0&&(s=n.image.key),r===null&&(r=t.gid-n.firstgid),a.scene.textures.getFrame(s,r)||(s=null,r=null))}a.setTexture(s,r)},setPropertiesFromTiledObject:function(a,s){if(this.gids!==void 0&&s.gid!==void 0){var r=this.gids[s.gid];r!==void 0&&this.setFromJSON(a,r.getTileProperties(s.gid))}this.setFromJSON(a,s.properties)},setFromJSON:function(a,s){if(s){if(Array.isArray(s)){for(var r=0;r<s.length;r++){var t=s[r];a[t.name]!==void 0?a[t.name]=t.value:a.setData(t.name,t.value)}return}for(var n in s)a[n]!==void 0?a[n]=s[n]:a.setData(n,s[n])}}});u.exports=p},31989:(u,x,e)=>{var l=e(80341),p=e(87010),a=e(46177),s=e(49075),r=function(t,n,h,i,o,c,d,f){h===void 0&&(h=32),i===void 0&&(i=32),o===void 0&&(o=10),c===void 0&&(c=10),f===void 0&&(f=!1);var v=null;if(Array.isArray(d)){var m=n!==void 0?n:"map";v=a(m,l.ARRAY_2D,d,h,i,f)}else if(n!==void 0){var g=t.cache.tilemap.get(n);g?v=a(n,g.format,g.data,h,i,f):console.warn("No map data found for key "+n)}return v===null&&(v=new p({tileWidth:h,tileHeight:i,width:o,height:c})),new s(t,v)};u.exports=r},23029:(u,x,e)=>{var l=e(83419),p=e(31401),a=e(91907),s=e(62644),r=e(93232),t=new l({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(h,i,o,c,d,f,v,m){this.layer=h,this.index=i,this.x=o,this.y=c,this.width=d,this.height=f,this.right,this.bottom,this.baseWidth=v!==void 0?v:d,this.baseHeight=m!==void 0?m:f,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,h){return!(n<this.pixelX||h<this.pixelY||n>this.right||h>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=s(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var h=this.tilemapLayer;return h?this.getLeft(n)+this.width*h.scaleX:this.getLeft(n)+this.width},getTop:function(n){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var h=this.tilemapLayer;return h?this.getTop(n)+this.height*h.scaleY:this.getTop(n)+this.height},getBounds:function(n,h){return h===void 0&&(h=new r),h.x=this.getLeft(n),h.y=this.getTop(n),h.width=this.getRight(n)-h.x,h.height=this.getBottom(n)-h.y,h},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,h,i,o){return!(i<=this.pixelX||o<=this.pixelY||n>=this.right||h>=this.bottom)},isInteresting:function(n,h){return n&&h?this.canCollide||this.hasInterestingFace:n?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,h,i,o,c){if(h===void 0&&(h=n),i===void 0&&(i=n),o===void 0&&(o=n),c===void 0&&(c=!0),this.collideLeft=n,this.collideRight=h,this.collideUp=i,this.collideDown=o,this.faceLeft=n,this.faceRight=h,this.faceTop=i,this.faceBottom=o,c){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,h){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=h),this},setSize:function(n,h,i,o){return n!==void 0&&(this.width=n),h!==void 0&&(this.height=h),i!==void 0&&(this.baseWidth=i),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===a.HEXAGONAL){var h=this.layer.staggerAxis,i=this.layer.staggerIndex,o=this.layer.hexSideLength,c,d;h==="y"?(d=(this.baseHeight-o)/2+o,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):h==="x"&&(c=(this.baseWidth-o)/2+o,this.pixelX=this.x*c,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var h=n.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});u.exports=t},49075:(u,x,e)=>{var l=e(84101),p=e(83419),a=e(39506),s=e(80341),r=e(95540),t=e(14977),n=e(27462),h=e(91907),i=e(36305),o=e(19133),c=e(68287),d=e(23029),f=e(81086),v=e(20442),m=e(33629),g=new p({initialize:function(T,C){this.scene=T,this.tileWidth=C.tileWidth,this.tileHeight=C.tileHeight,this.width=C.width,this.height=C.height,this.orientation=C.orientation,this.renderOrder=C.renderOrder,this.format=C.format,this.version=C.version,this.properties=C.properties,this.widthInPixels=C.widthInPixels,this.heightInPixels=C.heightInPixels,this.imageCollections=C.imageCollections,this.images=C.images,this.layers=C.layers,this.tiles=C.tiles,this.tilesets=C.tilesets,this.objects=C.objects,this.currentLayerIndex=0,this.hexSideLength=C.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:f.GetWorldToTileXYFunction(E),WorldToTileX:f.GetWorldToTileXFunction(E),WorldToTileY:f.GetWorldToTileYFunction(E),TileToWorldXY:f.GetTileToWorldXYFunction(E),TileToWorldX:f.GetTileToWorldXFunction(E),TileToWorldY:f.GetTileToWorldYFunction(E),GetTileCorners:f.GetTileCornersFunction(E)}},setRenderOrder:function(y){var T=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=T[y]),T.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,T,C,E,z,D,A,L){if(y===void 0)return null;T==null&&(T=y);var b=this.scene.sys.textures;if(!b.exists(T))return console.warn('Texture key "%s" not found',T),null;var F=b.get(T),V=this.getTilesetIndex(y);if(V===null&&this.format===s.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',y,this.tilesets),null;var B=this.tilesets[V];return B?((C||E)&&B.setTileSize(C,E),(z||D)&&B.setSpacing(z,D),B.setImage(F),B):(C===void 0&&(C=this.tileWidth),E===void 0&&(E=this.tileHeight),z===void 0&&(z=0),D===void 0&&(D=0),A===void 0&&(A=0),L===void 0&&(L={x:0,y:0}),B=new m(y,A,C,E,z,D,void 0,void 0,L),B.setImage(F),this.tilesets.push(B),this.tiles=l(this),B)},copy:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L!==null?(f.Copy(y,T,C,E,z,D,A,L),this):null},createBlankLayer:function(y,T,C,E,z,D,A,L){C===void 0&&(C=0),E===void 0&&(E=0),z===void 0&&(z=this.width),D===void 0&&(D=this.height),A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight);var b=this.getLayerIndex(y);if(b!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var F=new t({name:y,tileWidth:A,tileHeight:L,width:z,height:D,orientation:this.orientation}),V,B=0;B<D;B++){V=[];for(var N=0;N<z;N++)V.push(new d(F,-1,N,B,A,L,this.tileWidth,this.tileHeight));F.data.push(V)}this.layers.push(F),this.currentLayerIndex=this.layers.length-1;var U=new v(this.scene,this,this.currentLayerIndex,T,C,E);return U.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(U),U},createLayer:function(y,T,C,E){var z=this.getLayerIndex(y);if(z===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[z];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=z,C===void 0&&(C=D.x),E===void 0&&(E=D.y);var A=new v(this.scene,this,z,T,C,E);return A.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(A),A},createFromObjects:function(y,T,C){C===void 0&&(C=!0);var E=[],z=this.getObjectLayer(y);if(!z)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),E;var D=new n(C?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var A=z.objects,L=0;L<T.length;L++){var b=T[L],F=r(b,"id",null),V=r(b,"gid",null),B=r(b,"name",null),N=r(b,"type",null);D.enabled=!r(b,"ignoreTileset",null);for(var U,I=[],H=0;H<A.length;H++)U=A[H],(F===null&&V===null&&B===null&&N===null||F!==null&&U.id===F||V!==null&&U.gid===V||B!==null&&U.name===B||N!==null&&D.getTypeIncludingTile(U)===N)&&I.push(U);for(var O=r(b,"classType",c),R=r(b,"scene",this.scene),Y=r(b,"container",null),G=r(b,"key",null),k=r(b,"frame",null),W=0;W<I.length;W++){U=I[W];var X=new O(R);if(X.setName(U.name),X.setPosition(U.x,U.y),D.setTextureAndFrame(X,G,k,U),U.width&&(X.displayWidth=U.width),U.height&&(X.displayHeight=U.height),this.orientation===h.ISOMETRIC){var j=this.tileWidth/this.tileHeight,K={x:X.x-X.y,y:(X.x+X.y)/j};X.x=K.x,X.y=K.y}var $={x:X.originX*U.width,y:(X.originY-(U.gid?1:0))*U.height};if(U.rotation){var Z=a(U.rotation);i($,Z),X.rotation=Z}X.x+=$.x,X.y+=$.y,(U.flippedHorizontal!==void 0||U.flippedVertical!==void 0)&&X.setFlip(U.flippedHorizontal,U.flippedVertical),U.visible||(X.visible=!1),D.setPropertiesFromTiledObject(X,U),Y?Y.add(X):R.add.existing(X),E.push(X)}}return E},createFromTiles:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:f.CreateFromTiles(y,T,C,E,z,D)},fill:function(y,T,C,E,z,D,A){return D===void 0&&(D=!0),A=this.getLayer(A),A===null?null:(f.Fill(y,T,C,E,z,D,A),this)},filterObjects:function(y,T,C){if(typeof y=="string"){var E=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+E),null}return y.objects.filter(T,C)},filterTiles:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L===null?null:f.FilterTiles(y,T,C,E,z,D,A,L)},findByIndex:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.FindByIndex(y,T,C,E)},findObject:function(y,T,C){if(typeof y=="string"){var E=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+E),null}return y.objects.find(T,C)||null},findTile:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L===null?null:f.FindTile(y,T,C,E,z,D,A,L)},forEachTile:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L===null?null:(f.ForEachTile(y,T,C,E,z,D,A,L),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,T){for(var C=0;C<y.length;C++)if(y[C].name===T)return C;return null},getLayer:function(y){var T=this.getLayerIndex(y);return T!==null?this.layers[T]:null},getObjectLayer:function(y){var T=this.getIndex(this.objects,y);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof v&&y.tilemap===this?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.GetTileAt(y,T,C,E)},getTileAtWorldXY:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:f.GetTileAtWorldXY(y,T,C,E,z)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:f.GetTilesWithin(y,T,C,E,z,D)},getTilesWithinShape:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.GetTilesWithinShape(y,T,C,E)},getTilesWithinWorldXY:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:f.GetTilesWithinWorldXY(y,T,C,E,z,D,A)},getTileset:function(y){var T=this.getIndex(this.tilesets,y);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,T,C){return C=this.getLayer(C),C===null?null:f.HasTileAt(y,T,C)},hasTileAtWorldXY:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.HasTileAtWorldXY(y,T,C,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,T,C,E,z){return E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:f.PutTileAt(y,T,C,E,z)},putTileAtWorldXY:function(y,T,C,E,z,D){return E===void 0&&(E=!0),D=this.getLayer(D),D===null?null:f.PutTileAtWorldXY(y,T,C,E,z,D)},putTilesAt:function(y,T,C,E,z){return E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:(f.PutTilesAt(y,T,C,E,z),this)},randomize:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:(f.Randomize(y,T,C,E,z,D),this)},calculateFacesAt:function(y,T,C){return C=this.getLayer(C),C===null?null:(f.CalculateFacesAt(y,T,C),this)},calculateFacesWithin:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:(f.CalculateFacesWithin(y,T,C,E,z),this)},removeLayer:function(y){var T=this.getLayerIndex(y);if(T!==null){o(this.layers,T);for(var C=T;C<this.layers.length;C++)this.layers[C].tilemapLayer&&this.layers[C].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var T=this.getLayerIndex(y);return T!==null?(y=this.layers[T],y.tilemapLayer.destroy(),o(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,T=0;T<y.length;T++)y[T].tilemapLayer&&y[T].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,T,C){T===void 0&&(T=-1),C===void 0&&(C=!0);var E=[];Array.isArray(y)||(y=[y]);for(var z=0;z<y.length;z++){var D=y[z];E.push(this.removeTileAt(D.x,D.y,!0,C,D.tilemapLayer)),T>-1&&this.putTileAt(T,D.x,D.y,C,D.tilemapLayer)}return E},removeTileAt:function(y,T,C,E,z){return C===void 0&&(C=!0),E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:f.RemoveTileAt(y,T,C,E,z)},removeTileAtWorldXY:function(y,T,C,E,z,D){return C===void 0&&(C=!0),E===void 0&&(E=!0),D=this.getLayer(D),D===null?null:f.RemoveTileAtWorldXY(y,T,C,E,z,D)},renderDebug:function(y,T,C){return C=this.getLayer(C),C===null?null:(this.orientation===h.ORTHOGONAL&&f.RenderDebug(y,T,C),this)},renderDebugFull:function(y,T){for(var C=this.layers,E=0;E<C.length;E++)f.RenderDebug(y,T,C[E]);return this},replaceByIndex:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:(f.ReplaceByIndex(y,T,C,E,z,D,A),this)},setCollision:function(y,T,C,E,z){return T===void 0&&(T=!0),C===void 0&&(C=!0),z===void 0&&(z=!0),E=this.getLayer(E),E===null?null:(f.SetCollision(y,T,C,E,z),this)},setCollisionBetween:function(y,T,C,E,z){return C===void 0&&(C=!0),E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:(f.SetCollisionBetween(y,T,C,E,z),this)},setCollisionByProperty:function(y,T,C,E){return T===void 0&&(T=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(f.SetCollisionByProperty(y,T,C,E),this)},setCollisionByExclusion:function(y,T,C,E){return T===void 0&&(T=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(f.SetCollisionByExclusion(y,T,C,E),this)},setCollisionFromCollisionGroup:function(y,T,C){return y===void 0&&(y=!0),T===void 0&&(T=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionFromCollisionGroup(y,T,C),this)},setTileIndexCallback:function(y,T,C,E){return E=this.getLayer(E),E===null?null:(f.SetTileIndexCallback(y,T,C,E),this)},setTileLocationCallback:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:(f.SetTileLocationCallback(y,T,C,E,z,D,A),this)},setLayer:function(y){var T=this.getLayerIndex(y);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(y,T){this.tileWidth=y,this.tileHeight=T,this.widthInPixels=this.width*y,this.heightInPixels=this.height*T;for(var C=0;C<this.layers.length;C++){this.layers[C].baseTileWidth=y,this.layers[C].baseTileHeight=T;for(var E=this.layers[C].data,z=this.layers[C].width,D=this.layers[C].height,A=0;A<D;A++)for(var L=0;L<z;L++){var b=E[A][L];b!==null&&b.setSize(void 0,void 0,y,T)}}return this},setLayerTileSize:function(y,T,C){if(C=this.getLayer(C),C===null)return this;C.tileWidth=y,C.tileHeight=T;for(var E=C.data,z=C.width,D=C.height,A=0;A<D;A++)for(var L=0;L<z;L++){var b=E[A][L];b!==null&&b.setSize(y,T)}return this},shuffle:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:(f.Shuffle(y,T,C,E,z),this)},swapByIndex:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:(f.SwapByIndex(y,T,C,E,z,D,A),this)},tileToWorldX:function(y,T,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldX(y,T,C)},tileToWorldY:function(y,T,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldY(y,T,C)},tileToWorldXY:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:this._convert.TileToWorldXY(y,T,C,E,z)},getTileCorners:function(y,T,C,E){return E=this.getLayer(E),E===null?null:this._convert.GetTileCorners(y,T,C,E)},weightedRandomize:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:(f.WeightedRandomize(T,C,E,z,y,D),this)},worldToTileX:function(y,T,C,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(y,T,C,E)},worldToTileY:function(y,T,C,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(y,T,C,E)},worldToTileXY:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(y,T,C,E,z,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});u.exports=g},45939:(u,x,e)=>{var l=e(44603),p=e(31989);l.register("tilemap",function(a){var s=a!==void 0?a:{};return p(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},46029:(u,x,e)=>{var l=e(39429),p=e(31989);l.register("tilemap",function(a,s,r,t,n,h,i){return a===null&&(a=void 0),s===null&&(s=void 0),r===null&&(r=void 0),t===null&&(t=void 0),n===null&&(n=void 0),p(this.scene,a,s,r,t,n,h,i)})},20442:(u,x,e)=>{var l=e(83419),p=e(78389),a=e(31401),s=e(95643),r=e(81086),t=e(19218),n=e(26099),h=new l({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,p,t],initialize:function(o,c,d,f,v,m){s.call(this,o,"TilemapLayer"),this.isTilemap=!0,this.tilemap=c,this.layerIndex=d,this.layer=c.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(f),this.setAlpha(this.layer.alpha),this.setPosition(v,m),this.setOrigin(0,0),this.setSize(c.tileWidth*this.layer.width,c.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var o=[],c=[],d=this.tilemap;Array.isArray(i)||(i=[i]);for(var f=0;f<i.length;f++){var v=i[f];if(typeof v=="string"&&(v=d.getTileset(v)),v){c.push(v);for(var m=v.firstgid,g=0;g<v.total;g++)o[m+g]=v}}this.gidMap=o,this.tileset=c},setRenderOrder:function(i){var o=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=o.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,o){return r.CalculateFacesAt(i,o,this.layer),this},calculateFacesWithin:function(i,o,c,d){return r.CalculateFacesWithin(i,o,c,d,this.layer),this},createFromTiles:function(i,o,c,d,f){return r.CreateFromTiles(i,o,c,d,f,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,o,c,d,f,v,m){return r.Copy(i,o,c,d,f,v,m,this.layer),this},fill:function(i,o,c,d,f,v){return r.Fill(i,o,c,d,f,v,this.layer),this},filterTiles:function(i,o,c,d,f,v,m){return r.FilterTiles(i,o,c,d,f,v,m,this.layer)},findByIndex:function(i,o,c){return r.FindByIndex(i,o,c,this.layer)},findTile:function(i,o,c,d,f,v,m){return r.FindTile(i,o,c,d,f,v,m,this.layer)},forEachTile:function(i,o,c,d,f,v,m){return r.ForEachTile(i,o,c,d,f,v,m,this.layer),this},setTint:function(i,o,c,d,f,v){i===void 0&&(i=16777215);var m=function(g){g.tint=i,g.tintFill=!1};return this.forEachTile(m,this,o,c,d,f,v)},setTintFill:function(i,o,c,d,f,v){i===void 0&&(i=16777215);var m=function(g){g.tint=i,g.tintFill=!0};return this.forEachTile(m,this,o,c,d,f,v)},getTileAt:function(i,o,c){return r.GetTileAt(i,o,c,this.layer)},getTileAtWorldXY:function(i,o,c,d){return r.GetTileAtWorldXY(i,o,c,d,this.layer)},getIsoTileAtWorldXY:function(i,o,c,d,f){c===void 0&&(c=!0);var v=this.tempVec;return r.IsometricWorldToTileXY(i,o,!0,v,f,this.layer,c),this.getTileAt(v.x,v.y,d)},getTilesWithin:function(i,o,c,d,f){return r.GetTilesWithin(i,o,c,d,f,this.layer)},getTilesWithinShape:function(i,o,c){return r.GetTilesWithinShape(i,o,c,this.layer)},getTilesWithinWorldXY:function(i,o,c,d,f,v){return r.GetTilesWithinWorldXY(i,o,c,d,f,v,this.layer)},hasTileAt:function(i,o){return r.HasTileAt(i,o,this.layer)},hasTileAtWorldXY:function(i,o,c){return r.HasTileAtWorldXY(i,o,c,this.layer)},putTileAt:function(i,o,c,d){return r.PutTileAt(i,o,c,d,this.layer)},putTileAtWorldXY:function(i,o,c,d,f){return r.PutTileAtWorldXY(i,o,c,d,f,this.layer)},putTilesAt:function(i,o,c,d){return r.PutTilesAt(i,o,c,d,this.layer),this},randomize:function(i,o,c,d,f){return r.Randomize(i,o,c,d,f,this.layer),this},removeTileAt:function(i,o,c,d){return r.RemoveTileAt(i,o,c,d,this.layer)},removeTileAtWorldXY:function(i,o,c,d,f){return r.RemoveTileAtWorldXY(i,o,c,d,f,this.layer)},renderDebug:function(i,o){return r.RenderDebug(i,o,this.layer),this},replaceByIndex:function(i,o,c,d,f,v){return r.ReplaceByIndex(i,o,c,d,f,v,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,o){return i===void 0&&(i=1),o===void 0&&(o=1),this.cullPaddingX=i,this.cullPaddingY=o,this},setCollision:function(i,o,c,d){return r.SetCollision(i,o,c,this.layer,d),this},setCollisionBetween:function(i,o,c,d){return r.SetCollisionBetween(i,o,c,d,this.layer),this},setCollisionByProperty:function(i,o,c){return r.SetCollisionByProperty(i,o,c,this.layer),this},setCollisionByExclusion:function(i,o,c){return r.SetCollisionByExclusion(i,o,c,this.layer),this},setCollisionFromCollisionGroup:function(i,o){return r.SetCollisionFromCollisionGroup(i,o,this.layer),this},setTileIndexCallback:function(i,o,c){return r.SetTileIndexCallback(i,o,c,this.layer),this},setTileLocationCallback:function(i,o,c,d,f,v){return r.SetTileLocationCallback(i,o,c,d,f,v,this.layer),this},shuffle:function(i,o,c,d){return r.Shuffle(i,o,c,d,this.layer),this},swapByIndex:function(i,o,c,d,f,v){return r.SwapByIndex(i,o,c,d,f,v,this.layer),this},tileToWorldX:function(i,o){return this.tilemap.tileToWorldX(i,o,this)},tileToWorldY:function(i,o){return this.tilemap.tileToWorldY(i,o,this)},tileToWorldXY:function(i,o,c,d){return this.tilemap.tileToWorldXY(i,o,c,d,this)},getTileCorners:function(i,o,c){return this.tilemap.getTileCorners(i,o,c,this)},weightedRandomize:function(i,o,c,d,f){return r.WeightedRandomize(o,c,d,f,i,this.layer),this},worldToTileX:function(i,o,c){return this.tilemap.worldToTileX(i,o,c,this)},worldToTileY:function(i,o,c){return this.tilemap.worldToTileY(i,o,c,this)},worldToTileXY:function(i,o,c,d,f){return this.tilemap.worldToTileXY(i,o,c,d,f,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});u.exports=h},16153:(u,x,e)=>{var l=e(61340),p=new l,a=new l,s=new l,r=function(t,n,h,i){var o=n.cull(h),c=o.length,d=h.alpha*n.alpha;if(!(c===0||d<=0)){var f=p,v=a,m=s;v.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),f.copyFrom(h.matrix);var g=t.currentContext,y=n.gidMap;g.save(),i?(f.multiplyWithOffset(i,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),v.e=n.x,v.f=n.y,f.multiply(v,m),m.copyToContext(g)):(v.e-=h.scrollX*n.scrollFactorX,v.f-=h.scrollY*n.scrollFactorY,v.copyToContext(g)),(!t.antialias||n.scaleX>1||n.scaleY>1)&&(g.imageSmoothingEnabled=!1);for(var T=0;T<c;T++){var C=o[T],E=y[C.index];if(E){var z=E.image.getSourceImage(),D=E.getTileTextureCoordinates(C.index),A=E.tileWidth,L=E.tileHeight;if(!(D===null||A===0||L===0)){var b=A*.5,F=L*.5;D.x+=E.tileOffset.x,D.y+=E.tileOffset.y,g.save(),g.translate(C.pixelX+b,C.pixelY+F),C.rotation!==0&&g.rotate(C.rotation),(C.flipX||C.flipY)&&g.scale(C.flipX?-1:1,C.flipY?-1:1),g.globalAlpha=d*C.alpha,g.drawImage(z,D.x,D.y,A,L,-b,-F,A,L),g.restore()}}}g.restore()}};u.exports=r},19218:(u,x,e)=>{var l=e(29747),p=l,a=l;p=e(99558),a=e(16153),u.exports={renderWebGL:p,renderCanvas:a}},99558:(u,x,e)=>{var l=e(70554),p=function(a,s,r){var t=s.cull(r),n=t.length,h=r.alpha*s.alpha;if(!(n===0||h<=0)){var i=s.gidMap,o=a.pipelines.set(s.pipeline,s),c=l.getTintAppendFloatAlpha,d=s.scrollFactorX,f=s.scrollFactorY,v=s.x,m=s.y,g=s.scaleX,y=s.scaleY;a.pipelines.preBatch(s);for(var T=0;T<n;T++){var C=t[T],E=i[C.index];if(E){var z=E.getTileTextureCoordinates(C.index),D=E.tileWidth,A=E.tileHeight;if(!(!z||D===0||A===0)){var L=D*.5,b=A*.5,F=E.glTexture,V=o.setTexture2D(F,s),B=D,N=A,U=z.x,I=z.y,H=E.tileOffset.x,O=E.tileOffset.y,R=c(C.tint,h*C.alpha);o.batchTexture(s,F,F.width,F.height,v+C.pixelX*g+(L*g-H),m+C.pixelY*y+(b*y-O),D,A,g,y,C.rotation,C.flipX,C.flipY,d,f,L,b,U,I,B,N,R,R,R,R,C.tintFill,0,0,r,null,!0,V,!0)}}}a.pipelines.postBatch(s)}};u.exports=p},33629:(u,x,e)=>{var l=e(83419),p=e(26099),a=new l({initialize:function(r,t,n,h,i,o,c,d,f){(n===void 0||n<=0)&&(n=32),(h===void 0||h<=0)&&(h=32),i===void 0&&(i=0),o===void 0&&(o=0),c===void 0&&(c={}),d===void 0&&(d={}),this.name=r,this.firstgid=t,this.tileWidth=n,this.tileHeight=h,this.tileMargin=i,this.tileSpacing=o,this.tileProperties=c,this.tileData=d,this.tileOffset=new p,f!==void 0&&this.tileOffset.set(f.x,f.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){this.image=s;var r=s.get(),t=s.getFrameBounds();return this.glTexture=r.source.glTexture,r.width>t.width||r.height>t.height?this.updateTileData(r.width,r.height):this.updateTileData(t.width,t.height,t.x,t.y),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var h=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),i=Math.floor(i),this.rows=h,this.columns=i,this.total=h*i,this.texCoordinates.length=0;for(var o=this.tileMargin+t,c=this.tileMargin+n,d=0;d<this.rows;d++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:o,y:c}),o+=this.tileWidth+this.tileSpacing;o=this.tileMargin+t,c+=this.tileHeight+this.tileSpacing}return this}});u.exports=a},72023:(u,x,e)=>{var l=e(7423),p=function(a,s,r){var t=l(a,s,!0,r),n=l(a,s-1,!0,r),h=l(a,s+1,!0,r),i=l(a-1,s,!0,r),o=l(a+1,s,!0,r),c=t&&t.collides;return c&&(t.faceTop=!0,t.faceBottom=!0,t.faceLeft=!0,t.faceRight=!0),n&&n.collides&&(c&&(t.faceTop=!1),n.faceBottom=!c),h&&h.collides&&(c&&(t.faceBottom=!1),h.faceTop=!c),i&&i.collides&&(c&&(t.faceLeft=!1),i.faceRight=!c),o&&o.collides&&(c&&(t.faceRight=!1),o.faceLeft=!c),t&&!t.collides&&t.resetFaces(),t};u.exports=p},42573:(u,x,e)=>{var l=e(7423),p=e(7386),a=function(s,r,t,n,h){for(var i=null,o=null,c=null,d=null,f=p(s,r,t,n,null,h),v=0;v<f.length;v++){var m=f[v];m&&(m.collides?(i=l(m.x,m.y-1,!0,h),o=l(m.x,m.y+1,!0,h),c=l(m.x-1,m.y,!0,h),d=l(m.x+1,m.y,!0,h),m.faceTop=!(i&&i.collides),m.faceBottom=!(o&&o.collides),m.faceLeft=!(c&&c.collides),m.faceRight=!(d&&d.collides)):m.resetFaces())}};u.exports=a},33528:(u,x,e)=>{var l=e(26099),p=new l,a=function(s,r,t,n){var h=t.tilemapLayer,i=h.cullPaddingX,o=h.cullPaddingY,c=h.tilemap.tileToWorldXY(s,r,p,n,h);return c.x>n.worldView.x+h.scaleX*t.tileWidth*(-i-.5)&&c.x<n.worldView.right+h.scaleX*t.tileWidth*(i-.5)&&c.y>n.worldView.y+h.scaleY*t.tileHeight*(-o-1)&&c.y<n.worldView.bottom+h.scaleY*t.tileHeight*(o-.5)};u.exports=a},1785:(u,x,e)=>{var l=e(42573),p=e(7386),a=e(62991),s=e(23029),r=function(t,n,h,i,o,c,d,f){d===void 0&&(d=!0);var v=p(t,n,h,i,null,f),m=[];v.forEach(function(D){var A=new s(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);A.copy(D),m.push(A)});for(var g=o-t,y=c-n,T=0;T<m.length;T++){var C=m[T],E=C.x+g,z=C.y+y;a(E,z,f)&&f.data[z][E]&&(C.x=E,C.y=z,C.updatePixelXY(),f.data[z][E]=C)}d&&l(o-1,c-1,h+2,i+2,f),v.length=0,m.length=0};u.exports=r},78419:(u,x,e)=>{var l=e(62644),p=e(7386),a=e(27987),s=function(r,t,n,h,i,o){n||(n={}),Array.isArray(r)||(r=[r]);var c=o.tilemapLayer;h||(h=c.scene),i||(i=h.cameras.main);var d=o.width,f=o.height,v=p(0,0,d,f,null,o),m=[],g,y=function(z,D,A){for(var L=0;L<A.length;L++){var b=A[L];z.hasOwnProperty(b)||(z[b]=D[b])}};for(g=0;g<v.length;g++){var T=v[g],C=l(n);if(r.indexOf(T.index)!==-1){var E=c.tileToWorldXY(T.x,T.y,void 0,i,o);C.x=E.x,C.y=E.y,y(C,T,["rotation","flipX","flipY","alpha","visible","tint"]),C.hasOwnProperty("origin")||(C.x+=T.width*.5,C.y+=T.height*.5),C.hasOwnProperty("useSpriteSheet")&&(C.key=T.tileset.image,C.frame=T.index-1),m.push(h.make.sprite(C))}}if(Array.isArray(t))for(g=0;g<r.length;g++)a(r[g],t[g],0,0,d,f,o);else if(t!==null)for(g=0;g<r.length;g++)a(r[g],t,0,0,d,f,o);return m};u.exports=s},19545:(u,x,e)=>{var l=e(87841),p=e(63448),a=e(56583),s=new l,r=function(t,n){var h=t.tilemapLayer.tilemap,i=t.tilemapLayer,o=Math.floor(h.tileWidth*i.scaleX),c=Math.floor(h.tileHeight*i.scaleY),d=a(n.worldView.x-i.x,o,0,!0)-i.cullPaddingX,f=p(n.worldView.right-i.x,o,0,!0)+i.cullPaddingX,v=a(n.worldView.y-i.y,c,0,!0)-i.cullPaddingY,m=p(n.worldView.bottom-i.y,c,0,!0)+i.cullPaddingY;return s.setTo(d,v,f-d,m-v)};u.exports=r},30003:(u,x,e)=>{var l=e(19545),p=e(32483),a=function(s,r,t,n){t===void 0&&(t=[]),n===void 0&&(n=0),t.length=0;var h=s.tilemapLayer,i=l(s,r);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,t),t};u.exports=a},35137:(u,x,e)=>{var l=e(7386),p=e(42573),a=e(20576),s=function(r,t,n,h,i,o,c){for(var d=c.collideIndexes.indexOf(r)!==-1,f=l(t,n,h,i,null,c),v=0;v<f.length;v++)f[v].index=r,a(f[v],d);o&&p(t-1,n-1,h+2,i+2,c)};u.exports=s},40253:(u,x,e)=>{var l=e(7386),p=function(a,s,r,t,n,h,i,o){var c=l(r,t,n,h,i,o);return c.filter(a,s)};u.exports=p},52692:u=>{var x=function(e,l,p,a){l===void 0&&(l=0),p===void 0&&(p=!1);var s=0,r,t,n;if(p){for(t=a.height-1;t>=0;t--)for(r=a.width-1;r>=0;r--)if(n=a.data[t][r],n&&n.index===e){if(s===l)return n;s+=1}}else for(t=0;t<a.height;t++)for(r=0;r<a.width;r++)if(n=a.data[t][r],n&&n.index===e){if(s===l)return n;s+=1}return null};u.exports=x},66151:(u,x,e)=>{var l=e(7386),p=function(a,s,r,t,n,h,i,o){var c=l(r,t,n,h,i,o);return c.find(a,s)||null};u.exports=p},97560:(u,x,e)=>{var l=e(7386),p=function(a,s,r,t,n,h,i,o){var c=l(r,t,n,h,i,o);c.forEach(a,s)};u.exports=p},43305:(u,x,e)=>{var l=e(91907),p=e(30003),a=e(9474),s=e(14018),r=e(29747),t=e(54503),n=function(h){return h===l.ORTHOGONAL?p:h===l.HEXAGONAL?a:h===l.STAGGERED?t:h===l.ISOMETRIC?s:r};u.exports=n},7423:(u,x,e)=>{var l=e(62991),p=function(a,s,r,t){if(l(a,s,t)){var n=t.data[s][a]||null;return n?n.index===-1?r?n:null:n:null}else return null};u.exports=p},60540:(u,x,e)=>{var l=e(7423),p=e(26099),a=new p,s=function(r,t,n,h,i){return i.tilemapLayer.worldToTileXY(r,t,!0,a,h),l(a.x,a.y,n,i)};u.exports=s},55826:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t){var n=t.baseTileWidth,h=t.baseTileHeight,i=t.tilemapLayer,o=0,c=0;i&&(r||(r=i.scene.cameras.main),o=i.x+r.scrollX*(1-i.scrollFactorX),c=i.y+r.scrollY*(1-i.scrollFactorY),n*=i.scaleX,h*=i.scaleY);var d=o+a*n,f=c+s*h;return[new l(d,f),new l(d+n,f),new l(d+n,f+h),new l(d,f+h)]};u.exports=p},11758:(u,x,e)=>{var l=e(91907),p=e(27229),a=e(29747),s=e(55826),r=function(t){return t===l.ORTHOGONAL?s:t===l.ISOMETRIC?a:t===l.HEXAGONAL?p:(t===l.STAGGERED,a)};u.exports=r},39167:(u,x,e)=>{var l=e(91907),p=e(29747),a=e(97281),s=function(r){return r===l.ORTHOGONAL?a:p};u.exports=s},62e3:(u,x,e)=>{var l=e(91907),p=e(19951),a=e(14127),s=e(29747),r=e(97202),t=e(70326),n=function(h){return h===l.ORTHOGONAL?t:h===l.ISOMETRIC?a:h===l.HEXAGONAL?p:h===l.STAGGERED?r:s};u.exports=n},5984:(u,x,e)=>{var l=e(91907),p=e(29747),a=e(28054),s=e(29650),r=function(t){return t===l.ORTHOGONAL?s:t===l.STAGGERED?a:p};u.exports=r},7386:(u,x,e)=>{var l=e(95540),p=function(a,s,r,t,n,h){a===void 0&&(a=0),s===void 0&&(s=0),r===void 0&&(r=h.width),t===void 0&&(t=h.height),n||(n={});var i=l(n,"isNotEmpty",!1),o=l(n,"isColliding",!1),c=l(n,"hasInterestingFace",!1);a<0&&(r+=a,a=0),s<0&&(t+=s,s=0),a+r>h.width&&(r=Math.max(h.width-a,0)),s+t>h.height&&(t=Math.max(h.height-s,0));for(var d=[],f=s;f<s+t;f++)for(var v=a;v<a+r;v++){var m=h.data[f][v];if(m!==null){if(i&&m.index===-1||o&&!m.collides||c&&!m.hasInterestingFace)continue;d.push(m)}}return d};u.exports=p},91141:(u,x,e)=>{var l=e(55738),p=e(7386),a=e(91865),s=e(29747),r=e(26099),t=function(c,d){return a.RectangleToTriangle(d,c)},n=new r,h=new r,i=new r,o=function(c,d,f,v){if(c===void 0)return[];var m=s;c instanceof l.Circle?m=a.CircleToRectangle:c instanceof l.Rectangle?m=a.RectangleToRectangle:c instanceof l.Triangle?m=t:c instanceof l.Line&&(m=a.LineToRectangle),v.tilemapLayer.worldToTileXY(c.left,c.top,!0,h,f);var g=h.x,y=h.y;v.tilemapLayer.worldToTileXY(c.right,c.bottom,!1,i,f);var T=Math.ceil(i.x),C=Math.ceil(i.y),E=Math.max(T-g,1),z=Math.max(C-y,1),D=p(g,y,E,z,d,v),A=v.tileWidth,L=v.tileHeight;v.tilemapLayer&&(A*=v.tilemapLayer.scaleX,L*=v.tilemapLayer.scaleY);for(var b=[],F=new l.Rectangle(0,0,A,L),V=0;V<D.length;V++){var B=D[V];v.tilemapLayer.tileToWorldXY(B.x,B.y,n,f),F.x=n.x,F.y=n.y,m(c,F)&&b.push(B)}return b};u.exports=o},96523:(u,x,e)=>{var l=e(7386),p=e(26099),a=new p,s=new p,r=function(t,n,h,i,o,c,d){var f=d.tilemapLayer.tilemap._convert.WorldToTileXY;f(t,n,!0,a,c,d);var v=a.x,m=a.y;f(t+h,n+i,!1,s,c,d);var g=Math.ceil(s.x),y=Math.ceil(s.y);return l(v,m,g-v,y-m,o,d)};u.exports=r},96113:(u,x,e)=>{var l=e(91907),p=e(20242),a=e(10095),s=function(r){return r===l.ORTHOGONAL?a:p};u.exports=s},16926:(u,x,e)=>{var l=e(91907),p=e(86625),a=e(96897),s=e(29747),r=e(15108),t=e(85896),n=function(h){return h===l.ORTHOGONAL?t:h===l.ISOMETRIC?a:h===l.HEXAGONAL?p:h===l.STAGGERED?r:s};u.exports=n},55762:(u,x,e)=>{var l=e(91907),p=e(20242),a=e(51900),s=e(63288),r=function(t){return t===l.ORTHOGONAL?s:t===l.STAGGERED?a:p};u.exports=r},45091:(u,x,e)=>{var l=e(62991),p=function(a,s,r){if(l(a,s,r)){var t=r.data[s][a];return t!==null&&t.index>-1}else return!1};u.exports=p},24152:(u,x,e)=>{var l=e(45091),p=e(26099),a=new p,s=function(r,t,n,h){h.tilemapLayer.worldToTileXY(r,t,!0,a,n);var i=a.x,o=a.y;return l(i,o,h)};u.exports=s},90454:(u,x,e)=>{var l=e(63448),p=e(56583),a=function(s,r){var t=s.tilemapLayer.tilemap,n=s.tilemapLayer,h=Math.floor(t.tileWidth*n.scaleX),i=Math.floor(t.tileHeight*n.scaleY),o=s.hexSideLength,c,d,f,v;if(s.staggerAxis==="y"){var m=(i-o)/2+o;c=p(r.worldView.x-n.x,h,0,!0)-n.cullPaddingX,d=l(r.worldView.right-n.x,h,0,!0)+n.cullPaddingX,f=p(r.worldView.y-n.y,m,0,!0)-n.cullPaddingY,v=l(r.worldView.bottom-n.y,m,0,!0)+n.cullPaddingY}else{var g=(h-o)/2+o;c=p(r.worldView.x-n.x,g,0,!0)-n.cullPaddingX,d=l(r.worldView.right-n.x,g,0,!0)+n.cullPaddingX,f=p(r.worldView.y-n.y,i,0,!0)-n.cullPaddingY,v=l(r.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:c,right:d,top:f,bottom:v}};u.exports=a},9474:(u,x,e)=>{var l=e(90454),p=e(32483),a=function(s,r,t,n){t===void 0&&(t=[]),n===void 0&&(n=0),t.length=0;var h=s.tilemapLayer,i=l(s,r);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,t),t};u.exports=a},27229:(u,x,e)=>{var l=e(19951),p=e(26099),a=new p,s=function(r,t,n,h){var i=h.baseTileWidth,o=h.baseTileHeight,c=h.tilemapLayer;c&&(i*=c.scaleX,o*=c.scaleY);var d=l(r,t,a,n,h),f=[],v=.5773502691896257,m,g;h.staggerAxis==="y"?(m=v*i,g=o/2):(m=i/2,g=v*o);for(var y=0;y<6;y++){var T=2*Math.PI*(.5-y)/6;f.push(new p(d.x+m*Math.cos(T),d.y+g*Math.sin(T)))}return f};u.exports=s},19951:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n){r||(r=new l);var h=n.baseTileWidth,i=n.baseTileHeight,o=n.tilemapLayer,c=0,d=0;o&&(t||(t=o.scene.cameras.main),c=o.x+t.scrollX*(1-o.scrollFactorX),d=o.y+t.scrollY*(1-o.scrollFactorY),h*=o.scaleX,i*=o.scaleY);var f=h/2,v=i/2,m,g,y=n.staggerAxis,T=n.staggerIndex;return y==="y"?(m=c+h*a+h,g=d+1.5*s*v+v,s%2===0&&(T==="odd"?m-=f:m+=f)):y==="x"&&T==="odd"&&(m=c+1.5*a*f+f,g=d+i*a+i,a%2===0&&(T==="odd"?g-=v:g+=v)),r.set(m,g)};u.exports=p},86625:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n,h){t||(t=new l);var i=h.baseTileWidth,o=h.baseTileHeight,c=h.tilemapLayer;c&&(n||(n=c.scene.cameras.main),a=a-(c.x+n.scrollX*(1-c.scrollFactorX)),s=s-(c.y+n.scrollY*(1-c.scrollFactorY)),i*=c.scaleX,o*=c.scaleY);var d=.5773502691896257,f=-.3333333333333333,v=0,m=.6666666666666666,g=i/2,y=o/2,T,C,E,z,D;h.staggerAxis==="y"?(T=(a-g)/(d*i),C=(s-y)/y,E=d*T+f*C,z=v*T+m*C):(T=(a-g)/g,C=(s-y)/(d*o),E=f*T+d*C,z=m*T+v*C),D=-E-z;var A=Math.round(E),L=Math.round(z),b=Math.round(D),F=Math.abs(A-E),V=Math.abs(L-z),B=Math.abs(b-D);F>V&&F>B?A=-L-b:V>B&&(L=-A-b);var N,U=L;return h.staggerIndex==="odd"?N=U%2===0?L/2+A:L/2+A-.5:N=U%2===0?L/2+A:L/2+A+.5,t.set(N,U)};u.exports=p},62991:u=>{var x=function(e,l,p){return e>=0&&e<p.width&&l>=0&&l<p.height};u.exports=x},14018:(u,x,e)=>{var l=e(33528),p=function(a,s,r,t){r===void 0&&(r=[]),t===void 0&&(t=0),r.length=0;var n=a.tilemapLayer,h=a.data,i=a.width,o=a.height,c=n.skipCull,d=0,f=i,v=0,m=o,g,y,T;if(t===0)for(y=v;y<m;y++)for(g=d;g<f;g++)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!c&&!l(g,y,a,s)||r.push(T));else if(t===1)for(y=v;y<m;y++)for(g=f;g>=d;g--)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!c&&!l(g,y,a,s)||r.push(T));else if(t===2)for(y=m;y>=v;y--)for(g=d;g<f;g++)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!c&&!l(g,y,a,s)||r.push(T));else if(t===3)for(y=m;y>=v;y--)for(g=f;g>=d;g--)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!c&&!l(g,y,a,s)||r.push(T));return n.tilesDrawn=r.length,n.tilesTotal=i*o,r};u.exports=p},14127:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n){r||(r=new l);var h=n.baseTileWidth,i=n.baseTileHeight,o=n.tilemapLayer,c=0,d=0;o&&(t||(t=o.scene.cameras.main),c=o.x+t.scrollX*(1-o.scrollFactorX),h*=o.scaleX,d=o.y+t.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var f=c+(a-s)*(h/2),v=d+(a+s)*(i/2);return r.set(f,v)};u.exports=p},96897:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n,h,i){t||(t=new l);var o=h.baseTileWidth,c=h.baseTileHeight,d=h.tilemapLayer;d&&(n||(n=d.scene.cameras.main),s=s-(d.y+n.scrollY*(1-d.scrollFactorY)),c*=d.scaleY,a=a-(d.x+n.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var f=o/2,v=c/2;a=a-f,i||(s=s-c);var m=.5*(a/f+s/v),g=.5*(-a/f+s/v);return r&&(m=Math.floor(m),g=Math.floor(g)),t.set(m,g)};u.exports=p},71558:(u,x,e)=>{var l=e(23029),p=e(62991),a=e(72023),s=e(20576),r=function(t,n,h,i,o){if(i===void 0&&(i=!0),!p(n,h,o))return null;var c,d=o.data[h][n],f=d&&d.collides;t instanceof l?(o.data[h][n]===null&&(o.data[h][n]=new l(o,t.index,n,h,o.tileWidth,o.tileHeight)),o.data[h][n].copy(t)):(c=t,o.data[h][n]===null?o.data[h][n]=new l(o,c,n,h,o.tileWidth,o.tileHeight):o.data[h][n].index=c);var v=o.data[h][n],m=o.collideIndexes.indexOf(v.index)!==-1;if(c=t instanceof l?t.index:t,c===-1)v.width=o.tileWidth,v.height=o.tileHeight;else{var g=o.tilemapLayer.tilemap,y=g.tiles,T=y[c][2],C=g.tilesets[T];v.width=C.tileWidth,v.height=C.tileHeight}return s(v,m),i&&f!==v.collides&&a(n,h,o),v};u.exports=r},26303:(u,x,e)=>{var l=e(71558),p=e(26099),a=new p,s=function(r,t,n,h,i,o){return o.tilemapLayer.worldToTileXY(t,n,!0,a,i,o),l(r,a.x,a.y,h,o)};u.exports=s},14051:(u,x,e)=>{var l=e(42573),p=e(71558),a=function(s,r,t,n,h){if(n===void 0&&(n=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var i=s.length,o=s[0].length,c=0;c<i;c++)for(var d=0;d<o;d++){var f=s[c][d];p(f,r+d,t+c,!1,h)}n&&l(r-1,t-1,o+2,i+2,h)};u.exports=a},77389:(u,x,e)=>{var l=e(7386),p=e(26546),a=function(s,r,t,n,h,i){var o,c=l(s,r,t,n,{},i);if(!h)for(h=[],o=0;o<c.length;o++)h.indexOf(c[o].index)===-1&&h.push(c[o].index);for(o=0;o<c.length;o++)c[o].index=p(h)};u.exports=a},63557:(u,x,e)=>{var l=e(23029),p=e(62991),a=e(72023),s=function(r,t,n,h,i){if(n===void 0&&(n=!0),h===void 0&&(h=!0),!p(r,t,i))return null;var o=i.data[t][r];if(o)i.data[t][r]=n?null:new l(i,-1,r,t,i.tileWidth,i.tileHeight);else return null;return h&&o&&o.collides&&a(r,t,i),o};u.exports=s},94178:(u,x,e)=>{var l=e(63557),p=e(26099),a=new p,s=function(r,t,n,h,i,o){return o.tilemapLayer.worldToTileXY(r,t,!0,a,i,o),l(a.x,a.y,n,h,o)};u.exports=s},15533:(u,x,e)=>{var l=e(7386),p=e(3956),a=new p(105,210,231,150),s=new p(243,134,48,200),r=new p(40,39,37,150),t=function(n,h,i){h===void 0&&(h={});var o=h.tileColor!==void 0?h.tileColor:a,c=h.collidingTileColor!==void 0?h.collidingTileColor:s,d=h.faceColor!==void 0?h.faceColor:r,f=l(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var v=0;v<f.length;v++){var m=f[v],g=m.width,y=m.height,T=m.pixelX,C=m.pixelY,E=m.collides?c:o;E!==null&&(n.fillStyle(E.color,E.alpha/255),n.fillRect(T,C,g,y)),T+=1,C+=1,g-=2,y-=2,d!==null&&(n.lineStyle(1,d.color,d.alpha/255),m.faceTop&&n.lineBetween(T,C,T+g,C),m.faceRight&&n.lineBetween(T+g,C,T+g,C+y),m.faceBottom&&n.lineBetween(T,C+y,T+g,C+y),m.faceLeft&&n.lineBetween(T,C,T,C+y))}};u.exports=t},27987:(u,x,e)=>{var l=e(7386),p=function(a,s,r,t,n,h,i){for(var o=l(r,t,n,h,null,i),c=0;c<o.length;c++)o[c]&&o[c].index===a&&(o[c].index=s)};u.exports=p},32483:u=>{var x=function(e,l,p,a){var s=e.data,r=e.width,t=e.height,n=e.tilemapLayer,h=Math.max(0,l.left),i=Math.min(r,l.right),o=Math.max(0,l.top),c=Math.min(t,l.bottom),d,f,v;if(p===0)for(f=o;f<c;f++)for(d=h;s[f]&&d<i;d++)v=s[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(p===1)for(f=o;f<c;f++)for(d=i;s[f]&&d>=h;d--)v=s[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(p===2)for(f=c;f>=o;f--)for(d=h;s[f]&&d<i;d++)v=s[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(p===3)for(f=c;f>=o;f--)for(d=i;s[f]&&d>=h;d--)v=s[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);return n.tilesDrawn=a.length,n.tilesTotal=r*t,a};u.exports=x},57068:(u,x,e)=>{var l=e(20576),p=e(42573),a=e(9589),s=function(r,t,n,h,i){t===void 0&&(t=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++)a(r[o],t,h);if(i)for(var c=0;c<h.height;c++)for(var d=0;d<h.width;d++){var f=h.data[c][d];f&&r.indexOf(f.index)!==-1&&l(f,t)}n&&p(0,0,h.width,h.height,h)};u.exports=s},37266:(u,x,e)=>{var l=e(20576),p=e(42573),a=e(9589),s=function(r,t,n,h,i,o){if(n===void 0&&(n=!0),h===void 0&&(h=!0),o===void 0&&(o=!0),!(r>t)){for(var c=r;c<=t;c++)a(c,n,i);if(o)for(var d=0;d<i.height;d++)for(var f=0;f<i.width;f++){var v=i.data[d][f];v&&v.index>=r&&v.index<=t&&l(v,n)}h&&p(0,0,i.width,i.height,i)}};u.exports=s},75661:(u,x,e)=>{var l=e(20576),p=e(42573),a=e(9589),s=function(r,t,n,h){t===void 0&&(t=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var i=0;i<h.height;i++)for(var o=0;o<h.width;o++){var c=h.data[i][o];c&&r.indexOf(c.index)===-1&&(l(c,t),a(c.index,t,h))}n&&p(0,0,h.width,h.height,h)};u.exports=s},64740:(u,x,e)=>{var l=e(20576),p=e(42573),a=e(97022),s=function(r,t,n,h){t===void 0&&(t=!0),n===void 0&&(n=!0);for(var i=0;i<h.height;i++)for(var o=0;o<h.width;o++){var c=h.data[i][o];if(c){for(var d in r)if(a(c.properties,d)){var f=r[d];Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++)c.properties[d]===f[v]&&l(c,t)}}}n&&p(0,0,h.width,h.height,h)};u.exports=s},63307:(u,x,e)=>{var l=e(20576),p=e(42573),a=function(s,r,t){s===void 0&&(s=!0),r===void 0&&(r=!0);for(var n=0;n<t.height;n++)for(var h=0;h<t.width;h++){var i=t.data[n][h];if(i){var o=i.getCollisionGroup();o&&o.objects&&o.objects.length>0&&l(i,s)}}r&&p(0,0,t.width,t.height,t)};u.exports=a},9589:u=>{var x=function(e,l,p){var a=p.collideIndexes.indexOf(e);l&&a===-1?p.collideIndexes.push(e):!l&&a!==-1&&p.collideIndexes.splice(a,1)};u.exports=x},20576:u=>{var x=function(e,l){l?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};u.exports=x},79583:u=>{var x=function(e,l,p,a){if(typeof e=="number")a.callbacks[e]=l!==null?{callback:l,callbackContext:p}:void 0;else for(var s=0,r=e.length;s<r;s++)a.callbacks[e[s]]=l!==null?{callback:l,callbackContext:p}:void 0};u.exports=x},93254:(u,x,e)=>{var l=e(7386),p=function(a,s,r,t,n,h,i){for(var o=l(a,s,r,t,null,i),c=0;c<o.length;c++)o[c].setCollisionCallback(n,h)};u.exports=p},32903:(u,x,e)=>{var l=e(7386),p=e(33680),a=function(s,r,t,n,h){var i=l(s,r,t,n,null,h),o=i.map(function(d){return d.index});p(o);for(var c=0;c<i.length;c++)i[c].index=o[c]};u.exports=a},61325:(u,x,e)=>{var l=e(63448),p=e(56583),a=function(s,r){var t=s.tilemapLayer.tilemap,n=s.tilemapLayer,h=Math.floor(t.tileWidth*n.scaleX),i=Math.floor(t.tileHeight*n.scaleY),o=p(r.worldView.x-n.x,h,0,!0)-n.cullPaddingX,c=l(r.worldView.right-n.x,h,0,!0)+n.cullPaddingX,d=p(r.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,f=l(r.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:o,right:c,top:d,bottom:f}};u.exports=a},54503:(u,x,e)=>{var l=e(61325),p=e(32483),a=function(s,r,t,n){t===void 0&&(t=[]),n===void 0&&(n=0),t.length=0;var h=s.tilemapLayer,i=l(s,r);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=s.width,i.top=0,i.bottom=s.height),p(s,i,n,t),t};u.exports=a},97202:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n){r||(r=new l);var h=n.baseTileWidth,i=n.baseTileHeight,o=n.tilemapLayer,c=0,d=0;o&&(t||(t=o.scene.cameras.main),c=o.x+t.scrollX*(1-o.scrollFactorX),h*=o.scaleX,d=o.y+t.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var f=c+a*h+s%2*(h/2),v=d+s*(i/2);return r.set(f,v)};u.exports=p},28054:u=>{var x=function(e,l,p){var a=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(l===void 0&&(l=s.scene.cameras.main),r=s.y+l.scrollY*(1-s.scrollFactorY),a*=s.scaleY),r+e*(a/2)+a};u.exports=x},15108:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n,h){t||(t=new l);var i=h.baseTileWidth,o=h.baseTileHeight,c=h.tilemapLayer;c&&(n||(n=c.scene.cameras.main),s=s-(c.y+n.scrollY*(1-c.scrollFactorY)),o*=c.scaleY,a=a-(c.x+n.scrollX*(1-c.scrollFactorX)),i*=c.scaleX);var d=r?Math.floor(s/(o/2)):s/(o/2),f=r?Math.floor((a+d%2*.5*i)/i):(a+d%2*.5*i)/i;return t.set(f,d)};u.exports=p},51900:u=>{var x=function(e,l,p,a){var s=a.baseTileHeight,r=a.tilemapLayer;return r&&(p||(p=r.scene.cameras.main),e=e-(r.y+p.scrollY*(1-r.scrollFactorY)),s*=r.scaleY),l?Math.floor(e/(s/2)):e/(s/2)};u.exports=x},86560:(u,x,e)=>{var l=e(7386),p=function(a,s,r,t,n,h,i){for(var o=l(r,t,n,h,null,i),c=0;c<o.length;c++)o[c]&&(o[c].index===a?o[c].index=s:o[c].index===s&&(o[c].index=a))};u.exports=p},97281:u=>{var x=function(e,l,p){var a=p.baseTileWidth,s=p.tilemapLayer,r=0;return s&&(l||(l=s.scene.cameras.main),r=s.x+l.scrollX*(1-s.scrollFactorX),a*=s.scaleX),r+e*a};u.exports=x},70326:(u,x,e)=>{var l=e(97281),p=e(29650),a=e(26099),s=function(r,t,n,h,i){return n||(n=new a(0,0)),n.x=l(r,h,i),n.y=p(t,h,i),n};u.exports=s},29650:u=>{var x=function(e,l,p){var a=p.baseTileHeight,s=p.tilemapLayer,r=0;return s&&(l||(l=s.scene.cameras.main),r=s.y+l.scrollY*(1-s.scrollFactorY),a*=s.scaleY),r+e*a};u.exports=x},77366:(u,x,e)=>{var l=e(7386),p=e(75508),a=function(s,r,t,n,h,i){if(h){var o,c=l(s,r,t,n,null,i),d=0;for(o=0;o<h.length;o++)d+=h[o].weight;if(!(d<=0))for(o=0;o<c.length;o++){for(var f=p.RND.frac()*d,v=0,m=-1,g=0;g<h.length;g++)if(v+=h[g].weight,f<=v){var y=h[g].index;m=Array.isArray(y)?y[Math.floor(p.RND.frac()*y.length)]:y;break}c[o].index=m}}};u.exports=a},10095:(u,x,e)=>{var l=e(85896),p=e(26099),a=new p,s=function(r,t,n,h){return l(r,0,t,a,n,h),a.x};u.exports=s},85896:(u,x,e)=>{var l=e(26099),p=function(a,s,r,t,n,h){r===void 0&&(r=!0),t||(t=new l);var i=h.baseTileWidth,o=h.baseTileHeight,c=h.tilemapLayer;c&&(n||(n=c.scene.cameras.main),a=a-(c.x+n.scrollX*(1-c.scrollFactorX)),s=s-(c.y+n.scrollY*(1-c.scrollFactorY)),i*=c.scaleX,o*=c.scaleY);var d=a/i,f=s/o;return r&&(d=Math.floor(d),f=Math.floor(f)),t.set(d,f)};u.exports=p},63288:(u,x,e)=>{var l=e(85896),p=e(26099),a=new p,s=function(r,t,n,h){return l(0,r,t,a,n,h),a.y};u.exports=s},81086:(u,x,e)=>{u.exports={CalculateFacesAt:e(72023),CalculateFacesWithin:e(42573),CheckIsoBounds:e(33528),Copy:e(1785),CreateFromTiles:e(78419),CullBounds:e(19545),CullTiles:e(30003),Fill:e(35137),FilterTiles:e(40253),FindByIndex:e(52692),FindTile:e(66151),ForEachTile:e(97560),GetCullTilesFunction:e(43305),GetTileAt:e(7423),GetTileAtWorldXY:e(60540),GetTileCorners:e(55826),GetTileCornersFunction:e(11758),GetTilesWithin:e(7386),GetTilesWithinShape:e(91141),GetTilesWithinWorldXY:e(96523),GetTileToWorldXFunction:e(39167),GetTileToWorldXYFunction:e(62e3),GetTileToWorldYFunction:e(5984),GetWorldToTileXFunction:e(96113),GetWorldToTileXYFunction:e(16926),GetWorldToTileYFunction:e(55762),HasTileAt:e(45091),HasTileAtWorldXY:e(24152),HexagonalCullBounds:e(90454),HexagonalCullTiles:e(9474),HexagonalGetTileCorners:e(27229),HexagonalTileToWorldXY:e(19951),HexagonalWorldToTileXY:e(86625),IsInLayerBounds:e(62991),IsometricCullTiles:e(14018),IsometricTileToWorldXY:e(14127),IsometricWorldToTileXY:e(96897),PutTileAt:e(71558),PutTileAtWorldXY:e(26303),PutTilesAt:e(14051),Randomize:e(77389),RemoveTileAt:e(63557),RemoveTileAtWorldXY:e(94178),RenderDebug:e(15533),ReplaceByIndex:e(27987),RunCull:e(32483),SetCollision:e(57068),SetCollisionBetween:e(37266),SetCollisionByExclusion:e(75661),SetCollisionByProperty:e(64740),SetCollisionFromCollisionGroup:e(63307),SetLayerCollisionIndex:e(9589),SetTileCollision:e(20576),SetTileIndexCallback:e(79583),SetTileLocationCallback:e(93254),Shuffle:e(32903),StaggeredCullBounds:e(61325),StaggeredCullTiles:e(54503),StaggeredTileToWorldXY:e(97202),StaggeredTileToWorldY:e(28054),StaggeredWorldToTileXY:e(15108),StaggeredWorldToTileY:e(51900),SwapByIndex:e(86560),TileToWorldX:e(97281),TileToWorldXY:e(70326),TileToWorldY:e(29650),WeightedRandomize:e(77366),WorldToTileX:e(10095),WorldToTileXY:e(85896),WorldToTileY:e(63288)}},91907:u=>{u.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(u,x,e)=>{var l={ORIENTATION:e(91907)};u.exports=l},62501:(u,x,e)=>{var l=e(79291),p=e(21829),a={Components:e(81086),Parsers:e(57442),Formats:e(80341),ImageCollection:e(16536),ParseToTilemap:e(31989),Tile:e(23029),Tilemap:e(49075),TilemapCreator:e(45939),TilemapFactory:e(46029),Tileset:e(33629),TilemapLayer:e(20442),Orientation:e(91907),LayerData:e(14977),MapData:e(87010),ObjectLayer:e(48700)};a=l(!1,a,p.ORIENTATION),u.exports=a},14977:(u,x,e)=>{var l=e(83419),p=e(91907),a=e(95540),s=new l({initialize:function(t){t===void 0&&(t={}),this.name=a(t,"name","layer"),this.id=a(t,"id",0),this.x=a(t,"x",0),this.y=a(t,"y",0),this.width=a(t,"width",0),this.height=a(t,"height",0),this.tileWidth=a(t,"tileWidth",0),this.tileHeight=a(t,"tileHeight",0),this.baseTileWidth=a(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(t,"baseTileHeight",this.tileHeight),this.orientation=a(t,"orientation",p.ORTHOGONAL),this.widthInPixels=a(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(t,"alpha",1),this.visible=a(t,"visible",!0),this.properties=a(t,"properties",[]),this.indexes=a(t,"indexes",[]),this.collideIndexes=a(t,"collideIndexes",[]),this.callbacks=a(t,"callbacks",[]),this.bodies=a(t,"bodies",[]),this.data=a(t,"data",[]),this.tilemapLayer=a(t,"tilemapLayer",null),this.hexSideLength=a(t,"hexSideLength",0),this.staggerAxis=a(t,"staggerAxis","y"),this.staggerIndex=a(t,"staggerIndex","odd")}});u.exports=s},87010:(u,x,e)=>{var l=e(83419),p=e(91907),a=e(95540),s=new l({initialize:function(t){t===void 0&&(t={}),this.name=a(t,"name","map"),this.width=a(t,"width",0),this.height=a(t,"height",0),this.infinite=a(t,"infinite",!1),this.tileWidth=a(t,"tileWidth",0),this.tileHeight=a(t,"tileHeight",0),this.widthInPixels=a(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(t,"heightInPixels",this.height*this.tileHeight),this.format=a(t,"format",null),this.orientation=a(t,"orientation",p.ORTHOGONAL),this.renderOrder=a(t,"renderOrder","right-down"),this.version=a(t,"version","1"),this.properties=a(t,"properties",{}),this.layers=a(t,"layers",[]),this.images=a(t,"images",[]),this.objects=a(t,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(t,"collision",{}),this.tilesets=a(t,"tilesets",[]),this.imageCollections=a(t,"imageCollections",[]),this.tiles=a(t,"tiles",[]),this.hexSideLength=a(t,"hexSideLength",0),this.staggerAxis=a(t,"staggerAxis","y"),this.staggerIndex=a(t,"staggerIndex","odd")}});u.exports=s},48700:(u,x,e)=>{var l=e(83419),p=e(95540),a=new l({initialize:function(r){r===void 0&&(r={}),this.name=p(r,"name","object layer"),this.id=p(r,"id",0),this.opacity=p(r,"opacity",1),this.properties=p(r,"properties",{}),this.propertyTypes=p(r,"propertytypes",{}),this.type=p(r,"type","objectgroup"),this.visible=p(r,"visible",!0),this.objects=p(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});u.exports=a},6641:(u,x,e)=>{var l=e(91907),p=function(a){return a=a.toLowerCase(),a==="isometric"?l.ISOMETRIC:a==="staggered"?l.STAGGERED:a==="hexagonal"?l.HEXAGONAL:l.ORTHOGONAL};u.exports=p},46177:(u,x,e)=>{var l=e(80341),p=e(2342),a=e(82593),s=e(46594),r=e(87021),t=function(n,h,i,o,c,d){var f;switch(h){case l.ARRAY_2D:f=p(n,i,o,c,d);break;case l.CSV:f=a(n,i,o,c,d);break;case l.TILED_JSON:f=s(n,i,d);break;case l.WELTMEISTER:f=r(n,i,d);break;default:console.warn("Unrecognized tilemap data format: "+h),f=null}return f};u.exports=t},2342:(u,x,e)=>{var l=e(80341),p=e(14977),a=e(87010),s=e(23029),r=function(t,n,h,i,o){for(var c=new p({tileWidth:h,tileHeight:i}),d=new a({name:t,tileWidth:h,tileHeight:i,format:l.ARRAY_2D,layers:[c]}),f=[],v=n.length,m=0,g=0;g<n.length;g++){f[g]=[];for(var y=n[g],T=0;T<y.length;T++){var C=parseInt(y[T],10);isNaN(C)||C===-1?f[g][T]=o?null:new s(c,-1,T,g,h,i):f[g][T]=new s(c,C,T,g,h,i)}m===0&&(m=y.length)}return d.width=c.width=m,d.height=c.height=v,d.widthInPixels=c.widthInPixels=m*h,d.heightInPixels=c.heightInPixels=v*i,c.data=f,d};u.exports=r},82593:(u,x,e)=>{var l=e(80341),p=e(2342),a=function(s,r,t,n,h){var i=r.trim().split(`
`).map(function(c){return c.split(",")}),o=p(s,i,t,n,h);return o.format=l.CSV,o};u.exports=a},6656:(u,x,e)=>{var l=e(14977),p=e(23029),a=function(s,r){for(var t=[],n=0;n<s.layer.length;n++){for(var h=s.layer[n],i=new l({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),o=[],c=[],d=0;d<h.data.length;d++){for(var f=0;f<h.data[d].length;f++){var v=h.data[d][f]-1,m;v>-1?m=new p(i,v,f,d,h.tilesize,h.tilesize):m=r?null:new p(i,-1,f,d,h.tilesize,h.tilesize),o.push(m)}c.push(o),o=[]}i.data=c,t.push(i)}return t};u.exports=a},96483:(u,x,e)=>{var l=e(33629),p=function(a){for(var s=[],r=[],t=0;t<a.layer.length;t++){var n=a.layer[t],h=n.tilesetName;h!==""&&r.indexOf(h)===-1&&(r.push(h),s.push(new l(h,0,n.tilesize,n.tilesize,0,0)))}return s};u.exports=p},87021:(u,x,e)=>{var l=e(80341),p=e(87010),a=e(6656),s=e(96483),r=function(t,n,h){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+t),null;for(var i=0,o=0,c=0;c<n.layer.length;c++)n.layer[c].width>i&&(i=n.layer[c].width),n.layer[c].height>o&&(o=n.layer[c].height);var d=new p({width:i,height:o,name:t,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:l.WELTMEISTER});return d.layers=a(n,h),d.tilesets=s(n),d};u.exports=r},52833:(u,x,e)=>{u.exports={ParseTileLayers:e(6656),ParseTilesets:e(96483),ParseWeltmeister:e(87021)}},57442:(u,x,e)=>{u.exports={FromOrientationString:e(6641),Parse:e(46177),Parse2DArray:e(2342),ParseCSV:e(82593),Impact:e(52833),Tiled:e(96761)}},51233:(u,x,e)=>{var l=e(79291),p=function(a){for(var s,r,t,n,h,i=0;i<a.layers.length;i++){s=a.layers[i],n=null;for(var o=0;o<s.data.length;o++){h=s.data[o];for(var c=0;c<h.length;c++)r=h[c],!(r===null||r.index<0)&&(t=a.tiles[r.index][2],n=a.tilesets[t],r.width=n.tileWidth,r.height=n.tileHeight,n.tileProperties&&n.tileProperties[r.index-n.firstgid]&&(r.properties=l(r.properties,n.tileProperties[r.index-n.firstgid])))}}};u.exports=p},41868:u=>{var x=function(e){for(var l=window.atob(e),p=l.length,a=new Array(p/4),s=0;s<p;s+=4)a[s/4]=(l.charCodeAt(s)|l.charCodeAt(s+1)<<8|l.charCodeAt(s+2)<<16|l.charCodeAt(s+3)<<24)>>>0;return a};u.exports=x},84101:(u,x,e)=>{var l=e(33629),p=function(a){var s,r,t=[];for(s=0;s<a.imageCollections.length;s++)for(var n=a.imageCollections[s],h=n.images,i=0;i<h.length;i++){var o=h[i];r=new l(o.image,o.gid,n.imageWidth,n.imageHeight,0,0),r.updateTileData(n.imageWidth,n.imageHeight),a.tilesets.push(r)}for(s=0;s<a.tilesets.length;s++){r=a.tilesets[s];for(var c=r.tileMargin,d=r.tileMargin,f=0,v=0,m=0,g=r.firstgid;g<r.firstgid+r.total&&(t[g]=[c,d,s],c+=r.tileWidth+r.tileSpacing,f++,!(f===r.total||(v++,v===r.columns&&(c=r.tileMargin,d+=r.tileHeight+r.tileSpacing,v=0,m++,m===r.rows))));g++);}return t};u.exports=p},79677:(u,x,e)=>{var l=e(95540),p=function(a,s,r){if(!s)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var t=s.x+l(s,"startx",0)*a.tilewidth+l(s,"offsetx",0),n=s.y+l(s,"starty",0)*a.tileheight+l(s,"offsety",0);return{i:0,layers:s.layers,name:r.name+s.name+"/",opacity:r.opacity*s.opacity,visible:r.visible&&s.visible,x:r.x+t,y:r.y+n}};u.exports=p},29920:u=>{var x=2147483648,e=1073741824,l=536870912,p=function(a){var s=!!(a&x),r=!!(a&e),t=!!(a&l);a=a&~(x|e|l);var n=0,h=!1;return s&&r&&t?(n=Math.PI/2,h=!0):s&&r&&!t?(n=Math.PI,h=!1):s&&!r&&t?(n=Math.PI/2,h=!1):s&&!r&&!t?(n=0,h=!0):!s&&r&&t?(n=3*Math.PI/2,h=!1):!s&&r&&!t?(n=Math.PI,h=!0):!s&&!r&&t?(n=3*Math.PI/2,h=!0):!s&&!r&&!t&&(n=0,h=!1),{gid:a,flippedHorizontal:s,flippedVertical:r,flippedAntiDiagonal:t,rotation:n,flipped:h}};u.exports=p},12635:(u,x,e)=>{var l=e(95540),p=e(79677),a=function(s){for(var r=[],t=[],n=p(s);n.i<n.layers.length||t.length>0;){if(n.i>=n.layers.length){if(t.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=t.pop();continue}var h=n.layers[n.i];if(n.i++,h.type!=="imagelayer"){if(h.type==="group"){var i=p(s,h,n);t.push(n),n=i}continue}var o=l(h,"offsetx",0)+l(h,"startx",0),c=l(h,"offsety",0)+l(h,"starty",0);r.push({name:n.name+h.name,image:h.image,x:n.x+o+h.x,y:n.y+c+h.y,alpha:n.opacity*h.opacity,visible:n.visible&&h.visible,properties:l(h,"properties",{})})}return r};u.exports=a},46594:(u,x,e)=>{var l=e(51233),p=e(84101),a=e(91907),s=e(62644),r=e(80341),t=e(6641),n=e(87010),h=e(12635),i=e(22611),o=e(28200),c=e(24619),d=function(f,v,m){var g=s(v),y=new n({width:g.width,height:g.height,name:f,tileWidth:g.tilewidth,tileHeight:g.tileheight,orientation:t(g.orientation),format:r.TILED_JSON,version:g.version,properties:g.properties,renderOrder:g.renderorder,infinite:g.infinite});y.orientation===a.HEXAGONAL&&(y.hexSideLength=g.hexsidelength,y.staggerAxis=g.staggeraxis,y.staggerIndex=g.staggerindex),y.layers=o(g,m),y.images=h(g);var T=c(g);return y.tilesets=T.tilesets,y.imageCollections=T.imageCollections,y.objects=i(g),y.tiles=p(y),l(y),y};u.exports=d},52205:(u,x,e)=>{var l=e(18254),p=e(29920),a=function(t){return{x:t.x,y:t.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(t,n,h){n===void 0&&(n=0),h===void 0&&(h=0);var i=l(t,s);if(i.x+=n,i.y+=h,t.gid){var o=p(t.gid);i.gid=o.gid,i.flippedHorizontal=o.flippedHorizontal,i.flippedVertical=o.flippedVertical,i.flippedAntiDiagonal=o.flippedAntiDiagonal}else t.polyline?i.polyline=t.polyline.map(a):t.polygon?i.polygon=t.polygon.map(a):t.ellipse?i.ellipse=t.ellipse:t.text?i.text=t.text:t.point?i.point=!0:i.rectangle=!0;return i};u.exports=r},22611:(u,x,e)=>{var l=e(95540),p=e(52205),a=e(48700),s=e(79677),r=function(t){for(var n=[],h=[],i=s(t);i.i<i.layers.length||h.length>0;){if(i.i>=i.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=h.pop();continue}var o=i.layers[i.i];if(i.i++,o.opacity*=i.opacity,o.visible=i.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var c=s(t,o,i);h.push(i),i=c}continue}o.name=i.name+o.name;for(var d=i.x+l(o,"startx",0)+l(o,"offsetx",0),f=i.y+l(o,"starty",0)+l(o,"offsety",0),v=[],m=0;m<o.objects.length;m++){var g=p(o.objects[m],d,f);v.push(g)}var y=new a(o);y.objects=v,n.push(y)}return n};u.exports=r},28200:(u,x,e)=>{var l=e(41868),p=e(91907),a=e(79677),s=e(6641),r=e(95540),t=e(14977),n=e(29920),h=e(23029),i=function(o,c){for(var d=r(o,"infinite",!1),f=[],v=[],m=a(o);m.i<m.layers.length||v.length>0;){if(m.i>=m.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=v.pop();continue}var g=m.layers[m.i];if(m.i++,g.type!=="tilelayer"){if(g.type==="group"){var y=a(o,g,m);v.push(m),m=y}continue}if(g.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+g.name+"'");continue}else if(g.encoding&&g.encoding==="base64"){if(g.chunks)for(var T=0;T<g.chunks.length;T++)g.chunks[T].data=l(g.chunks[T].data);g.data&&(g.data=l(g.data)),delete g.encoding}var C,E,z,D,A=[],L=0;if(d){var b=r(g,"startx",0)+g.x,F=r(g,"starty",0)+g.y;C=new t({name:m.name+g.name,id:g.id,x:m.x+r(g,"offsetx",0)+b*o.tilewidth,y:m.y+r(g,"offsety",0)+F*o.tileheight,width:g.width,height:g.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*g.opacity,visible:m.visible&&g.visible,properties:r(g,"properties",[]),orientation:s(o.orientation)}),C.orientation===p.HEXAGONAL&&(C.hexSideLength=o.hexsidelength,C.staggerAxis=o.staggeraxis,C.staggerIndex=o.staggerindex);for(var V=0;V<g.height;V++){A[V]=[null];for(var B=0;B<g.width;B++)A[V][B]=null}for(V=0,X=g.chunks.length;V<X;V++)for(var N=g.chunks[V],U=N.x-b,I=N.y-F,H=0,O=0,R=N.data.length;O<R;O++){var Y=L+U,G=H+I;E=n(N.data[O]),E.gid>0?(z=new h(C,E.gid,Y,G,o.tilewidth,o.tileheight),z.rotation=E.rotation,z.flipX=E.flipped,A[G][Y]=z):(D=c?null:new h(C,-1,Y,G,o.tilewidth,o.tileheight),A[G][Y]=D),L++,L===N.width&&(H++,L=0)}}else{C=new t({name:m.name+g.name,id:g.id,x:m.x+r(g,"offsetx",0)+g.x,y:m.y+r(g,"offsety",0)+g.y,width:g.width,height:g.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:m.opacity*g.opacity,visible:m.visible&&g.visible,properties:r(g,"properties",[]),orientation:s(o.orientation)}),C.orientation===p.HEXAGONAL&&(C.hexSideLength=o.hexsidelength,C.staggerAxis=o.staggeraxis,C.staggerIndex=o.staggerindex);for(var k=[],W=0,X=g.data.length;W<X;W++)E=n(g.data[W]),E.gid>0?(z=new h(C,E.gid,L,A.length,o.tilewidth,o.tileheight),z.rotation=E.rotation,z.flipX=E.flipped,k.push(z)):(D=c?null:new h(C,-1,L,A.length,o.tilewidth,o.tileheight),k.push(D)),L++,L===g.width&&(A.push(k),L=0,k=[])}C.data=A,f.push(C)}return f};u.exports=i},24619:(u,x,e)=>{var l=e(33629),p=e(16536),a=e(52205),s=e(57880),r=function(t){for(var n=[],h=[],i=null,o,c=0;c<t.tilesets.length;c++){var d=t.tilesets[c];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var f=new l(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(t.version>1){var v=void 0,m=void 0;if(Array.isArray(d.tiles)){v=v||{},m=m||{};for(var g=0;g<d.tiles.length;g++){var y=d.tiles[g];if(y.properties){var T={};y.properties.forEach(function(V){T[V.name]=V.value}),m[y.id]=T}if(y.objectgroup&&((v[y.id]||(v[y.id]={})).objectgroup=y.objectgroup,y.objectgroup.objects)){var C=y.objectgroup.objects.map(function(V){return a(V)});v[y.id].objectgroup.objects=C}y.animation&&((v[y.id]||(v[y.id]={})).animation=y.animation),y.type&&((v[y.id]||(v[y.id]={})).type=y.type)}}Array.isArray(d.wangsets)&&(v=v||{},m=m||{},s(d.wangsets,v)),v&&(f.tileData=v,f.tileProperties=m)}else if(d.tileproperties&&(f.tileProperties=d.tileproperties),d.tiles){f.tileData=d.tiles;for(o in f.tileData){var E=f.tileData[o].objectgroup;if(E&&E.objects){var z=E.objects.map(function(V){return a(V)});f.tileData[o].objectgroup.objects=z}}}f.updateTileData(d.imagewidth,d.imageheight),n.push(f)}else{var D=new p(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),A=0;for(g=0;g<d.tiles.length;g++){y=d.tiles[g];var L=y.image,b=parseInt(y.id,10),F=d.firstgid+b;D.addImage(F,L),A=Math.max(b,A)}D.maxId=A,h.push(D)}i&&(i.lastgid=d.firstgid-1),i=d}return{tilesets:n,imageCollections:h}};u.exports=r},57880:u=>{var x=function(e,l){for(var p=0;p<e.length;p++){var a=e[p],s=p;if(a.name&&a.name!==""&&(s=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var r={},t={},n,h,i;if(Array.isArray(a.edgecolors))for(n=0;n<a.edgecolors.length;n++)i=1+n,h=a.edgecolors[n],h.name!==""&&(r[i]=h.name);if(Array.isArray(a.cornercolors))for(n=0;n<a.cornercolors.length;n++)i=1+n,h=a.cornercolors[n],h.name!==""&&(t[i]=h.name);if(Array.isArray(a.colors))for(n=0;n<a.colors.length;n++)h=a.colors[n],i=1+n,h.name!==""&&(r[i]=t[i]=h.name);for(var o=[r,t,r,t,r,t,r,t],c=0;c<a.wangtiles.length;c++){var d=a.wangtiles[c],f=l[d.tileid]||(l[d.tileid]={});f=f.wangid||(f.wangid={});for(var v=[],m=0;m<Math.min(o.length,d.wangid.length);m++){if(h=d.wangid[m],h===0){v.push(void 0);continue}var g=o[m][h];if(g!==void 0){v.push(g);continue}v.push(h)}f[s]=v}}}};u.exports=x},96761:(u,x,e)=>{u.exports={AssignTileProperties:e(51233),Base64Decode:e(41868),BuildTilesetIndex:e(84101),CreateGroupLayer:e(79677),ParseGID:e(29920),ParseImageLayers:e(12635),ParseJSONTiled:e(46594),ParseObject:e(52205),ParseObjectLayers:e(22611),ParseTileLayers:e(28200),ParseTilesets:e(24619)}},33385:(u,x,e)=>{var l=e(83419),p=e(37277),a=e(44594),s=e(94880),r=e(72905),t=new l({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(a.PRE_UPDATE,this.preUpdate,this),n.on(a.UPDATE,this.update,this),n.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var h;return n instanceof s?(h=n,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new s(n),this._pendingInsertion.push(h),h},delayedCall:function(n,h,i,o){return this.addEvent({delay:n,callback:h,args:i,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var i=n[h];r(this._pendingRemoval,i),r(this._pendingInsertion,i),r(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(n===0&&h===0)){var i,o;for(i=0;i<n;i++){o=this._pendingRemoval[i];var c=this._active.indexOf(o);c>-1&&this._active.splice(c,1),o.destroy()}for(i=0;i<h;i++)o=this._pendingInsertion[i],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,h){if(this.now=n,!this.paused){h*=this.timeScale;for(var i=0;i<this._active.length;i++){var o=this._active[i];if(!o.paused&&(o.elapsed+=h*o.timeScale,o.elapsed>=o.delay)){var c=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,c>=o.delay)for(;c>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),c-=o.delay,o.repeatCount--;o.elapsed=c,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(a.PRE_UPDATE,this.preUpdate,this),h.off(a.UPDATE,this.update,this),h.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",t,"time"),u.exports=t},96120:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(39429),s=e(95540),r=e(44594),t=e(89809),n=new l({Extends:p,initialize:function(i,o){p.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var c=this.systems.events;c.on(r.PRE_UPDATE,this.preUpdate,this),c.on(r.UPDATE,this.update,this),c.once(r.SHUTDOWN,this.destroy,this),o&&this.add(o)},preUpdate:function(h,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var h,i=this.events,o=!1,c=this.systems,d;for(h=0;h<i.length;h++){var f=i[h];if(!f.complete&&f.time<=this.elapsed){if(f.complete=!0,this.totalComplete++,d=f.target?f.target:this,f.if&&!f.if.call(d,f))continue;if(f.once&&(o=!0),f.set&&f.target)for(var v in f.set)f.target[v]=f.set[v];this.iteration&&f.repeat++,f.loop&&f.repeat&&f.loop.call(d),f.tween&&(f.tweenInstance=c.tweens.add(f.tween)),f.sound&&(typeof f.sound=="string"?c.sound.play(f.sound):c.sound.play(f.sound.key,f.sound.config)),f.event&&this.emit(f.event,d),f.run&&f.run.call(d),f.stop&&this.stop()}}if(o)for(h=0;h<i.length;h++)i[h].complete&&i[h].once&&(i.splice(h,1),h--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(t.COMPLETE,this)}},play:function(h){return h===void 0&&(h=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,h&&this.reset(),this},pause:function(){this.paused=!0;for(var h=this.events,i=0;i<h.length;i++){var o=h[i];o.tweenInstance&&(o.tweenInstance.paused=!0)}return this},repeat:function(h){return(h===void 0||h===!0)&&(h=-1),h===!1&&(h=0),this.loop=h,this},resume:function(){this.paused=!1;for(var h=this.events,i=0;i<h.length;i++){var o=h[i];o.tweenInstance&&(o.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(h){h===void 0&&(h=!1),this.elapsed=0,h||(this.iteration=0);for(var i=this.events,o=0;o<i.length;o++){var c=i[o];c.complete=!1,h||(c.repeat=0),c.tweenInstance&&c.tweenInstance.stop()}return this.play(!1)},add:function(h){Array.isArray(h)||(h=[h]);var i=this.events,o=0;i.length>0&&(o=i[i.length-1].time);for(var c=0;c<h.length;c++){var d=h[c],f=s(d,"at",0),v=s(d,"in",null);v!==null&&(f=this.elapsed+v);var m=s(d,"from",null);m!==null&&(f=o+m),i.push({complete:!1,time:f,repeat:0,if:s(d,"if",null),run:s(d,"run",null),loop:s(d,"loop",null),event:s(d,"event",null),target:s(d,"target",null),set:s(d,"set",null),tween:s(d,"tween",null),sound:s(d,"sound",null),once:s(d,"once",!1),stop:s(d,"stop",!1)}),o=f}return this.complete=!1,this},clear:function(){for(var h=this.events,i=0;i<h.length;i++){var o=h[i];o.tweenInstance&&o.tweenInstance.stop()}return h=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var h=Math.min(this.totalComplete,this.events.length);return h/this.events.length},destroy:function(){var h=this.systems.events;h.off(r.PRE_UPDATE,this.preUpdate,this),h.off(r.UPDATE,this.update,this),h.off(r.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});a.register("timeline",function(h){return new n(this.scene,h)}),u.exports=n},94880:(u,x,e)=>{var l=e(83419),p=e(95540),a=new l({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(s){if(this.delay=p(s,"delay",0),this.repeat=p(s,"repeat",0),this.loop=p(s,"loop",!1),this.callback=p(s,"callback",void 0),this.callbackScope=p(s,"callbackScope",this),this.args=p(s,"args",[]),this.timeScale=p(s,"timeScale",1),this.startAt=p(s,"startAt",0),this.paused=p(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});u.exports=a},35945:u=>{u.exports="complete"},89809:(u,x,e)=>{u.exports={COMPLETE:e(35945)}},90291:(u,x,e)=>{u.exports={Clock:e(33385),Events:e(89809),Timeline:e(96120),TimerEvent:e(94880)}},40382:(u,x,e)=>{var l=e(72905),p=e(83419),a=e(43491),s=e(88032),r=e(37277),t=e(44594),n=e(93109),h=e(86081),i=e(8357),o=e(43960),c=e(26012),d=new p({initialize:function(v){this.scene=v,this.events=v.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(t.BOOT,this.boot,this),this.events.on(t.START,this.start,this)},boot:function(){this.events.once(t.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(t.UPDATE,this.update,this),this.events.once(t.SHUTDOWN,this.shutdown,this)},create:function(f){Array.isArray(f)||(f=[f]);for(var v=[],m=0;m<f.length;m++){var g=f[m];g instanceof h||g instanceof o?v.push(g):Array.isArray(g.tweens)?v.push(c(this,g)):v.push(i(this,g))}return v.length===1?v[0]:v},add:function(f){var v=f,m=this.tweens;return v instanceof h||v instanceof o||(Array.isArray(v.tweens)?v=c(this,v):v=i(this,v)),m.push(v.reset()),v},addMultiple:function(f){for(var v,m=[],g=this.tweens,y=0;y<f.length;y++)v=f[y],v instanceof h||v instanceof o||(Array.isArray(v.tweens)?v=c(this,v):v=i(this,v)),g.push(v.reset()),m.push(v);return m},chain:function(f){var v=c(this,f);return this.tweens.push(v.init()),v},getChainedTweens:function(f){return f.getChainedTweens()},has:function(f){return this.tweens.indexOf(f)>-1},existing:function(f){return this.has(f)||this.tweens.push(f.reset()),this},addCounter:function(f){var v=s(this,f);return this.tweens.push(v.reset()),v},stagger:function(f,v){return n(f,v)},setLagSmooth:function(f,v){return f===void 0&&(f=1/1e-8),v===void 0&&(v=0),this.maxLag=f,this.lagSkip=Math.min(v,this.maxLag),this},setFps:function(f){return f===void 0&&(f=240),this.gap=1e3/f,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(f){var v=Date.now()-this.prevTime;v>this.maxLag&&(this.startTime+=v-this.lagSkip),this.prevTime+=v;var m=this.prevTime-this.startTime,g=m-this.nextTime,y=m-this.time*1e3;return g>0||f?(m/=1e3,this.time=m,this.nextTime+=g+(g>=this.gap?4:this.gap-g)):y=0,y},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(f){f===void 0&&(f=!1);var v=this.getDelta(f);if(!(v<=0)){this.processing=!0;var m,g,y=[],T=this.tweens;for(m=0;m<T.length;m++)g=T[m],g.update(v)&&y.push(g);var C=y.length;if(C&&T.length>0){for(m=0;m<C;m++){g=y[m];var E=T.indexOf(g);E>-1&&(g.isPendingRemove()||g.isDestroyed())&&(T.splice(E,1),g.destroy())}y.length=0}this.processing=!1}},remove:function(f){return this.processing?f.setPendingRemoveState():(l(this.tweens,f),f.setRemovedState()),this},reset:function(f){return this.existing(f),f.seek(),f.setActiveState(),this},makeActive:function(f){return this.existing(f),f.setActiveState(),this},each:function(f,v){var m,g=[null];for(m=1;m<arguments.length;m++)g.push(arguments[m]);return this.tweens.forEach(function(y){g[0]=y,f.apply(v,g)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(f){var v=[],m=this.tweens;Array.isArray(f)?f=a(f):f=[f];for(var g=f.length,y=0;y<m.length;y++)for(var T=m[y],C=0;C<g;C++)!T.isDestroyed()&&T.hasTarget(f[C])&&v.push(T);return v},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(f){return this.timeScale=f,this},isTweening:function(f){for(var v=this.tweens,m,g=0;g<v.length;g++)if(m=v[g],m.isPlaying()&&m.hasTarget(f))return!0;return!1},killAll:function(){for(var f=this.processing?this.getTweens():this.tweens,v=0;v<f.length;v++)f[v].destroy();return this.processing||(f.length=0),this},killTweensOf:function(f){for(var v=this.getTweensOf(f),m=0;m<v.length;m++)v[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(t.UPDATE,this.update,this),this.events.off(t.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(t.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",d,"tweens"),u.exports=d},57355:u=>{var x=function(e,l,p){return e&&e.hasOwnProperty(l)?e[l]:p};u.exports=x},6113:(u,x,e)=>{var l=e(62640),p=e(35355),a=function(s,r){var t=l.Power0;if(typeof s=="string")if(l.hasOwnProperty(s))t=l[s];else{var n="";if(s.indexOf(".")){n=s.substring(s.indexOf(".")+1);var h=n.toLowerCase();h==="in"?n="easeIn":h==="out"?n="easeOut":h==="inout"&&(n="easeInOut")}s=p(s.substring(0,s.indexOf(".")+1)+n),l.hasOwnProperty(s)&&(t=l[s])}else typeof s=="function"&&(t=s);if(!r)return t;var i=r.slice(0);return i.unshift(0),function(o){return i[0]=o,t.apply(this,i)}};u.exports=a},91389:(u,x,e)=>{var l=e(89318),p=e(77259),a=e(28392),s={bezier:l,catmull:p,catmullrom:p,linear:a},r=function(t){if(t===null)return null;var n=s.linear;return typeof t=="string"?s.hasOwnProperty(t)&&(n=s[t]):typeof t=="function"&&(n=t),n};u.exports=r},55292:u=>{var x=function(e,l,p){var a;if(e.hasOwnProperty(l)){var s=typeof e[l];s==="function"?a=function(r,t,n,h,i,o){return e[l](r,t,n,h,i,o)}:a=function(){return e[l]}}else typeof p=="function"?a=p:a=function(){return p};return a};u.exports=x},82985:(u,x,e)=>{var l=e(81076),p=function(a){var s,r=[];if(a.hasOwnProperty("props"))for(s in a.props)s.substring(0,1)!=="_"&&r.push({key:s,value:a.props[s]});else for(s in a)l.indexOf(s)===-1&&s.substring(0,1)!=="_"&&r.push({key:s,value:a[s]});return r};u.exports=p},62329:(u,x,e)=>{var l=e(35154),p=function(a){var s=l(a,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};u.exports=p},17777:(u,x,e)=>{var l=e(30976),p=e(99472);function a(h){return!!h.getActive&&typeof h.getActive=="function"}function s(h){return!!h.getStart&&typeof h.getStart=="function"}function r(h){return!!h.getEnd&&typeof h.getEnd=="function"}function t(h){return s(h)||r(h)||a(h)}var n=function(h,i){var o,c=function(N,U,I){return I},d=function(N,U,I){return I},f=null,v=typeof i;if(v==="number")c=function(){return i};else if(Array.isArray(i))d=function(){return i[0]},c=function(){return i[i.length-1]};else if(v==="string"){var m=i.toLowerCase(),g=m.substring(0,6)==="random",y=m.substring(0,3)==="int";if(g||y){var T=m.indexOf("("),C=m.indexOf(")"),E=m.indexOf(",");if(T&&C&&E){var z=parseFloat(m.substring(T+1,E)),D=parseFloat(m.substring(E+1,C));g?c=function(){return p(z,D)}:c=function(){return l(z,D)}}else throw new Error("invalid random() format")}else{m=m[0];var A=parseFloat(i.substr(2));switch(m){case"+":c=function(N,U,I){return I+A};break;case"-":c=function(N,U,I){return I-A};break;case"*":c=function(N,U,I){return I*A};break;case"/":c=function(N,U,I){return I/A};break;default:c=function(){return parseFloat(i)}}}}else if(v==="function")c=i;else if(v==="object")if(t(i))a(i)&&(f=i.getActive),r(i)&&(c=i.getEnd),s(i)&&(d=i.getStart);else if(i.hasOwnProperty("value"))o=n(h,i.value);else{var L=i.hasOwnProperty("to"),b=i.hasOwnProperty("from"),F=i.hasOwnProperty("start");if(L&&(b||F)){if(o=n(h,i.to),F){var V=n(h,i.start);o.getActive=V.getEnd}if(b){var B=n(h,i.from);o.getStart=B.getEnd}}}return o||(o={getActive:f,getEnd:c,getStart:d}),o};u.exports=n},88032:(u,x,e)=>{var l=e(70402),p=e(69902),a=e(23568),s=e(57355),r=e(6113),t=e(55292),n=e(35154),h=e(17777),i=e(269),o=e(86081),c=function(d,f,v){if(f instanceof o)return f.parent=d,f;v===void 0?v=p:v=i(p,v);var m=n(f,"from",0),g=n(f,"to",1),y=[{value:m}],T=n(f,"delay",v.delay),C=n(f,"easeParams",v.easeParams),E=n(f,"ease",v.ease),z=h("value",g),D=new o(d,y),A=D.add(0,"value",z.getEnd,z.getStart,z.getActive,r(n(f,"ease",E),n(f,"easeParams",C)),t(f,"delay",T),n(f,"duration",v.duration),s(f,"yoyo",v.yoyo),n(f,"hold",v.hold),n(f,"repeat",v.repeat),n(f,"repeatDelay",v.repeatDelay),!1,!1);A.start=m,A.current=m,D.completeDelay=a(f,"completeDelay",0),D.loop=Math.round(a(f,"loop",0)),D.loopDelay=Math.round(a(f,"loopDelay",0)),D.paused=s(f,"paused",!1),D.persist=s(f,"persist",!1),D.callbackScope=n(f,"callbackScope",D);for(var L=l.TYPES,b=0;b<L.length;b++){var F=L[b],V=n(f,F,!1);if(V){var B=n(f,F+"Params",[]);D.setCallback(F,V,B)}}return D};u.exports=c},93109:(u,x,e)=>{var l=e(6113),p=e(35154),a=e(36383),s=function(r,t){t===void 0&&(t={});var n,h=p(t,"start",0),i=p(t,"ease",null),o=p(t,"grid",null),c=p(t,"from",0),d=c==="first",f=c==="center",v=c==="last",m=typeof c=="number",g=Array.isArray(r),y=parseFloat(g?r[0]:r),T=g?parseFloat(r[1]):0,C=Math.max(y,T);if(g&&(h+=y),o){var E=o[0],z=o[1],D=0,A=0,L=0,b=0,F=[];v?(D=E-1,A=z-1):m?(D=c%E,A=Math.floor(c/E)):f&&(D=(E-1)/2,A=(z-1)/2);for(var V=a.MIN_SAFE_INTEGER,B=0;B<z;B++){F[B]=[];for(var N=0;N<E;N++){L=D-N,b=A-B;var U=Math.sqrt(L*L+b*b);U>V&&(V=U),F[B][N]=U}}}var I=i?l(i):null;return o?n=function(H,O,R,Y){var G=0,k=Y%E,W=Math.floor(Y/E);k>=0&&k<E&&W>=0&&W<z&&(G=F[W][k]);var X;if(g){var j=T-y;I?X=G/V*j*I(G/V):X=G/V*j}else I?X=G*y*I(G/V):X=G*y;return X+h}:n=function(H,O,R,Y,G){G--;var k;d?k=Y:f?k=Math.abs(G/2-Y):v?k=G-Y:m&&(k=Math.abs(c-Y));var W;if(g){var X;f?X=(T-y)/G*(k*2):X=(T-y)/G*k,I?W=X*I(k/G):W=X}else I?W=G*C*I(k/G):W=k*y;return W+h},n};u.exports=s},8357:(u,x,e)=>{var l=e(70402),p=e(69902),a=e(23568),s=e(57355),r=e(6113),t=e(91389),n=e(55292),h=e(82985),i=e(62329),o=e(35154),c=e(17777),d=e(269),f=e(86081),v=function(m,g,y){if(g instanceof f)return g.parent=m,g;y===void 0?y=p:y=d(p,y);var T=i(g);!T&&y.targets&&(T=y.targets);for(var C=h(g),E=o(g,"delay",y.delay),z=o(g,"duration",y.duration),D=o(g,"easeParams",y.easeParams),A=o(g,"ease",y.ease),L=o(g,"hold",y.hold),b=o(g,"repeat",y.repeat),F=o(g,"repeatDelay",y.repeatDelay),V=s(g,"yoyo",y.yoyo),B=s(g,"flipX",y.flipX),N=s(g,"flipY",y.flipY),U=o(g,"interpolation",y.interpolation),I=function($,Z,J,Q){if(J==="texture"){var _=Q,ae=void 0;Array.isArray(Q)?(_=Q[0],ae=Q[1]):Q.hasOwnProperty("value")?(_=Q.value,Array.isArray(Q.value)?(_=Q.value[0],ae=Q.value[1]):typeof Q.value=="string"&&(_=Q.value)):typeof Q=="string"&&(_=Q),$.addFrame(Z,_,ae,n(Q,"delay",E),o(Q,"duration",z),o(Q,"hold",L),o(Q,"repeat",b),o(Q,"repeatDelay",F),s(Q,"flipX",B),s(Q,"flipY",N))}else{var oe=c(J,Q),le=t(o(Q,"interpolation",U));$.add(Z,J,oe.getEnd,oe.getStart,oe.getActive,r(o(Q,"ease",A),o(Q,"easeParams",D)),n(Q,"delay",E),o(Q,"duration",z),s(Q,"yoyo",V),o(Q,"hold",L),o(Q,"repeat",b),o(Q,"repeatDelay",F),s(Q,"flipX",B),s(Q,"flipY",N),le,le?Q:null)}},H=new f(m,T),O=0;O<C.length;O++)for(var R=C[O].key,Y=C[O].value,G=0;G<T.length;G++)R==="scale"&&!T[G].hasOwnProperty("scale")?(I(H,G,"scaleX",Y),I(H,G,"scaleY",Y)):I(H,G,R,Y);H.completeDelay=a(g,"completeDelay",0),H.loop=Math.round(a(g,"loop",0)),H.loopDelay=Math.round(a(g,"loopDelay",0)),H.paused=s(g,"paused",!1),H.persist=s(g,"persist",!1),H.callbackScope=o(g,"callbackScope",H);for(var k=l.TYPES,W=0;W<k.length;W++){var X=k[W],j=o(g,X,!1);if(j){var K=o(g,X+"Params",[]);H.setCallback(X,j,K)}}return H};u.exports=v},26012:(u,x,e)=>{var l=e(70402),p=e(23568),a=e(57355),s=e(62329),r=e(35154),t=e(8357),n=e(43960),h=function(i,o){if(o instanceof n)return o.parent=i,o;var c=new n(i);c.startDelay=r(o,"delay",0),c.completeDelay=p(o,"completeDelay",0),c.loop=Math.round(p(o,"loop",r(o,"repeat",0))),c.loopDelay=Math.round(p(o,"loopDelay",r(o,"repeatDelay",0))),c.paused=a(o,"paused",!1),c.persist=a(o,"persist",!1),c.callbackScope=r(o,"callbackScope",c);var d,f=l.TYPES;for(d=0;d<f.length;d++){var v=f[d],m=r(o,v,!1);if(m){var g=r(o,v+"Params",[]);c.setCallback(v,m,g)}}var y=r(o,"tweens",null);if(Array.isArray(y)){var T=[],C=s(o),E=void 0;for(C&&(E={targets:C}),d=0;d<y.length;d++)T.push(t(c,y[d],E));c.add(T)}return c};u.exports=h},30231:(u,x,e)=>{u.exports={GetBoolean:e(57355),GetEaseFunction:e(6113),GetInterpolationFunction:e(91389),GetNewValue:e(55292),GetProps:e(82985),GetTargets:e(62329),GetValueOp:e(17777),NumberTweenBuilder:e(88032),StaggerBuilder:e(93109),TweenBuilder:e(8357)}},73685:u=>{u.exports="active"},98540:u=>{u.exports="complete"},67233:u=>{u.exports="loop"},2859:u=>{u.exports="pause"},98336:u=>{u.exports="repeat"},25764:u=>{u.exports="resume"},32193:u=>{u.exports="start"},84371:u=>{u.exports="stop"},70766:u=>{u.exports="update"},55659:u=>{u.exports="yoyo"},842:(u,x,e)=>{u.exports={TWEEN_ACTIVE:e(73685),TWEEN_COMPLETE:e(98540),TWEEN_LOOP:e(67233),TWEEN_PAUSE:e(2859),TWEEN_RESUME:e(25764),TWEEN_REPEAT:e(98336),TWEEN_START:e(32193),TWEEN_STOP:e(84371),TWEEN_UPDATE:e(70766),TWEEN_YOYO:e(55659)}},43066:(u,x,e)=>{var l={States:e(86353),Builders:e(30231),Events:e(842),TweenManager:e(40382),Tween:e(86081),TweenData:e(48177),TweenFrameData:e(42220),BaseTween:e(70402),TweenChain:e(43960)};u.exports=l},70402:(u,x,e)=>{var l=e(83419),p=e(50792),a=e(842),s=e(86353),r=new l({Extends:p,initialize:function(n){p.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(t){return t===void 0&&(t=0),t?(this.setCompleteDelayState(),this.countdown=t):this.onCompleteHandler(),this},completeAfterLoop:function(t){return t===void 0&&(t=0),this.loopCounter>t&&(this.loopCounter=t),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(t){this.countdown-=t,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(t){return this.countdown-=t,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),t=0),t},updateCompleteDelay:function(t){this.countdown-=t,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(t,n,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(t)&&(this.callbacks[t]={func:n,params:h}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(t){t.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],u.exports=r},95042:(u,x,e)=>{var l=e(83419),p=e(842),a=e(86353),s=new l({initialize:function(t,n,h,i,o,c,d,f,v,m){this.tween=t,this.targetIndex=n,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=o,this.hold=c,this.repeat=d,this.repeatDelay=f,this.repeatCounter=0,this.flipX=v,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,t=r.totalTargets,n=this.targetIndex,h=r.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,i,0,n,t,r),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var c=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=c*a.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=c*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,t,n){var h=this.tween,i=h.totalTargets,o=this.targetIndex,c=h.targets[o],d=this.key,f=d!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&c.toggleFlipX(),this.flipY&&c.toggleFlipY(),f&&(t||n)&&(this.start=this.getStartValue(c,d,this.start,o,i,h)),n){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,f&&(this.end=this.getEndValue(c,d,this.start,o,i,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,f&&(this.current=this.start,c[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});u.exports=s},69902:u=>{var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};u.exports=x},81076:u=>{u.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(u,x,e)=>{var l=e(70402),p=e(83419),a=e(842),s=e(44603),r=e(39429),t=e(36383),n=e(86353),h=e(48177),i=e(42220),o=new p({Extends:l,initialize:function(d,f){l.call(this,d),this.targets=f,this.totalTargets=f.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(c,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F){var V=new h(this,c,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F);return this.totalData=this.data.push(V),V},addFrame:function(c,d,f,v,m,g,y,T,C,E){var z=new i(this,c,d,f,v,m,g,y,T,C,E);return this.totalData=this.data.push(z),z},getValue:function(c){c===void 0&&(c=0);var d=null;return this.data&&(d=this.data[c].current),d},hasTarget:function(c){return this.targets&&this.targets.indexOf(c)!==-1},updateTo:function(c,d,f){if(f===void 0&&(f=!1),c!=="texture")for(var v=0;v<this.totalData;v++){var m=this.data[v];m.key===c&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=d,f&&(m.start=m.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,l.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(c,d,f){if(c===void 0&&(c=0),d===void 0&&(d=16.6),f===void 0&&(f=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;f||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var v=this.paused;if(this.paused=!1,c>0){for(var m=Math.floor(c/d),g=c-m*d,y=0;y<m;y++)this.update(d);g>0&&this.update(g)}return this.paused=v,this.isSeeking=!1,this},initTweenData:function(c){c===void 0&&(c=!1),this.duration=0,this.startDelay=t.MAX_SAFE_INTEGER;for(var d=this.data,f=0;f<this.totalData;f++)d[f].reset(c);this.duration=Math.max(this.duration,.01);var v=this.duration,m=this.completeDelay,g=this.loopCounter,y=this.loopDelay;g>0?this.totalDuration=v+m+(v+y)*g:this.totalDuration=v+m},reset:function(c){return c===void 0&&(c=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),c||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(c){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(c*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(c),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(c),!1;this.hasStarted||(this.startDelay-=c,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),c=0));var d=!1;if(this.isActive())for(var f=this.data,v=0;v<this.totalData;v++)f[v].update(c)&&(d=!0);this.elapsed+=c,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=c,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(c){return this.update(c),this},rewind:function(c){return this.update(-c),this},dispatchEvent:function(c,d){if(!this.isSeeking){this.emit(c,this,this.targets);var f=this.callbacks[d];f&&f.func.apply(this.callbackScope,[this,this.targets].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(c){return this.scene.sys.tweens.add(c)}),s.register("tween",function(c){return this.scene.sys.tweens.create(c)}),u.exports=o},43960:(u,x,e)=>{var l=e(72905),p=e(70402),a=e(83419),s=e(842),r=e(44603),t=e(39429),n=e(86353),h=new a({Extends:p,initialize:function(o){p.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var o=this.parent.create(i);Array.isArray(o)||(o=[o]);for(var c=this.data,d=0;d<o.length;d++){var f=o[d];f.parent=this,c.push(f.reset())}return this.totalData=c.length,this},remove:function(i){return l(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var o=this.data,c=0;c<this.totalData;c++)if(o[c].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,o=this.totalData,c=0;c<o;c++)i[c].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,o){this.emit(i,this);var c=this.callbacks[o];c&&c.func.apply(this.callbackScope,[this].concat(c.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});t.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),r.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),u.exports=h},48177:(u,x,e)=>{var l=e(95042),p=e(45319),a=e(83419),s=e(842),r=new a({Extends:l,initialize:function(n,h,i,o,c,d,f,v,m,g,y,T,C,E,z,D,A){l.call(this,n,h,v,m,g,y,T,C,E,z),this.key=i,this.getActiveValue=d,this.getEndValue=o,this.getStartValue=c,this.ease=f,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=A},reset:function(t){l.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],h=this.key;t&&(n[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[h]=this.getActiveValue(n,h,0))},update:function(t){var n=this.tween,h=n.totalTargets,i=this.targetIndex,o=n.targets[i],c=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=t,this.elapsed<=0&&(this.elapsed=0,t=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,c,o[c],i,h,n),this.end=this.getEndValue(o,c,this.start,i,h,n),this.current=this.start,o[c]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),f=this.isPlayingBackward();if(d||f){var v=this.elapsed,m=this.duration,g=0,y=!1;v+=t,v>=m?(g=v-m,v=m,y=!0):v<0&&(v=0);var T=p(v/m,0,1);this.elapsed=v,this.progress=T,this.previous=this.current,d||(T=1-T);var C=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,C):this.current=this.start+(this.end-this.start)*C,o[c]=this.current,y&&(d?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(g):this.setStateFromStart(g)),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,n){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],o=this.key,c=this.current,d=this.previous;h.emit(t,h,o,i,c,d);var f=h.callbacks[n];f&&f.func.apply(h.callbackScope,[h,i,o,c,d].concat(f.params))}},destroy:function(){l.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});u.exports=r},42220:(u,x,e)=>{var l=e(95042),p=e(45319),a=e(83419),s=e(842),r=new a({Extends:l,initialize:function(n,h,i,o,c,d,f,v,m,g,y){l.call(this,n,h,c,d,!1,f,v,m,g,y),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=o,this.yoyo=v!==0},reset:function(t){l.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),t&&n.setTexture(this.startTexture,this.startFrame)},update:function(t){var n=this.tween,h=this.targetIndex,i=n.targets[h];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=t,this.elapsed<=0&&(this.elapsed=0,t=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),c=this.isPlayingBackward();if(o||c){var d=this.elapsed,f=this.duration,v=0,m=!1;d+=t,d>=f?(v=d-f,d=f,m=!0):d<0&&(d=0);var g=p(d/f,0,1);this.elapsed=d,this.progress=g,m&&(o?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(v)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(v))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,n){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],o=this.key;h.emit(t,h,o,i);var c=h.callbacks[n];c&&c.func.apply(h.callbackScope,[h,i,o].concat(c.params))}},destroy:function(){l.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});u.exports=r},86353:u=>{var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};u.exports=x},83419:u=>{function x(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function e(r,t,n){var h=n?r[t]:Object.getOwnPropertyDescriptor(r,t);return!n&&h.value&&typeof h.value=="object"&&(h=h.value),h&&x(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function l(r,t){var n=Object.getOwnPropertyDescriptor(r,t);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function p(r,t,n,h){for(var i in t)if(t.hasOwnProperty(i)){var o=e(t,i,n);if(o!==!1){var c=h||r;if(l(c.prototype,i)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,i,o)}else r.prototype[i]=t[i]}}function a(r,t){if(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)p(r,t[n].prototype||t[n])}}function s(r){r||(r={});var t,n;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");t=r.initialize,delete r.initialize}else if(r.Extends){var h=r.Extends;t=function(){h.apply(this,arguments)}}else t=function(){};r.Extends?(t.prototype=Object.create(r.Extends.prototype),t.prototype.constructor=t,n=r.Extends,delete r.Extends):t.prototype.constructor=t;var i=null;return r.Mixins&&(i=r.Mixins,delete r.Mixins),a(t,i),p(t,r,!0,n),t}s.extend=p,s.mixin=a,s.ignoreFinals=!1,u.exports=s},29747:u=>{var x=function(){};u.exports=x},20242:u=>{var x=function(){return null};u.exports=x},71146:u=>{var x=function(e,l,p,a,s){if(s===void 0&&(s=e),p>0){var r=p-e.length;if(r<=0)return null}if(!Array.isArray(l))return e.indexOf(l)===-1?(e.push(l),a&&a.call(s,l),l):null;for(var t=l.length-1;t>=0;)e.indexOf(l[t])!==-1&&l.splice(t,1),t--;if(t=l.length,t===0)return null;p>0&&t>r&&(l.splice(r),t=r);for(var n=0;n<t;n++){var h=l[n];e.push(h),a&&a.call(s,h)}return l};u.exports=x},51067:u=>{var x=function(e,l,p,a,s,r){if(p===void 0&&(p=0),r===void 0&&(r=e),a>0){var t=a-e.length;if(t<=0)return null}if(!Array.isArray(l))return e.indexOf(l)===-1?(e.splice(p,0,l),s&&s.call(r,l),l):null;for(var n=l.length-1;n>=0;)e.indexOf(l[n])!==-1&&l.pop(),n--;if(n=l.length,n===0)return null;a>0&&n>t&&(l.splice(t),n=t);for(var h=n-1;h>=0;h--){var i=l[h];e.splice(p,0,i),s&&s.call(r,i)}return l};u.exports=x},66905:u=>{var x=function(e,l){var p=e.indexOf(l);return p!==-1&&p<e.length&&(e.splice(p,1),e.push(l)),l};u.exports=x},21612:(u,x,e)=>{var l=e(82011),p=function(a,s,r,t,n){t===void 0&&(t=0),n===void 0&&(n=a.length);var h=0;if(l(a,t,n))for(var i=t;i<n;i++){var o=a[i];o[s]===r&&h++}return h};u.exports=p},95428:u=>{var x=function(e,l,p){var a,s=[null];for(a=3;a<arguments.length;a++)s.push(arguments[a]);for(a=0;a<e.length;a++)s[0]=e[a],l.apply(p,s);return e};u.exports=x},36914:(u,x,e)=>{var l=e(82011),p=function(a,s,r,t,n){if(t===void 0&&(t=0),n===void 0&&(n=a.length),l(a,t,n)){var h,i=[null];for(h=5;h<arguments.length;h++)i.push(arguments[h]);for(h=t;h<n;h++)i[0]=a[h],s.apply(r,i)}return a};u.exports=p},81957:u=>{var x=function(e,l,p){if(l.length){if(l.length===1)return l[0]}else return NaN;var a=1,s,r;if(p){if(e<l[0][p])return l[0];for(;l[a][p]<e;)a++}else for(;l[a]<e;)a++;return a>l.length&&(a=l.length),p?(s=l[a-1][p],r=l[a][p],r-e<=e-s?l[a]:l[a-1]):(s=l[a-1],r=l[a],r-e<=e-s?r:s)};u.exports=x},43491:u=>{var x=function(e,l){l===void 0&&(l=[]);for(var p=0;p<e.length;p++)Array.isArray(e[p])?x(e[p],l):l.push(e[p]);return l};u.exports=x},46710:(u,x,e)=>{var l=e(82011),p=function(a,s,r,t,n){t===void 0&&(t=0),n===void 0&&(n=a.length);var h=[];if(l(a,t,n))for(var i=t;i<n;i++){var o=a[i];(!s||s&&r===void 0&&o.hasOwnProperty(s)||s&&r!==void 0&&o[s]===r)&&h.push(o)}return h};u.exports=p},58731:(u,x,e)=>{var l=e(82011),p=function(a,s,r,t,n){if(t===void 0&&(t=0),n===void 0&&(n=a.length),l(a,t,n))for(var h=t;h<n;h++){var i=a[h];if(!s||s&&r===void 0&&i.hasOwnProperty(s)||s&&r!==void 0&&i[s]===r)return i}return null};u.exports=p},26546:u=>{var x=function(e,l,p){l===void 0&&(l=0),p===void 0&&(p=e.length);var a=l+Math.floor(Math.random()*p);return e[a]===void 0?null:e[a]};u.exports=x},85835:u=>{var x=function(e,l,p){if(l===p)return e;var a=e.indexOf(l),s=e.indexOf(p);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a>s||(e.splice(a,1),s=e.indexOf(p),e.splice(s+1,0,l)),e};u.exports=x},83371:u=>{var x=function(e,l,p){if(l===p)return e;var a=e.indexOf(l),s=e.indexOf(p);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a<s||(e.splice(a,1),s===0?e.unshift(l):e.splice(s,0,l)),e};u.exports=x},70864:u=>{var x=function(e,l){var p=e.indexOf(l);if(p>0){var a=e[p-1],s=e.indexOf(a);e[p]=a,e[s]=l}return e};u.exports=x},69693:u=>{var x=function(e,l,p){var a=e.indexOf(l);if(a===-1||p<0||p>=e.length)throw new Error("Supplied index out of bounds");return a!==p&&(e.splice(a,1),e.splice(p,0,l)),l};u.exports=x},40853:u=>{var x=function(e,l){var p=e.indexOf(l);if(p!==-1&&p<e.length-1){var a=e[p+1],s=e.indexOf(a);e[p]=a,e[s]=l}return e};u.exports=x},20283:u=>{var x=function(e,l,p,a){var s=[],r,t=!1;if((p||a)&&(t=!0,p||(p=""),a||(a="")),l<e)for(r=e;r>=l;r--)t?s.push(p+r.toString()+a):s.push(r);else for(r=e;r<=l;r++)t?s.push(p+r.toString()+a):s.push(r);return s};u.exports=x},593:(u,x,e)=>{var l=e(2284),p=function(a,s,r){a===void 0&&(a=0),s===void 0&&(s=null),r===void 0&&(r=1),s===null&&(s=a,a=0);for(var t=[],n=Math.max(l((s-a)/(r||1)),0),h=0;h<n;h++)t.push(a),a+=r;return t};u.exports=p},43886:u=>{function x(p,a,s){var r=p[a];p[a]=p[s],p[s]=r}function e(p,a){return p<a?-1:p>a?1:0}var l=function(p,a,s,r,t){for(s===void 0&&(s=0),r===void 0&&(r=p.length-1),t===void 0&&(t=e);r>s;){if(r-s>600){var n=r-s+1,h=a-s+1,i=Math.log(n),o=.5*Math.exp(2*i/3),c=.5*Math.sqrt(i*o*(n-o)/n)*(h-n/2<0?-1:1),d=Math.max(s,Math.floor(a-h*o/n+c)),f=Math.min(r,Math.floor(a+(n-h)*o/n+c));l(p,a,d,f,t)}var v=p[a],m=s,g=r;for(x(p,s,a),t(p[r],v)>0&&x(p,s,r);m<g;){for(x(p,m,g),m++,g--;t(p[m],v)<0;)m++;for(;t(p[g],v)>0;)g--}t(p[s],v)===0?x(p,s,g):(g++,x(p,g,r)),g<=a&&(s=g+1),a<=g&&(r=g-1)}};u.exports=l},88492:(u,x,e)=>{var l=e(35154),p=e(33680),a=function(r,t,n){for(var h=[],i=0;i<r.length;i++)for(var o=0;o<t.length;o++)for(var c=0;c<n;c++)h.push({a:r[i],b:t[o]});return h},s=function(r,t,n){var h=l(n,"max",0),i=l(n,"qty",1),o=l(n,"random",!1),c=l(n,"randomB",!1),d=l(n,"repeat",0),f=l(n,"yoyo",!1),v=[];if(c&&p(t),d===-1)if(h===0)d=0;else{var m=r.length*t.length*i;f&&(m*=2),d=Math.ceil(h/m)}for(var g=0;g<=d;g++){var y=a(r,t,i);o&&p(y),v=v.concat(y),f&&(y.reverse(),v=v.concat(y))}return h&&v.splice(h),v};u.exports=s},72905:(u,x,e)=>{var l=e(19133),p=function(a,s,r,t){t===void 0&&(t=a);var n;if(!Array.isArray(s))return n=a.indexOf(s),n!==-1?(l(a,n),r&&r.call(t,s),s):null;for(var h=s.length-1,i=[];h>=0;){var o=s[h];n=a.indexOf(o),n!==-1&&(l(a,n),i.push(o),r&&r.call(t,o)),h--}return i};u.exports=p},60248:(u,x,e)=>{var l=e(19133),p=function(a,s,r,t){if(t===void 0&&(t=a),s<0||s>a.length-1)throw new Error("Index out of bounds");var n=l(a,s);return r&&r.call(t,n),n};u.exports=p},81409:(u,x,e)=>{var l=e(82011),p=function(a,s,r,t,n){if(s===void 0&&(s=0),r===void 0&&(r=a.length),n===void 0&&(n=a),l(a,s,r)){var h=r-s,i=a.splice(s,h);if(t)for(var o=0;o<i.length;o++){var c=i[o];t.call(n,c)}return i}else return[]};u.exports=p},31856:(u,x,e)=>{var l=e(19133),p=function(a,s,r){s===void 0&&(s=0),r===void 0&&(r=a.length);var t=s+Math.floor(Math.random()*r);return l(a,t)};u.exports=p},42169:u=>{var x=function(e,l,p){var a=e.indexOf(l),s=e.indexOf(p);return a!==-1&&s===-1?(e[a]=p,!0):!1};u.exports=x},86003:u=>{var x=function(e,l){l===void 0&&(l=1);for(var p=null,a=0;a<l;a++)p=e.shift(),e.push(p);return p};u.exports=x},49498:u=>{var x=function(e,l){l===void 0&&(l=1);for(var p=null,a=0;a<l;a++)p=e.pop(),e.unshift(p);return p};u.exports=x},82011:u=>{var x=function(e,l,p,a){var s=e.length;if(l<0||l>s||l>=p||p>s){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};u.exports=x},89545:u=>{var x=function(e,l){var p=e.indexOf(l);return p!==-1&&p>0&&(e.splice(p,1),e.unshift(l)),l};u.exports=x},17810:(u,x,e)=>{var l=e(82011),p=function(a,s,r,t,n){if(t===void 0&&(t=0),n===void 0&&(n=a.length),l(a,t,n))for(var h=t;h<n;h++){var i=a[h];i.hasOwnProperty(s)&&(i[s]=r)}return a};u.exports=p},33680:u=>{var x=function(e){for(var l=e.length-1;l>0;l--){var p=Math.floor(Math.random()*(l+1)),a=e[l];e[l]=e[p],e[p]=a}return e};u.exports=x},90126:u=>{var x=function(e){var l=/\D/g;return e.sort(function(p,a){return parseInt(p.replace(l,""),10)-parseInt(a.replace(l,""),10)}),e};u.exports=x},19133:u=>{var x=function(e,l){if(!(l>=e.length)){for(var p=e.length-1,a=e[l],s=l;s<p;s++)e[s]=e[s+1];return e.length=p,a}};u.exports=x},19186:(u,x,e)=>{var l=e(82264);function p(t,n){return String(t).localeCompare(n)}function a(t,n){var h=t.length;if(h<=1)return t;for(var i=new Array(h),o=1;o<h;o*=2){s(t,n,o,i);var c=t;t=i,i=c}return t}function s(t,n,h,i){var o=t.length,c=0,d=h*2,f,v,m,g,y;for(f=0;f<o;f+=d)for(v=f+h,m=v+h,v>o&&(v=o),m>o&&(m=o),g=f,y=v;;)if(g<v&&y<m)n(t[g],t[y])<=0?i[c++]=t[g++]:i[c++]=t[y++];else if(g<v)i[c++]=t[g++];else if(y<m)i[c++]=t[y++];else break}var r=function(t,n){if(n===void 0&&(n=p),!t||t.length<2)return t;if(l.features.stableSort)return t.sort(n);var h=a(t,n);return h!==t&&s(h,null,t.length,t),t};u.exports=r},25630:u=>{var x=function(e,l,p){if(l===p)return e;var a=e.indexOf(l),s=e.indexOf(p);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return e[a]=p,e[s]=l,e};u.exports=x},37105:(u,x,e)=>{u.exports={Matrix:e(54915),Add:e(71146),AddAt:e(51067),BringToTop:e(66905),CountAllMatching:e(21612),Each:e(95428),EachInRange:e(36914),FindClosestInSorted:e(81957),Flatten:e(43491),GetAll:e(46710),GetFirst:e(58731),GetRandom:e(26546),MoveDown:e(70864),MoveTo:e(69693),MoveUp:e(40853),MoveAbove:e(85835),MoveBelow:e(83371),NumberArray:e(20283),NumberArrayStep:e(593),QuickSelect:e(43886),Range:e(88492),Remove:e(72905),RemoveAt:e(60248),RemoveBetween:e(81409),RemoveRandomElement:e(31856),Replace:e(42169),RotateLeft:e(86003),RotateRight:e(49498),SafeRange:e(82011),SendToBack:e(89545),SetAll:e(17810),Shuffle:e(33680),SortByDigits:e(90126),SpliceOne:e(19133),StableSort:e(19186),Swap:e(25630)}},86922:u=>{var x=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var l=e[0].length,p=1;p<e.length;p++)if(e[p].length!==l)return!1;return!0};u.exports=x},63362:(u,x,e)=>{var l=e(41836),p=e(86922),a=function(s){var r="";if(!p(s))return r;for(var t=0;t<s.length;t++){for(var n=0;n<s[t].length;n++){var h=s[t][n].toString();h!=="undefined"?r+=l(h,2):r+="?",n<s[t].length-1&&(r+=" |")}if(t<s.length-1){r+=`
`;for(var i=0;i<s[t].length;i++)r+="---",i<s[t].length-1&&(r+="+");r+=`
`}}return r};u.exports=a},92598:u=>{var x=function(e){return e.reverse()};u.exports=x},21224:u=>{var x=function(e){for(var l=0;l<e.length;l++)e[l].reverse();return e};u.exports=x},98717:(u,x,e)=>{var l=e(37829),p=function(a){return l(a,180)};u.exports=p},44657:(u,x,e)=>{var l=e(37829),p=function(a,s){s===void 0&&(s=1);for(var r=0;r<s;r++)a=l(a,90);return a};u.exports=p},37829:(u,x,e)=>{var l=e(86922),p=e(2429),a=function(s,r){if(r===void 0&&(r=90),!l(s))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")s=p(s),s.reverse();else if(r===-90||r===270||r==="rotateRight")s.reverse(),s=p(s);else if(Math.abs(r)===180||r==="rotate180"){for(var t=0;t<s.length;t++)s[t].reverse();s.reverse()}return s};u.exports=a},92632:(u,x,e)=>{var l=e(37829),p=function(a,s){s===void 0&&(s=1);for(var r=0;r<s;r++)a=l(a,-90);return a};u.exports=p},69512:(u,x,e)=>{var l=e(86003),p=e(49498),a=function(s,r,t){if(r===void 0&&(r=0),t===void 0&&(t=0),t!==0&&(t<0?l(s,Math.abs(t)):p(s,t)),r!==0)for(var n=0;n<s.length;n++){var h=s[n];r<0?l(h,Math.abs(r)):p(h,r)}return s};u.exports=a},2429:u=>{var x=function(e){for(var l=e.length,p=e[0].length,a=new Array(p),s=0;s<p;s++){a[s]=new Array(l);for(var r=l-1;r>-1;r--)a[s][r]=e[r][s]}return a};u.exports=x},54915:(u,x,e)=>{u.exports={CheckMatrix:e(86922),MatrixToString:e(63362),ReverseColumns:e(92598),ReverseRows:e(21224),Rotate180:e(98717),RotateLeft:e(44657),RotateMatrix:e(37829),RotateRight:e(92632),Translate:e(69512),TransposeMatrix:e(2429)}},71334:u=>{var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(l,p){for(var a=new Uint8Array(l),s=a.length,r=p?"data:"+p+";base64,":"",t=0;t<s;t+=3)r+=x[a[t]>>2],r+=x[(a[t]&3)<<4|a[t+1]>>4],r+=x[(a[t+1]&15)<<2|a[t+2]>>6],r+=x[a[t+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};u.exports=e},53134:u=>{for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),l=0;l<x.length;l++)e[x.charCodeAt(l)]=l;var p=function(a){a=a.substr(a.indexOf(",")+1);var s=a.length,r=s*.75,t=0,n,h,i,o;a[s-1]==="="&&(r--,a[s-2]==="="&&r--);for(var c=new ArrayBuffer(r),d=new Uint8Array(c),f=0;f<s;f+=4)n=e[a.charCodeAt(f)],h=e[a.charCodeAt(f+1)],i=e[a.charCodeAt(f+2)],o=e[a.charCodeAt(f+3)],d[t++]=n<<2|h>>4,d[t++]=(h&15)<<4|i>>2,d[t++]=(i&3)<<6|o&63;return c};u.exports=p},65839:(u,x,e)=>{u.exports={ArrayBufferToBase64:e(71334),Base64ToArrayBuffer:e(53134)}},91799:(u,x,e)=>{u.exports={Array:e(37105),Base64:e(65839),Objects:e(1183),String:e(31749),NOOP:e(29747),NULL:e(20242)}},41786:u=>{var x=function(e){var l={};for(var p in e)Array.isArray(e[p])?l[p]=e[p].slice(0):l[p]=e[p];return l};u.exports=x},62644:u=>{var x=function(e){var l,p,a;if(typeof e!="object"||e===null)return e;l=Array.isArray(e)?[]:{};for(a in e)p=e[a],l[a]=x(p);return l};u.exports=x},79291:(u,x,e)=>{var l=e(41212),p=function(){var a,s,r,t,n,h,i=arguments[0]||{},o=1,c=arguments.length,d=!1;for(typeof i=="boolean"&&(d=i,i=arguments[1]||{},o=2),c===o&&(i=this,--o);o<c;o++)if((a=arguments[o])!=null)for(s in a)r=i[s],t=a[s],i!==t&&(d&&t&&(l(t)||(n=Array.isArray(t)))?(n?(n=!1,h=r&&Array.isArray(r)?r:[]):h=r&&l(r)?r:{},i[s]=p(d,h,t)):t!==void 0&&(i[s]=t));return i};u.exports=p},23568:(u,x,e)=>{var l=e(75508),p=e(35154),a=function(s,r,t){var n=p(s,r,null);if(n===null)return t;if(Array.isArray(n))return l.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return l.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return l.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(r);return n};u.exports=a},95540:u=>{var x=function(e,l,p){var a=typeof e;return!e||a==="number"||a==="string"?p:e.hasOwnProperty(l)&&e[l]!==void 0?e[l]:p};u.exports=x},82840:(u,x,e)=>{var l=e(35154),p=e(45319),a=function(s,r,t,n,h){h===void 0&&(h=t);var i=l(s,r,h);return p(i,t,n)};u.exports=a},35154:u=>{var x=function(e,l,p,a){if(!e&&!a||typeof e=="number")return p;if(e&&e.hasOwnProperty(l))return e[l];if(a&&a.hasOwnProperty(l))return a[l];if(l.indexOf(".")!==-1){for(var s=l.split("."),r=e,t=a,n=p,h=p,i=!0,o=!0,c=0;c<s.length;c++)r&&r.hasOwnProperty(s[c])?(n=r[s[c]],r=r[s[c]]):i=!1,t&&t.hasOwnProperty(s[c])?(h=t[s[c]],t=t[s[c]]):o=!1;return i?n:o?h:p}else return p};u.exports=x},69036:u=>{var x=function(e,l){for(var p=0;p<l.length;p++)if(!e.hasOwnProperty(l[p]))return!1;return!0};u.exports=x},1985:u=>{var x=function(e,l){for(var p=0;p<l.length;p++)if(e.hasOwnProperty(l[p]))return!0;return!1};u.exports=x},97022:u=>{var x=function(e,l){return e.hasOwnProperty(l)};u.exports=x},41212:u=>{var x=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};u.exports=x},46975:(u,x,e)=>{var l=e(41786),p=function(a,s){var r=l(a);for(var t in s)r.hasOwnProperty(t)||(r[t]=s[t]);return r};u.exports=p},269:(u,x,e)=>{var l=e(41786),p=function(a,s){var r=l(a);for(var t in s)r.hasOwnProperty(t)&&(r[t]=s[t]);return r};u.exports=p},18254:(u,x,e)=>{var l=e(97022),p=function(a,s){for(var r={},t=0;t<s.length;t++){var n=s[t];l(a,n)&&(r[n]=a[n])}return r};u.exports=p},61622:u=>{var x=function(e,l,p){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(l))return e[l]=p,!0;if(l.indexOf(".")!==-1){for(var a=l.split("."),s=e,r=e,t=0;t<a.length;t++)if(s.hasOwnProperty(a[t]))r=s,s=s[a[t]];else return!1;return r[a[a.length-1]]=p,!0}return!1};u.exports=x},1183:(u,x,e)=>{u.exports={Clone:e(41786),DeepCopy:e(62644),Extend:e(79291),GetAdvancedValue:e(23568),GetFastValue:e(95540),GetMinMaxValue:e(82840),GetValue:e(35154),HasAll:e(69036),HasAny:e(1985),HasValue:e(97022),IsPlainObject:e(41212),Merge:e(46975),MergeRight:e(269),Pick:e(18254),SetValue:e(61622)}},27902:u=>{var x=function(e,l){return e.replace(/%([0-9]+)/g,function(p,a){return l[Number(a)-1]})};u.exports=x},41836:u=>{var x=function(e,l,p,a){l===void 0&&(l=0),p===void 0&&(p=" "),a===void 0&&(a=3),e=e.toString();var s=0;if(l+1>=e.length)switch(a){case 1:e=new Array(l+1-e.length).join(p)+e;break;case 3:var r=Math.ceil((s=l-e.length)/2),t=s-r;e=new Array(t+1).join(p)+e+new Array(r+1).join(p);break;default:e=e+new Array(l+1-e.length).join(p);break}return e};u.exports=x},33628:u=>{var x=function(e,l){return l===0?e.slice(1):e.slice(0,l)+e.slice(l+1)};u.exports=x},27671:u=>{var x=function(e){return e.split("").reverse().join("")};u.exports=x},45650:u=>{var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var l=Math.random()*16|0,p=e==="x"?l:l&3|8;return p.toString(16)})};u.exports=x},35355:u=>{var x=function(e){return e&&e[0].toUpperCase()+e.slice(1)};u.exports=x},31749:(u,x,e)=>{u.exports={Format:e(27902),Pad:e(41836),RemoveAt:e(33628),Reverse:e(27671),UppercaseFirst:e(35355),UUID:e(45650)}}},P={};function S(u){var x=P[u];if(x!==void 0)return x.exports;var e=P[u]={exports:{}};return M[u](e,e.exports,S),e.exports}S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var w=S(85454);return w})())});var yn=class{},hi=class{},Gt=class M{constructor(P){this.normalizedNames=new Map,this.lazyUpdate=null,P?typeof P=="string"?this.lazyInit=()=>{this.headers=new Map,P.split(`
`).forEach(S=>{let w=S.indexOf(":");if(w>0){let u=S.slice(0,w),x=u.toLowerCase(),e=S.slice(w+1).trim();this.maybeSetNormalizedName(u,x),this.headers.has(x)?this.headers.get(x).push(e):this.headers.set(x,[e])}})}:typeof Headers<"u"&&P instanceof Headers?(this.headers=new Map,P.forEach((S,w)=>{this.setHeaderEntries(w,S)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(P).forEach(([S,w])=>{this.setHeaderEntries(S,w)})}:this.headers=new Map}has(P){return this.init(),this.headers.has(P.toLowerCase())}get(P){this.init();let S=this.headers.get(P.toLowerCase());return S&&S.length>0?S[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(P){return this.init(),this.headers.get(P.toLowerCase())||null}append(P,S){return this.clone({name:P,value:S,op:"a"})}set(P,S){return this.clone({name:P,value:S,op:"s"})}delete(P,S){return this.clone({name:P,value:S,op:"d"})}maybeSetNormalizedName(P,S){this.normalizedNames.has(S)||this.normalizedNames.set(S,P)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(P=>this.applyUpdate(P)),this.lazyUpdate=null))}copyFrom(P){P.init(),Array.from(P.headers.keys()).forEach(S=>{this.headers.set(S,P.headers.get(S)),this.normalizedNames.set(S,P.normalizedNames.get(S))})}clone(P){let S=new M;return S.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,S.lazyUpdate=(this.lazyUpdate||[]).concat([P]),S}applyUpdate(P){let S=P.name.toLowerCase();switch(P.op){case"a":case"s":let w=P.value;if(typeof w=="string"&&(w=[w]),w.length===0)return;this.maybeSetNormalizedName(P.name,S);let u=(P.op==="a"?this.headers.get(S):void 0)||[];u.push(...w),this.headers.set(S,u);break;case"d":let x=P.value;if(!x)this.headers.delete(S),this.normalizedNames.delete(S);else{let e=this.headers.get(S);if(!e)return;e=e.filter(l=>x.indexOf(l)===-1),e.length===0?(this.headers.delete(S),this.normalizedNames.delete(S)):this.headers.set(S,e)}break}}setHeaderEntries(P,S){let w=(Array.isArray(S)?S:[S]).map(x=>x.toString()),u=P.toLowerCase();this.headers.set(u,w),this.maybeSetNormalizedName(P,u)}forEach(P){this.init(),Array.from(this.normalizedNames.keys()).forEach(S=>P(this.normalizedNames.get(S),this.headers.get(S)))}};var Ps=class{encodeKey(P){return el(P)}encodeValue(P){return el(P)}decodeKey(P){return decodeURIComponent(P)}decodeValue(P){return decodeURIComponent(P)}};function g2(M,P){let S=new Map;return M.length>0&&M.replace(/^\?/,"").split("&").forEach(u=>{let x=u.indexOf("="),[e,l]=x==-1?[P.decodeKey(u),""]:[P.decodeKey(u.slice(0,x)),P.decodeValue(u.slice(x+1))],p=S.get(e)||[];p.push(l),S.set(e,p)}),S}var x2=/%(\d[a-f0-9])/gi,y2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function el(M){return encodeURIComponent(M).replace(x2,(P,S)=>y2[S]??P)}function ur(M){return`${M}`}var oi=class M{constructor(P={}){if(this.updates=null,this.cloneFrom=null,this.encoder=P.encoder||new Ps,P.fromString){if(P.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=g2(P.fromString,this.encoder)}else P.fromObject?(this.map=new Map,Object.keys(P.fromObject).forEach(S=>{let w=P.fromObject[S],u=Array.isArray(w)?w.map(ur):[ur(w)];this.map.set(S,u)})):this.map=null}has(P){return this.init(),this.map.has(P)}get(P){this.init();let S=this.map.get(P);return S?S[0]:null}getAll(P){return this.init(),this.map.get(P)||null}keys(){return this.init(),Array.from(this.map.keys())}append(P,S){return this.clone({param:P,value:S,op:"a"})}appendAll(P){let S=[];return Object.keys(P).forEach(w=>{let u=P[w];Array.isArray(u)?u.forEach(x=>{S.push({param:w,value:x,op:"a"})}):S.push({param:w,value:u,op:"a"})}),this.clone(S)}set(P,S){return this.clone({param:P,value:S,op:"s"})}delete(P,S){return this.clone({param:P,value:S,op:"d"})}toString(){return this.init(),this.keys().map(P=>{let S=this.encoder.encodeKey(P);return this.map.get(P).map(w=>S+"="+this.encoder.encodeValue(w)).join("&")}).filter(P=>P!=="").join("&")}clone(P){let S=new M({encoder:this.encoder});return S.cloneFrom=this.cloneFrom||this,S.updates=(this.updates||[]).concat(P),S}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(P=>this.map.set(P,this.cloneFrom.map.get(P))),this.updates.forEach(P=>{switch(P.op){case"a":case"s":let S=(P.op==="a"?this.map.get(P.param):void 0)||[];S.push(ur(P.value)),this.map.set(P.param,S);break;case"d":if(P.value!==void 0){let w=this.map.get(P.param)||[],u=w.indexOf(ur(P.value));u!==-1&&w.splice(u,1),w.length>0?this.map.set(P.param,w):this.map.delete(P.param)}else{this.map.delete(P.param);break}}}),this.cloneFrom=this.updates=null)}};var ws=class{constructor(){this.map=new Map}set(P,S){return this.map.set(P,S),this}get(P){return this.map.has(P)||this.map.set(P,P.defaultValue()),this.map.get(P)}delete(P){return this.map.delete(P),this}has(P){return this.map.has(P)}keys(){return this.map.keys()}};function T2(M){switch(M){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tl(M){return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer}function il(M){return typeof Blob<"u"&&M instanceof Blob}function nl(M){return typeof FormData<"u"&&M instanceof FormData}function S2(M){return typeof URLSearchParams<"u"&&M instanceof URLSearchParams}var xn=class M{constructor(P,S,w,u){this.url=S,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=P.toUpperCase();let x;if(T2(this.method)||u?(this.body=w!==void 0?w:null,x=u):x=w,x&&(this.reportProgress=!!x.reportProgress,this.withCredentials=!!x.withCredentials,x.responseType&&(this.responseType=x.responseType),x.headers&&(this.headers=x.headers),x.context&&(this.context=x.context),x.params&&(this.params=x.params),this.transferCache=x.transferCache),this.headers??=new Gt,this.context??=new ws,!this.params)this.params=new oi,this.urlWithParams=S;else{let e=this.params.toString();if(e.length===0)this.urlWithParams=S;else{let l=S.indexOf("?"),p=l===-1?"?":l<S.length-1?"&":"";this.urlWithParams=S+p+e}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tl(this.body)||il(this.body)||nl(this.body)||S2(this.body)?this.body:this.body instanceof oi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nl(this.body)?null:il(this.body)?this.body.type||null:tl(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof oi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(P={}){let S=P.method||this.method,w=P.url||this.url,u=P.responseType||this.responseType,x=P.transferCache??this.transferCache,e=P.body!==void 0?P.body:this.body,l=P.withCredentials??this.withCredentials,p=P.reportProgress??this.reportProgress,a=P.headers||this.headers,s=P.params||this.params,r=P.context??this.context;return P.setHeaders!==void 0&&(a=Object.keys(P.setHeaders).reduce((t,n)=>t.set(n,P.setHeaders[n]),a)),P.setParams&&(s=Object.keys(P.setParams).reduce((t,n)=>t.set(n,P.setParams[n]),s)),new M(S,w,e,{params:s,headers:a,context:r,reportProgress:p,responseType:u,withCredentials:l,transferCache:x})}},li=function(M){return M[M.Sent=0]="Sent",M[M.UploadProgress=1]="UploadProgress",M[M.ResponseHeader=2]="ResponseHeader",M[M.DownloadProgress=3]="DownloadProgress",M[M.Response=4]="Response",M[M.User=5]="User",M}(li||{}),Tn=class{constructor(P,S=200,w="OK"){this.headers=P.headers||new Gt,this.status=P.status!==void 0?P.status:S,this.statusText=P.statusText||w,this.url=P.url||null,this.ok=this.status>=200&&this.status<300}},fr=class M extends Tn{constructor(P={}){super(P),this.type=li.ResponseHeader}clone(P={}){return new M({headers:P.headers||this.headers,status:P.status!==void 0?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}},Di=class M extends Tn{constructor(P={}){super(P),this.type=li.Response,this.body=P.body!==void 0?P.body:null}clone(P={}){return new M({body:P.body!==void 0?P.body:this.body,headers:P.headers||this.headers,status:P.status!==void 0?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}},ai=class extends Tn{constructor(P){super(P,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${P.url||"(unknown url)"}`:this.message=`Http failure response for ${P.url||"(unknown url)"}: ${P.status} ${P.statusText}`,this.error=P.error||null}},pl=200,C2=204;function Es(M,P){return{body:P,headers:M.headers,context:M.context,observe:M.observe,params:M.params,reportProgress:M.reportProgress,responseType:M.responseType,withCredentials:M.withCredentials,transferCache:M.transferCache}}var Ds=(()=>{class M{constructor(S){this.handler=S}request(S,w,u={}){let x;if(S instanceof xn)x=S;else{let p;u.headers instanceof Gt?p=u.headers:p=new Gt(u.headers);let a;u.params&&(u.params instanceof oi?a=u.params:a=new oi({fromObject:u.params})),x=new xn(S,w,u.body!==void 0?u.body:null,{headers:p,context:u.context,params:a,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials,transferCache:u.transferCache})}let e=ue(x).pipe(Ti(p=>this.handler.handle(p)));if(S instanceof xn||u.observe==="events")return e;let l=e.pipe(je(p=>p instanceof Di));switch(u.observe||"body"){case"body":switch(x.responseType){case"arraybuffer":return l.pipe(pe(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return l.pipe(pe(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return l.pipe(pe(p=>{if(p.body!==null&&typeof p.body!="string")throw new Error("Response is not a string.");return p.body}));case"json":default:return l.pipe(pe(p=>p.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(S,w={}){return this.request("DELETE",S,w)}get(S,w={}){return this.request("GET",S,w)}head(S,w={}){return this.request("HEAD",S,w)}jsonp(S,w){return this.request("JSONP",S,{params:new oi().append(w,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(S,w={}){return this.request("OPTIONS",S,w)}patch(S,w,u={}){return this.request("PATCH",S,Es(u,w))}post(S,w,u={}){return this.request("POST",S,Es(u,w))}put(S,w,u={}){return this.request("PUT",S,Es(u,w))}static{this.\u0275fac=function(w){return new(w||M)(ee(yn))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),M2=/^\)\]\}',?\n/,E2="X-Request-URL";function rl(M){if(M.url)return M.url;let P=E2.toLocaleLowerCase();return M.headers.get(P)}var P2=(()=>{class M{constructor(){this.fetchImpl=te(zs,{optional:!0})?.fetch??((...S)=>globalThis.fetch(...S)),this.ngZone=te(Le)}handle(S){return new xi(w=>{let u=new AbortController;return this.doRequest(S,u.signal,w).then(As,x=>w.error(new ai({error:x}))),()=>u.abort()})}doRequest(S,w,u){return _r(this,null,function*(){let x=this.createRequestInit(S),e;try{let n=this.ngZone.runOutsideAngular(()=>this.fetchImpl(S.urlWithParams,re({signal:w},x)));w2(n),u.next({type:li.Sent}),e=yield n}catch(n){u.error(new ai({error:n,status:n.status??0,statusText:n.statusText,url:S.urlWithParams,headers:n.headers}));return}let l=new Gt(e.headers),p=e.statusText,a=rl(e)??S.urlWithParams,s=e.status,r=null;if(S.reportProgress&&u.next(new fr({headers:l,status:s,statusText:p,url:a})),e.body){let n=e.headers.get("content-length"),h=[],i=e.body.getReader(),o=0,c,d,f=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_r(this,null,function*(){for(;;){let{done:m,value:g}=yield i.read();if(m)break;if(h.push(g),o+=g.length,S.reportProgress){d=S.responseType==="text"?(d??"")+(c??=new TextDecoder).decode(g,{stream:!0}):void 0;let y=()=>u.next({type:li.DownloadProgress,total:n?+n:void 0,loaded:o,partialText:d});f?f.run(y):y()}}}));let v=this.concatChunks(h,o);try{let m=e.headers.get("Content-Type")??"";r=this.parseBody(S,v,m)}catch(m){u.error(new ai({error:m,headers:new Gt(e.headers),status:e.status,statusText:e.statusText,url:rl(e)??S.urlWithParams}));return}}s===0&&(s=r?pl:0),s>=200&&s<300?(u.next(new Di({body:r,headers:l,status:s,statusText:p,url:a})),u.complete()):u.error(new ai({error:r,headers:l,status:s,statusText:p,url:a}))})}parseBody(S,w,u){switch(S.responseType){case"json":let x=new TextDecoder().decode(w).replace(M2,"");return x===""?null:JSON.parse(x);case"text":return new TextDecoder().decode(w);case"blob":return new Blob([w],{type:u});case"arraybuffer":return w.buffer}}createRequestInit(S){let w={},u=S.withCredentials?"include":void 0;if(S.headers.forEach((x,e)=>w[x]=e.join(",")),S.headers.has("Accept")||(w.Accept="application/json, text/plain, */*"),!S.headers.has("Content-Type")){let x=S.detectContentTypeHeader();x!==null&&(w["Content-Type"]=x)}return{body:S.serializeBody(),method:S.method,headers:w,credentials:u}}concatChunks(S,w){let u=new Uint8Array(w),x=0;for(let e of S)u.set(e,x),x+=e.length;return u}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),zs=class{};function As(){}function w2(M){M.then(As,As)}function z2(M,P){return P(M)}function A2(M,P,S){return(w,u)=>Rt(S,()=>P(w,x=>M(x,u)))}var ml=new ve(""),gl=new ve(""),D2=new ve("",{providedIn:"root",factory:()=>!0});var sl=(()=>{class M extends yn{constructor(S,w){super(),this.backend=S,this.injector=w,this.chain=null,this.pendingTasks=te(er),this.contributeToStability=te(D2)}handle(S){if(this.chain===null){let w=Array.from(new Set([...this.injector.get(ml),...this.injector.get(gl,[])]));this.chain=w.reduceRight((u,x)=>A2(u,x,this.injector),z2)}if(this.contributeToStability){let w=this.pendingTasks.add();return this.chain(S,u=>this.backend.handle(u)).pipe(Ht(()=>this.pendingTasks.remove(w)))}else return this.chain(S,w=>this.backend.handle(w))}static{this.\u0275fac=function(w){return new(w||M)(ee(hi),ee(ni))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})();var F2=/^\)\]\}',?\n/;function L2(M){return"responseURL"in M&&M.responseURL?M.responseURL:/^X-Request-URL:/m.test(M.getAllResponseHeaders())?M.getResponseHeader("X-Request-URL"):null}var al=(()=>{class M{constructor(S){this.xhrFactory=S}handle(S){if(S.method==="JSONP")throw new Fe(-2800,!1);let w=this.xhrFactory;return(w.\u0275loadImpl?ot(w.\u0275loadImpl()):ue(null)).pipe(ct(()=>new xi(x=>{let e=w.build();if(e.open(S.method,S.urlWithParams),S.withCredentials&&(e.withCredentials=!0),S.headers.forEach((i,o)=>e.setRequestHeader(i,o.join(","))),S.headers.has("Accept")||e.setRequestHeader("Accept","application/json, text/plain, */*"),!S.headers.has("Content-Type")){let i=S.detectContentTypeHeader();i!==null&&e.setRequestHeader("Content-Type",i)}if(S.responseType){let i=S.responseType.toLowerCase();e.responseType=i!=="json"?i:"text"}let l=S.serializeBody(),p=null,a=()=>{if(p!==null)return p;let i=e.statusText||"OK",o=new Gt(e.getAllResponseHeaders()),c=L2(e)||S.url;return p=new fr({headers:o,status:e.status,statusText:i,url:c}),p},s=()=>{let{headers:i,status:o,statusText:c,url:d}=a(),f=null;o!==C2&&(f=typeof e.response>"u"?e.responseText:e.response),o===0&&(o=f?pl:0);let v=o>=200&&o<300;if(S.responseType==="json"&&typeof f=="string"){let m=f;f=f.replace(F2,"");try{f=f!==""?JSON.parse(f):null}catch(g){f=m,v&&(v=!1,f={error:g,text:f})}}v?(x.next(new Di({body:f,headers:i,status:o,statusText:c,url:d||void 0})),x.complete()):x.error(new ai({error:f,headers:i,status:o,statusText:c,url:d||void 0}))},r=i=>{let{url:o}=a(),c=new ai({error:i,status:e.status||0,statusText:e.statusText||"Unknown Error",url:o||void 0});x.error(c)},t=!1,n=i=>{t||(x.next(a()),t=!0);let o={type:li.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(o.total=i.total),S.responseType==="text"&&e.responseText&&(o.partialText=e.responseText),x.next(o)},h=i=>{let o={type:li.UploadProgress,loaded:i.loaded};i.lengthComputable&&(o.total=i.total),x.next(o)};return e.addEventListener("load",s),e.addEventListener("error",r),e.addEventListener("timeout",r),e.addEventListener("abort",r),S.reportProgress&&(e.addEventListener("progress",n),l!==null&&e.upload&&e.upload.addEventListener("progress",h)),e.send(l),x.next({type:li.Sent}),()=>{e.removeEventListener("error",r),e.removeEventListener("abort",r),e.removeEventListener("load",s),e.removeEventListener("timeout",r),S.reportProgress&&(e.removeEventListener("progress",n),l!==null&&e.upload&&e.upload.removeEventListener("progress",h)),e.readyState!==e.DONE&&e.abort()}})))}static{this.\u0275fac=function(w){return new(w||M)(ee(lr))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),xl=new ve(""),R2="XSRF-TOKEN",O2=new ve("",{providedIn:"root",factory:()=>R2}),b2="X-XSRF-TOKEN",V2=new ve("",{providedIn:"root",factory:()=>b2}),vr=class{},I2=(()=>{class M{constructor(S,w,u){this.doc=S,this.platform=w,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let S=this.doc.cookie||"";return S!==this.lastCookieString&&(this.parseCount++,this.lastToken=or(S,this.cookieName),this.lastCookieString=S),this.lastToken}static{this.\u0275fac=function(w){return new(w||M)(ee(Te),ee(Yt),ee(O2))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})();function B2(M,P){let S=M.url.toLowerCase();if(!te(xl)||M.method==="GET"||M.method==="HEAD"||S.startsWith("http://")||S.startsWith("https://"))return P(M);let w=te(vr).getToken(),u=te(V2);return w!=null&&!M.headers.has(u)&&(M=M.clone({headers:M.headers.set(u,w)})),P(M)}function yl(...M){let P=[Ds,al,sl,{provide:yn,useExisting:sl},{provide:hi,useFactory:()=>te(P2,{optional:!0})??te(al)},{provide:ml,useValue:B2,multi:!0},{provide:xl,useValue:!0},{provide:vr,useClass:I2}];for(let S of M)P.push(...S.\u0275providers);return Tt(P)}var H2=new ve(""),ol="b",ll="h",hl="s",cl="st",ul="u",dl="rt",dr=new ve(""),Y2=["GET","HEAD"];function N2(M,P){let n=te(dr),{isCacheActive:S}=n,w=ho(n,["isCacheActive"]),{transferCache:u,method:x}=M;if(!S||u===!1||x==="POST"&&!w.includePostRequests&&!u||x!=="POST"&&!Y2.includes(x)||!w.includeRequestsWithAuthHeaders&&U2(M)||w.filter?.(M)===!1)return P(M);let e=te(ls),l=te(H2,{optional:!0}),p=mn(te(Yt));if(l&&!p)throw new Fe(2803,!1);let a=p&&l?X2(M.url,l):M.url,s=k2(M,a),r=e.get(s,null),t=w.includeHeaders;if(typeof u=="object"&&u.includeHeaders&&(t=u.includeHeaders),r){let{[ol]:h,[dl]:i,[ll]:o,[hl]:c,[cl]:d,[ul]:f}=r,v=h;switch(i){case"arraybuffer":v=new TextEncoder().encode(h).buffer;break;case"blob":v=new Blob([h]);break}let m=new Gt(o);return ue(new Di({body:v,headers:m,status:c,statusText:d,url:f}))}return P(M).pipe(Ke(h=>{h instanceof Di&&p&&e.set(s,{[ol]:h.body,[ll]:G2(h.headers,t),[hl]:h.status,[cl]:h.statusText,[ul]:a,[dl]:M.responseType})}))}function U2(M){return M.headers.has("authorization")||M.headers.has("proxy-authorization")}function G2(M,P){if(!P)return{};let S={};for(let w of P){let u=M.getAll(w);u!==null&&(S[w]=u)}return S}function fl(M){return[...M.keys()].sort().map(P=>`${P}=${M.getAll(P)}`).join("&")}function k2(M,P){let{params:S,method:w,responseType:u}=M,x=fl(S),e=M.serializeBody();e instanceof URLSearchParams?e=fl(e):typeof e!="string"&&(e="");let l=[w,u,P,e,x].join("|"),p=W2(l);return p}function W2(M){let P=0;for(let S of M)P=Math.imul(31,P)+S.charCodeAt(0)<<0;return P+=2147483648,P.toString()}function Tl(M){return[{provide:dr,useFactory:()=>(dn("NgHttpTransferCache"),re({isCacheActive:!0},M))},{provide:gl,useValue:N2,multi:!0,deps:[ls,dr]},{provide:rr,multi:!0,useFactory:()=>{let P=te(Ai),S=te(dr);return()=>{No(P).then(()=>{S.isCacheActive=!1})}}}]}function X2(M,P){let S=new URL(M,"resolve://").origin,w=P[S];return w?M.replace(S,w):M}var Rs=class extends Xo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Os=class M extends Rs{static makeCurrent(){Wo(new M)}onAndCancel(P,S,w){return P.addEventListener(S,w),()=>{P.removeEventListener(S,w)}}dispatchEvent(P,S){P.dispatchEvent(S)}remove(P){P.remove()}createElement(P,S){return S=S||this.getDefaultDocument(),S.createElement(P)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(P){return P.nodeType===Node.ELEMENT_NODE}isShadowRoot(P){return P instanceof DocumentFragment}getGlobalEventTarget(P,S){return S==="window"?window:S==="document"?P:S==="body"?P.body:null}getBaseHref(P){let S=Z2();return S==null?null:Q2(S)}resetBaseElement(){Sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(P){return or(document.cookie,P)}},Sn=null;function Z2(){return Sn=Sn||document.querySelector("base"),Sn?Sn.getAttribute("href"):null}function Q2(M){return new URL(M,document.baseURI).pathname}var J2=(()=>{class M{build(){return new XMLHttpRequest}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),bs=new ve(""),El=(()=>{class M{constructor(S,w){this._zone=w,this._eventNameToPlugin=new Map,S.forEach(u=>{u.manager=this}),this._plugins=S.slice().reverse()}addEventListener(S,w,u){return this._findPluginFor(w).addEventListener(S,w,u)}getZone(){return this._zone}_findPluginFor(S){let w=this._eventNameToPlugin.get(S);if(w)return w;if(w=this._plugins.find(x=>x.supports(S)),!w)throw new Fe(5101,!1);return this._eventNameToPlugin.set(S,w),w}static{this.\u0275fac=function(w){return new(w||M)(ee(bs),ee(Le))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),pr=class{constructor(P){this._doc=P}},Fs="ng-app-id",Pl=(()=>{class M{constructor(S,w,u,x={}){this.doc=S,this.appId=w,this.nonce=u,this.platformId=x,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mn(x),this.resetHostNodes()}addStyles(S){for(let w of S)this.changeUsageCount(w,1)===1&&this.onStyleAdded(w)}removeStyles(S){for(let w of S)this.changeUsageCount(w,-1)<=0&&this.onStyleRemoved(w)}ngOnDestroy(){let S=this.styleNodesInDOM;S&&(S.forEach(w=>w.remove()),S.clear());for(let w of this.getAllStyles())this.onStyleRemoved(w);this.resetHostNodes()}addHost(S){this.hostNodes.add(S);for(let w of this.getAllStyles())this.addStyleToHost(S,w)}removeHost(S){this.hostNodes.delete(S)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(S){for(let w of this.hostNodes)this.addStyleToHost(w,S)}onStyleRemoved(S){let w=this.styleRef;w.get(S)?.elements?.forEach(u=>u.remove()),w.delete(S)}collectServerRenderedStyles(){let S=this.doc.head?.querySelectorAll(`style[${Fs}="${this.appId}"]`);if(S?.length){let w=new Map;return S.forEach(u=>{u.textContent!=null&&w.set(u.textContent,u)}),w}return null}changeUsageCount(S,w){let u=this.styleRef;if(u.has(S)){let x=u.get(S);return x.usage+=w,x.usage}return u.set(S,{usage:w,elements:[]}),w}getStyleElement(S,w){let u=this.styleNodesInDOM,x=u?.get(w);if(x?.parentNode===S)return u.delete(w),x.removeAttribute(Fs),x;{let e=this.doc.createElement("style");return this.nonce&&e.setAttribute("nonce",this.nonce),e.textContent=w,this.platformIsServer&&e.setAttribute(Fs,this.appId),S.appendChild(e),e}}addStyleToHost(S,w){let u=this.getStyleElement(S,w),x=this.styleRef,e=x.get(w)?.elements;e?e.push(u):x.set(w,{elements:[u],usage:1})}resetHostNodes(){let S=this.hostNodes;S.clear(),S.add(this.doc.head)}static{this.\u0275fac=function(w){return new(w||M)(ee(Te),ee(os),ee(Pi,8),ee(Yt))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),Ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Bs=/%COMP%/g,wl="%COMP%",q2=`_nghost-${wl}`,_2=`_ngcontent-${wl}`,e0=!0,t0=new ve("",{providedIn:"root",factory:()=>e0});function i0(M){return _2.replace(Bs,M)}function n0(M){return q2.replace(Bs,M)}function zl(M,P){return P.map(S=>S.replace(Bs,M))}var $i=(()=>{class M{constructor(S,w,u,x,e,l,p,a=null){this.eventManager=S,this.sharedStylesHost=w,this.appId=u,this.removeStylesOnCompDestroy=x,this.doc=e,this.platformId=l,this.ngZone=p,this.nonce=a,this.rendererByCompId=new Map,this.platformIsServer=mn(l),this.defaultRenderer=new Cn(S,e,p,this.platformIsServer)}createRenderer(S,w){if(!S||!w)return this.defaultRenderer;this.platformIsServer&&w.encapsulation===cn.ShadowDom&&(w=Ne(re({},w),{encapsulation:cn.Emulated}));let u=this.getOrCreateRenderer(S,w);return u instanceof mr?u.applyToHost(S):u instanceof Mn&&u.applyStyles(),u}getOrCreateRenderer(S,w){let u=this.rendererByCompId,x=u.get(w.id);if(!x){let e=this.doc,l=this.ngZone,p=this.eventManager,a=this.sharedStylesHost,s=this.removeStylesOnCompDestroy,r=this.platformIsServer;switch(w.encapsulation){case cn.Emulated:x=new mr(p,a,w,this.appId,s,e,l,r);break;case cn.ShadowDom:return new Vs(p,a,S,w,e,l,this.nonce,r);default:x=new Mn(p,a,w,s,e,l,r);break}u.set(w.id,x)}return x}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(w){return new(w||M)(ee(El),ee(Pl),ee(os),ee(t0),ee(Te),ee(Yt),ee(Le),ee(Pi))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),Cn=class{constructor(P,S,w,u){this.eventManager=P,this.doc=S,this.ngZone=w,this.platformIsServer=u,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(P,S){return S?this.doc.createElementNS(Ls[S]||S,P):this.doc.createElement(P)}createComment(P){return this.doc.createComment(P)}createText(P){return this.doc.createTextNode(P)}appendChild(P,S){(Sl(P)?P.content:P).appendChild(S)}insertBefore(P,S,w){P&&(Sl(P)?P.content:P).insertBefore(S,w)}removeChild(P,S){S.remove()}selectRootElement(P,S){let w=typeof P=="string"?this.doc.querySelector(P):P;if(!w)throw new Fe(-5104,!1);return S||(w.textContent=""),w}parentNode(P){return P.parentNode}nextSibling(P){return P.nextSibling}setAttribute(P,S,w,u){if(u){S=u+":"+S;let x=Ls[u];x?P.setAttributeNS(x,S,w):P.setAttribute(S,w)}else P.setAttribute(S,w)}removeAttribute(P,S,w){if(w){let u=Ls[w];u?P.removeAttributeNS(u,S):P.removeAttribute(`${w}:${S}`)}else P.removeAttribute(S)}addClass(P,S){P.classList.add(S)}removeClass(P,S){P.classList.remove(S)}setStyle(P,S,w,u){u&(un.DashCase|un.Important)?P.style.setProperty(S,w,u&un.Important?"important":""):P.style[S]=w}removeStyle(P,S,w){w&un.DashCase?P.style.removeProperty(S):P.style[S]=""}setProperty(P,S,w){P!=null&&(P[S]=w)}setValue(P,S){P.nodeValue=S}listen(P,S,w){if(typeof P=="string"&&(P=ys().getGlobalEventTarget(this.doc,P),!P))throw new Error(`Unsupported event target ${P} for event ${S}`);return this.eventManager.addEventListener(P,S,this.decoratePreventDefault(w))}decoratePreventDefault(P){return S=>{if(S==="__ngUnwrap__")return P;(this.platformIsServer?this.ngZone.runGuarded(()=>P(S)):P(S))===!1&&S.preventDefault()}}};function Sl(M){return M.tagName==="TEMPLATE"&&M.content!==void 0}var Vs=class extends Cn{constructor(P,S,w,u,x,e,l,p){super(P,x,e,p),this.sharedStylesHost=S,this.hostEl=w,this.shadowRoot=w.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let a=zl(u.id,u.styles);for(let s of a){let r=document.createElement("style");l&&r.setAttribute("nonce",l),r.textContent=s,this.shadowRoot.appendChild(r)}}nodeOrShadowRoot(P){return P===this.hostEl?this.shadowRoot:P}appendChild(P,S){return super.appendChild(this.nodeOrShadowRoot(P),S)}insertBefore(P,S,w){return super.insertBefore(this.nodeOrShadowRoot(P),S,w)}removeChild(P,S){return super.removeChild(null,S)}parentNode(P){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(P)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mn=class extends Cn{constructor(P,S,w,u,x,e,l,p){super(P,x,e,l),this.sharedStylesHost=S,this.removeStylesOnCompDestroy=u,this.styles=p?zl(p,w.styles):w.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},mr=class extends Mn{constructor(P,S,w,u,x,e,l,p){let a=u+"-"+w.id;super(P,S,w,x,e,l,p,a),this.contentAttr=i0(a),this.hostAttr=n0(a)}applyToHost(P){this.applyStyles(),this.setAttribute(P,this.hostAttr,"")}createElement(P,S){let w=super.createElement(P,S);return super.setAttribute(w,this.contentAttr,""),w}},r0=(()=>{class M extends pr{constructor(S){super(S)}supports(S){return!0}addEventListener(S,w,u){return S.addEventListener(w,u,!1),()=>this.removeEventListener(S,w,u)}removeEventListener(S,w,u){return S.removeEventListener(w,u)}static{this.\u0275fac=function(w){return new(w||M)(ee(Te))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),Cl=["alt","control","meta","shift"],s0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a0={alt:M=>M.altKey,control:M=>M.ctrlKey,meta:M=>M.metaKey,shift:M=>M.shiftKey},o0=(()=>{class M extends pr{constructor(S){super(S)}supports(S){return M.parseEventName(S)!=null}addEventListener(S,w,u){let x=M.parseEventName(w),e=M.eventCallback(x.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ys().onAndCancel(S,x.domEventName,e))}static parseEventName(S){let w=S.toLowerCase().split("."),u=w.shift();if(w.length===0||!(u==="keydown"||u==="keyup"))return null;let x=M._normalizeKey(w.pop()),e="",l=w.indexOf("code");if(l>-1&&(w.splice(l,1),e="code."),Cl.forEach(a=>{let s=w.indexOf(a);s>-1&&(w.splice(s,1),e+=a+".")}),e+=x,w.length!=0||x.length===0)return null;let p={};return p.domEventName=u,p.fullKey=e,p}static matchEventFullKeyCode(S,w){let u=s0[S.key]||S.key,x="";return w.indexOf("code.")>-1&&(u=S.code,x="code."),u==null||!u?!1:(u=u.toLowerCase(),u===" "?u="space":u==="."&&(u="dot"),Cl.forEach(e=>{if(e!==u){let l=a0[e];l(S)&&(x+=e+".")}}),x+=u,x===w)}static eventCallback(S,w,u){return x=>{M.matchEventFullKeyCode(x,S)&&u.runGuarded(()=>w(x))}}static _normalizeKey(S){return S==="esc"?"escape":S}static{this.\u0275fac=function(w){return new(w||M)(ee(Te))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})();function Al(M,P){return Go(re({rootComponent:M},l0(P)))}function l0(M){return{appProviders:[...f0,...M?.providers??[]],platformProviders:d0}}function h0(){Os.makeCurrent()}function c0(){return new as}function u0(){return Mo(document),document}var d0=[{provide:Yt,useValue:$o},{provide:Eo,useValue:h0,multi:!0},{provide:Te,useFactory:u0,deps:[]}];var f0=[{provide:So,useValue:"root"},{provide:as,useFactory:c0,deps:[]},{provide:bs,useClass:r0,multi:!0,deps:[Te,Le,Yt]},{provide:bs,useClass:o0,multi:!0,deps:[Te]},$i,Pl,El,{provide:Dt,useExisting:$i},{provide:lr,useClass:J2,deps:[]},[]];var Dl=(()=>{class M{constructor(S){this._doc=S}getTitle(){return this._doc.title}setTitle(S){this._doc.title=S||""}static{this.\u0275fac=function(w){return new(w||M)(ee(Te))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var En=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:function(w){let u=null;return w?u=new(w||M):u=ee(v0),u},providedIn:"root"})}}return M})(),v0=(()=>{class M extends En{constructor(S){super(),this._doc=S}sanitize(S,w){if(w==null)return null;switch(S){case jt.NONE:return w;case jt.HTML:return Xi(w,"HTML")?Wi(w):Lo(this._doc,String(w)).toString();case jt.STYLE:return Xi(w,"Style")?Wi(w):w;case jt.SCRIPT:if(Xi(w,"Script"))return Wi(w);throw new Fe(5200,!1);case jt.URL:return Xi(w,"URL")?Wi(w):Fo(String(w));case jt.RESOURCE_URL:if(Xi(w,"ResourceURL"))return Wi(w);throw new Fe(5201,!1);default:throw new Fe(5202,!1)}}bypassSecurityTrustHtml(S){return Po(S)}bypassSecurityTrustStyle(S){return wo(S)}bypassSecurityTrustScript(S){return zo(S)}bypassSecurityTrustUrl(S){return Ao(S)}bypassSecurityTrustResourceUrl(S){return Do(S)}static{this.\u0275fac=function(w){return new(w||M)(ee(Te))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Is=function(M){return M[M.NoHttpTransferCache=0]="NoHttpTransferCache",M[M.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",M[M.I18nSupport=2]="I18nSupport",M[M.EventReplay=3]="EventReplay",M}(Is||{});function Fl(...M){let P=[],S=new Set,w=S.has(Is.HttpTransferCacheOptions);for(let{\u0275providers:u,\u0275kind:x}of M)S.add(x),u.length&&P.push(u);return Tt([[],ko(),S.has(Is.NoHttpTransferCache)||w?[]:Tl({}),P])}var me="primary",Nn=Symbol("RouteTitle"),ks=class{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){let S=this.params[P];return Array.isArray(S)?S[0]:S}return null}getAll(P){if(this.has(P)){let S=this.params[P];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}};function en(M){return new ks(M)}function p0(M,P,S){let w=S.path.split("/");if(w.length>M.length||S.pathMatch==="full"&&(P.hasChildren()||w.length<M.length))return null;let u={};for(let x=0;x<w.length;x++){let e=w[x],l=M[x];if(e[0]===":")u[e.substring(1)]=l;else if(e!==l.path)return null}return{consumed:M.slice(0,w.length),posParams:u}}function m0(M,P){if(M.length!==P.length)return!1;for(let S=0;S<M.length;++S)if(!kt(M[S],P[S]))return!1;return!0}function kt(M,P){let S=M?Ws(M):void 0,w=P?Ws(P):void 0;if(!S||!w||S.length!=w.length)return!1;let u;for(let x=0;x<S.length;x++)if(u=S[x],!Hl(M[u],P[u]))return!1;return!0}function Ws(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function Hl(M,P){if(Array.isArray(M)&&Array.isArray(P)){if(M.length!==P.length)return!1;let S=[...M].sort(),w=[...P].sort();return S.every((u,x)=>w[x]===u)}else return M===P}function Yl(M){return M.length>0?M[M.length-1]:null}function ci(M){return _n(M)?M:ms(M)?ot(Promise.resolve(M)):ue(M)}var g0={exact:Ul,subset:Gl},Nl={exact:x0,subset:y0,ignored:()=>!0};function Ll(M,P,S){return g0[S.paths](M.root,P.root,S.matrixParams)&&Nl[S.queryParams](M.queryParams,P.queryParams)&&!(S.fragment==="exact"&&M.fragment!==P.fragment)}function x0(M,P){return kt(M,P)}function Ul(M,P,S){if(!Li(M.segments,P.segments)||!yr(M.segments,P.segments,S)||M.numberOfChildren!==P.numberOfChildren)return!1;for(let w in P.children)if(!M.children[w]||!Ul(M.children[w],P.children[w],S))return!1;return!0}function y0(M,P){return Object.keys(P).length<=Object.keys(M).length&&Object.keys(P).every(S=>Hl(M[S],P[S]))}function Gl(M,P,S){return kl(M,P,P.segments,S)}function kl(M,P,S,w){if(M.segments.length>S.length){let u=M.segments.slice(0,S.length);return!(!Li(u,S)||P.hasChildren()||!yr(u,S,w))}else if(M.segments.length===S.length){if(!Li(M.segments,S)||!yr(M.segments,S,w))return!1;for(let u in P.children)if(!M.children[u]||!Gl(M.children[u],P.children[u],w))return!1;return!0}else{let u=S.slice(0,M.segments.length),x=S.slice(M.segments.length);return!Li(M.segments,u)||!yr(M.segments,u,w)||!M.children[me]?!1:kl(M.children[me],P,x,w)}}function yr(M,P,S){return P.every((w,u)=>Nl[S](M[u].parameters,w.parameters))}var Zt=class{constructor(P=new Pe([],{}),S={},w=null){this.root=P,this.queryParams=S,this.fragment=w}get queryParamMap(){return this._queryParamMap??=en(this.queryParams),this._queryParamMap}toString(){return C0.serialize(this)}},Pe=class{constructor(P,S){this.segments=P,this.children=S,this.parent=null,Object.values(S).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tr(this)}},Fi=class{constructor(P,S){this.path=P,this.parameters=S}get parameterMap(){return this._parameterMap??=en(this.parameters),this._parameterMap}toString(){return Xl(this)}};function T0(M,P){return Li(M,P)&&M.every((S,w)=>kt(S.parameters,P[w].parameters))}function Li(M,P){return M.length!==P.length?!1:M.every((S,w)=>S.path===P[w].path)}function S0(M,P){let S=[];return Object.entries(M.children).forEach(([w,u])=>{w===me&&(S=S.concat(P(u,w)))}),Object.entries(M.children).forEach(([w,u])=>{w!==me&&(S=S.concat(P(u,w)))}),S}var ma=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:()=>new Ln,providedIn:"root"})}}return M})(),Ln=class{parse(P){let S=new js(P);return new Zt(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(P){let S=`/${Pn(P.root,!0)}`,w=P0(P.queryParams),u=typeof P.fragment=="string"?`#${M0(P.fragment)}`:"";return`${S}${w}${u}`}},C0=new Ln;function Tr(M){return M.segments.map(P=>Xl(P)).join("/")}function Pn(M,P){if(!M.hasChildren())return Tr(M);if(P){let S=M.children[me]?Pn(M.children[me],!1):"",w=[];return Object.entries(M.children).forEach(([u,x])=>{u!==me&&w.push(`${u}:${Pn(x,!1)}`)}),w.length>0?`${S}(${w.join("//")})`:S}else{let S=S0(M,(w,u)=>u===me?[Pn(M.children[me],!1)]:[`${u}:${Pn(w,!1)}`]);return Object.keys(M.children).length===1&&M.children[me]!=null?`${Tr(M)}/${S[0]}`:`${Tr(M)}/(${S.join("//")})`}}function Wl(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gr(M){return Wl(M).replace(/%3B/gi,";")}function M0(M){return encodeURI(M)}function Xs(M){return Wl(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sr(M){return decodeURIComponent(M)}function Rl(M){return Sr(M.replace(/\+/g,"%20"))}function Xl(M){return`${Xs(M.path)}${E0(M.parameters)}`}function E0(M){return Object.entries(M).map(([P,S])=>`;${Xs(P)}=${Xs(S)}`).join("")}function P0(M){let P=Object.entries(M).map(([S,w])=>Array.isArray(w)?w.map(u=>`${gr(S)}=${gr(u)}`).join("&"):`${gr(S)}=${gr(w)}`).filter(S=>S);return P.length?`?${P.join("&")}`:""}var w0=/^[^\/()?;#]+/;function Ys(M){let P=M.match(w0);return P?P[0]:""}var z0=/^[^\/()?;=#]+/;function A0(M){let P=M.match(z0);return P?P[0]:""}var D0=/^[^=?&#]+/;function F0(M){let P=M.match(D0);return P?P[0]:""}var L0=/^[^&#]+/;function R0(M){let P=M.match(L0);return P?P[0]:""}var js=class{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let P={};if(this.consumeOptional("?"))do this.parseQueryParam(P);while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(P.length>0||Object.keys(S).length>0)&&(w[me]=new Pe(P,S)),w}parseSegment(){let P=Ys(this.remaining);if(P===""&&this.peekStartsWith(";"))throw new Fe(4009,!1);return this.capture(P),new Fi(Sr(P),this.parseMatrixParams())}parseMatrixParams(){let P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){let S=A0(this.remaining);if(!S)return;this.capture(S);let w="";if(this.consumeOptional("=")){let u=Ys(this.remaining);u&&(w=u,this.capture(w))}P[Sr(S)]=Sr(w)}parseQueryParam(P){let S=F0(this.remaining);if(!S)return;this.capture(S);let w="";if(this.consumeOptional("=")){let e=R0(this.remaining);e&&(w=e,this.capture(w))}let u=Rl(S),x=Rl(w);if(P.hasOwnProperty(u)){let e=P[u];Array.isArray(e)||(e=[e],P[u]=e),e.push(x)}else P[u]=x}parseParens(P){let S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let w=Ys(this.remaining),u=this.remaining[w.length];if(u!=="/"&&u!==")"&&u!==";")throw new Fe(4010,!1);let x;w.indexOf(":")>-1?(x=w.slice(0,w.indexOf(":")),this.capture(x),this.capture(":")):P&&(x=me);let e=this.parseChildren();S[x]=Object.keys(e).length===1?e[me]:new Pe([],e),this.consumeOptional("//")}return S}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return this.peekStartsWith(P)?(this.remaining=this.remaining.substring(P.length),!0):!1}capture(P){if(!this.consumeOptional(P))throw new Fe(4011,!1)}};function jl(M){return M.segments.length>0?new Pe([],{[me]:M}):M}function Kl(M){let P={};for(let[w,u]of Object.entries(M.children)){let x=Kl(u);if(w===me&&x.segments.length===0&&x.hasChildren())for(let[e,l]of Object.entries(x.children))P[e]=l;else(x.segments.length>0||x.hasChildren())&&(P[w]=x)}let S=new Pe(M.segments,P);return O0(S)}function O0(M){if(M.numberOfChildren===1&&M.children[me]){let P=M.children[me];return new Pe(M.segments.concat(P.segments),P.children)}return M}function Ri(M){return M instanceof Zt}function b0(M,P,S=null,w=null){let u=$l(M);return Zl(u,P,S,w)}function $l(M){let P;function S(x){let e={};for(let p of x.children){let a=S(p);e[p.outlet]=a}let l=new Pe(x.url,e);return x===M&&(P=l),l}let w=S(M.root),u=jl(w);return P??u}function Zl(M,P,S,w){let u=M;for(;u.parent;)u=u.parent;if(P.length===0)return Ns(u,u,u,S,w);let x=V0(P);if(x.toRoot())return Ns(u,u,new Pe([],{}),S,w);let e=I0(x,u,M),l=e.processChildren?An(e.segmentGroup,e.index,x.commands):Jl(e.segmentGroup,e.index,x.commands);return Ns(u,e.segmentGroup,l,S,w)}function Cr(M){return typeof M=="object"&&M!=null&&!M.outlets&&!M.segmentPath}function Rn(M){return typeof M=="object"&&M!=null&&M.outlets}function Ns(M,P,S,w,u){let x={};w&&Object.entries(w).forEach(([p,a])=>{x[p]=Array.isArray(a)?a.map(s=>`${s}`):`${a}`});let e;M===P?e=S:e=Ql(M,P,S);let l=jl(Kl(e));return new Zt(l,x,u)}function Ql(M,P,S){let w={};return Object.entries(M.children).forEach(([u,x])=>{x===P?w[u]=S:w[u]=Ql(x,P,S)}),new Pe(M.segments,w)}var Mr=class{constructor(P,S,w){if(this.isAbsolute=P,this.numberOfDoubleDots=S,this.commands=w,P&&w.length>0&&Cr(w[0]))throw new Fe(4003,!1);let u=w.find(Rn);if(u&&u!==Yl(w))throw new Fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function V0(M){if(typeof M[0]=="string"&&M.length===1&&M[0]==="/")return new Mr(!0,0,M);let P=0,S=!1,w=M.reduce((u,x,e)=>{if(typeof x=="object"&&x!=null){if(x.outlets){let l={};return Object.entries(x.outlets).forEach(([p,a])=>{l[p]=typeof a=="string"?a.split("/"):a}),[...u,{outlets:l}]}if(x.segmentPath)return[...u,x.segmentPath]}return typeof x!="string"?[...u,x]:e===0?(x.split("/").forEach((l,p)=>{p==0&&l==="."||(p==0&&l===""?S=!0:l===".."?P++:l!=""&&u.push(l))}),u):[...u,x]},[]);return new Mr(S,P,w)}var Ji=class{constructor(P,S,w){this.segmentGroup=P,this.processChildren=S,this.index=w}};function I0(M,P,S){if(M.isAbsolute)return new Ji(P,!0,0);if(!S)return new Ji(P,!1,NaN);if(S.parent===null)return new Ji(S,!0,0);let w=Cr(M.commands[0])?0:1,u=S.segments.length-1+w;return B0(S,u,M.numberOfDoubleDots)}function B0(M,P,S){let w=M,u=P,x=S;for(;x>u;){if(x-=u,w=w.parent,!w)throw new Fe(4005,!1);u=w.segments.length}return new Ji(w,!1,u-x)}function H0(M){return Rn(M[0])?M[0].outlets:{[me]:M}}function Jl(M,P,S){if(M??=new Pe([],{}),M.segments.length===0&&M.hasChildren())return An(M,P,S);let w=Y0(M,P,S),u=S.slice(w.commandIndex);if(w.match&&w.pathIndex<M.segments.length){let x=new Pe(M.segments.slice(0,w.pathIndex),{});return x.children[me]=new Pe(M.segments.slice(w.pathIndex),M.children),An(x,0,u)}else return w.match&&u.length===0?new Pe(M.segments,{}):w.match&&!M.hasChildren()?Ks(M,P,S):w.match?An(M,0,u):Ks(M,P,S)}function An(M,P,S){if(S.length===0)return new Pe(M.segments,{});{let w=H0(S),u={};if(Object.keys(w).some(x=>x!==me)&&M.children[me]&&M.numberOfChildren===1&&M.children[me].segments.length===0){let x=An(M.children[me],P,S);return new Pe(M.segments,x.children)}return Object.entries(w).forEach(([x,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(u[x]=Jl(M.children[x],P,e))}),Object.entries(M.children).forEach(([x,e])=>{w[x]===void 0&&(u[x]=e)}),new Pe(M.segments,u)}}function Y0(M,P,S){let w=0,u=P,x={match:!1,pathIndex:0,commandIndex:0};for(;u<M.segments.length;){if(w>=S.length)return x;let e=M.segments[u],l=S[w];if(Rn(l))break;let p=`${l}`,a=w<S.length-1?S[w+1]:null;if(u>0&&p===void 0)break;if(p&&a&&typeof a=="object"&&a.outlets===void 0){if(!bl(p,a,e))return x;w+=2}else{if(!bl(p,{},e))return x;w++}u++}return{match:!0,pathIndex:u,commandIndex:w}}function Ks(M,P,S){let w=M.segments.slice(0,P),u=0;for(;u<S.length;){let x=S[u];if(Rn(x)){let p=N0(x.outlets);return new Pe(w,p)}if(u===0&&Cr(S[0])){let p=M.segments[P];w.push(new Fi(p.path,Ol(S[0]))),u++;continue}let e=Rn(x)?x.outlets[me]:`${x}`,l=u<S.length-1?S[u+1]:null;e&&l&&Cr(l)?(w.push(new Fi(e,Ol(l))),u+=2):(w.push(new Fi(e,{})),u++)}return new Pe(w,{})}function N0(M){let P={};return Object.entries(M).forEach(([S,w])=>{typeof w=="string"&&(w=[w]),w!==null&&(P[S]=Ks(new Pe([],{}),0,w))}),P}function Ol(M){let P={};return Object.entries(M).forEach(([S,w])=>P[S]=`${w}`),P}function bl(M,P,S){return M==S.path&&kt(P,S.parameters)}var Dn="imperative",rt=function(M){return M[M.NavigationStart=0]="NavigationStart",M[M.NavigationEnd=1]="NavigationEnd",M[M.NavigationCancel=2]="NavigationCancel",M[M.NavigationError=3]="NavigationError",M[M.RoutesRecognized=4]="RoutesRecognized",M[M.ResolveStart=5]="ResolveStart",M[M.ResolveEnd=6]="ResolveEnd",M[M.GuardsCheckStart=7]="GuardsCheckStart",M[M.GuardsCheckEnd=8]="GuardsCheckEnd",M[M.RouteConfigLoadStart=9]="RouteConfigLoadStart",M[M.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",M[M.ChildActivationStart=11]="ChildActivationStart",M[M.ChildActivationEnd=12]="ChildActivationEnd",M[M.ActivationStart=13]="ActivationStart",M[M.ActivationEnd=14]="ActivationEnd",M[M.Scroll=15]="Scroll",M[M.NavigationSkipped=16]="NavigationSkipped",M}(rt||{}),Lt=class{constructor(P,S){this.id=P,this.url=S}},On=class extends Lt{constructor(P,S,w="imperative",u=null){super(P,S),this.type=rt.NavigationStart,this.navigationTrigger=w,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends Lt{constructor(P,S,w){super(P,S),this.urlAfterRedirects=w,this.type=rt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=function(M){return M[M.Redirect=0]="Redirect",M[M.SupersededByNewNavigation=1]="SupersededByNewNavigation",M[M.NoDataFromResolver=2]="NoDataFromResolver",M[M.GuardRejected=3]="GuardRejected",M}(wt||{}),$s=function(M){return M[M.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",M[M.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",M}($s||{}),$t=class extends Lt{constructor(P,S,w,u){super(P,S),this.reason=w,this.code=u,this.type=rt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oi=class extends Lt{constructor(P,S,w,u){super(P,S),this.reason=w,this.code=u,this.type=rt.NavigationSkipped}},bn=class extends Lt{constructor(P,S,w,u){super(P,S),this.error=w,this.target=u,this.type=rt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Er=class extends Lt{constructor(P,S,w,u){super(P,S),this.urlAfterRedirects=w,this.state=u,this.type=rt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zs=class extends Lt{constructor(P,S,w,u){super(P,S),this.urlAfterRedirects=w,this.state=u,this.type=rt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qs=class extends Lt{constructor(P,S,w,u,x){super(P,S),this.urlAfterRedirects=w,this.state=u,this.shouldActivate=x,this.type=rt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Js=class extends Lt{constructor(P,S,w,u){super(P,S),this.urlAfterRedirects=w,this.state=u,this.type=rt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qs=class extends Lt{constructor(P,S,w,u){super(P,S),this.urlAfterRedirects=w,this.state=u,this.type=rt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_s=class{constructor(P){this.route=P,this.type=rt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ea=class{constructor(P){this.route=P,this.type=rt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ta=class{constructor(P){this.snapshot=P,this.type=rt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ia=class{constructor(P){this.snapshot=P,this.type=rt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},na=class{constructor(P){this.snapshot=P,this.type=rt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ra=class{constructor(P){this.snapshot=P,this.type=rt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Vn=class{},tn=class{constructor(P,S){this.url=P,this.navigationBehaviorOptions=S}};function U0(M,P){return M.providers&&!M._injector&&(M._injector=Vo(M.providers,P,`Route: ${M.path}`)),M._injector??P}function bt(M){return M.outlet||me}function G0(M,P){let S=M.filter(w=>bt(w)===P);return S.push(...M.filter(w=>bt(w)!==P)),S}function Un(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let P=M.parent;P;P=P.parent){let S=P.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}var sa=class{get injector(){return Un(this.route?.snapshot)??this.rootInjector}set injector(P){}constructor(P){this.rootInjector=P,this.outlet=null,this.route=null,this.children=new Lr(this.rootInjector),this.attachRef=null}},Lr=(()=>{class M{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,w){let u=this.getOrCreateContext(S);u.outlet=w,this.contexts.set(S,u)}onChildOutletDestroyed(S){let w=this.getContext(S);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){let S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let w=this.getContext(S);return w||(w=new sa(this.rootInjector),this.contexts.set(S,w)),w}getContext(S){return this.contexts.get(S)||null}static{this.\u0275fac=function(w){return new(w||M)(ee(ni))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Pr=class{constructor(P){this._root=P}get root(){return this._root.value}parent(P){let S=this.pathFromRoot(P);return S.length>1?S[S.length-2]:null}children(P){let S=aa(P,this._root);return S?S.children.map(w=>w.value):[]}firstChild(P){let S=aa(P,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(P){let S=oa(P,this._root);return S.length<2?[]:S[S.length-2].children.map(u=>u.value).filter(u=>u!==P)}pathFromRoot(P){return oa(P,this._root).map(S=>S.value)}};function aa(M,P){if(M===P.value)return P;for(let S of P.children){let w=aa(M,S);if(w)return w}return null}function oa(M,P){if(M===P.value)return[P];for(let S of P.children){let w=oa(M,S);if(w.length)return w.unshift(P),w}return[]}var Pt=class{constructor(P,S){this.value=P,this.children=S}toString(){return`TreeNode(${this.value})`}};function Qi(M){let P={};return M&&M.children.forEach(S=>P[S.value.outlet]=S),P}var wr=class extends Pr{constructor(P,S){super(P),this.snapshot=S,ga(this,P)}toString(){return this.snapshot.toString()}};function ql(M){let P=k0(M),S=new ke([new Fi("",{})]),w=new ke({}),u=new ke({}),x=new ke({}),e=new ke(""),l=new bi(S,w,x,e,u,me,M,P.root);return l.snapshot=P.root,new wr(new Pt(l,[]),P)}function k0(M){let P={},S={},w={},u="",x=new qi([],P,w,u,S,me,M,null,{});return new Ar("",new Pt(x,[]))}var bi=class{constructor(P,S,w,u,x,e,l,p){this.urlSubject=P,this.paramsSubject=S,this.queryParamsSubject=w,this.fragmentSubject=u,this.dataSubject=x,this.outlet=e,this.component=l,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(pe(a=>a[Nn]))??ue(void 0),this.url=P,this.params=S,this.queryParams=w,this.fragment=u,this.data=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(P=>en(P))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(P=>en(P))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zr(M,P,S="emptyOnly"){let w,{routeConfig:u}=M;return P!==null&&(S==="always"||u?.path===""||!P.component&&!P.routeConfig?.loadComponent)?w={params:re(re({},P.params),M.params),data:re(re({},P.data),M.data),resolve:re(re(re(re({},M.data),P.data),u?.data),M._resolvedData)}:w={params:re({},M.params),data:re({},M.data),resolve:re(re({},M.data),M._resolvedData??{})},u&&e1(u)&&(w.resolve[Nn]=u.title),w}var qi=class{get title(){return this.data?.[Nn]}constructor(P,S,w,u,x,e,l,p,a){this.url=P,this.params=S,this.queryParams=w,this.fragment=u,this.data=x,this.outlet=e,this.component=l,this.routeConfig=p,this._resolve=a}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=en(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=en(this.queryParams),this._queryParamMap}toString(){let P=this.url.map(w=>w.toString()).join("/"),S=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${P}', path:'${S}')`}},Ar=class extends Pr{constructor(P,S){super(S),this.url=P,ga(this,S)}toString(){return _l(this._root)}};function ga(M,P){P.value._routerState=M,P.children.forEach(S=>ga(M,S))}function _l(M){let P=M.children.length>0?` { ${M.children.map(_l).join(", ")} } `:"";return`${M.value}${P}`}function Us(M){if(M.snapshot){let P=M.snapshot,S=M._futureSnapshot;M.snapshot=S,kt(P.queryParams,S.queryParams)||M.queryParamsSubject.next(S.queryParams),P.fragment!==S.fragment&&M.fragmentSubject.next(S.fragment),kt(P.params,S.params)||M.paramsSubject.next(S.params),m0(P.url,S.url)||M.urlSubject.next(S.url),kt(P.data,S.data)||M.dataSubject.next(S.data)}else M.snapshot=M._futureSnapshot,M.dataSubject.next(M._futureSnapshot.data)}function la(M,P){let S=kt(M.params,P.params)&&T0(M.url,P.url),w=!M.parent!=!P.parent;return S&&!w&&(!M.parent||la(M.parent,P.parent))}function e1(M){return typeof M.title=="string"||M.title===null}var xa=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=te(Lr),this.location=te(ri),this.changeDetector=te(pt),this.inputBinder=te(ya,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){let{firstChange:w,previousValue:u}=S.name;if(w)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Fe(4012,!1);this.location.detach();let S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,w){this.activated=S,this._activatedRoute=w,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){let S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,w){if(this.isActivated)throw new Fe(4013,!1);this._activatedRoute=S;let u=this.location,e=S.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,p=new ha(S,l,u.injector);this.activated=u.createComponent(e,{index:u.length,injector:p,environmentInjector:w}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275dir=Ze({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ue]})}}return M})(),ha=class M{__ngOutletInjector(P){return new M(this.route,this.childContexts,P)}constructor(P,S,w){this.route=P,this.childContexts=S,this.parent=w}get(P,S){return P===bi?this.route:P===Lr?this.childContexts:this.parent.get(P,S)}},ya=new ve("");function W0(M,P,S){let w=In(M,P._root,S?S._root:void 0);return new wr(w,P)}function In(M,P,S){if(S&&M.shouldReuseRoute(P.value,S.value.snapshot)){let w=S.value;w._futureSnapshot=P.value;let u=X0(M,P,S);return new Pt(w,u)}else{if(M.shouldAttach(P.value)){let x=M.retrieve(P.value);if(x!==null){let e=x.route;return e.value._futureSnapshot=P.value,e.children=P.children.map(l=>In(M,l)),e}}let w=j0(P.value),u=P.children.map(x=>In(M,x));return new Pt(w,u)}}function X0(M,P,S){return P.children.map(w=>{for(let u of S.children)if(M.shouldReuseRoute(w.value,u.value.snapshot))return In(M,w,u);return In(M,w)})}function j0(M){return new bi(new ke(M.url),new ke(M.params),new ke(M.queryParams),new ke(M.fragment),new ke(M.data),M.outlet,M.component,M)}var Bn=class{constructor(P,S){this.redirectTo=P,this.navigationBehaviorOptions=S}},t1="ngNavigationCancelingError";function Dr(M,P){let{redirectTo:S,navigationBehaviorOptions:w}=Ri(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,u=i1(!1,wt.Redirect);return u.url=S,u.navigationBehaviorOptions=w,u}function i1(M,P){let S=new Error(`NavigationCancelingError: ${M||""}`);return S[t1]=!0,S.cancellationCode=P,S}function K0(M){return n1(M)&&Ri(M.url)}function n1(M){return!!M&&M[t1]}var $0=(M,P,S,w)=>pe(u=>(new ca(P,u.targetRouterState,u.currentRouterState,S,w).activate(M),u)),ca=class{constructor(P,S,w,u,x){this.routeReuseStrategy=P,this.futureState=S,this.currState=w,this.forwardEvent=u,this.inputBindingEnabled=x}activate(P){let S=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,w,P),Us(this.futureState.root),this.activateChildRoutes(S,w,P)}deactivateChildRoutes(P,S,w){let u=Qi(S);P.children.forEach(x=>{let e=x.value.outlet;this.deactivateRoutes(x,u[e],w),delete u[e]}),Object.values(u).forEach(x=>{this.deactivateRouteAndItsChildren(x,w)})}deactivateRoutes(P,S,w){let u=P.value,x=S?S.value:null;if(u===x)if(u.component){let e=w.getContext(u.outlet);e&&this.deactivateChildRoutes(P,S,e.children)}else this.deactivateChildRoutes(P,S,w);else x&&this.deactivateRouteAndItsChildren(S,w)}deactivateRouteAndItsChildren(P,S){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,S):this.deactivateRouteAndOutlet(P,S)}detachAndStoreRouteSubtree(P,S){let w=S.getContext(P.value.outlet),u=w&&P.value.component?w.children:S,x=Qi(P);for(let e of Object.values(x))this.deactivateRouteAndItsChildren(e,u);if(w&&w.outlet){let e=w.outlet.detach(),l=w.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:e,route:P,contexts:l})}}deactivateRouteAndOutlet(P,S){let w=S.getContext(P.value.outlet),u=w&&P.value.component?w.children:S,x=Qi(P);for(let e of Object.values(x))this.deactivateRouteAndItsChildren(e,u);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(P,S,w){let u=Qi(S);P.children.forEach(x=>{this.activateRoutes(x,u[x.value.outlet],w),this.forwardEvent(new ra(x.value.snapshot))}),P.children.length&&this.forwardEvent(new ia(P.value.snapshot))}activateRoutes(P,S,w){let u=P.value,x=S?S.value:null;if(Us(u),u===x)if(u.component){let e=w.getOrCreateContext(u.outlet);this.activateChildRoutes(P,S,e.children)}else this.activateChildRoutes(P,S,w);else if(u.component){let e=w.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){let l=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),e.children.onOutletReAttached(l.contexts),e.attachRef=l.componentRef,e.route=l.route.value,e.outlet&&e.outlet.attach(l.componentRef,l.route.value),Us(l.route.value),this.activateChildRoutes(P,null,e.children)}else e.attachRef=null,e.route=u,e.outlet&&e.outlet.activateWith(u,e.injector),this.activateChildRoutes(P,null,e.children)}else this.activateChildRoutes(P,null,w)}},Fr=class{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}},_i=class{constructor(P,S){this.component=P,this.route=S}};function Z0(M,P,S){let w=M._root,u=P?P._root:null;return wn(w,u,S,[w.value])}function Q0(M){let P=M.routeConfig?M.routeConfig.canActivateChild:null;return!P||P.length===0?null:{node:M,guards:P}}function rn(M,P){let S=Symbol(),w=P.get(M,S);return w===S?typeof M=="function"&&!yo(M)?M:P.get(M):w}function wn(M,P,S,w,u={canDeactivateChecks:[],canActivateChecks:[]}){let x=Qi(P);return M.children.forEach(e=>{J0(e,x[e.value.outlet],S,w.concat([e.value]),u),delete x[e.value.outlet]}),Object.entries(x).forEach(([e,l])=>Fn(l,S.getContext(e),u)),u}function J0(M,P,S,w,u={canDeactivateChecks:[],canActivateChecks:[]}){let x=M.value,e=P?P.value:null,l=S?S.getContext(M.value.outlet):null;if(e&&x.routeConfig===e.routeConfig){let p=q0(e,x,x.routeConfig.runGuardsAndResolvers);p?u.canActivateChecks.push(new Fr(w)):(x.data=e.data,x._resolvedData=e._resolvedData),x.component?wn(M,P,l?l.children:null,w,u):wn(M,P,S,w,u),p&&l&&l.outlet&&l.outlet.isActivated&&u.canDeactivateChecks.push(new _i(l.outlet.component,e))}else e&&Fn(P,l,u),u.canActivateChecks.push(new Fr(w)),x.component?wn(M,null,l?l.children:null,w,u):wn(M,null,S,w,u);return u}function q0(M,P,S){if(typeof S=="function")return S(M,P);switch(S){case"pathParamsChange":return!Li(M.url,P.url);case"pathParamsOrQueryParamsChange":return!Li(M.url,P.url)||!kt(M.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!la(M,P)||!kt(M.queryParams,P.queryParams);case"paramsChange":default:return!la(M,P)}}function Fn(M,P,S){let w=Qi(M),u=M.value;Object.entries(w).forEach(([x,e])=>{u.component?P?Fn(e,P.children.getContext(x),S):Fn(e,null,S):Fn(e,P,S)}),u.component?P&&P.outlet&&P.outlet.isActivated?S.canDeactivateChecks.push(new _i(P.outlet.component,u)):S.canDeactivateChecks.push(new _i(null,u)):S.canDeactivateChecks.push(new _i(null,u))}function Gn(M){return typeof M=="function"}function _0(M){return typeof M=="boolean"}function ec(M){return M&&Gn(M.canLoad)}function tc(M){return M&&Gn(M.canActivate)}function ic(M){return M&&Gn(M.canActivateChild)}function nc(M){return M&&Gn(M.canDeactivate)}function rc(M){return M&&Gn(M.canMatch)}function r1(M){return M instanceof uo||M?.name==="EmptyError"}var xr=Symbol("INITIAL_VALUE");function nn(){return ct(M=>ei(M.map(P=>P.pipe(Bt(1),Xt(xr)))).pipe(pe(P=>{for(let S of P)if(S!==!0){if(S===xr)return xr;if(S===!1||sc(S))return S}return!0}),je(P=>P!==xr),Bt(1)))}function sc(M){return Ri(M)||M instanceof Bn}function ac(M,P){return ft(S=>{let{targetSnapshot:w,currentSnapshot:u,guards:{canActivateChecks:x,canDeactivateChecks:e}}=S;return e.length===0&&x.length===0?ue(Ne(re({},S),{guardsResult:!0})):oc(e,w,u,M).pipe(ft(l=>l&&_0(l)?lc(w,x,M,P):ue(l)),pe(l=>Ne(re({},S),{guardsResult:l})))})}function oc(M,P,S,w){return ot(M).pipe(ft(u=>fc(u.component,u.route,S,P,w)),ii(u=>u!==!0,!0))}function lc(M,P,S,w){return ot(P).pipe(Ti(u=>fo(cc(u.route.parent,w),hc(u.route,w),dc(M,u.path,S),uc(M,u.route,S))),ii(u=>u!==!0,!0))}function hc(M,P){return M!==null&&P&&P(new na(M)),ue(!0)}function cc(M,P){return M!==null&&P&&P(new ta(M)),ue(!0)}function uc(M,P,S){let w=P.routeConfig?P.routeConfig.canActivate:null;if(!w||w.length===0)return ue(!0);let u=w.map(x=>is(()=>{let e=Un(P)??S,l=rn(x,e),p=tc(l)?l.canActivate(P,M):Rt(e,()=>l(P,M));return ci(p).pipe(ii())}));return ue(u).pipe(nn())}function dc(M,P,S){let w=P[P.length-1],x=P.slice(0,P.length-1).reverse().map(e=>Q0(e)).filter(e=>e!==null).map(e=>is(()=>{let l=e.guards.map(p=>{let a=Un(e.node)??S,s=rn(p,a),r=ic(s)?s.canActivateChild(w,M):Rt(a,()=>s(w,M));return ci(r).pipe(ii())});return ue(l).pipe(nn())}));return ue(x).pipe(nn())}function fc(M,P,S,w,u){let x=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!x||x.length===0)return ue(!0);let e=x.map(l=>{let p=Un(P)??u,a=rn(l,p),s=nc(a)?a.canDeactivate(M,P,S,w):Rt(p,()=>a(M,P,S,w));return ci(s).pipe(ii())});return ue(e).pipe(nn())}function vc(M,P,S,w){let u=P.canLoad;if(u===void 0||u.length===0)return ue(!0);let x=u.map(e=>{let l=rn(e,M),p=ec(l)?l.canLoad(P,S):Rt(M,()=>l(P,S));return ci(p)});return ue(x).pipe(nn(),s1(w))}function s1(M){return co(Ke(P=>{if(typeof P!="boolean")throw Dr(M,P)}),pe(P=>P===!0))}function pc(M,P,S,w){let u=P.canMatch;if(!u||u.length===0)return ue(!0);let x=u.map(e=>{let l=rn(e,M),p=rc(l)?l.canMatch(P,S):Rt(M,()=>l(P,S));return ci(p)});return ue(x).pipe(nn(),s1(w))}var Hn=class{constructor(P){this.segmentGroup=P||null}},Yn=class extends Error{constructor(P){super(),this.urlTree=P}};function Zi(M){return ln(new Hn(M))}function mc(M){return ln(new Fe(4e3,!1))}function gc(M){return ln(i1(!1,wt.GuardRejected))}var ua=class{constructor(P,S){this.urlSerializer=P,this.urlTree=S}lineralizeSegments(P,S){let w=[],u=S.root;for(;;){if(w=w.concat(u.segments),u.numberOfChildren===0)return ue(w);if(u.numberOfChildren>1||!u.children[me])return mc(`${P.redirectTo}`);u=u.children[me]}}applyRedirectCommands(P,S,w,u,x){if(typeof S!="string"){let l=S,{queryParams:p,fragment:a,routeConfig:s,url:r,outlet:t,params:n,data:h,title:i}=u,o=Rt(x,()=>l({params:n,data:h,queryParams:p,fragment:a,routeConfig:s,url:r,outlet:t,title:i}));if(o instanceof Zt)throw new Yn(o);S=o}let e=this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),P,w);if(S[0]==="/")throw new Yn(e);return e}applyRedirectCreateUrlTree(P,S,w,u){let x=this.createSegmentGroup(P,S.root,w,u);return new Zt(x,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(P,S){let w={};return Object.entries(P).forEach(([u,x])=>{if(typeof x=="string"&&x[0]===":"){let l=x.substring(1);w[u]=S[l]}else w[u]=x}),w}createSegmentGroup(P,S,w,u){let x=this.createSegments(P,S.segments,w,u),e={};return Object.entries(S.children).forEach(([l,p])=>{e[l]=this.createSegmentGroup(P,p,w,u)}),new Pe(x,e)}createSegments(P,S,w,u){return S.map(x=>x.path[0]===":"?this.findPosParam(P,x,u):this.findOrReturn(x,w))}findPosParam(P,S,w){let u=w[S.path.substring(1)];if(!u)throw new Fe(4001,!1);return u}findOrReturn(P,S){let w=0;for(let u of S){if(u.path===P.path)return S.splice(w),u;w++}return P}},da={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xc(M,P,S,w,u){let x=a1(M,P,S);return x.matched?(w=U0(P,w),pc(w,P,S,u).pipe(pe(e=>e===!0?x:re({},da)))):ue(x)}function a1(M,P,S){if(P.path==="**")return yc(S);if(P.path==="")return P.pathMatch==="full"&&(M.hasChildren()||S.length>0)?re({},da):{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};let u=(P.matcher||p0)(S,M,P);if(!u)return re({},da);let x={};Object.entries(u.posParams??{}).forEach(([l,p])=>{x[l]=p.path});let e=u.consumed.length>0?re(re({},x),u.consumed[u.consumed.length-1].parameters):x;return{matched:!0,consumedSegments:u.consumed,remainingSegments:S.slice(u.consumed.length),parameters:e,positionalParamSegments:u.posParams??{}}}function yc(M){return{matched:!0,parameters:M.length>0?Yl(M).parameters:{},consumedSegments:M,remainingSegments:[],positionalParamSegments:{}}}function Vl(M,P,S,w){return S.length>0&&Cc(M,S,w)?{segmentGroup:new Pe(P,Sc(w,new Pe(S,M.children))),slicedSegments:[]}:S.length===0&&Mc(M,S,w)?{segmentGroup:new Pe(M.segments,Tc(M,S,w,M.children)),slicedSegments:S}:{segmentGroup:new Pe(M.segments,M.children),slicedSegments:S}}function Tc(M,P,S,w){let u={};for(let x of S)if(Rr(M,P,x)&&!w[bt(x)]){let e=new Pe([],{});u[bt(x)]=e}return re(re({},w),u)}function Sc(M,P){let S={};S[me]=P;for(let w of M)if(w.path===""&&bt(w)!==me){let u=new Pe([],{});S[bt(w)]=u}return S}function Cc(M,P,S){return S.some(w=>Rr(M,P,w)&&bt(w)!==me)}function Mc(M,P,S){return S.some(w=>Rr(M,P,w))}function Rr(M,P,S){return(M.hasChildren()||P.length>0)&&S.pathMatch==="full"?!1:S.path===""}function Ec(M,P,S){return P.length===0&&!M.children[S]}var fa=class{};function Pc(M,P,S,w,u,x,e="emptyOnly"){return new va(M,P,S,w,u,e,x).recognize()}var wc=31,va=class{constructor(P,S,w,u,x,e,l){this.injector=P,this.configLoader=S,this.rootComponentType=w,this.config=u,this.urlTree=x,this.paramsInheritanceStrategy=e,this.urlSerializer=l,this.applyRedirects=new ua(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new Fe(4002,`'${P.segmentGroup}'`)}recognize(){let P=Vl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe(pe(({children:S,rootSnapshot:w})=>{let u=new Pt(w,S),x=new Ar("",u),e=b0(w,[],this.urlTree.queryParams,this.urlTree.fragment);return e.queryParams=this.urlTree.queryParams,x.url=this.urlSerializer.serialize(e),{state:x,tree:e}}))}match(P){let S=new qi([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,me,S).pipe(pe(w=>({children:w,rootSnapshot:S})),ti(w=>{if(w instanceof Yn)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof Hn?this.noMatchError(w):w}))}processSegmentGroup(P,S,w,u,x){return w.segments.length===0&&w.hasChildren()?this.processChildren(P,S,w,x):this.processSegment(P,S,w,w.segments,u,!0,x).pipe(pe(e=>e instanceof Pt?[e]:[]))}processChildren(P,S,w,u){let x=[];for(let e of Object.keys(w.children))e==="primary"?x.unshift(e):x.push(e);return ot(x).pipe(Ti(e=>{let l=w.children[e],p=G0(S,e);return this.processSegmentGroup(P,p,l,e,u)}),mo((e,l)=>(e.push(...l),e)),ns(null),po(),ft(e=>{if(e===null)return Zi(w);let l=o1(e);return zc(l),ue(l)}))}processSegment(P,S,w,u,x,e,l){return ot(S).pipe(Ti(p=>this.processSegmentAgainstRoute(p._injector??P,S,p,w,u,x,e,l).pipe(ti(a=>{if(a instanceof Hn)return ue(null);throw a}))),ii(p=>!!p),ti(p=>{if(r1(p))return Ec(w,u,x)?ue(new fa):Zi(w);throw p}))}processSegmentAgainstRoute(P,S,w,u,x,e,l,p){return bt(w)!==e&&(e===me||!Rr(u,x,w))?Zi(u):w.redirectTo===void 0?this.matchSegmentAgainstRoute(P,u,w,x,e,p):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(P,u,S,w,x,e,p):Zi(u)}expandSegmentAgainstRouteUsingRedirect(P,S,w,u,x,e,l){let{matched:p,parameters:a,consumedSegments:s,positionalParamSegments:r,remainingSegments:t}=a1(S,u,x);if(!p)return Zi(S);typeof u.redirectTo=="string"&&u.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wc&&(this.allowRedirects=!1));let n=new qi(x,a,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Il(u),bt(u),u.component??u._loadedComponent??null,u,Bl(u)),h=zr(n,l,this.paramsInheritanceStrategy);n.params=Object.freeze(h.params),n.data=Object.freeze(h.data);let i=this.applyRedirects.applyRedirectCommands(s,u.redirectTo,r,n,P);return this.applyRedirects.lineralizeSegments(u,i).pipe(ft(o=>this.processSegment(P,w,S,o.concat(t),e,!1,l)))}matchSegmentAgainstRoute(P,S,w,u,x,e){let l=xc(S,w,u,P,this.urlSerializer);return w.path==="**"&&(S.children={}),l.pipe(ct(p=>p.matched?(P=w._injector??P,this.getChildConfig(P,w,u).pipe(ct(({routes:a})=>{let s=w._loadedInjector??P,{parameters:r,consumedSegments:t,remainingSegments:n}=p,h=new qi(t,r,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Il(w),bt(w),w.component??w._loadedComponent??null,w,Bl(w)),i=zr(h,e,this.paramsInheritanceStrategy);h.params=Object.freeze(i.params),h.data=Object.freeze(i.data);let{segmentGroup:o,slicedSegments:c}=Vl(S,t,n,a);if(c.length===0&&o.hasChildren())return this.processChildren(s,a,o,h).pipe(pe(f=>new Pt(h,f)));if(a.length===0&&c.length===0)return ue(new Pt(h,[]));let d=bt(w)===x;return this.processSegment(s,a,o,c,d?me:x,!0,h).pipe(pe(f=>new Pt(h,f instanceof Pt?[f]:[])))}))):Zi(S)))}getChildConfig(P,S,w){return S.children?ue({routes:S.children,injector:P}):S.loadChildren?S._loadedRoutes!==void 0?ue({routes:S._loadedRoutes,injector:S._loadedInjector}):vc(P,S,w,this.urlSerializer).pipe(ft(u=>u?this.configLoader.loadChildren(P,S).pipe(Ke(x=>{S._loadedRoutes=x.routes,S._loadedInjector=x.injector})):gc(S))):ue({routes:[],injector:P})}};function zc(M){M.sort((P,S)=>P.value.outlet===me?-1:S.value.outlet===me?1:P.value.outlet.localeCompare(S.value.outlet))}function Ac(M){let P=M.value.routeConfig;return P&&P.path===""}function o1(M){let P=[],S=new Set;for(let w of M){if(!Ac(w)){P.push(w);continue}let u=P.find(x=>w.value.routeConfig===x.value.routeConfig);u!==void 0?(u.children.push(...w.children),S.add(u)):P.push(w)}for(let w of S){let u=o1(w.children);P.push(new Pt(w.value,u))}return P.filter(w=>!S.has(w))}function Il(M){return M.data||{}}function Bl(M){return M.resolve||{}}function Dc(M,P,S,w,u,x){return ft(e=>Pc(M,P,S,w,e.extractedUrl,u,x).pipe(pe(({state:l,tree:p})=>Ne(re({},e),{targetSnapshot:l,urlAfterRedirects:p}))))}function Fc(M,P){return ft(S=>{let{targetSnapshot:w,guards:{canActivateChecks:u}}=S;if(!u.length)return ue(S);let x=new Set(u.map(p=>p.route)),e=new Set;for(let p of x)if(!e.has(p))for(let a of l1(p))e.add(a);let l=0;return ot(e).pipe(Ti(p=>x.has(p)?Lc(p,w,M,P):(p.data=zr(p,p.parent,M).resolve,ue(void 0))),Ke(()=>l++),rs(1),ft(p=>l===e.size?ue(S):_t))})}function l1(M){let P=M.children.map(S=>l1(S)).flat();return[M,...P]}function Lc(M,P,S,w){let u=M.routeConfig,x=M._resolve;return u?.title!==void 0&&!e1(u)&&(x[Nn]=u.title),Rc(x,M,P,w).pipe(pe(e=>(M._resolvedData=e,M.data=zr(M,M.parent,S).resolve,null)))}function Rc(M,P,S,w){let u=Ws(M);if(u.length===0)return ue({});let x={};return ot(u).pipe(ft(e=>Oc(M[e],P,S,w).pipe(ii(),Ke(l=>{if(l instanceof Bn)throw Dr(new Ln,l);x[e]=l}))),rs(1),Gi(x),ti(e=>r1(e)?_t:ln(e)))}function Oc(M,P,S,w){let u=Un(P)??w,x=rn(M,u),e=x.resolve?x.resolve(P,S):Rt(u,()=>x(P,S));return ci(e)}function Gs(M){return ct(P=>{let S=M(P);return S?ot(S).pipe(pe(()=>P)):ue(P)})}var h1=(()=>{class M{buildTitle(S){let w,u=S.root;for(;u!==void 0;)w=this.getResolvedTitleForRoute(u)??w,u=u.children.find(x=>x.outlet===me);return w}getResolvedTitleForRoute(S){return S.data[Nn]}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:()=>te(bc),providedIn:"root"})}}return M})(),bc=(()=>{class M extends h1{constructor(S){super(),this.title=S}updateTitle(S){let w=this.buildTitle(S);w!==void 0&&this.title.setTitle(w)}static{this.\u0275fac=function(w){return new(w||M)(ee(Dl))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Ta=new ve("",{providedIn:"root",factory:()=>({})}),Vc=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=$e({type:M,selectors:[["ng-component"]],standalone:!0,features:[nt],decls:1,vars:0,template:function(w,u){w&1&&et(0,"router-outlet")},dependencies:[xa],encapsulation:2})}}return M})();function Sa(M){let P=M.children&&M.children.map(Sa),S=P?Ne(re({},M),{children:P}):re({},M);return!S.component&&!S.loadComponent&&(P||S.loadChildren)&&S.outlet&&S.outlet!==me&&(S.component=Vc),S}var Ca=new ve(""),Ic=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(gs)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return ue(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);let w=ci(S.loadComponent()).pipe(pe(c1),Ke(x=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=x}),Ht(()=>{this.componentLoaders.delete(S)})),u=new ts(w,()=>new de).pipe(es());return this.componentLoaders.set(S,u),u}loadChildren(S,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return ue({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);let x=Bc(w,this.compiler,S,this.onLoadEndListener).pipe(Ht(()=>{this.childrenLoaders.delete(w)})),e=new ts(x,()=>new de).pipe(es());return this.childrenLoaders.set(w,e),e}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function Bc(M,P,S,w){return ci(M.loadChildren()).pipe(pe(c1),ft(u=>u instanceof bo||Array.isArray(u)?ue(u):ot(P.compileModuleAsync(u))),pe(u=>{w&&w(M);let x,e,l=!1;return Array.isArray(u)?(e=u,l=!0):(x=u.create(S).injector,e=x.get(Ca,[],{optional:!0,self:!0}).flat()),{routes:e.map(Sa),injector:x}}))}function Hc(M){return M&&typeof M=="object"&&"default"in M}function c1(M){return Hc(M)?M.default:M}var Ma=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:()=>te(Yc),providedIn:"root"})}}return M})(),Yc=(()=>{class M{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,w){return S}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Nc=new ve("");var Uc=new ve(""),Gc=(()=>{class M{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de,this.transitionAbortSubject=new de,this.configLoader=te(Ic),this.environmentInjector=te(ni),this.urlSerializer=te(ma),this.rootContexts=te(Lr),this.location=te(Ki),this.inputBindingEnabled=te(ya,{optional:!0})!==null,this.titleStrategy=te(h1),this.options=te(Ta,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(Ma),this.createViewTransition=te(Nc,{optional:!0}),this.navigationErrorHandler=te(Uc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let S=u=>this.events.next(new _s(u)),w=u=>this.events.next(new ea(u));this.configLoader.onLoadEndListener=w,this.configLoader.onLoadStartListener=S}complete(){this.transitions?.complete()}handleNavigationRequest(S){let w=++this.navigationId;this.transitions?.next(Ne(re(re({},this.transitions.value),S),{id:w}))}setupNavigations(S,w,u){return this.transitions=new ke({id:0,currentUrlTree:w,currentRawUrl:w,extractedUrl:this.urlHandlingStrategy.extract(w),urlAfterRedirects:this.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dn,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(je(x=>x.id!==0),pe(x=>Ne(re({},x),{extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),ct(x=>{let e=!1,l=!1;return ue(x).pipe(ct(p=>{if(this.navigationId>x.id)return this.cancelNavigationTransition(x,"",wt.SupersededByNewNavigation),_t;this.currentTransition=x,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:typeof p.extras.browserUrl=="string"?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Ne(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=p.extras.onSameUrlNavigation??S.onSameUrlNavigation;if(!a&&s!=="reload"){let r="";return this.events.next(new Oi(p.id,this.urlSerializer.serialize(p.rawUrl),r,$s.IgnoredSameUrlNavigation)),p.resolve(!1),_t}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return ue(p).pipe(ct(r=>{let t=this.transitions?.getValue();return this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),r.source,r.restoredState)),t!==this.transitions?.getValue()?_t:Promise.resolve(r)}),Dc(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(r=>{x.targetSnapshot=r.targetSnapshot,x.urlAfterRedirects=r.urlAfterRedirects,this.currentNavigation=Ne(re({},this.currentNavigation),{finalUrl:r.urlAfterRedirects});let t=new Er(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(t)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:r,extractedUrl:t,source:n,restoredState:h,extras:i}=p,o=new On(r,this.urlSerializer.serialize(t),n,h);this.events.next(o);let c=ql(this.rootComponentType).snapshot;return this.currentTransition=x=Ne(re({},p),{targetSnapshot:c,urlAfterRedirects:t,extras:Ne(re({},i),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=t,ue(x)}else{let r="";return this.events.next(new Oi(p.id,this.urlSerializer.serialize(p.extractedUrl),r,$s.IgnoredByUrlHandlingStrategy)),p.resolve(!1),_t}}),Ke(p=>{let a=new Zs(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(a)}),pe(p=>(this.currentTransition=x=Ne(re({},p),{guards:Z0(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),x)),ac(this.environmentInjector,p=>this.events.next(p)),Ke(p=>{if(x.guardsResult=p.guardsResult,p.guardsResult&&typeof p.guardsResult!="boolean")throw Dr(this.urlSerializer,p.guardsResult);let a=new Qs(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(a)}),je(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",wt.GuardRejected),!1)),Gs(p=>{if(p.guards.canActivateChecks.length)return ue(p).pipe(Ke(a=>{let s=new Js(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),ct(a=>{let s=!1;return ue(a).pipe(Fc(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",wt.NoDataFromResolver)}}))}),Ke(a=>{let s=new qs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),Gs(p=>{let a=s=>{let r=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&r.push(this.configLoader.loadComponent(s.routeConfig).pipe(Ke(t=>{s.component=t}),pe(()=>{})));for(let t of s.children)r.push(...a(t));return r};return ei(a(p.targetSnapshot.root)).pipe(ns(null),Bt(1))}),Gs(()=>this.afterPreactivation()),ct(()=>{let{currentSnapshot:p,targetSnapshot:a}=x,s=this.createViewTransition?.(this.environmentInjector,p.root,a.root);return s?ot(s).pipe(pe(()=>x)):ue(x)}),pe(p=>{let a=W0(S.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=x=Ne(re({},p),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,x}),Ke(()=>{this.events.next(new Vn)}),$0(this.rootContexts,S.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Bt(1),Ke({next:p=>{e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wt(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{e=!0}}),Se(this.transitionAbortSubject.pipe(Ke(p=>{throw p}))),Ht(()=>{!e&&!l&&this.cancelNavigationTransition(x,"",wt.SupersededByNewNavigation),this.currentTransition?.id===x.id&&(this.currentNavigation=null,this.currentTransition=null)}),ti(p=>{if(l=!0,n1(p))this.events.next(new $t(x.id,this.urlSerializer.serialize(x.extractedUrl),p.message,p.cancellationCode)),K0(p)?this.events.next(new tn(p.url,p.navigationBehaviorOptions)):x.resolve(!1);else{let a=new bn(x.id,this.urlSerializer.serialize(x.extractedUrl),p,x.targetSnapshot??void 0);try{let s=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof Bn){let{message:r,cancellationCode:t}=Dr(this.urlSerializer,s);this.events.next(new $t(x.id,this.urlSerializer.serialize(x.extractedUrl),r,t)),this.events.next(new tn(s.redirectTo,s.navigationBehaviorOptions))}else{this.events.next(a);let r=S.errorHandler(p);x.resolve(!!r)}}catch(s){this.options.resolveNavigationPromiseOnError?x.resolve(!1):x.reject(s)}}return _t}))}))}cancelNavigationTransition(S,w,u){let x=new $t(S.id,this.urlSerializer.serialize(S.extractedUrl),w,u);this.events.next(x),S.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let S=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),w=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return S.toString()!==w?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function kc(M){return M!==Dn}var Wc=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:()=>te(Xc),providedIn:"root"})}}return M})(),pa=class{shouldDetach(P){return!1}store(P,S){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,S){return P.routeConfig===S.routeConfig}},Xc=(()=>{class M extends pa{static{this.\u0275fac=(()=>{let S;return function(u){return(S||(S=ki(M)))(u||M)}})()}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),u1=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:()=>te(jc),providedIn:"root"})}}return M})(),jc=(()=>{class M extends u1{constructor(){super(...arguments),this.location=te(Ki),this.urlSerializer=te(ma),this.options=te(Ta,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(Ma),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ql(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(w=>{w.type==="popstate"&&S(w.url,w.state)})}handleRouterEvent(S,w){if(S instanceof On)this.stateMemento=this.createStateMemento();else if(S instanceof Oi)this.rawUrlTree=w.initialUrl;else if(S instanceof Er){if(this.urlUpdateStrategy==="eager"&&!w.extras.skipLocationChange){let u=this.urlHandlingStrategy.merge(w.finalUrl,w.initialUrl);this.setBrowserUrl(w.targetBrowserUrl??u,w)}}else S instanceof Vn?(this.currentUrlTree=w.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(w.finalUrl,w.initialUrl),this.routerState=w.targetRouterState,this.urlUpdateStrategy==="deferred"&&!w.extras.skipLocationChange&&this.setBrowserUrl(w.targetBrowserUrl??this.rawUrlTree,w)):S instanceof $t&&(S.code===wt.GuardRejected||S.code===wt.NoDataFromResolver)?this.restoreHistory(w):S instanceof bn?this.restoreHistory(w,!0):S instanceof Wt&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,w){let u=S instanceof Zt?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(u)||w.extras.replaceUrl){let x=this.browserPageId,e=re(re({},w.extras.state),this.generateNgRouterState(w.id,x));this.location.replaceState(u,"",e)}else{let x=re(re({},w.extras.state),this.generateNgRouterState(w.id,this.browserPageId+1));this.location.go(u,"",x)}}restoreHistory(S,w=!1){if(this.canceledNavigationResolution==="computed"){let u=this.browserPageId,x=this.currentPageId-u;x!==0?this.location.historyGo(x):this.currentUrlTree===S.finalUrl&&x===0&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(w&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,w){return this.canceledNavigationResolution==="computed"?{navigationId:S,\u0275routerPageId:w}:{navigationId:S}}static{this.\u0275fac=(()=>{let S;return function(u){return(S||(S=ki(M)))(u||M)}})()}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),zn=function(M){return M[M.COMPLETE=0]="COMPLETE",M[M.FAILED=1]="FAILED",M[M.REDIRECTING=2]="REDIRECTING",M}(zn||{});function Kc(M,P){M.events.pipe(je(S=>S instanceof Wt||S instanceof $t||S instanceof bn||S instanceof Oi),pe(S=>S instanceof Wt||S instanceof Oi?zn.COMPLETE:(S instanceof $t?S.code===wt.Redirect||S.code===wt.SupersededByNewNavigation:!1)?zn.REDIRECTING:zn.FAILED),je(S=>S!==zn.REDIRECTING),Bt(1)).subscribe(()=>{P()})}function $c(M){throw M}var Zc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kn=(()=>{class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=te(nr),this.stateManager=te(u1),this.options=te(Ta,{optional:!0})||{},this.pendingTasks=te(er),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(Gc),this.urlSerializer=te(ma),this.location=te(Ki),this.urlHandlingStrategy=te(Ma),this._events=new de,this.errorHandler=this.options.errorHandler||$c,this.navigated=!1,this.routeReuseStrategy=te(Wc),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(Ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(ya,{optional:!0}),this.eventsSubscription=new It,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:S=>{this.console.warn(S)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let S=this.navigationTransitions.events.subscribe(w=>{try{let u=this.navigationTransitions.currentTransition,x=this.navigationTransitions.currentNavigation;if(u!==null&&x!==null){if(this.stateManager.handleRouterEvent(w,x),w instanceof $t&&w.code!==wt.Redirect&&w.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(w instanceof Wt)this.navigated=!0;else if(w instanceof tn){let e=w.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(w.url,u.currentRawUrl),p=re({browserUrl:u.extras.browserUrl,info:u.extras.info,skipLocationChange:u.extras.skipLocationChange,replaceUrl:u.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kc(u.source)},e);this.scheduleNavigation(l,Dn,null,p,{resolve:u.resolve,reject:u.reject,promise:u.promise})}}qc(w)&&this._events.next(w)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((S,w)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(S,"popstate",w)},0)})}navigateToSyncWithBrowser(S,w,u){let x={replaceUrl:!0},e=u?.navigationId?u:null;if(u){let p=re({},u);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(x.state=p)}let l=this.parseUrl(S);this.scheduleNavigation(l,w,e,x)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(Sa),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,w={}){let{relativeTo:u,queryParams:x,fragment:e,queryParamsHandling:l,preserveFragment:p}=w,a=p?this.currentUrlTree.fragment:e,s=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":s=re(re({},this.currentUrlTree.queryParams),x);break;case"preserve":s=this.currentUrlTree.queryParams;break;default:s=x||null}s!==null&&(s=this.removeEmptyProps(s));let r;try{let t=u?u.snapshot:this.routerState.snapshot.root;r=$l(t)}catch{(typeof S[0]!="string"||S[0][0]!=="/")&&(S=[]),r=this.currentUrlTree.root}return Zl(r,S,s,a??null)}navigateByUrl(S,w={skipLocationChange:!1}){let u=Ri(S)?S:this.parseUrl(S),x=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(x,Dn,null,w)}navigate(S,w={skipLocationChange:!1}){return Jc(S),this.navigateByUrl(this.createUrlTree(S,w),w)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,w){let u;if(w===!0?u=re({},Zc):w===!1?u=re({},Qc):u=w,Ri(S))return Ll(this.currentUrlTree,S,u);let x=this.parseUrl(S);return Ll(this.currentUrlTree,x,u)}removeEmptyProps(S){return Object.entries(S).reduce((w,[u,x])=>(x!=null&&(w[u]=x),w),{})}scheduleNavigation(S,w,u,x,e){if(this.disposed)return Promise.resolve(!1);let l,p,a;e?(l=e.resolve,p=e.reject,a=e.promise):a=new Promise((r,t)=>{l=r,p=t});let s=this.pendingTasks.add();return Kc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(s))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:x,resolve:l,reject:p,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(r=>Promise.reject(r))}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function Jc(M){for(let P=0;P<M.length;P++)if(M[P]==null)throw new Fe(4008,!1)}function qc(M){return!(M instanceof Vn)&&!(M instanceof tn)}var Wn=(()=>{class M{constructor(S,w,u,x,e,l){this.router=S,this.route=w,this.tabIndexAttribute=u,this.renderer=x,this.el=e,this.locationStrategy=l,this.href=null,this.onChanges=new de,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let p=e.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area",this.isAnchorElement?this.subscription=S.events.subscribe(a=>{a instanceof Wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){S==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ri(S)?this.routerLinkInput=S:this.routerLinkInput=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,w,u,x,e){let l=this.urlTree;if(l===null||this.isAnchorElement&&(S!==0||w||u||x||e||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,p),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let S=this.urlTree;this.href=S!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(S)):null;let w=this.href===null?null:Ro(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(S,w){let u=this.renderer,x=this.el.nativeElement;w!==null?u.setAttribute(x,S,w):u.removeAttribute(x,S)}get urlTree(){return this.routerLinkInput===null?null:Ri(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(w){return new(w||M)(he(kn),he(bi),Co("tabindex"),he(St),he(Oe),he(Ts))}}static{this.\u0275dir=Ze({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,u){w&1&&vt("click",function(e){return u.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),w&2&&tr("target",u.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Me],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Me],replaceUrl:[2,"replaceUrl","replaceUrl",Me],routerLink:"routerLink"},standalone:!0,features:[ut,Ue]})}}return M})();var _c=new ve("");function d1(M,...P){return Tt([{provide:Ca,multi:!0,useValue:M},[],{provide:bi,useFactory:e3,deps:[kn]},{provide:rr,multi:!0,useFactory:t3},P.map(S=>S.\u0275providers)])}function e3(M){return M.routerState.root}function t3(){let M=te(Ei);return P=>{let S=M.get(Ai);if(P!==S.components[0])return;let w=M.get(kn),u=M.get(i3);M.get(n3)===1&&w.initialNavigation(),M.get(r3,null,ss.Optional)?.setUpPreloading(),M.get(_c,null,ss.Optional)?.init(),w.resetRootComponentType(S.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}var i3=new ve("",{factory:()=>new de}),n3=new ve("",{providedIn:"root",factory:()=>1});var r3=new ve("");var Pa=p2(f1());var v1=(()=>{class M{constructor(){this.counter=0,this.originalBagWidth=0,this.originalBagHeight=0,this.originalNetWidth=0,this.originalNetHeight=0}ngOnInit(){this.createGame(),window.addEventListener("resize",this.handleResize.bind(this))}ngOnDestroy(){window.removeEventListener("resize",this.handleResize.bind(this))}createGame(){let S=document.getElementById("game-container");this.phaserGame=new Pa.default.Game({type:Pa.default.AUTO,width:S?.clientWidth||window.innerWidth,height:S?.clientHeight||window.innerHeight,parent:"game-container",backgroundColor:"#9d1d1d",scene:{preload:this.preload.bind(this),create:this.create.bind(this),update:this.update.bind(this)}})}preload(){let S=this.phaserGame.scene.getScene("default");S.load.image("sky","assets/sky.png"),S.load.image("debugbag","assets/bag.png"),S.load.spritesheet("net_32x32","assets/net_32x32.png",{frameWidth:32,frameHeight:32})}create(){let S=this.phaserGame.scene.getScene("default"),w=this.phaserGame.scale.width,u=this.phaserGame.scale.height;this.background=S.add.image(0,0,"sky").setOrigin(0,0),this.resizeBackground(w,u),this.debugBag=S.add.image(w/3,u/2,"debugbag").setInteractive().setScale(.2),this.originalBagWidth=this.debugBag.width,this.originalBagHeight=this.debugBag.height,this.debugBag.on("pointerdown",()=>{this.counter++,this.updateCounterText()}),this.net=S.add.sprite(2*w/3,u/2,"net_32x32",0).setInteractive().setScale(1),this.originalNetWidth=this.net.width,this.originalNetHeight=this.net.height,S.anims.create({key:"net_spin",frames:S.anims.generateFrameNumbers("net_32x32",{start:0,end:3}),frameRate:10,repeat:-1}),this.net.on("pointerdown",()=>{this.counter++,this.updateCounterText(),this.net.play("net_spin")}),this.counterText=S.add.text(w-10,10,`Count: ${this.counter}`,{fontSize:"24px",color:"#ff0000",fontFamily:"Arial"}).setOrigin(1,0)}handleResize(){let S=document.getElementById("game-container");if(S){let w=S.clientWidth,u=S.clientHeight;if(this.phaserGame.scale.resize(w,u),this.resizeBackground(w,u),this.debugBag){this.debugBag.setPosition(w/3,u/2);let x=w/this.phaserGame.scale.width,e=u/this.phaserGame.scale.height;this.debugBag.setScale(Math.min(x,e)*.2)}if(this.net){this.net.setPosition(2*w/3,u/2);let x=w/this.phaserGame.scale.width,e=u/this.phaserGame.scale.height;this.net.setScale(Math.min(x,e)*1)}this.counterText&&this.counterText.setPosition(w-10,10)}}resizeBackground(S,w){this.background&&this.background.setScale(S/this.background.width,w/this.background.height)}updateCounterText(){this.counterText.setText(`Count: ${this.counter}`)}update(){}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=$e({type:M,selectors:[["app-game"]],decls:1,vars:0,consts:[["id","game-container"]],template:function(w,u){w&1&&et(0,"div",0)},styles:["#game-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;overflow:hidden}"]})}}return M})();var p1=[{path:"",pathMatch:"full",redirectTo:"/welcome"},{path:"welcome",loadChildren:()=>import("./chunk-3KSZZDTU.js").then(M=>M.WELCOME_ROUTES)},{path:"game",pathMatch:"full",component:v1}];var m1={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var g1={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'};var x1={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},y1={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var T1={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},S1={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var C1={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},M1={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var E1={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'};var P1={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'};var w1={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},z1={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var A1={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var D1={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var F1={name:"dashboard",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z" /></svg>'};var L1={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},R1={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'};var O1={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var b1={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'};var V1={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var I1={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'};var B1={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var H1={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var Y1={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var N1={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var U1={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var G1={name:"form",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" /><path d="M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z" /></svg>'};var k1={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var W1={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var X1={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var j1={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var K1={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var $1={name:"menu-fold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z" /></svg>'};var Z1={name:"menu-unfold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z" /></svg>'};var Q1={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var J1={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var q1={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var _1={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var eh={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var wa={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var th={name:"swap",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" /></svg>'},ih={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var nh={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var rh={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var sh={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var ah={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var oh={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},lh={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'};var hh=[$1,Z1,F1,G1];function tt(M,P){s3(M)&&(M="100%");var S=a3(M);return M=P===360?M:Math.min(P,Math.max(0,parseFloat(M))),S&&(M=parseInt(String(M*P),10)/100),Math.abs(M-P)<1e-6?1:(P===360?M=(M<0?M%P+P:M%P)/parseFloat(String(P)):M=M%P/parseFloat(String(P)),M)}function jn(M){return Math.min(1,Math.max(0,M))}function s3(M){return typeof M=="string"&&M.indexOf(".")!==-1&&parseFloat(M)===1}function a3(M){return typeof M=="string"&&M.indexOf("%")!==-1}function Or(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function Kn(M){return M<=1?"".concat(Number(M)*100,"%"):M}function ui(M){return M.length===1?"0"+M:String(M)}function ch(M,P,S){return{r:tt(M,255)*255,g:tt(P,255)*255,b:tt(S,255)*255}}function Aa(M,P,S){M=tt(M,255),P=tt(P,255),S=tt(S,255);var w=Math.max(M,P,S),u=Math.min(M,P,S),x=0,e=0,l=(w+u)/2;if(w===u)e=0,x=0;else{var p=w-u;switch(e=l>.5?p/(2-w-u):p/(w+u),w){case M:x=(P-S)/p+(P<S?6:0);break;case P:x=(S-M)/p+2;break;case S:x=(M-P)/p+4;break;default:break}x/=6}return{h:x,s:e,l}}function za(M,P,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?M+(P-M)*(6*S):S<1/2?P:S<2/3?M+(P-M)*(2/3-S)*6:M}function uh(M,P,S){var w,u,x;if(M=tt(M,360),P=tt(P,100),S=tt(S,100),P===0)u=S,x=S,w=S;else{var e=S<.5?S*(1+P):S+P-S*P,l=2*S-e;w=za(l,e,M+1/3),u=za(l,e,M),x=za(l,e,M-1/3)}return{r:w*255,g:u*255,b:x*255}}function Vi(M,P,S){M=tt(M,255),P=tt(P,255),S=tt(S,255);var w=Math.max(M,P,S),u=Math.min(M,P,S),x=0,e=w,l=w-u,p=w===0?0:l/w;if(w===u)x=0;else{switch(w){case M:x=(P-S)/l+(P<S?6:0);break;case P:x=(S-M)/l+2;break;case S:x=(M-P)/l+4;break;default:break}x/=6}return{h:x,s:p,v:e}}function dh(M,P,S){M=tt(M,360)*6,P=tt(P,100),S=tt(S,100);var w=Math.floor(M),u=M-w,x=S*(1-P),e=S*(1-u*P),l=S*(1-(1-u)*P),p=w%6,a=[S,e,x,x,l,S][p],s=[l,S,S,e,x,x][p],r=[x,x,l,S,S,e][p];return{r:a*255,g:s*255,b:r*255}}function Ii(M,P,S,w){var u=[ui(Math.round(M).toString(16)),ui(Math.round(P).toString(16)),ui(Math.round(S).toString(16))];return w&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0):u.join("")}function fh(M,P,S,w,u){var x=[ui(Math.round(M).toString(16)),ui(Math.round(P).toString(16)),ui(Math.round(S).toString(16)),ui(o3(w))];return u&&x[0].startsWith(x[0].charAt(1))&&x[1].startsWith(x[1].charAt(1))&&x[2].startsWith(x[2].charAt(1))&&x[3].startsWith(x[3].charAt(1))?x[0].charAt(0)+x[1].charAt(0)+x[2].charAt(0)+x[3].charAt(0):x.join("")}function o3(M){return Math.round(parseFloat(M)*255).toString(16)}function Da(M){return xt(M)/255}function xt(M){return parseInt(M,16)}function vh(M){return{r:M>>16,g:(M&65280)>>8,b:M&255}}var $n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function yt(M){var P={r:0,g:0,b:0},S=1,w=null,u=null,x=null,e=!1,l=!1;return typeof M=="string"&&(M=c3(M)),typeof M=="object"&&(Qt(M.r)&&Qt(M.g)&&Qt(M.b)?(P=ch(M.r,M.g,M.b),e=!0,l=String(M.r).substr(-1)==="%"?"prgb":"rgb"):Qt(M.h)&&Qt(M.s)&&Qt(M.v)?(w=Kn(M.s),u=Kn(M.v),P=dh(M.h,w,u),e=!0,l="hsv"):Qt(M.h)&&Qt(M.s)&&Qt(M.l)&&(w=Kn(M.s),x=Kn(M.l),P=uh(M.h,w,x),e=!0,l="hsl"),Object.prototype.hasOwnProperty.call(M,"a")&&(S=M.a)),S=Or(S),{ok:e,format:M.format||l,r:Math.min(255,Math.max(P.r,0)),g:Math.min(255,Math.max(P.g,0)),b:Math.min(255,Math.max(P.b,0)),a:S}}var l3="[-\\+]?\\d+%?",h3="[-\\+]?\\d*\\.\\d+%?",di="(?:".concat(h3,")|(?:").concat(l3,")"),Fa="[\\s|\\(]+(".concat(di,")[,|\\s]+(").concat(di,")[,|\\s]+(").concat(di,")\\s*\\)?"),La="[\\s|\\(]+(".concat(di,")[,|\\s]+(").concat(di,")[,|\\s]+(").concat(di,")[,|\\s]+(").concat(di,")\\s*\\)?"),Vt={CSS_UNIT:new RegExp(di),rgb:new RegExp("rgb"+Fa),rgba:new RegExp("rgba"+La),hsl:new RegExp("hsl"+Fa),hsla:new RegExp("hsla"+La),hsv:new RegExp("hsv"+Fa),hsva:new RegExp("hsva"+La),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function c3(M){if(M=M.trim().toLowerCase(),M.length===0)return!1;var P=!1;if($n[M])M=$n[M],P=!0;else if(M==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var S=Vt.rgb.exec(M);return S?{r:S[1],g:S[2],b:S[3]}:(S=Vt.rgba.exec(M),S?{r:S[1],g:S[2],b:S[3],a:S[4]}:(S=Vt.hsl.exec(M),S?{h:S[1],s:S[2],l:S[3]}:(S=Vt.hsla.exec(M),S?{h:S[1],s:S[2],l:S[3],a:S[4]}:(S=Vt.hsv.exec(M),S?{h:S[1],s:S[2],v:S[3]}:(S=Vt.hsva.exec(M),S?{h:S[1],s:S[2],v:S[3],a:S[4]}:(S=Vt.hex8.exec(M),S?{r:xt(S[1]),g:xt(S[2]),b:xt(S[3]),a:Da(S[4]),format:P?"name":"hex8"}:(S=Vt.hex6.exec(M),S?{r:xt(S[1]),g:xt(S[2]),b:xt(S[3]),format:P?"name":"hex"}:(S=Vt.hex4.exec(M),S?{r:xt(S[1]+S[1]),g:xt(S[2]+S[2]),b:xt(S[3]+S[3]),a:Da(S[4]+S[4]),format:P?"name":"hex8"}:(S=Vt.hex3.exec(M),S?{r:xt(S[1]+S[1]),g:xt(S[2]+S[2]),b:xt(S[3]+S[3]),format:P?"name":"hex"}:!1)))))))))}function Qt(M){return!!Vt.CSS_UNIT.exec(String(M))}var br=function(){function M(P,S){P===void 0&&(P=""),S===void 0&&(S={});var w;if(P instanceof M)return P;typeof P=="number"&&(P=vh(P)),this.originalInput=P;var u=yt(P);this.originalInput=P,this.r=u.r,this.g=u.g,this.b=u.b,this.a=u.a,this.roundA=Math.round(100*this.a)/100,this.format=(w=S.format)!==null&&w!==void 0?w:u.format,this.gradientType=S.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=u.ok}return M.prototype.isDark=function(){return this.getBrightness()<128},M.prototype.isLight=function(){return!this.isDark()},M.prototype.getBrightness=function(){var P=this.toRgb();return(P.r*299+P.g*587+P.b*114)/1e3},M.prototype.getLuminance=function(){var P=this.toRgb(),S,w,u,x=P.r/255,e=P.g/255,l=P.b/255;return x<=.03928?S=x/12.92:S=Math.pow((x+.055)/1.055,2.4),e<=.03928?w=e/12.92:w=Math.pow((e+.055)/1.055,2.4),l<=.03928?u=l/12.92:u=Math.pow((l+.055)/1.055,2.4),.2126*S+.7152*w+.0722*u},M.prototype.getAlpha=function(){return this.a},M.prototype.setAlpha=function(P){return this.a=Or(P),this.roundA=Math.round(100*this.a)/100,this},M.prototype.isMonochrome=function(){var P=this.toHsl().s;return P===0},M.prototype.toHsv=function(){var P=Vi(this.r,this.g,this.b);return{h:P.h*360,s:P.s,v:P.v,a:this.a}},M.prototype.toHsvString=function(){var P=Vi(this.r,this.g,this.b),S=Math.round(P.h*360),w=Math.round(P.s*100),u=Math.round(P.v*100);return this.a===1?"hsv(".concat(S,", ").concat(w,"%, ").concat(u,"%)"):"hsva(".concat(S,", ").concat(w,"%, ").concat(u,"%, ").concat(this.roundA,")")},M.prototype.toHsl=function(){var P=Aa(this.r,this.g,this.b);return{h:P.h*360,s:P.s,l:P.l,a:this.a}},M.prototype.toHslString=function(){var P=Aa(this.r,this.g,this.b),S=Math.round(P.h*360),w=Math.round(P.s*100),u=Math.round(P.l*100);return this.a===1?"hsl(".concat(S,", ").concat(w,"%, ").concat(u,"%)"):"hsla(".concat(S,", ").concat(w,"%, ").concat(u,"%, ").concat(this.roundA,")")},M.prototype.toHex=function(P){return P===void 0&&(P=!1),Ii(this.r,this.g,this.b,P)},M.prototype.toHexString=function(P){return P===void 0&&(P=!1),"#"+this.toHex(P)},M.prototype.toHex8=function(P){return P===void 0&&(P=!1),fh(this.r,this.g,this.b,this.a,P)},M.prototype.toHex8String=function(P){return P===void 0&&(P=!1),"#"+this.toHex8(P)},M.prototype.toHexShortString=function(P){return P===void 0&&(P=!1),this.a===1?this.toHexString(P):this.toHex8String(P)},M.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},M.prototype.toRgbString=function(){var P=Math.round(this.r),S=Math.round(this.g),w=Math.round(this.b);return this.a===1?"rgb(".concat(P,", ").concat(S,", ").concat(w,")"):"rgba(".concat(P,", ").concat(S,", ").concat(w,", ").concat(this.roundA,")")},M.prototype.toPercentageRgb=function(){var P=function(S){return"".concat(Math.round(tt(S,255)*100),"%")};return{r:P(this.r),g:P(this.g),b:P(this.b),a:this.a}},M.prototype.toPercentageRgbString=function(){var P=function(S){return Math.round(tt(S,255)*100)};return this.a===1?"rgb(".concat(P(this.r),"%, ").concat(P(this.g),"%, ").concat(P(this.b),"%)"):"rgba(".concat(P(this.r),"%, ").concat(P(this.g),"%, ").concat(P(this.b),"%, ").concat(this.roundA,")")},M.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var P="#"+Ii(this.r,this.g,this.b,!1),S=0,w=Object.entries($n);S<w.length;S++){var u=w[S],x=u[0],e=u[1];if(P===e)return x}return!1},M.prototype.toString=function(P){var S=!!P;P=P??this.format;var w=!1,u=this.a<1&&this.a>=0,x=!S&&u&&(P.startsWith("hex")||P==="name");return x?P==="name"&&this.a===0?this.toName():this.toRgbString():(P==="rgb"&&(w=this.toRgbString()),P==="prgb"&&(w=this.toPercentageRgbString()),(P==="hex"||P==="hex6")&&(w=this.toHexString()),P==="hex3"&&(w=this.toHexString(!0)),P==="hex4"&&(w=this.toHex8String(!0)),P==="hex8"&&(w=this.toHex8String()),P==="name"&&(w=this.toName()),P==="hsl"&&(w=this.toHslString()),P==="hsv"&&(w=this.toHsvString()),w||this.toHexString())},M.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},M.prototype.clone=function(){return new M(this.toString())},M.prototype.lighten=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.l+=P/100,S.l=jn(S.l),new M(S)},M.prototype.brighten=function(P){P===void 0&&(P=10);var S=this.toRgb();return S.r=Math.max(0,Math.min(255,S.r-Math.round(255*-(P/100)))),S.g=Math.max(0,Math.min(255,S.g-Math.round(255*-(P/100)))),S.b=Math.max(0,Math.min(255,S.b-Math.round(255*-(P/100)))),new M(S)},M.prototype.darken=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.l-=P/100,S.l=jn(S.l),new M(S)},M.prototype.tint=function(P){return P===void 0&&(P=10),this.mix("white",P)},M.prototype.shade=function(P){return P===void 0&&(P=10),this.mix("black",P)},M.prototype.desaturate=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.s-=P/100,S.s=jn(S.s),new M(S)},M.prototype.saturate=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.s+=P/100,S.s=jn(S.s),new M(S)},M.prototype.greyscale=function(){return this.desaturate(100)},M.prototype.spin=function(P){var S=this.toHsl(),w=(S.h+P)%360;return S.h=w<0?360+w:w,new M(S)},M.prototype.mix=function(P,S){S===void 0&&(S=50);var w=this.toRgb(),u=new M(P).toRgb(),x=S/100,e={r:(u.r-w.r)*x+w.r,g:(u.g-w.g)*x+w.g,b:(u.b-w.b)*x+w.b,a:(u.a-w.a)*x+w.a};return new M(e)},M.prototype.analogous=function(P,S){P===void 0&&(P=6),S===void 0&&(S=30);var w=this.toHsl(),u=360/S,x=[this];for(w.h=(w.h-(u*P>>1)+720)%360;--P;)w.h=(w.h+u)%360,x.push(new M(w));return x},M.prototype.complement=function(){var P=this.toHsl();return P.h=(P.h+180)%360,new M(P)},M.prototype.monochromatic=function(P){P===void 0&&(P=6);for(var S=this.toHsv(),w=S.h,u=S.s,x=S.v,e=[],l=1/P;P--;)e.push(new M({h:w,s:u,v:x})),x=(x+l)%1;return e},M.prototype.splitcomplement=function(){var P=this.toHsl(),S=P.h;return[this,new M({h:(S+72)%360,s:P.s,l:P.l}),new M({h:(S+216)%360,s:P.s,l:P.l})]},M.prototype.onBackground=function(P){var S=this.toRgb(),w=new M(P).toRgb(),u=S.a+w.a*(1-S.a);return new M({r:(S.r*S.a+w.r*w.a*(1-S.a))/u,g:(S.g*S.a+w.g*w.a*(1-S.a))/u,b:(S.b*S.a+w.b*w.a*(1-S.a))/u,a:u})},M.prototype.triad=function(){return this.polyad(3)},M.prototype.tetrad=function(){return this.polyad(4)},M.prototype.polyad=function(P){for(var S=this.toHsl(),w=S.h,u=[this],x=360/P,e=1;e<P;e++)u.push(new M({h:(w+e*x)%360,s:S.s,l:S.l}));return u},M.prototype.equals=function(P){return this.toRgbString()===new M(P).toRgbString()},M}();var Vr=2,ph=.16,u3=.05,d3=.05,f3=.15,Th=5,Sh=4,v3=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function mh(M){var P=M.r,S=M.g,w=M.b,u=Vi(P,S,w);return{h:u.h*360,s:u.s,v:u.v}}function Ir(M){var P=M.r,S=M.g,w=M.b;return"#".concat(Ii(P,S,w,!1))}function p3(M,P,S){var w=S/100,u={r:(P.r-M.r)*w+M.r,g:(P.g-M.g)*w+M.g,b:(P.b-M.b)*w+M.b};return u}function gh(M,P,S){var w;return Math.round(M.h)>=60&&Math.round(M.h)<=240?w=S?Math.round(M.h)-Vr*P:Math.round(M.h)+Vr*P:w=S?Math.round(M.h)+Vr*P:Math.round(M.h)-Vr*P,w<0?w+=360:w>=360&&(w-=360),w}function xh(M,P,S){if(M.h===0&&M.s===0)return M.s;var w;return S?w=M.s-ph*P:P===Sh?w=M.s+ph:w=M.s+u3*P,w>1&&(w=1),S&&P===Th&&w>.1&&(w=.1),w<.06&&(w=.06),Number(w.toFixed(2))}function yh(M,P,S){var w;return S?w=M.v+d3*P:w=M.v-f3*P,w>1&&(w=1),Number(w.toFixed(2))}function Br(M){for(var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=[],w=yt(M),u=Th;u>0;u-=1){var x=mh(w),e=Ir(yt({h:gh(x,u,!0),s:xh(x,u,!0),v:yh(x,u,!0)}));S.push(e)}S.push(Ir(w));for(var l=1;l<=Sh;l+=1){var p=mh(w),a=Ir(yt({h:gh(p,l),s:xh(p,l),v:yh(p,l)}));S.push(a)}return P.theme==="dark"?v3.map(function(s){var r=s.index,t=s.opacity,n=Ir(p3(yt(P.backgroundColor||"#141414"),yt(S[r]),t*100));return n}):S}var Ch=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Ch.primary=Ch[5];var Mh=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Mh.primary=Mh[5];var Eh=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Eh.primary=Eh[5];var Ph=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Ph.primary=Ph[5];var wh=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];wh.primary=wh[5];var zh=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];zh.primary=zh[5];var Ah=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Ah.primary=Ah[5];var Dh=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Dh.primary=Dh[5];var Fh=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Fh.primary=Fh[5];var Lh=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Lh.primary=Lh[5];var Rh=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Rh.primary=Rh[5];var Oh=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Oh.primary=Oh[5];var bh=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];bh.primary=bh[5];var Vh=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Vh.primary=Vh[5];var Ih=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Ih.primary=Ih[5];var Bh=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Bh.primary=Bh[5];var Hh=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Hh.primary=Hh[5];var Yh=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Yh.primary=Yh[5];var Nh=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Nh.primary=Nh[5];var Uh=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Uh.primary=Uh[5];var Gh=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Gh.primary=Gh[5];var kh=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];kh.primary=kh[5];var Wh=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Wh.primary=Wh[5];var Xh=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Xh.primary=Xh[5];var jh=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];jh.primary=jh[5];var Kh=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Kh.primary=Kh[5];var Jt="[@ant-design/icons-angular]:";function m3(M){console.error(`${Jt} ${M}.`)}function Qh(M){sr()&&console.warn(`${Jt} ${M}.`)}function $h(M){return Br(M)[0]}function Hr(M,P){switch(P){case"fill":return`${M}-fill`;case"outline":return`${M}-o`;case"twotone":return`${M}-twotone`;case void 0:return M;default:throw new Error(`${Jt}Theme "${P}" is not a recognized theme!`)}}function g3(M,P,S,w){return`${Hr(M,P)}-${S}-${w}`}function x3(M){return M==="o"?"outline":M}function y3(M){return M.endsWith("-fill")||M.endsWith("-o")||M.endsWith("-twotone")}function Jh(M){return typeof M=="object"&&typeof M.name=="string"&&(typeof M.theme=="string"||M.theme===void 0)&&typeof M.icon=="string"}function T3(M){let P=M.split("-"),S=x3(P.splice(P.length-1,1)[0]);return{name:P.join("-"),theme:S,icon:""}}function S3(M){return M.cloneNode(!0)}function C3(M){return M.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function Yr(M){let P=M.split(":");switch(P.length){case 1:return[M,""];case 2:return[P[1],P[0]];default:throw new Error(`${Jt}The icon type ${M} is not valid!`)}}function M3(M){return Yr(M)[1]!==""}function E3(){return new Error(`${Jt}Type should have a namespace. Try "namespace:${name}".`)}function Zh(M){return new Error(`${Jt}the icon ${M} does not exist or is not registered.`)}function P3(){return m3('you need to import "HttpClientModule" to use dynamic importing.'),null}function w3(M){return new Error(`${Jt}The url "${M}" is unsafe.`)}function z3(){return new Error(`${Jt}<svg> tag not found.`)}function A3(){return new Error(`${Jt}Importing timeout error.`)}var D3="__ant_icon_load",F3=new ve("ant_icons"),Ra=(()=>{class M{set twoToneColor({primaryColor:S,secondaryColor:w}){this._twoToneColorPalette.primaryColor=S,this._twoToneColorPalette.secondaryColor=w||$h(S)}get twoToneColor(){return re({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(S,w,u,x,e){this._rendererFactory=S,this._handler=w,this._document=u,this.sanitizer=x,this._antIcons=e,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new de,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Ds(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?Qh("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[D3]=S=>{this._jsonpIconLoad$.next(S)})}changeAssetsSource(S){this._assetsUrlRoot=S.endsWith("/")?S:S+"/"}addIcon(...S){S.forEach(w=>{this._svgDefinitions.set(Hr(w.name,w.theme),w)})}addIconLiteral(S,w){let[u,x]=Yr(S);if(!x)throw E3();this.addIcon({name:S,icon:w})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(S,w){let u=Jh(S)?S:this._svgDefinitions.get(S)||null;if(!u&&this._disableDynamicLoading)throw Zh(S);return(u?ue(u):this._loadIconDynamically(S)).pipe(pe(e=>{if(!e)throw Zh(S);return this._loadSVGFromCacheOrCreateNew(e,w)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(S){if(!this._http&&!this._enableJsonpLoading)return ue(P3());let w=this._inProgressFetches.get(S);if(!w){let[u,x]=Yr(S),e=x?{name:S,icon:""}:T3(u),l=this._enableJsonpLoading?".js":".svg",p=(x?`${this._assetsUrlRoot}assets/${x}/${u}`:`${this._assetsUrlRoot}assets/${e.theme}/${e.name}`)+l,a=this.sanitizer.sanitize(jt.URL,p);if(!a)throw w3(p);w=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(e,a):this._http.get(a,{responseType:"text"}).pipe(pe(r=>Ne(re({},e),{icon:r})))).pipe(Ke(r=>this.addIcon(r)),Ht(()=>this._inProgressFetches.delete(S)),ti(()=>ue(null)),go()),this._inProgressFetches.set(S,w)}return w}_loadIconDynamicallyWithJsonp(S,w){return new xi(u=>{let x=this._document.createElement("script"),e=setTimeout(()=>{l(),u.error(A3())},6e3);x.src=w;function l(){x.parentNode.removeChild(x),clearTimeout(e)}this._document.body.appendChild(x),this._jsonpIconLoad$.pipe(je(p=>p.name===S.name&&p.theme===S.theme),Bt(1)).subscribe(p=>{u.next(p),l()})})}_loadSVGFromCacheOrCreateNew(S,w){let u,x=w||this._twoToneColorPalette.primaryColor,e=$h(x)||this._twoToneColorPalette.secondaryColor,l=S.theme==="twotone"?g3(S.name,S.theme,x,e):S.theme===void 0?S.name:Hr(S.name,S.theme),p=this._svgRenderedDefinitions.get(l);return p?u=p.icon:(u=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(M3(S.name)?S.icon:C3(S.icon)),S.theme==="twotone",x,e)),this._svgRenderedDefinitions.set(l,Ne(re({},S),{icon:u}))),S3(u)}_createSVGElementFromString(S){let w=this._document.createElement("div");w.innerHTML=S;let u=w.querySelector("svg");if(!u)throw z3;return u}_setSVGAttribute(S){return this._renderer.setAttribute(S,"width","1em"),this._renderer.setAttribute(S,"height","1em"),S}_colorizeSVGIcon(S,w,u,x){if(w){let e=S.childNodes,l=e.length;for(let p=0;p<l;p++){let a=e[p];a.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute(a,"fill",x):this._renderer.setAttribute(a,"fill",u)}}return this._renderer.setAttribute(S,"fill","currentColor"),S}static{this.\u0275fac=function(w){return new(w||M)(ee(Dt),ee(hi,8),ee(Te,8),ee(En),ee(F3,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})();function L3(M,P){return M.type===P.type&&M.theme===P.theme&&M.twoToneColor===P.twoToneColor}var qh=(()=>{class M{constructor(S,w,u){this._iconService=S,this._elementRef=w,this._renderer=u}ngOnChanges(S){(S.type||S.theme||S.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(S=>{if(!this.type){this._clearSVGElement(),S(null);return}let w=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(u=>{let x=this._getSelfRenderMeta();L3(w,x)?(this._setSVGElement(u),S(u)):S(null)})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(S,w){if(Jh(S))return S;{let[u,x]=Yr(S);return x?S:y3(u)?(w&&Qh(`'type' ${u} already gets a theme inside so 'theme' ${w} would be ignored`),u):Hr(u,w||this._iconService.defaultTheme)}}_setSVGElement(S){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,S)}_clearSVGElement(){let S=this._elementRef.nativeElement,w=S.childNodes,u=w.length;for(let x=u-1;x>=0;x--){let e=w[x];e.tagName?.toLowerCase()==="svg"&&this._renderer.removeChild(S,e)}}static{this.\u0275fac=function(w){return new(w||M)(he(Ra),he(Oe),he(St))}}static{this.\u0275dir=Ze({type:M,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Ue]})}}return M})();var _h={isTestMode:!1};var e4={},R3="[NG-ZORRO]:";function O3(...M){let P=M.reduce((S,w)=>S+w.toString(),"");return e4[P]?!1:(e4[P]=!0,!0)}function b3(M,...P){(_h.isTestMode||sr()&&O3(...P))&&M(...P)}var Zn=(...M)=>b3((...P)=>console.warn(R3,...P),...M);var Nr=2,t4=.16,V3=.05,I3=.05,B3=.15,a4=5,o4=4,H3=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function i4({r:M,g:P,b:S}){let w=Vi(M,P,S);return{h:w.h*360,s:w.s,v:w.v}}function Ur({r:M,g:P,b:S}){return`#${Ii(M,P,S,!1)}`}function Y3(M,P,S){let w=S/100;return{r:(P.r-M.r)*w+M.r,g:(P.g-M.g)*w+M.g,b:(P.b-M.b)*w+M.b}}function n4(M,P,S){let w;return Math.round(M.h)>=60&&Math.round(M.h)<=240?w=S?Math.round(M.h)-Nr*P:Math.round(M.h)+Nr*P:w=S?Math.round(M.h)+Nr*P:Math.round(M.h)-Nr*P,w<0?w+=360:w>=360&&(w-=360),w}function r4(M,P,S){if(M.h===0&&M.s===0)return M.s;let w;return S?w=M.s-t4*P:P===o4?w=M.s+t4:w=M.s+V3*P,w>1&&(w=1),S&&P===a4&&w>.1&&(w=.1),w<.06&&(w=.06),Number(w.toFixed(2))}function s4(M,P,S){let w;return S?w=M.v+I3*P:w=M.v-B3*P,w>1&&(w=1),Number(w.toFixed(2))}function Oa(M,P={}){let S=[],w=yt(M);for(let u=a4;u>0;u-=1){let x=i4(w),e=Ur(yt({h:n4(x,u,!0),s:r4(x,u,!0),v:s4(x,u,!0)}));S.push(e)}S.push(Ur(w));for(let u=1;u<=o4;u+=1){let x=i4(w),e=Ur(yt({h:n4(x,u),s:r4(x,u),v:s4(x,u)}));S.push(e)}return P.theme==="dark"?H3.map(({index:u,opacity:x})=>Ur(Y3(yt(P.backgroundColor||"#141414"),yt(S[u]),x*100))):S}function ba(M){return Array.isArray(M)?M:[M]}function He(M){return M==null?"":typeof M=="string"?M:`${M}px`}function l4(M){return M instanceof Oe?M.nativeElement:M}function c4(M){return ar(M,0)}function u4(M){return He(M)}var U3=typeof window<"u",Fd=U3&&window.mozInnerScreenX!=null;function d4(){let M=new de;return Promise.resolve().then(()=>M.next()),M.pipe(Bt(1))}function Ia(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var G3="rc-util-key";function f4({mark:M}={}){return M?M.startsWith("data-")?M:`data-${M}`:G3}function Ba(M){return M.attachTo?M.attachTo:document.querySelector("head")||document.body}function h4(M,P={}){if(!Ia())return null;let S=document.createElement("style");P.cspNonce&&(S.nonce=P.cspNonce),S.innerHTML=M;let w=Ba(P),{firstChild:u}=w;return P.prepend&&w.prepend?w.prepend(S):P.prepend&&u?w.insertBefore(S,u):w.appendChild(S),S}var Va=new Map;function k3(M,P={}){let S=Ba(P);return Array.from(Va.get(S)?.children||[]).find(w=>w.tagName==="STYLE"&&w.getAttribute(f4(P))===M)}function v4(M,P,S={}){let w=Ba(S);if(!Va.has(w)){let e=h4("",S),{parentNode:l}=e;Va.set(w,l),l.removeChild(e)}let u=k3(P,S);if(u)return S.cspNonce&&u.nonce!==S.cspNonce&&(u.nonce=S.cspNonce),u.innerHTML!==M&&(u.innerHTML=M),u;let x=h4(M,S);return x?.setAttribute(f4(S),P),x}var W3=new ve("nz-config");var X3=`-ant-${Date.now()}-${Math.random()}`;function j3(M,P){let S={},w=(e,l)=>{let p=e.clone();return p=l?.(p)||p,p.toRgbString()},u=(e,l)=>{let p=new br(e),a=Oa(p.toRgbString());S[`${l}-color`]=w(p),S[`${l}-color-disabled`]=a[1],S[`${l}-color-hover`]=a[4],S[`${l}-color-active`]=a[7],S[`${l}-color-outline`]=p.clone().setAlpha(.2).toRgbString(),S[`${l}-color-deprecated-bg`]=a[1],S[`${l}-color-deprecated-border`]=a[3]};if(P.primaryColor){u(P.primaryColor,"primary");let e=new br(P.primaryColor),l=Oa(e.toRgbString());l.forEach((a,s)=>{S[`primary-${s+1}`]=a}),S["primary-color-deprecated-l-35"]=w(e,a=>a.lighten(35)),S["primary-color-deprecated-l-20"]=w(e,a=>a.lighten(20)),S["primary-color-deprecated-t-20"]=w(e,a=>a.tint(20)),S["primary-color-deprecated-t-50"]=w(e,a=>a.tint(50)),S["primary-color-deprecated-f-12"]=w(e,a=>a.setAlpha(a.getAlpha()*.12));let p=new br(l[0]);S["primary-color-active-deprecated-f-30"]=w(p,a=>a.setAlpha(a.getAlpha()*.3)),S["primary-color-active-deprecated-d-02"]=w(p,a=>a.darken(2))}return P.successColor&&u(P.successColor,"success"),P.warningColor&&u(P.warningColor,"warning"),P.errorColor&&u(P.errorColor,"error"),P.infoColor&&u(P.infoColor,"info"),`
  :root {
    ${Object.keys(S).map(e=>`--${M}-${e}: ${S[e]};`).join(`
`)}
  }
  `.trim()}function p4(M,P,S){let w=j3(M,P);Ia()?v4(w,`${X3}-dynamic-theme`,{cspNonce:S}):Zn("NzConfigService: SSR do not support dynamic theme with css variables.")}var m4="ant",g4=(()=>{class M{constructor(){this.configUpdated$=new de,this.config=te(W3,{optional:!0})||{},this.cspNonce=te(Pi,{optional:!0}),this.config.theme&&p4(this.getConfig().prefixCls?.prefixCls||m4,this.config.theme,this.cspNonce)}getConfig(){return this.config}getConfigForComponent(S){return this.config[S]}getConfigChangeEventForComponent(S){return this.configUpdated$.pipe(je(w=>w===S),Gi(void 0))}set(S,w){this.config[S]=re(re({},this.config[S]),w),S==="theme"&&this.config.theme&&p4(this.getConfig().prefixCls?.prefixCls||m4,this.config.theme,this.cspNonce),this.configUpdated$.next(S)}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var Ha;try{Ha=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ha=!1}var dt=(()=>{class M{constructor(S){this._platformId=S,this.isBrowser=this._platformId?Zo(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ha)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(w){return new(w||M)(ee(Yt))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var Bi;function x4(){if(Bi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Bi=!1,Bi;if("scrollBehavior"in document.documentElement.style)Bi=!0;else{let M=Element.prototype.scrollTo;M?Bi=!/\{\s*\[native code\]\s*\}/.test(M.toString()):Bi=!1}}return Bi}function Gr(M){return M.composedPath?M.composedPath()[0]:M.target}function Ya(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var $3=[m1,g1,T1,S1,x1,y1,C1,M1,w1,z1,E1,b1,P1,A1,D1,L1,R1,O1,I1,V1,B1,W1,H1,Y1,N1,U1,k1,X1,j1,K1,Q1,J1,_1,q1,rh,wa,eh,wa,lh,sh,nh,th,ih,ah,oh],T4=new ve("nz_icons"),sf=new ve("nz_icon_default_twotone_color"),y4="#1890ff",S4=(()=>{class M extends Ra{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(S){S.getAttribute("viewBox")||this._renderer.setAttribute(S,"viewBox","0 0 1024 1024"),(!S.getAttribute("width")||!S.getAttribute("height"))&&(this._renderer.setAttribute(S,"width","1em"),this._renderer.setAttribute(S,"height","1em")),S.getAttribute("fill")||this._renderer.setAttribute(S,"fill","currentColor")}fetchFromIconfont(S){let{scriptUrl:w}=S;if(this._document&&!this.iconfontCache.has(w)){let u=this._renderer.createElement("script");this._renderer.setAttribute(u,"src",w),this._renderer.setAttribute(u,"data-namespace",w.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,u),this.iconfontCache.add(w)}}createIconfontIcon(S){return this._createSVGElementFromString(`<svg><use xlink:href="${S}"></svg>`)}constructor(S,w,u,x){super(S,te(hi,{optional:!0}),te(Te),w,[...$3,...te(T4,{optional:!0})||[]]),this.nzConfigService=u,this.platform=x,this.configUpdated$=new de,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let S=this.getConfig();this.defaultTheme=S.nzTheme||"outline"}configDefaultTwotoneColor(){let w=this.getConfig().nzTwotoneColor||y4,u=y4;w&&(w.startsWith("#")?u=w:Zn("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:u}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static{this.\u0275fac=function(w){return new(w||M)(ee(Dt),ee(En),ee(g4),ee(dt))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),C4=new ve("nz_icons_patch"),M4=(()=>{class M{constructor(S){this.rootIconService=S,this.patched=!1,this.extraIcons=te(C4,{self:!0})}doPatch(){this.patched||(this.extraIcons.forEach(S=>this.rootIconService.addIcon(S)),this.patched=!0)}static{this.\u0275fac=function(w){return new(w||M)(ee(S4))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),an=(()=>{class M extends qh{set nzSpin(S){this.spin=S}set nzType(S){this.type=S}set nzTheme(S){this.theme=S}set nzTwotoneColor(S){this.twoToneColor=S}set nzIconfont(S){this.iconfont=S}constructor(S,w,u,x,e){super(x,u,e),this.ngZone=S,this.changeDetectorRef=w,this.iconService=x,this.renderer=e,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new de;let l=te(M4,{optional:!0});l&&l.doPatch(),this.el=u.nativeElement}ngOnChanges(S){let{nzType:w,nzTwotoneColor:u,nzSpin:x,nzTheme:e,nzRotate:l}=S;w||u||x||e?this.changeIcon2():l?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){let S=this.el.children,w=S.length;if(!this.type&&S.length)for(;w--;){let u=S[w];u.tagName.toLowerCase()==="svg"&&this.iconService.normalizeSvgElement(u)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{ot(this._changeIcon()).pipe(Se(this.destroy$)).subscribe({next:S=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),S&&(this.setSVGData(S),this.handleSpin(S),this.handleRotate(S))})},error:Zn})})}handleSpin(S){this.spin||this.type==="loading"?this.renderer.addClass(S,"anticon-spin"):this.renderer.removeClass(S,"anticon-spin")}handleRotate(S){this.nzRotate?this.renderer.setAttribute(S,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(S,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(S){this.renderer.setAttribute(S,"data-icon",this.type),this.renderer.setAttribute(S,"aria-hidden","true")}static{this.\u0275fac=function(w){return new(w||M)(he(Le),he(pt),he(Oe),he(S4),he(St))}}static{this.\u0275dir=Ze({type:M,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(w,u){w&2&&_e("anticon",!0)},inputs:{nzSpin:[2,"nzSpin","nzSpin",Me],nzRotate:[2,"nzRotate","nzRotate",ar],nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],standalone:!0,features:[ut,fn,Ue]})}}return M})(),Na=M=>Tt([{provide:T4,useValue:M}]),Z3=M=>[M4,{provide:C4,useValue:M}],on=(()=>{class M{static forRoot(S){return{ngModule:M,providers:[Na(S)]}}static forChild(S){return{ngModule:M,providers:[Z3(S)]}}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({})}}return M})();var Q3=new ve("nz-i18n");function E4(M){return Tt([{provide:Q3,useValue:M}])}var cf=new ve("nz-date-locale");var uf=new ve("date-config");var P4={locale:"fr",Pagination:{items_per_page:"/ page",jump_to:"Aller \xE0",jump_to_confirm:"confirmer",page:"Page",prev_page:"Page pr\xE9c\xE9dente",next_page:"Page suivante",prev_5:"5 Pages pr\xE9c\xE9dentes",next_5:"5 Pages suivantes",prev_3:"3 Pages pr\xE9c\xE9dentes",next_3:"3 Pages suivantes",page_size:"taille de la page"},DatePicker:{lang:{placeholder:"S\xE9lectionner une date",yearPlaceholder:"S\xE9lectionner une ann\xE9e",quarterPlaceholder:"S\xE9lectionner un trimestre",monthPlaceholder:"S\xE9lectionner un mois",weekPlaceholder:"S\xE9lectionner une semaine",rangePlaceholder:["Date de d\xE9but","Date de fin"],rangeYearPlaceholder:["Ann\xE9e de d\xE9but","Ann\xE9e de fin"],rangeMonthPlaceholder:["Mois de d\xE9but","Mois de fin"],rangeWeekPlaceholder:["Semaine de d\xE9but","Semaine de fin"],locale:"fr_FR",today:"Aujourd'hui",now:"Maintenant",backToToday:"Aujourd'hui",ok:"Ok",clear:"R\xE9tablir",month:"Mois",year:"Ann\xE9e",timeSelect:"S\xE9lectionner l'heure",dateSelect:"S\xE9lectionner la date",weekSelect:"Choisissez une semaine",monthSelect:"Choisissez un mois",yearSelect:"Choisissez une ann\xE9e",decadeSelect:"Choisissez une d\xE9cennie",yearFormat:"YYYY",dateFormat:"DD/MM/YYYY",dayFormat:"DD",dateTimeFormat:"DD/MM/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mois pr\xE9c\xE9dent (PageUp)",nextMonth:"Mois suivant (PageDown)",previousYear:"Ann\xE9e pr\xE9c\xE9dente (Ctrl + gauche)",nextYear:"Ann\xE9e prochaine (Ctrl + droite)",previousDecade:"D\xE9cennie pr\xE9c\xE9dente",nextDecade:"D\xE9cennie suivante",previousCentury:"Si\xE8cle pr\xE9c\xE9dent",nextCentury:"Si\xE8cle suivant"},timePickerLocale:{placeholder:"S\xE9lectionner l'heure",rangePlaceholder:["Heure de d\xE9but","Heure de fin"]}},TimePicker:{placeholder:"S\xE9lectionner l'heure",rangePlaceholder:["Heure de d\xE9but","Heure de fin"]},Calendar:{lang:{placeholder:"S\xE9lectionner une date",yearPlaceholder:"S\xE9lectionner une ann\xE9e",quarterPlaceholder:"S\xE9lectionner un trimestre",monthPlaceholder:"S\xE9lectionner un mois",weekPlaceholder:"S\xE9lectionner une semaine",rangePlaceholder:["Date de d\xE9but","Date de fin"],rangeYearPlaceholder:["Ann\xE9e de d\xE9but","Ann\xE9e de fin"],rangeMonthPlaceholder:["Mois de d\xE9but","Mois de fin"],rangeWeekPlaceholder:["Semaine de d\xE9but","Semaine de fin"],locale:"fr_FR",today:"Aujourd'hui",now:"Maintenant",backToToday:"Aujourd'hui",ok:"Ok",clear:"R\xE9tablir",month:"Mois",year:"Ann\xE9e",timeSelect:"S\xE9lectionner l'heure",dateSelect:"S\xE9lectionner la date",monthSelect:"Choisissez un mois",yearSelect:"Choisissez une ann\xE9e",decadeSelect:"Choisissez une d\xE9cennie",yearFormat:"YYYY",dateFormat:"DD/MM/YYYY",dayFormat:"DD",dateTimeFormat:"DD/MM/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mois pr\xE9c\xE9dent (PageUp)",nextMonth:"Mois suivant (PageDown)",previousYear:"Ann\xE9e pr\xE9c\xE9dente (Ctrl + gauche)",nextYear:"Ann\xE9e prochaine (Ctrl + droite)",previousDecade:"D\xE9cennie pr\xE9c\xE9dente",nextDecade:"D\xE9cennie suivante",previousCentury:"Si\xE8cle pr\xE9c\xE9dent",nextCentury:"Si\xE8cle suivant"},timePickerLocale:{placeholder:"S\xE9lectionner l'heure",rangePlaceholder:["Heure de d\xE9but","Heure de fin"]}},global:{placeholder:"S\xE9lectionner"},Table:{filterTitle:"Filtrer",filterConfirm:"OK",filterReset:"R\xE9initialiser",selectAll:"S\xE9lectionner la page actuelle",selectInvert:"Inverser la s\xE9lection de la page actuelle",selectionAll:"S\xE9lectionner toutes les donn\xE9es",sortTitle:"Trier",expand:"D\xE9velopper la ligne",collapse:"R\xE9duire la ligne",triggerDesc:"Trier par ordre d\xE9croissant",triggerAsc:"Trier par ordre croissant",cancelSort:"Annuler le tri",filterEmptyText:"Aucun filtre",emptyText:"Aucune donn\xE9e",selectNone:"D\xE9s\xE9lectionner toutes les donn\xE9es"},Modal:{okText:"OK",cancelText:"Annuler",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Annuler"},Transfer:{searchPlaceholder:"Rechercher",itemUnit:"\xE9l\xE9ment",itemsUnit:"\xE9l\xE9ments",titles:["",""],remove:"D\xE9s\xE9lectionner",selectCurrent:"S\xE9lectionner la page actuelle",removeCurrent:"D\xE9s\xE9lectionner la page actuelle",selectAll:"S\xE9lectionner toutes les donn\xE9es",removeAll:"D\xE9s\xE9lectionner toutes les donn\xE9es",selectInvert:"Inverser la s\xE9lection de la page actuelle"},Empty:{description:"Aucune donn\xE9e"},Upload:{uploading:"T\xE9l\xE9chargement...",removeFile:"Effacer le fichier",uploadError:"Erreur de t\xE9l\xE9chargement",previewFile:"Fichier de pr\xE9visualisation",downloadFile:"T\xE9l\xE9charger un fichier"},Text:{edit:"\xC9diter",copy:"Copier",copied:"Copie effectu\xE9e",expand:"D\xE9velopper"},PageHeader:{back:"Retour"},Icon:{icon:"ic\xF4ne"},Image:{preview:"Aper\xE7u"},CronExpression:{cronError:"Expression CRON invalide",second:"seconde",minute:"minute",hour:"heure",day:"jour",month:"mois",week:"semaine"},QRCode:{expired:"QR code expir\xE9",refresh:"Rafra\xEEchir",scanned:"Scann\xE9"}};function J3(M){let P=M,S=Math.floor(Math.abs(M)),w=M.toString().replace(/^[^.]*\.?/,"").length,u=parseInt(M.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return S===0||S===1?1:u===0&&S!==0&&S%1e6===0&&w===0||!(u>=0&&u<=5)?4:5}var w4=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",J3];var q3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ff=Ne(re({},q3),{"[class.ng-submitted]":"isSubmitted"});var _3=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>z4}),z4="always";var e8=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({})}}return M})();var A4=(()=>{class M{static withConfig(S){return{ngModule:M,providers:[{provide:_3,useValue:S.callSetDisabledState??z4}]}}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({imports:[e8]})}}return M})();var t8="@",i8=(()=>{class M{constructor(S,w,u,x,e){this.doc=S,this.delegate=w,this.zone=u,this.animationType=x,this.moduleImpl=e,this._rendererFactoryPromise=null,this.scheduler=te(Oo,{optional:!0}),this.loadingSchedulerFn=te(n8,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let S=()=>this.moduleImpl??import("./chunk-UAGLIUC5.js").then(u=>u),w;return this.loadingSchedulerFn?w=this.loadingSchedulerFn(S):w=S(),w.catch(u=>{throw new Fe(5300,!1)}).then(({\u0275createEngine:u,\u0275AnimationRendererFactory:x})=>{this._engine=u(this.animationType,this.doc);let e=new x(this.delegate,this._engine,this.zone);return this.delegate=e,e})}createRenderer(S,w){let u=this.delegate.createRenderer(S,w);if(u.\u0275type===0)return u;typeof u.throwOnSyntheticProps=="boolean"&&(u.throwOnSyntheticProps=!1);let x=new Ga(u);return w?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(e=>{let l=e.createRenderer(S,w);x.use(l),this.scheduler?.notify(10)}).catch(e=>{x.use(u)}),x}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(w){hs()}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),Ga=class{constructor(P){this.delegate=P,this.replay=[],this.\u0275type=1}use(P){if(this.delegate=P,this.replay!==null){for(let S of this.replay)S(P);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(P,S){return this.delegate.createElement(P,S)}createComment(P){return this.delegate.createComment(P)}createText(P){return this.delegate.createText(P)}get destroyNode(){return this.delegate.destroyNode}appendChild(P,S){this.delegate.appendChild(P,S)}insertBefore(P,S,w,u){this.delegate.insertBefore(P,S,w,u)}removeChild(P,S,w){this.delegate.removeChild(P,S,w)}selectRootElement(P,S){return this.delegate.selectRootElement(P,S)}parentNode(P){return this.delegate.parentNode(P)}nextSibling(P){return this.delegate.nextSibling(P)}setAttribute(P,S,w,u){this.delegate.setAttribute(P,S,w,u)}removeAttribute(P,S,w){this.delegate.removeAttribute(P,S,w)}addClass(P,S){this.delegate.addClass(P,S)}removeClass(P,S){this.delegate.removeClass(P,S)}setStyle(P,S,w,u){this.delegate.setStyle(P,S,w,u)}removeStyle(P,S,w){this.delegate.removeStyle(P,S,w)}setProperty(P,S,w){this.shouldReplay(S)&&this.replay.push(u=>u.setProperty(P,S,w)),this.delegate.setProperty(P,S,w)}setValue(P,S){this.delegate.setValue(P,S)}listen(P,S,w){return this.shouldReplay(S)&&this.replay.push(u=>u.listen(P,S,w)),this.delegate.listen(P,S,w)}shouldReplay(P){return this.replay!==null&&P.startsWith(t8)}},n8=new ve("");function D4(M="animations"){return dn("NgAsyncAnimations"),Tt([{provide:Dt,useFactory:(P,S,w)=>new i8(P,S,w,M),deps:[Te,$i,Le]},{provide:Nt,useValue:M==="noop"?"NoopAnimations":"BrowserAnimations"}])}jo(w4);var F4={providers:[Uo({eventCoalescing:!0}),d1(p1),Fl(),Na(hh),E4(P4),To(A4),D4(),yl()]};var L4=new Set,Hi,R4=(()=>{class M{constructor(S,w){this._platform=S,this._nonce=w,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):s8}matchMedia(S){return(this._platform.WEBKIT||this._platform.BLINK)&&r8(S,this._nonce),this._matchMedia(S)}static{this.\u0275fac=function(w){return new(w||M)(ee(dt),ee(Pi,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function r8(M,P){if(!L4.has(M))try{Hi||(Hi=document.createElement("style"),P&&Hi.setAttribute("nonce",P),Hi.setAttribute("type","text/css"),document.head.appendChild(Hi)),Hi.sheet&&(Hi.sheet.insertRule(`@media ${M} {body{ }}`,0),L4.add(M))}catch(S){console.error(S)}}function s8(M){return{matches:M==="all"||M==="",media:M,addListener:()=>{},removeListener:()=>{}}}var ka=()=>{},o8=(()=>{class M{constructor(S,w){this.ngZone=S,this.rendererFactory2=w,this.resizeSource$=new de,this.listeners=0,this.disposeHandle=ka,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=ka}subscribe(){return this.registerListener(),this.resizeSource$.pipe(yi(16),Ht(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){this.listeners===0&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,this.listeners===0&&(this.disposeHandle(),this.disposeHandle=ka)}static{this.\u0275fac=function(w){return new(w||M)(ee(Le),ee(Dt))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var O4=function(M){return M.xxl="xxl",M.xl="xl",M.lg="lg",M.md="md",M.sm="sm",M.xs="xs",M}(O4||{}),l8={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},b4={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"},V4=(()=>{class M{constructor(S,w){this.resizeService=S,this.mediaMatcher=w,this.destroy$=new de,this.resizeService.subscribe().pipe(Se(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(S,w){if(w){let u=()=>this.matchMedia(S,!0);return this.resizeService.subscribe().pipe(pe(u),Xt(u()),Si((x,e)=>x[0]===e[0]),pe(x=>x[1]))}else{let u=()=>this.matchMedia(S);return this.resizeService.subscribe().pipe(pe(u),Xt(u()),Si())}}matchMedia(S,w){let u=O4.md,x={};return Object.keys(S).map(e=>{let l=e,p=this.mediaMatcher.matchMedia(l8[l]).matches;x[e]=p,p&&(u=l)}),w?[u,x]:u}static{this.\u0275fac=function(w){return new(w||M)(ee(o8),ee(R4))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var c8=new ve("cdk-dir-doc",{providedIn:"root",factory:u8});function u8(){return te(Te)}var d8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function f8(M){let P=M?.toLowerCase()||"";return P==="auto"&&typeof navigator<"u"&&navigator?.language?d8.test(navigator.language)?"rtl":"ltr":P==="rtl"?"rtl":"ltr"}var zt=(()=>{class M{constructor(S){if(this.value="ltr",this.change=new Ie,S){let w=S.body?S.body.dir:null,u=S.documentElement?S.documentElement.dir:null;this.value=f8(w||u||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(w){return new(w||M)(ee(c8,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var Qn=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({})}}return M})();var v8=20,B4=(()=>{class M{constructor(S,w,u){this._ngZone=S,this._platform=w,this._scrolled=new de,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=u}register(S){this.scrollContainers.has(S)||this.scrollContainers.set(S,S.elementScrolled().subscribe(()=>this._scrolled.next(S)))}deregister(S){let w=this.scrollContainers.get(S);w&&(w.unsubscribe(),this.scrollContainers.delete(S))}scrolled(S=v8){return this._platform.isBrowser?new xi(w=>{this._globalSubscription||this._addGlobalListener();let u=S>0?this._scrolled.pipe(yi(S)).subscribe(w):this._scrolled.subscribe(w);return this._scrolledCount++,()=>{u.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ue()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((S,w)=>this.deregister(w)),this._scrolled.complete()}ancestorScrolled(S,w){let u=this.getAncestorScrollContainers(S);return this.scrolled(w).pipe(je(x=>!x||u.indexOf(x)>-1))}getAncestorScrollContainers(S){let w=[];return this.scrollContainers.forEach((u,x)=>{this._scrollableContainsElement(x,S)&&w.push(x)}),w}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(S,w){let u=l4(w),x=S.getElementRef().nativeElement;do if(u==x)return!0;while(u=u.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let S=this._getWindow();return vo(S.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(w){return new(w||M)(ee(Le),ee(dt),ee(Te,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var p8=20,Xa=(()=>{class M{constructor(S,w,u){this._platform=S,this._change=new de,this._changeListener=x=>{this._change.next(x)},this._document=u,w.runOutsideAngular(()=>{if(S.isBrowser){let x=this._getWindow();x.addEventListener("resize",this._changeListener),x.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let S=this._getWindow();S.removeEventListener("resize",this._changeListener),S.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let S={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),S}getViewportRect(){let S=this.getViewportScrollPosition(),{width:w,height:u}=this.getViewportSize();return{top:S.top,left:S.left,bottom:S.top+u,right:S.left+w,height:u,width:w}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let S=this._document,w=this._getWindow(),u=S.documentElement,x=u.getBoundingClientRect(),e=-x.top||S.body.scrollTop||w.scrollY||u.scrollTop||0,l=-x.left||S.body.scrollLeft||w.scrollX||u.scrollLeft||0;return{top:e,left:l}}change(S=p8){return S>0?this._change.pipe(yi(S)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let S=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:S.innerWidth,height:S.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(w){return new(w||M)(ee(dt),ee(Le),ee(Te,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var I4=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({})}}return M})(),ja=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({imports:[Qn,I4,Qn,I4]})}}return M})();var Jn=class{attach(P){return this._attachedHost=P,P.attach(this)}detach(){let P=this._attachedHost;P!=null&&(this._attachedHost=null,P.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(P){this._attachedHost=P}},Ka=class extends Jn{constructor(P,S,w,u,x){super(),this.component=P,this.viewContainerRef=S,this.injector=w,this.componentFactoryResolver=u,this.projectableNodes=x}},qn=class extends Jn{constructor(P,S,w,u){super(),this.templateRef=P,this.viewContainerRef=S,this.context=w,this.injector=u}get origin(){return this.templateRef.elementRef}attach(P,S=this.context){return this.context=S,super.attach(P)}detach(){return this.context=void 0,super.detach()}},$a=class extends Jn{constructor(P){super(),this.element=P instanceof Oe?P.nativeElement:P}},Za=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(P){if(P instanceof Ka)return this._attachedPortal=P,this.attachComponentPortal(P);if(P instanceof qn)return this._attachedPortal=P,this.attachTemplatePortal(P);if(this.attachDomPortal&&P instanceof $a)return this._attachedPortal=P,this.attachDomPortal(P)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(P){this._disposeFn=P}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var kr=class extends Za{constructor(P,S,w,u,x){super(),this.outletElement=P,this._componentFactoryResolver=S,this._appRef=w,this._defaultInjector=u,this.attachDomPortal=e=>{this._document;let l=e.element;l.parentNode;let p=this._document.createComment("dom-portal");l.parentNode.insertBefore(p,l),this.outletElement.appendChild(l),this._attachedPortal=e,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(l,p)})},this._document=x}attachComponentPortal(P){let w=(P.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(P.component),u;return P.viewContainerRef?(u=P.viewContainerRef.createComponent(w,P.viewContainerRef.length,P.injector||P.viewContainerRef.injector,P.projectableNodes||void 0),this.setDisposeFn(()=>u.destroy())):(u=w.create(P.injector||this._defaultInjector||Ei.NULL),this._appRef.attachView(u.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(u.hostView),u.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(u)),this._attachedPortal=P,u}attachTemplatePortal(P){let S=P.viewContainerRef,w=S.createEmbeddedView(P.templateRef,P.context,{injector:P.injector});return w.rootNodes.forEach(u=>this.outletElement.appendChild(u)),w.detectChanges(),this.setDisposeFn(()=>{let u=S.indexOf(w);u!==-1&&S.remove(u)}),this._attachedPortal=P,w}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(P){return P.hostView.rootNodes[0]}};var H4=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({})}}return M})();function Y4(M,...P){return P.length?P.some(S=>M[S]):M.altKey||M.shiftKey||M.ctrlKey||M.metaKey}var N4=x4(),Qa=class{constructor(P,S){this._viewportRuler=P,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=S}attach(){}enable(){if(this._canBeEnabled()){let P=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=P.style.left||"",this._previousHTMLStyles.top=P.style.top||"",P.style.left=He(-this._previousScrollPosition.left),P.style.top=He(-this._previousScrollPosition.top),P.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let P=this._document.documentElement,S=this._document.body,w=P.style,u=S.style,x=w.scrollBehavior||"",e=u.scrollBehavior||"";this._isEnabled=!1,w.left=this._previousHTMLStyles.left,w.top=this._previousHTMLStyles.top,P.classList.remove("cdk-global-scrollblock"),N4&&(w.scrollBehavior=u.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),N4&&(w.scrollBehavior=x,u.scrollBehavior=e)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let S=this._document.body,w=this._viewportRuler.getViewportSize();return S.scrollHeight>w.height||S.scrollWidth>w.width}};var Ja=class{constructor(P,S,w,u){this._scrollDispatcher=P,this._ngZone=S,this._viewportRuler=w,this._config=u,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(P){this._overlayRef,this._overlayRef=P}enable(){if(this._scrollSubscription)return;let P=this._scrollDispatcher.scrolled(0).pipe(je(S=>!S||!this._overlayRef.overlayElement.contains(S.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=P.subscribe(()=>{let S=this._viewportRuler.getViewportScrollPosition().top;Math.abs(S-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=P.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Wr=class{enable(){}disable(){}attach(){}};function qa(M,P){return P.some(S=>{let w=M.bottom<S.top,u=M.top>S.bottom,x=M.right<S.left,e=M.left>S.right;return w||u||x||e})}function U4(M,P){return P.some(S=>{let w=M.top<S.top,u=M.bottom>S.bottom,x=M.left<S.left,e=M.right>S.right;return w||u||x||e})}var _a=class{constructor(P,S,w,u){this._scrollDispatcher=P,this._viewportRuler=S,this._ngZone=w,this._config=u,this._scrollSubscription=null}attach(P){this._overlayRef,this._overlayRef=P}enable(){if(!this._scrollSubscription){let P=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(P).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let S=this._overlayRef.overlayElement.getBoundingClientRect(),{width:w,height:u}=this._viewportRuler.getViewportSize();qa(S,[{width:w,height:u,bottom:u,right:w,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},x8=(()=>{class M{constructor(S,w,u,x){this._scrollDispatcher=S,this._viewportRuler=w,this._ngZone=u,this.noop=()=>new Wr,this.close=e=>new Ja(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new Qa(this._viewportRuler,this._document),this.reposition=e=>new _a(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=x}static{this.\u0275fac=function(w){return new(w||M)(ee(B4),ee(Xa),ee(Le),ee(Te))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Xr=class{constructor(P){if(this.scrollStrategy=new Wr,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,P){let S=Object.keys(P);for(let w of S)P[w]!==void 0&&(this[w]=P[w])}}},Be=class{constructor(P,S,w,u,x){this.offsetX=w,this.offsetY=u,this.panelClass=x,this.originX=P.originX,this.originY=P.originY,this.overlayX=S.overlayX,this.overlayY=S.overlayY}};var eo=class{constructor(P,S){this.connectionPair=P,this.scrollableViewProperties=S}};var K4=(()=>{class M{constructor(S){this._attachedOverlays=[],this._document=S}ngOnDestroy(){this.detach()}add(S){this.remove(S),this._attachedOverlays.push(S)}remove(S){let w=this._attachedOverlays.indexOf(S);w>-1&&this._attachedOverlays.splice(w,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(w){return new(w||M)(ee(Te))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),y8=(()=>{class M extends K4{constructor(S,w){super(S),this._ngZone=w,this._keydownListener=u=>{let x=this._attachedOverlays;for(let e=x.length-1;e>-1;e--)if(x[e]._keydownEvents.observers.length>0){let l=x[e]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(u)):l.next(u);break}}}add(S){super.add(S),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(w){return new(w||M)(ee(Te),ee(Le,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),T8=(()=>{class M extends K4{constructor(S,w,u){super(S),this._platform=w,this._ngZone=u,this._cursorStyleIsSet=!1,this._pointerDownListener=x=>{this._pointerDownEventTarget=Gr(x)},this._clickListener=x=>{let e=Gr(x),l=x.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;let p=this._attachedOverlays.slice();for(let a=p.length-1;a>-1;a--){let s=p[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(G4(s.overlayElement,e)||G4(s.overlayElement,l))break;let r=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>r.next(x)):r.next(x)}}}add(S){if(super.add(S),!this._isAttached){let w=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(w)):this._addEventListeners(w),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=w.style.cursor,w.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let S=this._document.body;S.removeEventListener("pointerdown",this._pointerDownListener,!0),S.removeEventListener("click",this._clickListener,!0),S.removeEventListener("auxclick",this._clickListener,!0),S.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(S.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(S){S.addEventListener("pointerdown",this._pointerDownListener,!0),S.addEventListener("click",this._clickListener,!0),S.addEventListener("auxclick",this._clickListener,!0),S.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(w){return new(w||M)(ee(Te),ee(dt),ee(Le,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function G4(M,P){let S=typeof ShadowRoot<"u"&&ShadowRoot,w=P;for(;w;){if(w===M)return!0;w=S&&w instanceof ShadowRoot?w.host:w.parentNode}return!1}var $4=(()=>{class M{constructor(S,w){this._platform=w,this._document=S}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let S="cdk-overlay-container";if(this._platform.isBrowser||Ya()){let u=this._document.querySelectorAll(`.${S}[platform="server"], .${S}[platform="test"]`);for(let x=0;x<u.length;x++)u[x].remove()}let w=this._document.createElement("div");w.classList.add(S),Ya()?w.setAttribute("platform","test"):this._platform.isBrowser||w.setAttribute("platform","server"),this._document.body.appendChild(w),this._containerElement=w}static{this.\u0275fac=function(w){return new(w||M)(ee(Te),ee(dt))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),to=class{constructor(P,S,w,u,x,e,l,p,a,s=!1,r){this._portalOutlet=P,this._host=S,this._pane=w,this._config=u,this._ngZone=x,this._keyboardDispatcher=e,this._document=l,this._location=p,this._outsideClickDispatcher=a,this._animationsDisabled=s,this._injector=r,this._backdropElement=null,this._backdropClick=new de,this._attachments=new de,this._detachments=new de,this._locationChanges=It.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._backdropTransitionendHandler=t=>{this._disposeBackdrop(t.target)},this._keydownEvents=new de,this._outsidePointerEvents=new de,this._renders=new de,u.scrollStrategy&&(this._scrollStrategy=u.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=u.positionStrategy,this._afterRenderRef=xs(()=>Io(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(P){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let S=this._portalOutlet.attach(P);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=us(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof S?.onDestroy=="function"&&S.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),S}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let P=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),P}dispose(){let P=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,P&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(P){P!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=P,this.hasAttached()&&(P.attach(this),this.updatePosition()))}updateSize(P){this._config=re(re({},this._config),P),this._updateElementSize()}setDirection(P){this._config=Ne(re({},this._config),{direction:P}),this._updateElementDirection()}addPanelClass(P){this._pane&&this._toggleClasses(this._pane,P,!0)}removePanelClass(P){this._pane&&this._toggleClasses(this._pane,P,!1)}getDirection(){let P=this._config.direction;return P?typeof P=="string"?P:P.value:"ltr"}updateScrollStrategy(P){P!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=P,this.hasAttached()&&(P.attach(this),P.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let P=this._pane.style;P.width=He(this._config.width),P.height=He(this._config.height),P.minWidth=He(this._config.minWidth),P.minHeight=He(this._config.minHeight),P.maxWidth=He(this._config.maxWidth),P.maxHeight=He(this._config.maxHeight)}_togglePointerEvents(P){this._pane.style.pointerEvents=P?"":"none"}_attachBackdrop(){let P="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(P)})}):this._backdropElement.classList.add(P)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let P=this._backdropElement;if(P){if(this._animationsDisabled){this._disposeBackdrop(P);return}P.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{P.addEventListener("transitionend",this._backdropTransitionendHandler)}),P.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(P)},500))}}_toggleClasses(P,S,w){let u=ba(S||[]).filter(x=>!!x);u.length&&(w?P.classList.add(...u):P.classList.remove(...u))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let P=this._renders.pipe(Se(hn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),P.unsubscribe())})})}_disposeScrollStrategy(){let P=this._scrollStrategy;P&&(P.disable(),P.detach&&P.detach())}_disposeBackdrop(P){P&&(P.removeEventListener("click",this._backdropClickHandler),P.removeEventListener("transitionend",this._backdropTransitionendHandler),P.remove(),this._backdropElement===P&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},k4="cdk-overlay-connected-position-bounding-box",S8=/([A-Za-z%]+)$/,io=class{get positions(){return this._preferredPositions}constructor(P,S,w,u,x){this._viewportRuler=S,this._document=w,this._platform=u,this._overlayContainer=x,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de,this._resizeSubscription=It.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(P)}attach(P){this._overlayRef&&this._overlayRef,this._validatePositions(),P.hostElement.classList.add(k4),this._overlayRef=P,this._boundingBox=P.hostElement,this._pane=P.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let P=this._originRect,S=this._overlayRect,w=this._viewportRect,u=this._containerRect,x=[],e;for(let l of this._preferredPositions){let p=this._getOriginPoint(P,u,l),a=this._getOverlayPoint(p,S,l),s=this._getOverlayFit(a,S,w,l);if(s.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,p);return}if(this._canFitWithFlexibleDimensions(s,a,w)){x.push({position:l,origin:p,overlayRect:S,boundingBoxRect:this._calculateBoundingBoxRect(p,l)});continue}(!e||e.overlayFit.visibleArea<s.visibleArea)&&(e={overlayFit:s,overlayPoint:a,originPoint:p,position:l,overlayRect:S})}if(x.length){let l=null,p=-1;for(let a of x){let s=a.boundingBoxRect.width*a.boundingBoxRect.height*(a.position.weight||1);s>p&&(p=s,l=a)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(e.position,e.originPoint);return}this._applyPosition(e.position,e.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(k4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let P=this._lastPosition;if(P){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let S=this._getOriginPoint(this._originRect,this._containerRect,P);this._applyPosition(P,S)}else this.apply()}withScrollableContainers(P){return this._scrollables=P,this}withPositions(P){return this._preferredPositions=P,P.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(P){return this._viewportMargin=P,this}withFlexibleDimensions(P=!0){return this._hasFlexibleDimensions=P,this}withGrowAfterOpen(P=!0){return this._growAfterOpen=P,this}withPush(P=!0){return this._canPush=P,this}withLockedPosition(P=!0){return this._positionLocked=P,this}setOrigin(P){return this._origin=P,this}withDefaultOffsetX(P){return this._offsetX=P,this}withDefaultOffsetY(P){return this._offsetY=P,this}withTransformOriginOn(P){return this._transformOriginSelector=P,this}_getOriginPoint(P,S,w){let u;if(w.originX=="center")u=P.left+P.width/2;else{let e=this._isRtl()?P.right:P.left,l=this._isRtl()?P.left:P.right;u=w.originX=="start"?e:l}S.left<0&&(u-=S.left);let x;return w.originY=="center"?x=P.top+P.height/2:x=w.originY=="top"?P.top:P.bottom,S.top<0&&(x-=S.top),{x:u,y:x}}_getOverlayPoint(P,S,w){let u;w.overlayX=="center"?u=-S.width/2:w.overlayX==="start"?u=this._isRtl()?-S.width:0:u=this._isRtl()?0:-S.width;let x;return w.overlayY=="center"?x=-S.height/2:x=w.overlayY=="top"?0:-S.height,{x:P.x+u,y:P.y+x}}_getOverlayFit(P,S,w,u){let x=X4(S),{x:e,y:l}=P,p=this._getOffset(u,"x"),a=this._getOffset(u,"y");p&&(e+=p),a&&(l+=a);let s=0-e,r=e+x.width-w.width,t=0-l,n=l+x.height-w.height,h=this._subtractOverflows(x.width,s,r),i=this._subtractOverflows(x.height,t,n),o=h*i;return{visibleArea:o,isCompletelyWithinViewport:x.width*x.height===o,fitsInViewportVertically:i===x.height,fitsInViewportHorizontally:h==x.width}}_canFitWithFlexibleDimensions(P,S,w){if(this._hasFlexibleDimensions){let u=w.bottom-S.y,x=w.right-S.x,e=W4(this._overlayRef.getConfig().minHeight),l=W4(this._overlayRef.getConfig().minWidth),p=P.fitsInViewportVertically||e!=null&&e<=u,a=P.fitsInViewportHorizontally||l!=null&&l<=x;return p&&a}return!1}_pushOverlayOnScreen(P,S,w){if(this._previousPushAmount&&this._positionLocked)return{x:P.x+this._previousPushAmount.x,y:P.y+this._previousPushAmount.y};let u=X4(S),x=this._viewportRect,e=Math.max(P.x+u.width-x.width,0),l=Math.max(P.y+u.height-x.height,0),p=Math.max(x.top-w.top-P.y,0),a=Math.max(x.left-w.left-P.x,0),s=0,r=0;return u.width<=x.width?s=a||-e:s=P.x<this._viewportMargin?x.left-w.left-P.x:0,u.height<=x.height?r=p||-l:r=P.y<this._viewportMargin?x.top-w.top-P.y:0,this._previousPushAmount={x:s,y:r},{x:P.x+s,y:P.y+r}}_applyPosition(P,S){if(this._setTransformOrigin(P),this._setOverlayElementStyles(S,P),this._setBoundingBoxStyles(S,P),P.panelClass&&this._addPanelClasses(P.panelClass),this._positionChanges.observers.length){let w=this._getScrollVisibility();if(P!==this._lastPosition||!this._lastScrollVisibility||!C8(this._lastScrollVisibility,w)){let u=new eo(P,w);this._positionChanges.next(u)}this._lastScrollVisibility=w}this._lastPosition=P,this._isInitialRender=!1}_setTransformOrigin(P){if(!this._transformOriginSelector)return;let S=this._boundingBox.querySelectorAll(this._transformOriginSelector),w,u=P.overlayY;P.overlayX==="center"?w="center":this._isRtl()?w=P.overlayX==="start"?"right":"left":w=P.overlayX==="start"?"left":"right";for(let x=0;x<S.length;x++)S[x].style.transformOrigin=`${w} ${u}`}_calculateBoundingBoxRect(P,S){let w=this._viewportRect,u=this._isRtl(),x,e,l;if(S.overlayY==="top")e=P.y,x=w.height-e+this._viewportMargin;else if(S.overlayY==="bottom")l=w.height-P.y+this._viewportMargin*2,x=w.height-l+this._viewportMargin;else{let n=Math.min(w.bottom-P.y+w.top,P.y),h=this._lastBoundingBoxSize.height;x=n*2,e=P.y-n,x>h&&!this._isInitialRender&&!this._growAfterOpen&&(e=P.y-h/2)}let p=S.overlayX==="start"&&!u||S.overlayX==="end"&&u,a=S.overlayX==="end"&&!u||S.overlayX==="start"&&u,s,r,t;if(a)t=w.width-P.x+this._viewportMargin*2,s=P.x-this._viewportMargin;else if(p)r=P.x,s=w.right-P.x;else{let n=Math.min(w.right-P.x+w.left,P.x),h=this._lastBoundingBoxSize.width;s=n*2,r=P.x-n,s>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=P.x-h/2)}return{top:e,left:r,bottom:l,right:t,width:s,height:x}}_setBoundingBoxStyles(P,S){let w=this._calculateBoundingBoxRect(P,S);!this._isInitialRender&&!this._growAfterOpen&&(w.height=Math.min(w.height,this._lastBoundingBoxSize.height),w.width=Math.min(w.width,this._lastBoundingBoxSize.width));let u={};if(this._hasExactPosition())u.top=u.left="0",u.bottom=u.right=u.maxHeight=u.maxWidth="",u.width=u.height="100%";else{let x=this._overlayRef.getConfig().maxHeight,e=this._overlayRef.getConfig().maxWidth;u.height=He(w.height),u.top=He(w.top),u.bottom=He(w.bottom),u.width=He(w.width),u.left=He(w.left),u.right=He(w.right),S.overlayX==="center"?u.alignItems="center":u.alignItems=S.overlayX==="end"?"flex-end":"flex-start",S.overlayY==="center"?u.justifyContent="center":u.justifyContent=S.overlayY==="bottom"?"flex-end":"flex-start",x&&(u.maxHeight=He(x)),e&&(u.maxWidth=He(e))}this._lastBoundingBoxSize=w,Yi(this._boundingBox.style,u)}_resetBoundingBoxStyles(){Yi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(P,S){let w={},u=this._hasExactPosition(),x=this._hasFlexibleDimensions,e=this._overlayRef.getConfig();if(u){let s=this._viewportRuler.getViewportScrollPosition();Yi(w,this._getExactOverlayY(S,P,s)),Yi(w,this._getExactOverlayX(S,P,s))}else w.position="static";let l="",p=this._getOffset(S,"x"),a=this._getOffset(S,"y");p&&(l+=`translateX(${p}px) `),a&&(l+=`translateY(${a}px)`),w.transform=l.trim(),e.maxHeight&&(u?w.maxHeight=He(e.maxHeight):x&&(w.maxHeight="")),e.maxWidth&&(u?w.maxWidth=He(e.maxWidth):x&&(w.maxWidth="")),Yi(this._pane.style,w)}_getExactOverlayY(P,S,w){let u={top:"",bottom:""},x=this._getOverlayPoint(S,this._overlayRect,P);if(this._isPushed&&(x=this._pushOverlayOnScreen(x,this._overlayRect,w)),P.overlayY==="bottom"){let e=this._document.documentElement.clientHeight;u.bottom=`${e-(x.y+this._overlayRect.height)}px`}else u.top=He(x.y);return u}_getExactOverlayX(P,S,w){let u={left:"",right:""},x=this._getOverlayPoint(S,this._overlayRect,P);this._isPushed&&(x=this._pushOverlayOnScreen(x,this._overlayRect,w));let e;if(this._isRtl()?e=P.overlayX==="end"?"left":"right":e=P.overlayX==="end"?"right":"left",e==="right"){let l=this._document.documentElement.clientWidth;u.right=`${l-(x.x+this._overlayRect.width)}px`}else u.left=He(x.x);return u}_getScrollVisibility(){let P=this._getOriginRect(),S=this._pane.getBoundingClientRect(),w=this._scrollables.map(u=>u.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:U4(P,w),isOriginOutsideView:qa(P,w),isOverlayClipped:U4(S,w),isOverlayOutsideView:qa(S,w)}}_subtractOverflows(P,...S){return S.reduce((w,u)=>w-Math.max(u,0),P)}_getNarrowedViewportRect(){let P=this._document.documentElement.clientWidth,S=this._document.documentElement.clientHeight,w=this._viewportRuler.getViewportScrollPosition();return{top:w.top+this._viewportMargin,left:w.left+this._viewportMargin,right:w.left+P-this._viewportMargin,bottom:w.top+S-this._viewportMargin,width:P-2*this._viewportMargin,height:S-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(P,S){return S==="x"?P.offsetX==null?this._offsetX:P.offsetX:P.offsetY==null?this._offsetY:P.offsetY}_validatePositions(){}_addPanelClasses(P){this._pane&&ba(P).forEach(S=>{S!==""&&this._appliedPanelClasses.indexOf(S)===-1&&(this._appliedPanelClasses.push(S),this._pane.classList.add(S))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(P=>{this._pane.classList.remove(P)}),this._appliedPanelClasses=[])}_getOriginRect(){let P=this._origin;if(P instanceof Oe)return P.nativeElement.getBoundingClientRect();if(P instanceof Element)return P.getBoundingClientRect();let S=P.width||0,w=P.height||0;return{top:P.y,bottom:P.y+w,left:P.x,right:P.x+S,height:w,width:S}}};function Yi(M,P){for(let S in P)P.hasOwnProperty(S)&&(M[S]=P[S]);return M}function W4(M){if(typeof M!="number"&&M!=null){let[P,S]=M.split(S8);return!S||S==="px"?parseFloat(P):null}return M||null}function X4(M){return{top:Math.floor(M.top),right:Math.floor(M.right),bottom:Math.floor(M.bottom),left:Math.floor(M.left),width:Math.floor(M.width),height:Math.floor(M.height)}}function C8(M,P){return M===P?!0:M.isOriginClipped===P.isOriginClipped&&M.isOriginOutsideView===P.isOriginOutsideView&&M.isOverlayClipped===P.isOverlayClipped&&M.isOverlayOutsideView===P.isOverlayOutsideView}var j4="cdk-global-overlay-wrapper",no=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(P){let S=P.getConfig();this._overlayRef=P,this._width&&!S.width&&P.updateSize({width:this._width}),this._height&&!S.height&&P.updateSize({height:this._height}),P.hostElement.classList.add(j4),this._isDisposed=!1}top(P=""){return this._bottomOffset="",this._topOffset=P,this._alignItems="flex-start",this}left(P=""){return this._xOffset=P,this._xPosition="left",this}bottom(P=""){return this._topOffset="",this._bottomOffset=P,this._alignItems="flex-end",this}right(P=""){return this._xOffset=P,this._xPosition="right",this}start(P=""){return this._xOffset=P,this._xPosition="start",this}end(P=""){return this._xOffset=P,this._xPosition="end",this}width(P=""){return this._overlayRef?this._overlayRef.updateSize({width:P}):this._width=P,this}height(P=""){return this._overlayRef?this._overlayRef.updateSize({height:P}):this._height=P,this}centerHorizontally(P=""){return this.left(P),this._xPosition="center",this}centerVertically(P=""){return this.top(P),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let P=this._overlayRef.overlayElement.style,S=this._overlayRef.hostElement.style,w=this._overlayRef.getConfig(),{width:u,height:x,maxWidth:e,maxHeight:l}=w,p=(u==="100%"||u==="100vw")&&(!e||e==="100%"||e==="100vw"),a=(x==="100%"||x==="100vh")&&(!l||l==="100%"||l==="100vh"),s=this._xPosition,r=this._xOffset,t=this._overlayRef.getConfig().direction==="rtl",n="",h="",i="";p?i="flex-start":s==="center"?(i="center",t?h=r:n=r):t?s==="left"||s==="end"?(i="flex-end",n=r):(s==="right"||s==="start")&&(i="flex-start",h=r):s==="left"||s==="start"?(i="flex-start",n=r):(s==="right"||s==="end")&&(i="flex-end",h=r),P.position=this._cssPosition,P.marginLeft=p?"0":n,P.marginTop=a?"0":this._topOffset,P.marginBottom=this._bottomOffset,P.marginRight=p?"0":h,S.justifyContent=i,S.alignItems=a?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let P=this._overlayRef.overlayElement.style,S=this._overlayRef.hostElement,w=S.style;S.classList.remove(j4),w.justifyContent=w.alignItems=P.marginTop=P.marginBottom=P.marginLeft=P.marginRight=P.position="",this._overlayRef=null,this._isDisposed=!0}},M8=(()=>{class M{constructor(S,w,u,x){this._viewportRuler=S,this._document=w,this._platform=u,this._overlayContainer=x}global(){return new no}flexibleConnectedTo(S){return new io(S,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(w){return new(w||M)(ee(Xa),ee(Te),ee(dt),ee($4))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),E8=0,jr=(()=>{class M{constructor(S,w,u,x,e,l,p,a,s,r,t,n){this.scrollStrategies=S,this._overlayContainer=w,this._componentFactoryResolver=u,this._positionBuilder=x,this._keyboardDispatcher=e,this._injector=l,this._ngZone=p,this._document=a,this._directionality=s,this._location=r,this._outsideClickDispatcher=t,this._animationsModuleType=n}create(S){let w=this._createHostElement(),u=this._createPaneElement(w),x=this._createPortalOutlet(u),e=new Xr(S);return e.direction=e.direction||this._directionality.value,new to(x,w,u,e,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ni))}position(){return this._positionBuilder}_createPaneElement(S){let w=this._document.createElement("div");return w.id=`cdk-overlay-${E8++}`,w.classList.add("cdk-overlay-pane"),S.appendChild(w),w}_createHostElement(){let S=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(S),S}_createPortalOutlet(S){return this._appRef||(this._appRef=this._injector.get(Ai)),new kr(S,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(w){return new(w||M)(ee(x8),ee($4),ee(cs),ee(M8),ee(y8),ee(Ei),ee(Le),ee(Te),ee(zt),ee(Ki),ee(T8),ee(Nt,8))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),P8=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Z4=new ve("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let M=te(jr);return()=>M.scrollStrategies.reposition()}}),Ni=(()=>{class M{constructor(S){this.elementRef=S}static{this.\u0275fac=function(w){return new(w||M)(he(Oe))}}static{this.\u0275dir=Ze({type:M,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return M})(),Q4=(()=>{class M{get offsetX(){return this._offsetX}set offsetX(S){this._offsetX=S,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(S){this._offsetY=S,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(S){this._disposeOnNavigation=S}constructor(S,w,u,x,e){this._overlay=S,this._dir=e,this._backdropSubscription=It.EMPTY,this._attachSubscription=It.EMPTY,this._detachSubscription=It.EMPTY,this._positionSubscription=It.EMPTY,this._disposeOnNavigation=!1,this._ngZone=te(Le),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ie,this.positionChange=new Ie,this.attach=new Ie,this.detach=new Ie,this.overlayKeydown=new Ie,this.overlayOutsideClick=new Ie,this._templatePortal=new qn(w,u),this._scrollStrategyFactory=x,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(S){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),S.origin&&this.open&&this._position.apply()),S.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=P8);let S=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=S.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=S.detachments().subscribe(()=>this.detach.emit()),S.keydownEvents().subscribe(w=>{this.overlayKeydown.next(w),w.keyCode===27&&!this.disableClose&&!Y4(w)&&(w.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(w=>{let u=this._getOriginElement(),x=Gr(w);(!u||u!==x&&!u.contains(x))&&this.overlayOutsideClick.next(w)})}_buildConfig(){let S=this._position=this.positionStrategy||this._createPositionStrategy(),w=new Xr({direction:this._dir,positionStrategy:S,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(w.width=this.width),(this.height||this.height===0)&&(w.height=this.height),(this.minWidth||this.minWidth===0)&&(w.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(w.minHeight=this.minHeight),this.backdropClass&&(w.backdropClass=this.backdropClass),this.panelClass&&(w.panelClass=this.panelClass),w}_updatePositionStrategy(S){let w=this.positions.map(u=>({originX:u.originX,originY:u.originY,overlayX:u.overlayX,overlayY:u.overlayY,offsetX:u.offsetX||this.offsetX,offsetY:u.offsetY||this.offsetY,panelClass:u.panelClass||void 0}));return S.setOrigin(this._getOrigin()).withPositions(w).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let S=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(S),S}_getOrigin(){return this.origin instanceof Ni?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ni?this.origin.elementRef.nativeElement:this.origin instanceof Oe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(S=>{this.backdropClick.emit(S)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(xo(()=>this.positionChange.observers.length>0)).subscribe(S=>{this._ngZone.run(()=>this.positionChange.emit(S)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(w){return new(w||M)(he(jr),he(At),he(ri),he(Z4),he(zt,8))}}static{this.\u0275dir=Ze({type:M,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Me],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Me],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Me],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Me],push:[2,"cdkConnectedOverlayPush","push",Me],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Me]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ut,Ue]})}}return M})();function w8(M){return()=>M.scrollStrategies.reposition()}var z8={provide:Z4,deps:[jr],useFactory:w8},J4=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({providers:[jr,z8],imports:[Qn,H4,ja,ja]})}}return M})();var D8=(()=>{class M extends cr{constructor(S,w,u){super(S,w,u)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(w){return new(w||M)(ee(Te),ee(gn),ee(hr))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})();function F8(){return new Jo}function L8(M,P,S){return new _o(M,P,S)}var q4=[{provide:hr,useFactory:F8},{provide:cr,useClass:D8},{provide:Dt,useFactory:L8,deps:[$i,cr,Le]}],rv=[{provide:gn,useFactory:()=>new qo},{provide:Nt,useValue:"BrowserAnimations"},...q4],sv=[{provide:gn,useClass:Qo},{provide:Nt,useValue:"NoopAnimations"},...q4];var ro=(()=>{class M{constructor(){this.animationType=te(Nt,{optional:!0}),this.nzNoAnimation=!1}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275dir=Ze({type:M,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(w,u){w&2&&_e("nz-animate-disabled",u.nzNoAnimation||u.animationType==="NoopAnimations")},inputs:{nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",Me]},exportAs:["nzNoAnimation"],standalone:!0,features:[ut]})}}return M})();var De={top:new Be({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Be({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Be({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Be({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Be({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Be({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Be({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Be({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Be({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Be({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Be({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Be({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Be({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Be({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},pv=[De.top,De.right,De.bottom,De.left],mv=[De.bottomLeft,De.bottomRight,De.topLeft,De.topRight,De.topCenter,De.bottomCenter],gv=[new Be({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Be({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})],xv=[De.bottomLeft,new Be({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})];function _4(M){for(let P in De)if(M.connectionPair.originX===De[P].originX&&M.connectionPair.originY===De[P].originY&&M.connectionPair.overlayX===De[P].overlayX&&M.connectionPair.overlayY===De[P].overlayY)return P}var Kr={bottomLeft:new Be({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new Be({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new Be({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new Be({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},yv=[Kr.bottomLeft,Kr.topLeft,Kr.bottomRight,Kr.topRight];var st=(()=>{class M{static{this.SLOW="0.3s"}static{this.BASE="0.2s"}static{this.FAST="0.1s"}}return M})(),ht=(()=>{class M{static{this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)"}static{this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)"}static{this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)"}static{this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)"}static{this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)"}static{this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)"}static{this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)"}static{this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)"}static{this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)"}static{this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)"}static{this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)"}static{this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)"}static{this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)"}static{this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}}return M})(),e2=mt("collapseMotion",[gt("expanded",ce({height:"*"})),gt("collapsed",ce({height:0,overflow:"hidden"})),gt("hidden",ce({height:0,overflow:"hidden",borderTopWidth:"0"})),we("expanded => collapsed",Ee(`150ms ${ht.EASE_IN_OUT}`)),we("expanded => hidden",Ee(`150ms ${ht.EASE_IN_OUT}`)),we("collapsed => expanded",Ee(`150ms ${ht.EASE_IN_OUT}`)),we("hidden => expanded",Ee(`150ms ${ht.EASE_IN_OUT}`))]),Cv=mt("treeCollapseMotion",[we("* => *",[Cs("nz-tree-node:leave,nz-tree-builtin-node:leave",[ce({overflow:"hidden"}),Ms(0,[Ee(`150ms ${ht.EASE_IN_OUT}`,ce({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Cs("nz-tree-node:enter,nz-tree-builtin-node:enter",[ce({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),Ms(0,[Ee(`150ms ${ht.EASE_IN_OUT}`,ce({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),Mv=mt("drawerMaskMotion",[we(":enter",[ce({opacity:0}),Ee(`${st.SLOW}`,ce({opacity:1}))]),we(":leave",[ce({opacity:1}),Ee(`${st.SLOW}`,ce({opacity:0}))])]),Ev=mt("fadeMotion",[we("* => enter",[ce({opacity:0}),Ee(`${st.BASE}`,ce({opacity:1}))]),we("* => leave, :leave",[ce({opacity:1}),Ee(`${st.BASE}`,ce({opacity:0}))])]),Pv=mt("helpMotion",[we(":enter",[ce({opacity:0,transform:"translateY(-5px)"}),Ee(`${st.SLOW} ${ht.EASE_IN_OUT}`,ce({opacity:1,transform:"translateY(0)"}))]),we(":leave",[ce({opacity:1,transform:"translateY(0)"}),Ee(`${st.SLOW} ${ht.EASE_IN_OUT}`,ce({opacity:0,transform:"translateY(-5px)"}))])]),wv=mt("moveUpMotion",[we("* => enter",[ce({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Ee(`${st.BASE}`,ce({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),we("* => leave",[ce({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Ee(`${st.BASE}`,ce({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),zv=mt("notificationMotion",[gt("enterRight",ce({opacity:1,transform:"translateX(0)"})),we("* => enterRight",[ce({opacity:0,transform:"translateX(5%)"}),Ee("100ms linear")]),gt("enterLeft",ce({opacity:1,transform:"translateX(0)"})),we("* => enterLeft",[ce({opacity:0,transform:"translateX(-5%)"}),Ee("100ms linear")]),gt("enterTop",ce({opacity:1,transform:"translateY(0)"})),we("* => enterTop",[ce({opacity:0,transform:"translateY(-5%)"}),Ee("100ms linear")]),gt("enterBottom",ce({opacity:1,transform:"translateY(0)"})),we("* => enterBottom",[ce({opacity:0,transform:"translateY(5%)"}),Ee("100ms linear")]),gt("leave",ce({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),we("* => leave",[ce({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Ee("100ms linear")])]),R8=`${st.BASE} ${ht.EASE_OUT_QUINT}`,O8=`${st.BASE} ${ht.EASE_IN_QUINT}`,t2=mt("slideMotion",[gt("void",ce({opacity:0,transform:"scaleY(0.8)"})),gt("enter",ce({opacity:1,transform:"scaleY(1)"})),we("void => *",[Ee(R8)]),we("* => void",[Ee(O8)])]),Av=mt("slideAlertMotion",[we(":leave",[ce({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Ee(`${st.SLOW} ${ht.EASE_IN_OUT_CIRC}`,ce({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Dv=mt("tabSwitchMotion",[gt("leave",ce({display:"none"})),we("* => enter",[ce({display:"block",opacity:0}),Ee(st.SLOW)]),we("* => leave, :leave",[ce({position:"absolute",top:0,left:0,width:"100%"}),Ee(st.SLOW,ce({opacity:0})),ce({display:"none"})])]),Fv=mt("thumbMotion",[gt("from",ce({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),gt("to",ce({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),we("from => to",Ee(`300ms ${ht.EASE_IN_OUT}`))]),i2=mt("zoomBigMotion",[we("void => active",[ce({opacity:0,transform:"scale(0.8)"}),Ee(`${st.BASE} ${ht.EASE_OUT_CIRC}`,ce({opacity:1,transform:"scale(1)"}))]),we("active => void",[ce({opacity:1,transform:"scale(1)"}),Ee(`${st.BASE} ${ht.EASE_IN_OUT_CIRC}`,ce({opacity:0,transform:"scale(0.8)"}))])]),Lv=mt("zoomBadgeMotion",[we(":enter",[ce({opacity:0,transform:"scale(0) translate(50%, -50%)"}),Ee(`${st.SLOW} ${ht.EASE_OUT_BACK}`,ce({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),we(":leave",[ce({opacity:1,transform:"scale(1) translate(50%, -50%)"}),Ee(`${st.SLOW} ${ht.EASE_IN_BACK}`,ce({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);var ao=(()=>{class M{static ngTemplateContextGuard(S,w){return!0}recreateView(){this.viewContainer.clear();let S=this.nzStringTemplateOutlet instanceof At,w=S?this.nzStringTemplateOutlet:this.templateRef;this.embeddedViewRef=this.viewContainer.createEmbeddedView(w,S?this.nzStringTemplateOutletContext:this.context)}updateContext(){let w=this.nzStringTemplateOutlet instanceof At?this.nzStringTemplateOutletContext:this.context,u=this.embeddedViewRef.context;if(w)for(let x of Object.keys(w))u[x]=w[x]}constructor(S,w){this.viewContainer=S,this.templateRef=w,this.embeddedViewRef=null,this.context=new so,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(S){let{nzStringTemplateOutletContext:w,nzStringTemplateOutlet:u}=S,x=()=>{let l=!1;if(u)if(u.firstChange)l=!0;else{let s=u.previousValue instanceof At,r=u.currentValue instanceof At;l=s||r}return w&&(s=>{let r=Object.keys(s.previousValue||{}),t=Object.keys(s.currentValue||{});if(r.length===t.length){for(let n of t)if(r.indexOf(n)===-1)return!0;return!1}else return!0})(w)||l};u&&(this.context.$implicit=u.currentValue),x()?this.recreateView():this.updateContext()}static{this.\u0275fac=function(w){return new(w||M)(he(ri),he(At))}}static{this.\u0275dir=Ze({type:M,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[Ue]})}}return M})(),so=class{},oo=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({})}}return M})();var V8=["nz-menu-item",""],r2=["*"],I8=["nz-submenu-inline-child",""];function B8(M,P){}var H8=["nz-submenu-none-inline-child",""];function Y8(M,P){}var N8=["nz-submenu-title",""];function U8(M,P){if(M&1&&et(0,"span",0),M&2){let S=it();We("nzType",S.nzIcon)}}function G8(M,P){if(M&1&&(ds(0),Ge(1,"span",4),Kt(2),Qe(),fs()),M&2){let S=it();qe(2),ps(S.nzTitle)}}function k8(M,P){M&1&&et(0,"span",5)}function W8(M,P){M&1&&et(0,"span",6)}function X8(M,P){if(M&1&&(Ge(0,"span",2),lt(1,k8,1,0,"span",5)(2,W8,1,0,"span",6),Qe()),M&2){let S,w=it();qe(),Ft((S=w.dir)==="rtl"?1:2)}}function j8(M,P){M&1&&et(0,"span",3)}var K8=["nz-submenu",""],$8=[[["","title",""]],"*"],Z8=["[title]","*"];function Q8(M,P){M&1&&Ct(0)}function J8(M,P){if(M&1&&et(0,"div",3),M&2){let S=it(),w=zi(6);We("mode",S.mode)("nzOpen",S.nzOpen)("@.disabled",!!(S.noAnimation!=null&&S.noAnimation.nzNoAnimation))("nzNoAnimation",S.noAnimation==null?null:S.noAnimation.nzNoAnimation)("menuClass",S.nzMenuClassName)("templateOutlet",w)}}function q8(M,P){if(M&1){let S=ji();Ge(0,"div",6),vt("subMenuMouseState",function(u){Ci(S);let x=it(2);return Mi(x.setMouseEnterState(u))}),Qe()}if(M&2){let S=it(2),w=zi(6);We("theme",S.theme)("mode",S.mode)("nzOpen",S.nzOpen)("position",S.position)("nzDisabled",S.nzDisabled)("isMenuInsideDropDown",S.isMenuInsideDropDown)("templateOutlet",w)("menuClass",S.nzMenuClassName)("@.disabled",!!(S.noAnimation!=null&&S.noAnimation.nzNoAnimation))("nzNoAnimation",S.noAnimation==null?null:S.noAnimation.nzNoAnimation)}}function _8(M,P){if(M&1){let S=ji();lt(0,q8,1,10,"ng-template",5),vt("positionChange",function(u){Ci(S);let x=it();return Mi(x.onPositionChange(u))})}if(M&2){let S=it(),w=zi(1);We("cdkConnectedOverlayPositions",S.overlayPositions)("cdkConnectedOverlayOrigin",w)("cdkConnectedOverlayWidth",S.triggerWidth)("cdkConnectedOverlayOpen",S.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function e6(M,P){M&1&&Ct(0,1)}var t6=["titleElement"],i6=["nz-menu-group",""],n6=["*",[["","title",""]]],r6=["*","[title]"];function s6(M,P){if(M&1&&(ds(0),Kt(1),fs()),M&2){let S=it();qe(),ps(S.nzTitle)}}function a6(M,P){M&1&&Ct(0,1)}var qt=new ve("NzIsInDropDownMenuToken"),s2=new ve("NzMenuServiceLocalToken"),Ui=(()=>{class M{constructor(){this.descendantMenuItemClick$=new de,this.childMenuItemClick$=new de,this.theme$=new ke("light"),this.mode$=new ke("vertical"),this.inlineIndent$=new ke(24),this.isChildSubMenuOpen$=new ke(!1)}onDescendantMenuItemClick(S){this.descendantMenuItemClick$.next(S)}onChildMenuItemClick(S){this.childMenuItemClick$.next(S)}setMode(S){this.mode$.next(S)}setTheme(S){this.theme$.next(S)}setInlineIndent(S){this.inlineIndent$.next(S)}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),lo=(()=>{class M{onChildMenuItemClick(S){this.childMenuItemClick$.next(S)}setOpenStateWithoutDebounce(S){this.isCurrentSubMenuOpen$.next(S)}setMouseEnterTitleOrOverlayState(S){this.isMouseEnterTitleOrOverlay$.next(S)}constructor(S){this.nzMenuService=S,this.mode$=this.nzMenuService.mode$.pipe(pe(e=>e==="inline"?"inline":e==="vertical"||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isMenuInsideDropDown=te(qt),this.isCurrentSubMenuOpen$=new ke(!1),this.isChildSubMenuOpen$=new ke(!1),this.isMouseEnterTitleOrOverlay$=new de,this.childMenuItemClick$=new de,this.destroy$=new de,this.nzHostSubmenuService=te(M,{optional:!0,skipSelf:!0}),this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);let w=this.childMenuItemClick$.pipe(ft(()=>this.mode$),je(e=>e!=="inline"||this.isMenuInsideDropDown),Gi(!1)),u=hn(this.isMouseEnterTitleOrOverlay$,w);ei([this.isChildSubMenuOpen$,u]).pipe(pe(([e,l])=>e||l),yi(150),Si(),Se(this.destroy$)).pipe(Si()).subscribe(e=>{this.setOpenStateWithoutDebounce(e),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(e):this.nzMenuService.isChildSubMenuOpen$.next(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(ee(Ui))}}static{this.\u0275prov=se({token:M,factory:M.\u0275fac})}}return M})(),$r=(()=>{class M{clickMenuItem(S){this.nzDisabled?(S.preventDefault(),S.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(S){this.nzSelected=S,this.selected$.next(S)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{let S=this.hasActiveLinks();this.nzSelected!==S&&(this.nzSelected=S,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){let S=this.isLinkActive(this.router);return this.routerLink&&S(this.routerLink)||this.listOfRouterLink.some(S)}isLinkActive(S){return w=>S.isActive(w.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(S,w){this.nzMenuService=S,this.cdr=w,this.destroy$=new de,this.nzSubmenuService=te(lo,{optional:!0}),this.directionality=te(zt),this.routerLink=te(Wn,{optional:!0}),this.router=te(kn,{optional:!0}),this.isMenuInsideDropDown=te(qt),this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new de,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,this.router&&this.router.events.pipe(Se(this.destroy$),je(u=>u instanceof Wt)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){ei([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(Se(this.destroy$)).subscribe(([S,w])=>{this.inlinePaddingLeft=S==="inline"?this.level*w:null}),this.dir=this.directionality.value,this.directionality.change?.pipe(Se(this.destroy$)).subscribe(S=>{this.dir=S})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(Se(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(S){S.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Ui),he(pt))}}static{this.\u0275cmp=$e({type:M,selectors:[["","nz-menu-item",""]],contentQueries:function(w,u,x){if(w&1&&Ut(x,Wn,5),w&2){let e;Mt(e=Et())&&(u.listOfRouterLink=e)}},hostVars:20,hostBindings:function(w,u){w&1&&vt("click",function(e){return u.clickMenuItem(e)}),w&2&&(wi("padding-left",u.dir==="rtl"?null:u.nzPaddingLeft||u.inlinePaddingLeft,"px")("padding-right",u.dir==="rtl"?u.nzPaddingLeft||u.inlinePaddingLeft:null,"px"),_e("ant-dropdown-menu-item",u.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",u.isMenuInsideDropDown&&u.nzSelected)("ant-dropdown-menu-item-danger",u.isMenuInsideDropDown&&u.nzDanger)("ant-dropdown-menu-item-disabled",u.isMenuInsideDropDown&&u.nzDisabled)("ant-menu-item",!u.isMenuInsideDropDown)("ant-menu-item-selected",!u.isMenuInsideDropDown&&u.nzSelected)("ant-menu-item-danger",!u.isMenuInsideDropDown&&u.nzDanger)("ant-menu-item-disabled",!u.isMenuInsideDropDown&&u.nzDisabled))},inputs:{nzPaddingLeft:[2,"nzPaddingLeft","nzPaddingLeft",c4],nzDisabled:[2,"nzDisabled","nzDisabled",Me],nzSelected:[2,"nzSelected","nzSelected",Me],nzDanger:[2,"nzDanger","nzDanger",Me],nzMatchRouterExact:[2,"nzMatchRouterExact","nzMatchRouterExact",Me],nzMatchRouter:[2,"nzMatchRouter","nzMatchRouter",Me]},exportAs:["nzMenuItem"],standalone:!0,features:[ut,Ue,nt],attrs:V8,ngContentSelectors:r2,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(w,u){w&1&&(Ot(),Ge(0,"span",0),Ct(1),Qe())},encapsulation:2,changeDetection:0})}}return M})(),o6=(()=>{class M{constructor(S,w,u){this.elementRef=S,this.renderer=w,this.directionality=u,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new de}calcMotionState(){this.nzOpen?this.expandState="expanded":this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(Se(this.destroy$)).subscribe(S=>{this.dir=S})}ngOnChanges(S){let{mode:w,nzOpen:u,menuClass:x}=S;(w||u)&&this.calcMotionState(),x&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(e=>!!e).forEach(e=>{this.renderer.removeClass(this.elementRef.nativeElement,e)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(e=>!!e).forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Oe),he(St),he(zt))}}static{this.\u0275cmp=$e({type:M,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(w,u){w&2&&(vs("@collapseMotion",u.expandState),_e("ant-menu-rtl",u.dir==="rtl"))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],standalone:!0,features:[Ue,nt],attrs:I8,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(w,u){w&1&&lt(0,B8,0,0,"ng-template",0),w&2&&We("ngTemplateOutlet",u.templateOutlet)},dependencies:[pn],encapsulation:2,data:{animation:[e2]},changeDetection:0})}}return M})(),l6=(()=>{class M{constructor(S){this.directionality=S,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new Ie,this.expandState="collapsed",this.dir="ltr",this.destroy$=new de}setMouseState(S){this.nzDisabled||this.subMenuMouseState.next(S)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?this.mode==="horizontal"?this.expandState="bottom":this.mode==="vertical"&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(Se(this.destroy$)).subscribe(S=>{this.dir=S})}ngOnChanges(S){let{mode:w,nzOpen:u}=S;(w||u)&&this.calcMotionState()}static{this.\u0275fac=function(w){return new(w||M)(he(zt))}}static{this.\u0275cmp=$e({type:M,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(w,u){w&1&&vt("mouseenter",function(){return u.setMouseState(!0)})("mouseleave",function(){return u.setMouseState(!1)}),w&2&&(vs("@slideMotion",u.expandState)("@zoomBigMotion",u.expandState),_e("ant-menu-light",u.theme==="light")("ant-menu-dark",u.theme==="dark")("ant-menu-submenu-placement-bottom",u.mode==="horizontal")("ant-menu-submenu-placement-right",u.mode==="vertical"&&u.position==="right")("ant-menu-submenu-placement-left",u.mode==="vertical"&&u.position==="left")("ant-menu-submenu-rtl",u.dir==="rtl"))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],standalone:!0,features:[Ue,nt],attrs:H8,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(w,u){w&1&&(Ge(0,"div",0),lt(1,Y8,0,0,"ng-template",1),Qe()),w&2&&(_e("ant-dropdown-menu",u.isMenuInsideDropDown)("ant-menu",!u.isMenuInsideDropDown)("ant-dropdown-menu-vertical",u.isMenuInsideDropDown)("ant-menu-vertical",!u.isMenuInsideDropDown)("ant-dropdown-menu-sub",u.isMenuInsideDropDown)("ant-menu-sub",!u.isMenuInsideDropDown)("ant-menu-rtl",u.dir==="rtl"),We("ngClass",u.menuClass),qe(),We("ngTemplateOutlet",u.templateOutlet))},dependencies:[Ko,pn],encapsulation:2,data:{animation:[i2,t2]},changeDetection:0})}}return M})(),a2=(()=>{class M{constructor(S,w){this.cdr=S,this.directionality=w,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new Ie,this.subMenuMouseState=new Ie,this.dir="ltr",this.destroy$=new de}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Se(this.destroy$)).subscribe(S=>{this.dir=S,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(S){this.nzDisabled||this.subMenuMouseState.next(S)}clickTitle(){this.mode==="inline"&&!this.nzDisabled&&this.toggleSubMenu.emit()}static{this.\u0275fac=function(w){return new(w||M)(he(pt),he(zt))}}static{this.\u0275cmp=$e({type:M,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(w,u){w&1&&vt("click",function(){return u.clickTitle()})("mouseenter",function(){return u.setMouseState(!0)})("mouseleave",function(){return u.setMouseState(!1)}),w&2&&(wi("padding-left",u.dir==="rtl"?null:u.paddingLeft,"px")("padding-right",u.dir==="rtl"?u.paddingLeft:null,"px"),_e("ant-dropdown-menu-submenu-title",u.isMenuInsideDropDown)("ant-menu-submenu-title",!u.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],standalone:!0,features:[nt],attrs:N8,ngContentSelectors:r2,decls:5,vars:3,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"],[1,"ant-dropdown-menu-submenu-expand-icon"],[1,"ant-menu-submenu-arrow"],[1,"ant-menu-title-content"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"]],template:function(w,u){w&1&&(Ot(),lt(0,U8,1,1,"span",0)(1,G8,3,1,"ng-container",1),Ct(2),lt(3,X8,3,1,"span",2)(4,j8,1,0,"span",3)),w&2&&(Ft(u.nzIcon?0:-1),qe(),We("nzStringTemplateOutlet",u.nzTitle),qe(2),Ft(u.isMenuInsideDropDown?3:4))},dependencies:[on,an,oo,ao],encapsulation:2,changeDetection:0})}}return M})(),n2=[De.rightTop,De.right,De.rightBottom,De.leftTop,De.left,De.leftBottom],h6=[De.bottomLeft,De.bottomRight,De.topRight,De.topLeft],Zr=(()=>{class M{setOpenStateWithoutDebounce(S){this.nzSubmenuService.setOpenStateWithoutDebounce(S)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(S){this.isActive=S,this.mode!=="inline"&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(S)}setTriggerWidth(){this.mode==="horizontal"&&this.platform.isBrowser&&this.cdkOverlayOrigin&&this.nzPlacement==="bottomLeft"&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(S){let w=_4(S);w==="rightTop"||w==="rightBottom"||w==="right"?this.position="right":(w==="leftTop"||w==="leftBottom"||w==="left")&&(this.position="left")}constructor(S,w,u,x){this.nzMenuService=S,this.cdr=w,this.nzSubmenuService=u,this.platform=x,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new Ie,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new de,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=n2,this.isSelected=!1,this.isActive=!1,this.dir="ltr",this.isMenuInsideDropDown=te(qt),this.noAnimation=te(ro,{optional:!0,host:!0}),this.directionality=te(zt)}ngOnInit(){this.nzMenuService.theme$.pipe(Se(this.destroy$)).subscribe(S=>{this.theme=S,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(Se(this.destroy$)).subscribe(S=>{this.mode=S,S==="horizontal"?this.overlayPositions=[De[this.nzPlacement],...h6]:S==="vertical"&&(this.overlayPositions=n2),this.cdr.markForCheck()}),ei([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(Se(this.destroy$)).subscribe(([S,w])=>{this.inlinePaddingLeft=S==="inline"?this.level*w:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(Se(this.destroy$)).subscribe(S=>{this.isActive=S,S!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=S,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe(Se(this.destroy$)).subscribe(S=>{this.dir=S,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();let S=this.listOfNzMenuItemDirective,w=S.changes,u=hn(w,...S.map(x=>x.selected$));w.pipe(Xt(S),ct(()=>u),Xt(!0),pe(()=>S.some(x=>x.nzSelected)),Se(this.destroy$)).subscribe(x=>{this.isSelected=x,this.cdr.markForCheck()})}ngOnChanges(S){let{nzOpen:w}=S;w&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Ui),he(pt),he(lo),he(dt))}}static{this.\u0275cmp=$e({type:M,selectors:[["","nz-submenu",""]],contentQueries:function(w,u,x){if(w&1&&(Ut(x,M,5),Ut(x,$r,5)),w&2){let e;Mt(e=Et())&&(u.listOfNzSubMenuComponent=e),Mt(e=Et())&&(u.listOfNzMenuItemDirective=e)}},viewQuery:function(w,u){if(w&1&&ir(Ni,7,Oe),w&2){let x;Mt(x=Et())&&(u.cdkOverlayOrigin=x.first)}},hostVars:34,hostBindings:function(w,u){w&2&&_e("ant-dropdown-menu-submenu",u.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",u.isMenuInsideDropDown&&u.nzDisabled)("ant-dropdown-menu-submenu-open",u.isMenuInsideDropDown&&u.nzOpen)("ant-dropdown-menu-submenu-selected",u.isMenuInsideDropDown&&u.isSelected)("ant-dropdown-menu-submenu-vertical",u.isMenuInsideDropDown&&u.mode==="vertical")("ant-dropdown-menu-submenu-horizontal",u.isMenuInsideDropDown&&u.mode==="horizontal")("ant-dropdown-menu-submenu-inline",u.isMenuInsideDropDown&&u.mode==="inline")("ant-dropdown-menu-submenu-active",u.isMenuInsideDropDown&&u.isActive)("ant-menu-submenu",!u.isMenuInsideDropDown)("ant-menu-submenu-disabled",!u.isMenuInsideDropDown&&u.nzDisabled)("ant-menu-submenu-open",!u.isMenuInsideDropDown&&u.nzOpen)("ant-menu-submenu-selected",!u.isMenuInsideDropDown&&u.isSelected)("ant-menu-submenu-vertical",!u.isMenuInsideDropDown&&u.mode==="vertical")("ant-menu-submenu-horizontal",!u.isMenuInsideDropDown&&u.mode==="horizontal")("ant-menu-submenu-inline",!u.isMenuInsideDropDown&&u.mode==="inline")("ant-menu-submenu-active",!u.isMenuInsideDropDown&&u.isActive)("ant-menu-submenu-rtl",u.dir==="rtl")},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:[2,"nzOpen","nzOpen",Me],nzDisabled:[2,"nzDisabled","nzDisabled",Me],nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],standalone:!0,features:[si([lo]),ut,Ue,nt],attrs:K8,ngContentSelectors:Z8,decls:7,vars:8,consts:[["origin","cdkOverlayOrigin"],["subMenuTemplate",""],["nz-submenu-title","","cdkOverlayOrigin","",3,"subMenuMouseState","toggleSubMenu","nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["cdkConnectedOverlay","",3,"positionChange","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-submenu-none-inline-child","",3,"subMenuMouseState","theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation"]],template:function(w,u){if(w&1){let x=ji();Ot($8),Ge(0,"div",2,0),vt("subMenuMouseState",function(l){return Ci(x),Mi(u.setMouseEnterState(l))})("toggleSubMenu",function(){return Ci(x),Mi(u.toggleSubMenu())}),lt(2,Q8,1,0),Qe(),lt(3,J8,1,6,"div",3)(4,_8,1,5,null,4)(5,e6,1,0,"ng-template",null,1,vn)}w&2&&(We("nzIcon",u.nzIcon)("nzTitle",u.nzTitle)("mode",u.mode)("nzDisabled",u.nzDisabled)("isMenuInsideDropDown",u.isMenuInsideDropDown)("paddingLeft",u.nzPaddingLeft||u.inlinePaddingLeft),qe(2),Ft(u.nzTitle?-1:2),qe(),Ft(u.mode==="inline"?3:4))},dependencies:[a2,o6,ro,l6,J4,Q4,Ni],encapsulation:2,changeDetection:0})}}return M})();function c6(){let M=te(Ui,{skipSelf:!0,optional:!0}),P=te(s2);return M??P}function u6(){return te(qt,{skipSelf:!0,optional:!0})??!1}var Qr=(()=>{class M{setInlineCollapsed(S){this.nzInlineCollapsed=S,this.inlineCollapsed$.next(S)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(S=>S.nzOpen),this.listOfNzSubMenuComponent.forEach(S=>S.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(S=>S.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(S,w){this.nzMenuService=S,this.cdr=w,this.isMenuInsideDropDown=te(qt),this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new Ie,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new ke(this.nzInlineCollapsed),this.mode$=new ke(this.nzMode),this.destroy$=new de,this.listOfOpenedNzSubMenuComponent=[],this.directionality=te(zt)}ngOnInit(){ei([this.inlineCollapsed$,this.mode$]).pipe(Se(this.destroy$)).subscribe(([S,w])=>{this.actualMode=S?"vertical":w,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(Se(this.destroy$)).subscribe(S=>{this.nzClick.emit(S),this.nzSelectable&&!S.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(w=>w.setSelectedState(w===S))}),this.dir=this.directionality.value,this.directionality.change?.pipe(Se(this.destroy$)).subscribe(S=>{this.dir=S,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(Se(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(S){let{nzInlineCollapsed:w,nzInlineIndent:u,nzTheme:x,nzMode:e}=S;w&&this.inlineCollapsed$.next(this.nzInlineCollapsed),u&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),x&&this.nzMenuService.setTheme(this.nzTheme),e&&(this.mode$.next(this.nzMode),!S.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(l=>l.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Ui),he(pt))}}static{this.\u0275dir=Ze({type:M,selectors:[["","nz-menu",""]],contentQueries:function(w,u,x){if(w&1&&(Ut(x,$r,5),Ut(x,Zr,5)),w&2){let e;Mt(e=Et())&&(u.listOfNzMenuItemDirective=e),Mt(e=Et())&&(u.listOfNzSubMenuComponent=e)}},hostVars:34,hostBindings:function(w,u){w&2&&_e("ant-dropdown-menu",u.isMenuInsideDropDown)("ant-dropdown-menu-root",u.isMenuInsideDropDown)("ant-dropdown-menu-light",u.isMenuInsideDropDown&&u.nzTheme==="light")("ant-dropdown-menu-dark",u.isMenuInsideDropDown&&u.nzTheme==="dark")("ant-dropdown-menu-vertical",u.isMenuInsideDropDown&&u.actualMode==="vertical")("ant-dropdown-menu-horizontal",u.isMenuInsideDropDown&&u.actualMode==="horizontal")("ant-dropdown-menu-inline",u.isMenuInsideDropDown&&u.actualMode==="inline")("ant-dropdown-menu-inline-collapsed",u.isMenuInsideDropDown&&u.nzInlineCollapsed)("ant-menu",!u.isMenuInsideDropDown)("ant-menu-root",!u.isMenuInsideDropDown)("ant-menu-light",!u.isMenuInsideDropDown&&u.nzTheme==="light")("ant-menu-dark",!u.isMenuInsideDropDown&&u.nzTheme==="dark")("ant-menu-vertical",!u.isMenuInsideDropDown&&u.actualMode==="vertical")("ant-menu-horizontal",!u.isMenuInsideDropDown&&u.actualMode==="horizontal")("ant-menu-inline",!u.isMenuInsideDropDown&&u.actualMode==="inline")("ant-menu-inline-collapsed",!u.isMenuInsideDropDown&&u.nzInlineCollapsed)("ant-menu-rtl",u.dir==="rtl")},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:[2,"nzInlineCollapsed","nzInlineCollapsed",Me],nzSelectable:[2,"nzSelectable","nzSelectable",Me]},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],standalone:!0,features:[si([{provide:s2,useClass:Ui},{provide:Ui,useFactory:c6},{provide:qt,useFactory:u6}]),ut,Ue]})}}return M})();function d6(){return te(qt,{optional:!0,skipSelf:!0})??!1}var f6=(()=>{class M{constructor(S,w){this.elementRef=S,this.renderer=w,this.isMenuInsideDropDown=te(qt);let u=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group":"ant-menu-item-group";this.renderer.addClass(S.nativeElement,u)}ngAfterViewInit(){let S=this.titleElement.nativeElement.nextElementSibling;if(S){let w=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group-list":"ant-menu-item-group-list";this.renderer.addClass(S,w)}}static{this.\u0275fac=function(w){return new(w||M)(he(Oe),he(St))}}static{this.\u0275cmp=$e({type:M,selectors:[["","nz-menu-group",""]],viewQuery:function(w,u){if(w&1&&ir(t6,5),w&2){let x;Mt(x=Et())&&(u.titleElement=x.first)}},inputs:{nzTitle:"nzTitle"},exportAs:["nzMenuGroup"],standalone:!0,features:[si([{provide:qt,useFactory:d6}]),nt],attrs:i6,ngContentSelectors:r6,decls:5,vars:6,consts:[["titleElement",""],[4,"nzStringTemplateOutlet"]],template:function(w,u){w&1&&(Ot(n6),Ge(0,"div",null,0),lt(2,s6,2,1,"ng-container",1)(3,a6,1,0),Qe(),Ct(4)),w&2&&(_e("ant-menu-item-group-title",!u.isMenuInsideDropDown)("ant-dropdown-menu-item-group-title",u.isMenuInsideDropDown),qe(2),We("nzStringTemplateOutlet",u.nzTitle),qe(),Ft(u.nzTitle?-1:3))},dependencies:[oo,ao],encapsulation:2,changeDetection:0})}}return M})();var o2=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({imports:[Zr,f6,a2]})}}return M})();var Jr=["*"],p6=["nz-sider-trigger",""];function m6(M,P){}function g6(M,P){if(M&1&&lt(0,m6,0,0,"ng-template",2),M&2){let S=it(),w=zi(5);We("ngTemplateOutlet",S.nzZeroTrigger||w)}}function x6(M,P){}function y6(M,P){if(M&1&&lt(0,x6,0,0,"ng-template",2),M&2){let S=it(),w=zi(3);We("ngTemplateOutlet",S.nzTrigger||w)}}function T6(M,P){if(M&1&&et(0,"span",3),M&2){let S=it(2);We("nzType",S.nzCollapsed?"left":"right")}}function S6(M,P){if(M&1&&et(0,"span",3),M&2){let S=it(2);We("nzType",S.nzCollapsed?"right":"left")}}function C6(M,P){if(M&1&&lt(0,T6,1,1,"span",3)(1,S6,1,1,"span",3),M&2){let S=it();Ft(S.nzReverseArrow?0:1)}}function M6(M,P){M&1&&et(0,"span",4)}function E6(M,P){if(M&1){let S=ji();Ge(0,"div",2),vt("click",function(){Ci(S);let u=it();return Mi(u.setCollapsed(!u.nzCollapsed))}),Qe()}if(M&2){let S=it();We("matchBreakPoint",S.matchBreakPoint)("nzCollapsedWidth",S.nzCollapsedWidth)("nzCollapsed",S.nzCollapsed)("nzBreakpoint",S.nzBreakpoint)("nzReverseArrow",S.nzReverseArrow)("nzTrigger",S.nzTrigger)("nzZeroTrigger",S.nzZeroTrigger)("siderWidth",S.widthSetting)}}var l2=(()=>{class M{constructor(S,w){this.elementRef=S,this.renderer=w,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}static{this.\u0275fac=function(w){return new(w||M)(he(Oe),he(St))}}static{this.\u0275cmp=$e({type:M,selectors:[["nz-content"]],exportAs:["nzContent"],standalone:!0,features:[nt],ngContentSelectors:Jr,decls:1,vars:0,template:function(w,u){w&1&&(Ot(),Ct(0))},encapsulation:2,changeDetection:0})}}return M})();var h2=(()=>{class M{constructor(S,w){this.elementRef=S,this.renderer=w,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}static{this.\u0275fac=function(w){return new(w||M)(he(Oe),he(St))}}static{this.\u0275cmp=$e({type:M,selectors:[["nz-header"]],exportAs:["nzHeader"],standalone:!0,features:[nt],ngContentSelectors:Jr,decls:1,vars:0,template:function(w,u){w&1&&(Ot(),Ct(0))},encapsulation:2,changeDetection:0})}}return M})(),c2=(()=>{class M{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=$e({type:M,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(w,u){w&2&&(wi("width",u.isNormalTrigger?u.siderWidth:null),_e("ant-layout-sider-trigger",u.isNormalTrigger)("ant-layout-sider-zero-width-trigger",u.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",u.isZeroTrigger&&u.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",u.isZeroTrigger&&!u.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[Ue,nt],attrs:p6,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(w,u){w&1&&lt(0,g6,1,1,null,2)(1,y6,1,1,null,2)(2,C6,2,1,"ng-template",null,0,vn)(4,M6,1,0,"ng-template",null,1,vn),w&2&&(Ft(u.isZeroTrigger?0:-1),qe(),Ft(u.isNormalTrigger?1:-1))},dependencies:[pn,on,an],encapsulation:2,changeDetection:0})}}return M})(),qr=(()=>{class M{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:u4(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(S){S!==this.nzCollapsed&&(this.nzCollapsed=S,this.nzCollapsedChange.emit(S),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(S,w,u){this.platform=S,this.cdr=w,this.breakpointService=u,this.destroy$=new de,this.nzMenuDirective=null,this.nzCollapsedChange=new Ie,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(b4,!0).pipe(Se(this.destroy$)).subscribe(S=>{let w=this.nzBreakpoint;w&&d4().subscribe(()=>{this.matchBreakPoint=!S[w],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(S){let{nzCollapsed:w,nzCollapsedWidth:u,nzWidth:x}=S;(w||u||x)&&this.updateStyleMap(),w&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(dt),he(pt),he(V4))}}static{this.\u0275cmp=$e({type:M,selectors:[["nz-sider"]],contentQueries:function(w,u,x){if(w&1&&Ut(x,Qr,5),w&2){let e;Mt(e=Et())&&(u.nzMenuDirective=e.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(w,u){w&2&&(wi("flex",u.flexSetting)("max-width",u.widthSetting)("min-width",u.widthSetting)("width",u.widthSetting),_e("ant-layout-sider-zero-width",u.nzCollapsed&&u.nzCollapsedWidth===0)("ant-layout-sider-light",u.nzTheme==="light")("ant-layout-sider-dark",u.nzTheme==="dark")("ant-layout-sider-collapsed",u.nzCollapsed)("ant-layout-sider-has-trigger",u.nzCollapsible&&u.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:[2,"nzReverseArrow","nzReverseArrow",Me],nzCollapsible:[2,"nzCollapsible","nzCollapsible",Me],nzCollapsed:[2,"nzCollapsed","nzCollapsed",Me]},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[ut,Ue,nt],ngContentSelectors:Jr,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(w,u){w&1&&(Ot(),Ge(0,"div",0),Ct(1),Qe(),lt(2,E6,1,8,"div",1)),w&2&&(qe(2),Ft(u.nzCollapsible&&u.nzTrigger!==null?2:-1))},dependencies:[c2],encapsulation:2,changeDetection:0})}}return M})(),u2=(()=>{class M{constructor(S){this.directionality=S,this.dir="ltr",this.destroy$=new de}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Se(this.destroy$)).subscribe(S=>{this.dir=S})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(zt))}}static{this.\u0275cmp=$e({type:M,selectors:[["nz-layout"]],contentQueries:function(w,u,x){if(w&1&&Ut(x,qr,4),w&2){let e;Mt(e=Et())&&(u.listOfNzSiderComponent=e)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(w,u){w&2&&_e("ant-layout-rtl",u.dir==="rtl")("ant-layout-has-sider",u.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],standalone:!0,features:[nt],ngContentSelectors:Jr,decls:1,vars:0,template:function(w,u){w&1&&(Ot(),Ct(0))},encapsulation:2,changeDetection:0})}}return M})(),d2=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Ae({type:M})}static{this.\u0275inj=ze({imports:[qr,c2]})}}return M})();var f2=(()=>{class M{constructor(){this.isCollapsed=!1}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=$e({type:M,selectors:[["app-root"]],standalone:!0,features:[nt],decls:32,vars:4,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsedChange","nzCollapsed","nzTrigger"],[1,"sidebar-logo"],["href","https://ng.ant.design/","target","_blank"],["src","https://ng.ant.design/assets/img/logo.svg","alt","logo"],["nz-menu","","nzTheme","dark","nzMode","inline",3,"nzInlineCollapsed"],["nz-submenu","","nzOpen","","nzTitle","Dashboard","nzIcon","dashboard"],["nz-menu-item","","nzMatchRouter",""],["routerLink","/welcome"],["routerLink","/game"],["nz-submenu","","nzOpen","","nzTitle","Form","nzIcon","form"],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"inner-content"]],template:function(w,u){w&1&&(Ge(0,"nz-layout",0)(1,"nz-sider",1),Yo("nzCollapsedChange",function(e){return Ho(u.isCollapsed,e)||(u.isCollapsed=e),e}),Ge(2,"div",2)(3,"a",3),et(4,"img",4),Ge(5,"h1"),Kt(6,"Ant Design Of Angular"),Qe()()(),Ge(7,"ul",5)(8,"li",6)(9,"ul")(10,"li",7)(11,"a",8),Kt(12,"Welcome"),Qe()(),Ge(13,"li",7)(14,"a",9),Kt(15,"Game"),Qe()(),Ge(16,"li",7)(17,"a"),Kt(18,"Workplace"),Qe()()()(),Ge(19,"li",10)(20,"ul")(21,"li",7)(22,"a"),Kt(23,"Basic Form"),Qe()()()()()(),Ge(24,"nz-layout")(25,"nz-header")(26,"div",11)(27,"span",12),vt("click",function(){return u.isCollapsed=!u.isCollapsed}),et(28,"span",13),Qe()()(),Ge(29,"nz-content")(30,"div",14),et(31,"router-outlet"),Qe()()()()),w&2&&(qe(),Bo("nzCollapsed",u.isCollapsed),We("nzTrigger",null),qe(6),We("nzInlineCollapsed",u.isCollapsed),qe(21),We("nzType",u.isCollapsed?"menu-unfold":"menu-fold"))},dependencies:[Ss,Wn,xa,on,an,d2,u2,h2,l2,qr,o2,Qr,$r,Zr],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px #00152959}.header-trigger[_ngcontent-%COMP%]{height:64px;padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 20px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px #00152914}nz-content[_ngcontent-%COMP%]{margin:24px}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}"]})}}return M})();Al(f2,F4).catch(M=>console.error(M));
