import{B as Jo,C as Sn,D as ds,I as qo,J as fs,L as _o,Q as el,a as Tr,b as Xo,c as jo,d as Ce,e as Cr,f as Zi,g as Ko,h as cs,i as $o,j as xn,k as Mr,l as Zo,m as Qo,n as yn,o as us,p as gt,q as we,r as ce,s as xt,t as Ae,u as Er,v as Pr}from"./chunk-AJQKKFAQ.js";import{$ as fn,$a as Bo,A as Je,Aa as Xi,Ab as Ho,B as Ti,Ba as ji,Bb as Yo,C as ii,Ca as wo,Cb as No,D as Ci,Da as zo,Db as ai,E as rr,Ea as Ao,Eb as et,F as Yt,Fa as Do,Fb as gn,G as ki,Ga as Fo,Gb as as,H as Mi,Ha as Lo,Hb as xr,I as Nt,Ia as Ro,Ib as os,J as ni,Ja as $t,Jb as Di,K as ar,Ka as Oo,Kb as Uo,L as mo,La as vn,Lb as yr,M as go,Ma as Le,Mb as Go,N as xo,Na as he,Nb as ls,O as Kt,Oa as ur,Ob as mt,P as dt,Pa as Dt,Pb as ko,Q as Me,Qa as bo,Qb as Wo,R as yo,Ra as dr,Rb as Pe,S as qe,Sa as Ft,Sb as hs,T as be,Ta as Ct,Tb as Sr,U as re,Ua as ri,V as De,Va as pn,W as So,Wa as mn,X as ve,Xa as ft,Y as or,Ya as Vo,Z as ee,Za as Io,_ as te,_a as ct,a as se,aa as Ke,ab as fr,b as Ge,ba as Fe,bb as ss,c as co,ca as _e,cb as He,d as g2,da as Tt,db as bt,e as x2,ea as To,eb as it,f as tr,fa as Co,fb as Lt,g as Ht,ga as si,gb as pe,h as uo,ha as Ot,hb as Se,i as Si,ia as $e,ib as Ye,j as ir,ja as Ei,jb as vr,k as nr,ka as Pi,kb as pr,l as de,la as Wi,lb as Ki,m as Qe,ma as Mo,mb as mr,n as ei,na as wi,o as ht,oa as ns,ob as nt,p as ue,pa as ke,pb as rt,q as un,qa as Ve,qb as Vt,r as is,ra as lr,rb as Mt,s as fo,sa as Be,sb as kt,t as me,ta as Eo,tb as rs,u as ti,ua as hr,ub as Et,v as pt,va as Po,vb as Pt,w as vo,wa as Ut,wb as Ai,x as sr,xa as Gt,xb as Re,y as po,ya as zi,yb as gr,z as dn,za as cr,zb as $i}from"./chunk-3EJ2ZUDZ.js";var v1=g2(($n,wa)=>{"use strict";(function(P,S){typeof $n=="object"&&typeof wa=="object"?wa.exports=S():typeof define=="function"&&define.amd?define("Phaser",[],S):typeof $n=="object"?$n.Phaser=S():P.Phaser=S()})($n,()=>(()=>{var M={50792:c=>{"use strict";var x=Object.prototype.hasOwnProperty,e="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(e=!1));function p(t,n,h){this.fn=t,this.context=n,this.once=h||!1}function a(t,n,h,i,l){if(typeof h!="function")throw new TypeError("The listener must be a function");var u=new p(h,i||t,l),d=e?e+n:n;return t._events[d]?t._events[d].fn?t._events[d]=[t._events[d],u]:t._events[d].push(u):(t._events[d]=u,t._eventsCount++),t}function r(t,n){--t._eventsCount===0?t._events=new o:delete t._events[n]}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var n=[],h,i;if(this._eventsCount===0)return n;for(i in h=this._events)x.call(h,i)&&n.push(e?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(h)):n},s.prototype.listeners=function(n){var h=e?e+n:n,i=this._events[h];if(!i)return[];if(i.fn)return[i.fn];for(var l=0,u=i.length,d=new Array(u);l<u;l++)d[l]=i[l].fn;return d},s.prototype.listenerCount=function(n){var h=e?e+n:n,i=this._events[h];return i?i.fn?1:i.length:0},s.prototype.emit=function(n,h,i,l,u,d){var f=e?e+n:n;if(!this._events[f])return!1;var v=this._events[f],m=arguments.length,g,y;if(v.fn){switch(v.once&&this.removeListener(n,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,i),!0;case 4:return v.fn.call(v.context,h,i,l),!0;case 5:return v.fn.call(v.context,h,i,l,u),!0;case 6:return v.fn.call(v.context,h,i,l,u,d),!0}for(y=1,g=new Array(m-1);y<m;y++)g[y-1]=arguments[y];v.fn.apply(v.context,g)}else{var T=v.length,C;for(y=0;y<T;y++)switch(v[y].once&&this.removeListener(n,v[y].fn,void 0,!0),m){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,h);break;case 3:v[y].fn.call(v[y].context,h,i);break;case 4:v[y].fn.call(v[y].context,h,i,l);break;default:if(!g)for(C=1,g=new Array(m-1);C<m;C++)g[C-1]=arguments[C];v[y].fn.apply(v[y].context,g)}}return!0},s.prototype.on=function(n,h,i){return a(this,n,h,i,!1)},s.prototype.once=function(n,h,i){return a(this,n,h,i,!0)},s.prototype.removeListener=function(n,h,i,l){var u=e?e+n:n;if(!this._events[u])return this;if(!h)return r(this,u),this;var d=this._events[u];if(d.fn)d.fn===h&&(!l||d.once)&&(!i||d.context===i)&&r(this,u);else{for(var f=0,v=[],m=d.length;f<m;f++)(d[f].fn!==h||l&&!d[f].once||i&&d[f].context!==i)&&v.push(d[f]);v.length?this._events[u]=v.length===1?v[0]:v:r(this,u)}return this},s.prototype.removeAllListeners=function(n){var h;return n?(h=e?e+n:n,this._events[h]&&r(this,h)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=e,s.EventEmitter=s,c.exports=s},11517:(c,x,e)=>{var o=e(38829),p=function(a,r,s,t){for(var n=a[0],h=1;h<a.length;h++){var i=a[h];o(i,n,r,s,t),n=i}return a};c.exports=p},80318:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n){return o(a,"angle",r,s,t,n)};c.exports=p},60757:c=>{var x=function(e,o,p){for(var a=0;a<e.length;a++){var r=e[a];o.call(p,r)}return e};c.exports=x},69927:c=>{var x=function(e,o,p){p===void 0&&(p=0);for(var a=p;a<e.length;a++){var r=e[a],s=!0;for(var t in o)r[t]!==o[t]&&(s=!1);if(s)return r}return null};c.exports=x},32265:c=>{var x=function(e,o,p){p===void 0&&(p=0);for(var a=e.length-1;a>=p;a--){var r=e[a],s=!0;for(var t in o)r[t]!==o[t]&&(s=!1);if(s)return r}return null};c.exports=x},94420:(c,x,e)=>{var o=e(11879),p=e(60461),a=e(95540),r=e(29747),s=e(41481),t=new s({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),n=function(h,i){i===void 0&&(i={});var l=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),d=a(i,"width",-1),f=a(i,"height",-1),v=a(i,"cellWidth",1),m=a(i,"cellHeight",v),g=a(i,"position",p.TOP_LEFT),y=a(i,"x",0),T=a(i,"y",0),C=0,E=0,z=d*v,D=f*m;t.setPosition(y,T),t.setSize(v,m);for(var A=0;A<h.length;A++)if(o(h[A],t,g),l&&d===-1)t.x+=v;else if(u&&f===-1)t.y+=m;else if(u&&!l){if(E+=m,t.y+=m,E===D&&(E=0,C+=v,t.y=T,t.x+=v,C===z))break}else if(C+=v,t.x+=v,C===z&&(C=0,E+=m,t.x=y,t.y+=m,E===D))break;return h};c.exports=n},41721:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n){return o(a,"alpha",r,s,t,n)};c.exports=p},67285:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n){return o(a,"x",r,s,t,n)};c.exports=p},9074:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n,h,i){return s==null&&(s=r),o(a,"x",r,t,h,i),o(a,"y",s,n,h,i)};c.exports=p},75222:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n){return o(a,"y",r,s,t,n)};c.exports=p},22983:c=>{var x=function(e,o,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var r=p,s=(a-p)/e.length,t=o.x,n=o.y,h=o.radius,i=0;i<e.length;i++)e[i].x=t+h*Math.cos(r),e[i].y=n+h*Math.sin(r),r+=s;return e};c.exports=x},95253:c=>{var x=function(e,o,p,a){p===void 0&&(p=0),a===void 0&&(a=6.28);for(var r=p,s=(a-p)/e.length,t=o.width/2,n=o.height/2,h=0;h<e.length;h++)e[h].x=o.x+t*Math.cos(r),e[h].y=o.y+n*Math.sin(r),r+=s;return e};c.exports=x},88505:(c,x,e)=>{var o=e(15258),p=e(26708),a=function(r,s,t){var n;t?n=p(s,t,r.length):n=o(s,r.length);for(var h=0;h<r.length;h++){var i=r[h],l=n[h];i.x=l.x,i.y=l.y}return r};c.exports=a},41346:(c,x,e)=>{var o=e(14649),p=e(86003),a=e(49498),r=function(s,t,n){n===void 0&&(n=0);var h=o(t,!1,s.length);n>0?p(h,n):n<0&&a(h,Math.abs(n));for(var i=0;i<s.length;i++)s[i].x=h[i].x,s[i].y=h[i].y;return s};c.exports=r},11575:(c,x,e)=>{var o=e(84993),p=function(a,r,s){var t=o({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},s),n=o({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},s),h=o({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},s);t.pop(),n.pop(),h.pop(),t=t.concat(n,h);for(var i=t.length/a.length,l=0,u=0;u<a.length;u++){var d=a[u],f=t[Math.floor(l)];d.x=f.x,d.y=f.y,l+=i}return a};c.exports=p},29953:c=>{var x=function(e,o,p){for(var a=0;a<e.length;a++){var r=e[a];r.anims&&r.anims.play(o,p)}return e};c.exports=x},66979:c=>{var x=function(e,o,p,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=1);var t,n=0,h=e.length;if(s===1)for(t=r;t<h;t++)e[t][o]+=p+n*a,n++;else for(t=r;t>=0;t--)e[t][o]+=p+n*a,n++;return e};c.exports=x},43967:c=>{var x=function(e,o,p,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=1);var t,n=0,h=e.length;if(s===1)for(t=r;t<h;t++)e[t][o]=p+n*a,n++;else for(t=r;t>=0;t--)e[t][o]=p+n*a,n++;return e};c.exports=x},88926:(c,x,e)=>{var o=e(28176),p=function(a,r){for(var s=0;s<a.length;s++)o(r,a[s]);return a};c.exports=p},33286:(c,x,e)=>{var o=e(24820),p=function(a,r){for(var s=0;s<a.length;s++)o(r,a[s]);return a};c.exports=p},96e3:(c,x,e)=>{var o=e(65822),p=function(a,r){for(var s=0;s<a.length;s++)o(r,a[s]);return a};c.exports=p},28789:(c,x,e)=>{var o=e(26597),p=function(a,r){for(var s=0;s<a.length;s++)o(r,a[s]);return a};c.exports=p},97154:(c,x,e)=>{var o=e(90260),p=function(a,r){for(var s=0;s<a.length;s++)o(r,a[s]);return a};c.exports=p},20510:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n){return o(a,"rotation",r,s,t,n)};c.exports=p},91051:(c,x,e)=>{var o=e(1163),p=e(20339),a=function(r,s,t){for(var n=s.x,h=s.y,i=0;i<r.length;i++){var l=r[i];o(l,n,h,t,Math.max(1,p(l.x,l.y,n,h)))}return r};c.exports=a},76332:(c,x,e)=>{var o=e(1163),p=function(a,r,s,t){var n=r.x,h=r.y;if(t===0)return a;for(var i=0;i<a.length;i++)o(a[i],n,h,s,t);return a};c.exports=p},61619:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n){return o(a,"scaleX",r,s,t,n)};c.exports=p},94868:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n,h,i){return s==null&&(s=r),o(a,"scaleX",r,t,h,i),o(a,"scaleY",s,n,h,i)};c.exports=p},95532:(c,x,e)=>{var o=e(66979),p=function(a,r,s,t,n){return o(a,"scaleY",r,s,t,n)};c.exports=p},8689:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"alpha",r,s,t,n)};c.exports=p},2645:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t){return o(a,"blendMode",r,0,s,t)};c.exports=p},32372:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"depth",r,s,t,n)};c.exports=p},85373:c=>{var x=function(e,o,p){for(var a=0;a<e.length;a++)e[a].setInteractive(o,p);return e};c.exports=x},81583:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n,h,i){return s==null&&(s=r),o(a,"originX",r,t,h,i),o(a,"originY",s,n,h,i),a.forEach(function(l){l.updateDisplayOrigin()}),a};c.exports=p},79939:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"rotation",r,s,t,n)};c.exports=p},2699:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n,h,i){return s==null&&(s=r),o(a,"scaleX",r,t,h,i),o(a,"scaleY",s,n,h,i)};c.exports=p},98739:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"scaleX",r,s,t,n)};c.exports=p},98476:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"scaleY",r,s,t,n)};c.exports=p},6207:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n,h,i){return s==null&&(s=r),o(a,"scrollFactorX",r,t,h,i),o(a,"scrollFactorY",s,n,h,i)};c.exports=p},6607:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"scrollFactorX",r,s,t,n)};c.exports=p},72248:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"scrollFactorY",r,s,t,n)};c.exports=p},14036:c=>{var x=function(e,o,p,a,r){for(var s=0;s<e.length;s++)e[s].setTint(o,p,a,r);return e};c.exports=x},50159:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t){return o(a,"visible",r,0,s,t)};c.exports=p},77597:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"x",r,s,t,n)};c.exports=p},83194:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n,h,i){return s==null&&(s=r),o(a,"x",r,t,h,i),o(a,"y",s,n,h,i)};c.exports=p},67678:(c,x,e)=>{var o=e(43967),p=function(a,r,s,t,n){return o(a,"y",r,s,t,n)};c.exports=p},35850:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n){t===void 0&&(t=0),n===void 0&&(n=new o);var h,i,l=a.length;if(l===1)h=a[0].x,i=a[0].y,a[0].x=r,a[0].y=s;else{var u=1,d=0;t===0&&(d=l-1,u=l-2),h=a[d].x,i=a[d].y,a[d].x=r,a[d].y=s;for(var f=0;f<l;f++)if(!(u>=l||u===-1)){var v=a[u],m=v.x,g=v.y;v.x=h,v.y=i,h=m,i=g,t===0?u--:u++}}return n.x=h,n.y=i,n};c.exports=p},8628:(c,x,e)=>{var o=e(33680),p=function(a){return o(a)};c.exports=p},21837:(c,x,e)=>{var o=e(7602),p=function(a,r,s,t,n){n===void 0&&(n=!1);var h=Math.abs(t-s)/a.length,i;if(n)for(i=0;i<a.length;i++)a[i][r]+=o(i*h,s,t);else for(i=0;i<a.length;i++)a[i][r]=o(i*h,s,t);return a};c.exports=p},21910:(c,x,e)=>{var o=e(54261),p=function(a,r,s,t,n){n===void 0&&(n=!1);var h=Math.abs(t-s)/a.length,i;if(n)for(i=0;i<a.length;i++)a[i][r]+=o(i*h,s,t);else for(i=0;i<a.length;i++)a[i][r]=o(i*h,s,t);return a};c.exports=p},62054:c=>{var x=function(e,o,p,a,r){if(r===void 0&&(r=!1),e.length===0)return e;if(e.length===1)return r?e[0][o]+=(a+p)/2:e[0][o]=(a+p)/2,e;var s=Math.abs(a-p)/(e.length-1),t;if(r)for(t=0;t<e.length;t++)e[t][o]+=t*s+p;else for(t=0;t<e.length;t++)e[t][o]=t*s+p;return e};c.exports=x},79815:c=>{var x=function(e){for(var o=0;o<e.length;o++)e[o].visible=!e[o].visible;return e};c.exports=x},39665:(c,x,e)=>{var o=e(15994),p=function(a,r,s){s===void 0&&(s=0);for(var t=0;t<a.length;t++){var n=a[t];n.x=o(n.x,r.left-s,r.right+s),n.y=o(n.y,r.top-s,r.bottom+s)}return a};c.exports=p},61061:(c,x,e)=>{c.exports={AlignTo:e(11517),Angle:e(80318),Call:e(60757),GetFirst:e(69927),GetLast:e(32265),GridAlign:e(94420),IncAlpha:e(41721),IncX:e(67285),IncXY:e(9074),IncY:e(75222),PlaceOnCircle:e(22983),PlaceOnEllipse:e(95253),PlaceOnLine:e(88505),PlaceOnRectangle:e(41346),PlaceOnTriangle:e(11575),PlayAnimation:e(29953),PropertyValueInc:e(66979),PropertyValueSet:e(43967),RandomCircle:e(88926),RandomEllipse:e(33286),RandomLine:e(96e3),RandomRectangle:e(28789),RandomTriangle:e(97154),Rotate:e(20510),RotateAround:e(91051),RotateAroundDistance:e(76332),ScaleX:e(61619),ScaleXY:e(94868),ScaleY:e(95532),SetAlpha:e(8689),SetBlendMode:e(2645),SetDepth:e(32372),SetHitArea:e(85373),SetOrigin:e(81583),SetRotation:e(79939),SetScale:e(2699),SetScaleX:e(98739),SetScaleY:e(98476),SetScrollFactor:e(6207),SetScrollFactorX:e(6607),SetScrollFactorY:e(72248),SetTint:e(14036),SetVisible:e(50159),SetX:e(77597),SetXY:e(83194),SetY:e(67678),ShiftPosition:e(35850),Shuffle:e(8628),SmootherStep:e(21910),SmoothStep:e(21837),Spread:e(62054),ToggleVisible:e(79815),WrapInRectangle:e(39665)}},42099:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(74943),r=e(81957),s=e(41138),t=e(35154),n=e(90126),h=new p({initialize:function(l,u,d){this.manager=l,this.key=u,this.type="frame",this.frames=this.getFrames(l.textureManager,t(d,"frames",[]),t(d,"defaultTextureKey",null),t(d,"sortFrames",!0)),this.frameRate=t(d,"frameRate",null),this.duration=t(d,"duration",null),this.msPerFrame,this.skipMissedFrames=t(d,"skipMissedFrames",!0),this.delay=t(d,"delay",0),this.repeat=t(d,"repeat",0),this.repeatDelay=t(d,"repeatDelay",0),this.yoyo=t(d,"yoyo",!1),this.showBeforeDelay=t(d,"showBeforeDelay",!1),this.showOnStart=t(d,"showOnStart",!1),this.hideOnComplete=t(d,"hideOnComplete",!1),this.randomFrame=t(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,l,u,d){u===null&&d===null?(i.frameRate=24,i.duration=24/l*1e3):u&&d===null?(i.duration=u,i.frameRate=l/(u/1e3)):(i.frameRate=d,i.duration=l/d*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,l){var u=this.getFrames(this.manager.textureManager,l);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var d=this.frames.slice(0,i),f=this.frames.slice(i);this.frames=d.concat(u,f)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,l,u,d){d===void 0&&(d=!0);var f=[],v,m,g=1,y,T;if(typeof l=="string"){if(T=l,!i.exists(T))return console.warn('Texture "%s" not found',T),f;var C=i.get(T),E=C.getFrameNames();d&&n(E),l=[],E.forEach(function(F){l.push({key:T,frame:F})})}if(!Array.isArray(l)||l.length===0)return f;for(y=0;y<l.length;y++){var z=l[y],D=t(z,"key",u);if(D){var A=t(z,"frame",0),L=i.getFrame(D,A);if(!L){console.warn('Texture "%s" not found',D);continue}m=new s(D,A,g,L),m.duration=t(z,"duration",0),m.isFirst=!v,v&&(v.nextFrame=m,m.prevFrame=v),f.push(m),v=m,g++}}if(f.length>0){m.isLast=!0,m.nextFrame=f[0],f[0].prevFrame=m;var b=1/(f.length-1);for(y=0;y<f.length;y++)f[y].progress=y*b}return f},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.currentFrame.duration?i.currentFrame.duration:i.msPerFrame},getFrameByProgress:function(i){return i=o(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var l=i.currentFrame;l.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,l.nextFrame)},handleYoyoFrame:function(i,l){if(l||(l=!1),i.inReverse===!l&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=l),this.repeatAnimation(i);return}if(i.inReverse!==l&&i.repeatCounter===0){i.complete();return}i.forward=l;var u=l?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var l=i.currentFrame;l.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,l.prevFrame)},updateAndGetNextTick:function(i,l){i.setCurrentFrame(l),this.getNextTick(i)},removeFrame:function(i){var l=this.frames.indexOf(i);return l!==-1&&this.removeFrameAt(l),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(l){i.frames.push(l.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,l=1/(i-1),u,d=0;d<i;d++)u=this.frames[d],u.index=d+1,u.isFirst=!1,u.isLast=!1,u.progress=d*l,d===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[d+1])):d===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[d-1],u.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});c.exports=h},41138:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t,n,h){h===void 0&&(h=!1),this.textureKey=r,this.textureFrame=s,this.index=t,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});c.exports=p},60848:(c,x,e)=>{var o=e(42099),p=e(83419),a=e(90330),r=e(50792),s=e(74943),t=e(8443),n=e(95540),h=e(35154),i=e(36383),l=e(20283),u=e(41836),d=new p({Extends:r,initialize:function(v){r.call(this),this.game=v,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",v.events.once(t.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(t.DESTROY,this.destroy,this)},addMix:function(f,v,m){var g=this.anims,y=this.mixes,T=typeof f=="string"?f:f.key,C=typeof v=="string"?v:v.key;if(g.has(T)&&g.has(C)){var E=y.get(T);E||(E={}),E[C]=m,y.set(T,E)}return this},removeMix:function(f,v){var m=this.mixes,g=typeof f=="string"?f:f.key,y=m.get(g);if(y)if(v){var T=typeof v=="string"?v:v.key;y.hasOwnProperty(T)&&delete y[T]}else v||m.delete(g);return this},getMix:function(f,v){var m=this.mixes,g=typeof f=="string"?f:f.key,y=typeof v=="string"?v:v.key,T=m.get(g);return T&&T.hasOwnProperty(y)?T[y]:0},add:function(f,v){return this.anims.has(f)?(console.warn("Animation key exists: "+f),this):(v.key=f,this.anims.set(f,v),this.emit(s.ADD_ANIMATION,f,v),this)},exists:function(f){return this.anims.has(f)},createFromAseprite:function(f,v,m){var g=[],y=this.game.cache.json.get(f);if(!y)return console.warn("No Aseprite data found for: "+f),g;var T=this,C=h(y,"meta",null),E=h(y,"frames",null);if(C&&E){var z=h(C,"frameTags",[]);z.forEach(function(D){var A=[],L=n(D,"name",null),b=n(D,"from",0),F=n(D,"to",0),V=n(D,"direction","forward");if(L&&(!v||v&&v.indexOf(L)>-1)){for(var B=0,N=b;N<=F;N++){var U=N.toString(),I=E[U];if(I){var H=n(I,"duration",i.MAX_SAFE_INTEGER);A.push({key:f,frame:U,duration:H}),B+=H}}V==="reverse"&&(A=A.reverse());var O={key:L,frames:A,duration:B,yoyo:V==="pingpong"},R;m?m.anims&&(R=m.anims.create(O)):R=T.create(O),R&&g.push(R)}})}return g},create:function(f){var v=f.key,m=!1;return v&&(m=this.get(v),m?console.warn("AnimationManager key already exists: "+v):(m=new o(this,v,f),this.anims.set(v,m),this.emit(s.ADD_ANIMATION,v,m))),m},fromJSON:function(f,v){v===void 0&&(v=!1),v&&this.anims.clear(),typeof f=="string"&&(f=JSON.parse(f));var m=[];if(f.hasOwnProperty("anims")&&Array.isArray(f.anims)){for(var g=0;g<f.anims.length;g++)m.push(this.create(f.anims[g]));f.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=f.globalTimeScale)}else f.hasOwnProperty("key")&&f.type==="frame"&&m.push(this.create(f));return m},generateFrameNames:function(f,v){var m=h(v,"prefix",""),g=h(v,"start",0),y=h(v,"end",0),T=h(v,"suffix",""),C=h(v,"zeroPad",0),E=h(v,"outputArray",[]),z=h(v,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),E;var D=this.textureManager.get(f);if(!D)return E;var A;if(v)for(z||(z=l(g,y)),A=0;A<z.length;A++){var L=m+u(z[A],C,"0",1)+T;D.has(L)?E.push({key:f,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,f)}else for(z=D.getFrameNames(),A=0;A<z.length;A++)E.push({key:f,frame:z[A]});return E},generateFrameNumbers:function(f,v){var m=h(v,"start",0),g=h(v,"end",-1),y=h(v,"first",!1),T=h(v,"outputArray",[]),C=h(v,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),T;var E=this.textureManager.get(f);if(!E)return T;y&&E.has(y)&&T.push({key:f,frame:y}),C||(g===-1&&(g=E.frameTotal-2),C=l(m,g));for(var z=0;z<C.length;z++){var D=C[z];E.has(D)?T.push({key:f,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,f)}return T},get:function(f){return this.anims.get(f)},getAnimsFromTexture:function(f){for(var v=this.textureManager.get(f),m=v.key,g=this.anims.getArray(),y=[],T=0;T<g.length;T++)for(var C=g[T],E=C.frames,z=0;z<E.length;z++)if(E[z].textureKey===m){y.push(C.key);break}return y},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(f,v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++)v[m].anims.play(f);return this},staggerPlay:function(f,v,m,g){m===void 0&&(m=0),g===void 0&&(g=!0),Array.isArray(v)||(v=[v]);var y=v.length;g||y--;for(var T=0;T<v.length;T++){var C=m<0?Math.abs(m)*(y-T):m*T;v[T].anims.playAfterDelay(f,C)}return this},remove:function(f){var v=this.get(f);return v&&(this.emit(s.REMOVE_ANIMATION,f,v),this.anims.delete(f),this.removeMix(f)),v},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(f){var v={anims:[],globalTimeScale:this.globalTimeScale};return f!==void 0&&f!==""?v.anims.push(this.anims.get(f).toJSON()):this.anims.each(function(m,g){v.anims.push(g.toJSON())}),v},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});c.exports=d},9674:(c,x,e)=>{var o=e(42099),p=e(30976),a=e(83419),r=e(90330),s=e(74943),t=e(95540),n=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(s.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(h){var i=this.parent;if(h===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(h)||(h=[h]);for(var l=0;l<h.length;l++){var u=h[l];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var i=this.animationManager,l=typeof h=="string"?h:t(h,"key",null),u=this.exists(l)?this.get(l):i.get(l);if(!u)console.warn("Missing animation: "+l);else{this.currentAnim=u;var d=u.getTotalFrames(),f=t(h,"frameRate",u.frameRate),v=t(h,"duration",u.duration);u.calculateDuration(this,d,v,f),this.delay=t(h,"delay",u.delay),this.repeat=t(h,"repeat",u.repeat),this.repeatDelay=t(h,"repeatDelay",u.repeatDelay),this.yoyo=t(h,"yoyo",u.yoyo),this.showBeforeDelay=t(h,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=t(h,"showOnStart",u.showOnStart),this.hideOnComplete=t(h,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=t(h,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=t(h,"randomFrame",u.randomFrame),this.timeScale=t(h,"timeScale",this.timeScale);var m=t(h,"startFrame",0);m>d&&(m=0),this.randomFrame&&(m=p(0,d-1));var g=u.frames[m];m===0&&!this.forward&&(g=u.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(h){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),h!==void 0&&this.setCurrentFrame(h),this.parent},resume:function(h){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),h!==void 0&&this.setCurrentFrame(h),this.parent},playAfterDelay:function(h,i){if(!this.isPlaying)this.delayCounter=i,this.play(h,!0);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.nextAnim=h,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(h,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(h);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=h,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(h,i){i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent,d=typeof h=="string"?h:h.key;if(i&&this.isPlaying&&l.key===d)return u;if(l&&this.isPlaying){var f=this.animationManager.getMix(l.key,h);if(f>0)return this.playAfterDelay(h,f)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h)},playReverse:function(h,i){i===void 0&&(i=!1);var l=typeof h=="string"?h:h.key;return i&&this.isPlaying&&this.currentAnim.key===l?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h))},startAnimation:function(h){this.load(h);var i=this.currentAnim,l=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),l},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(s.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(s.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(s.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(s.ANIMATION_COMPLETE,s.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,i){var l=this.currentAnim;if(l){var u=this.currentFrame,d=this.parent,f=u.textureFrame;d.emit(h,l,u,d,f),i&&d.emit(i+l.key,l,u,d,f)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;var i=h.progress;return this.inReverse&&(i*=-1),i},setProgress:function(h){return this.forward||(h=1-h),this.setCurrentFrame(this.currentAnim.getFrameByProgress(h)),this.parent},setRepeat:function(h){return this.repeatCounter=h===-1?Number.MAX_VALUE:h,this.parent},globalRemove:function(h,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,i){h===void 0&&(h=!1),i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent;return l?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),l.getFirstTick(this),this.emitEvents(s.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!h,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(l.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(h)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(h)}return this.parent},stopAfterDelay:function(h){return this._pendingStop=1,this._pendingStopValue=h,this.parent},stopAfterRepeat:function(h){return h===void 0&&(h=1),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=h,this.parent},stopOnFrame:function(h){return this._pendingStop=3,this._pendingStopValue=h,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(h,i){var l=this.currentAnim;if(!(!this.isPlaying||!l||l.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?l.nextFrame(this):l.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?l.nextFrame(this):l.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(h){var i=this.parent;return this.currentFrame=h,i.texture=h.frame.texture,i.frame=h.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),h.setAlpha&&(i.alpha=h.alpha),i.setSizeToFrame(),i._originComponent&&(h.frame.customPivot?i.setOrigin(h.frame.pivotX,h.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(s.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===h&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var i=h.key,l=!1;return i&&(l=this.get(i),l?console.warn("Animation key already exists: "+i):(l=new o(this,i,h),this.anims||(this.anims=new r),this.anims.set(i,l))),l},createFromAseprite:function(h,i){return this.animationManager.createFromAseprite(h,i,this.parent)},generateFrameNames:function(h,i){return this.animationManager.generateFrameNames(h,i)},generateFrameNumbers:function(h,i){return this.animationManager.generateFrameNumbers(h,i)},remove:function(h){var i=this.get(h);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(h)),i},destroy:function(){this.animationManager.off(s.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});c.exports=n},57090:c=>{c.exports="add"},25312:c=>{c.exports="animationcomplete"},89580:c=>{c.exports="animationcomplete-"},52860:c=>{c.exports="animationrepeat"},63850:c=>{c.exports="animationrestart"},99085:c=>{c.exports="animationstart"},28087:c=>{c.exports="animationstop"},1794:c=>{c.exports="animationupdate"},52562:c=>{c.exports="pauseall"},57953:c=>{c.exports="remove"},68339:c=>{c.exports="resumeall"},74943:(c,x,e)=>{c.exports={ADD_ANIMATION:e(57090),ANIMATION_COMPLETE:e(25312),ANIMATION_COMPLETE_KEY:e(89580),ANIMATION_REPEAT:e(52860),ANIMATION_RESTART:e(63850),ANIMATION_START:e(99085),ANIMATION_STOP:e(28087),ANIMATION_UPDATE:e(1794),PAUSE_ALL:e(52562),REMOVE_ANIMATION:e(57953),RESUME_ALL:e(68339)}},60421:(c,x,e)=>{c.exports={Animation:e(42099),AnimationFrame:e(41138),AnimationManager:e(60848),AnimationState:e(9674),Events:e(74943)}},2161:(c,x,e)=>{var o=e(83419),p=e(90330),a=e(50792),r=e(24736),s=new o({initialize:function(){this.entries=new p,this.events=new a},add:function(t,n){return this.entries.set(t,n),this.events.emit(r.ADD,this,t,n),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var n=this.get(t);return n&&(this.entries.delete(t),this.events.emit(r.REMOVE,this,t,n.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});c.exports=s},24047:(c,x,e)=>{var o=e(2161),p=e(83419),a=e(8443),r=new p({initialize:function(t){this.game=t,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new o),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],t=0;t<s.length;t++)this[s[t]].destroy(),this[s[t]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});c.exports=r},51464:c=>{c.exports="add"},59261:c=>{c.exports="remove"},24736:(c,x,e)=>{c.exports={ADD:e(51464),REMOVE:e(59261)}},83388:(c,x,e)=>{c.exports={BaseCache:e(2161),CacheManager:e(24047),Events:e(24736)}},71911:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(39506),r=e(50792),s=e(19715),t=e(87841),n=e(61340),h=e(80333),i=e(26099),l=new o({Extends:r,Mixins:[p.AlphaSingle,p.Visible],initialize:function(d,f,v,m){d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new t,this.dirty=!0,this._x=d,this._y=f,this._width=v,this._height=m,this._bounds=new t,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new n,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(v/2,m/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,d){return u===void 0&&(u=.5),d===void 0&&(d=u),this.originX=u,this.originY=d,this},getScroll:function(u,d,f){f===void 0&&(f=new i);var v=this.width*.5,m=this.height*.5;return f.x=u-v,f.y=d-m,this.useBounds&&(f.x=this.clampX(f.x),f.y=this.clampY(f.y)),f},centerOnX:function(u){var d=this.width*.5;return this.midPoint.x=u,this.scrollX=u-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var d=this.height*.5;return this.midPoint.y=u,this.scrollY=u-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,d){return this.centerOnX(u),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,d=this.width*.5,f=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-d,this.scrollY=u.centerY-f}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var d=this.matrix.matrix,f=d[0],v=d[1],m=d[2],g=d[3],y=f*g-v*m;if(!y)return u;var T=d[4],C=d[5],E=this.scrollX,z=this.scrollY,D=this.width,A=this.height,L=this.y,b=L+A,F=this.x,V=F+D,B=this.culledObjects,N=u.length;y=1/y,B.length=0;for(var U=0;U<N;++U){var I=u[U];if(!I.hasOwnProperty("width")||I.parentContainer){B.push(I);continue}var H=I.width,O=I.height,R=I.x-E*I.scrollFactorX-H*I.originX,Y=I.y-z*I.scrollFactorY-O*I.originY,G=R*f+Y*m+T,k=R*v+Y*g+C,W=(R+H)*f+(Y+O)*m+T,X=(R+H)*v+(Y+O)*g+C;W>F&&G<V&&X>L&&k<b&&B.push(I)}return B},getWorldPoint:function(u,d,f){f===void 0&&(f=new i);var v=this.matrix.matrix,m=v[0],g=v[1],y=v[2],T=v[3],C=v[4],E=v[5],z=m*T-g*y;if(!z)return f.x=u,f.y=d,f;z=1/z;var D=T*z,A=-g*z,L=-y*z,b=m*z,F=(y*E-T*C)*z,V=(g*C-m*E)*z,B=Math.cos(this.rotation),N=Math.sin(this.rotation),U=this.zoomX,I=this.zoomY,H=this.scrollX,O=this.scrollY,R=u+(H*B-O*N)*U,Y=d+(H*N+O*B)*I;return f.x=R*D+Y*L+F,f.y=R*A+Y*b+V,f},ignore:function(u){var d=this.id;Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var v=u[f];Array.isArray(v)?this.ignore(v):v.isParent?this.ignore(v.getChildren()):v.cameraFilter|=d}return this},clampX:function(u){var d=this._bounds,f=this.displayWidth,v=d.x+(f-this.width)/2,m=Math.max(v,v+d.width-f);return u<v?u=v:u>m&&(u=m),u},clampY:function(u){var d=this._bounds,f=this.displayHeight,v=d.y+(f-this.height)/2,m=Math.max(v,v+d.height-f);return u<v?u=v:u>m&&(u=m),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=a(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=h(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,d,f,v,m){return m===void 0&&(m=!1),this._bounds.setTo(u,d,f,v),this.dirty=!0,this.useBounds=!0,m?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new t);var d=this._bounds;return u.setTo(d.x,d.y,d.width,d.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,d){return d===void 0&&(d=u),this.x=u,this.y=d,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=d;var f=u.sys;return this.sceneManager=f.game.scene,this.scaleManager=f.scale,this.cameraManager=f.cameras,this.updateSystem(),this},setScroll:function(u,d){return d===void 0&&(d=u),this.scrollX=u,this.scrollY=d,this},setSize:function(u,d){return d===void 0&&(d=u),this.width=u,this.height=d,this},setViewport:function(u,d,f,v){return this.x=u,this.y=d,this.width=f,this.height=v,this},setZoom:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),u===0&&(u=.001),d===0&&(d=.001),this.zoomX=u,this.zoomY=d,this},setMask:function(u,d){return d===void 0&&(d=!0),this.mask=u,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;u&&!this._customViewport?d.customViewports++:!u&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});c.exports=l},38058:(c,x,e)=>{var o=e(71911),p=e(67502),a=e(45319),r=e(83419),s=e(31401),t=e(20052),n=e(19715),h=e(28915),i=e(87841),l=e(26099),u=new r({Extends:o,Mixins:[s.PostPipeline],initialize:function(f,v,m,g){o.call(this,f,v,m,g),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new t.Fade(this),this.flashEffect=new t.Flash(this),this.shakeEffect=new t.Shake(this),this.panEffect=new t.Pan(this),this.rotateToEffect=new t.RotateTo(this),this.zoomEffect=new t.Zoom(this),this.lerp=new l(1,1),this.followOffset=new l,this.deadzone=null,this._follow=null},setDeadzone:function(d,f){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=f):this.deadzone=new i(0,0,d,f),this._follow){var v=this.width/2,m=this.height/2,g=this._follow.x-this.followOffset.x,y=this._follow.y-this.followOffset.y;this.midPoint.set(g,y),this.scrollX=g-v,this.scrollY=y-m}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,f,v,m,g,y){return this.fadeEffect.start(!1,d,f,v,m,!0,g,y)},fadeOut:function(d,f,v,m,g,y){return this.fadeEffect.start(!0,d,f,v,m,!0,g,y)},fadeFrom:function(d,f,v,m,g,y,T){return this.fadeEffect.start(!1,d,f,v,m,g,y,T)},fade:function(d,f,v,m,g,y,T){return this.fadeEffect.start(!0,d,f,v,m,g,y,T)},flash:function(d,f,v,m,g,y,T){return this.flashEffect.start(d,f,v,m,g,y,T)},shake:function(d,f,v,m,g){return this.shakeEffect.start(d,f,v,m,g)},pan:function(d,f,v,m,g,y,T){return this.panEffect.start(d,f,v,m,g,y,T)},rotateTo:function(d,f,v,m,g,y,T){return this.rotateToEffect.start(d,f,v,m,g,y,T)},zoomTo:function(d,f,v,m,g,y){return this.zoomEffect.start(d,f,v,m,g,y)},preRender:function(){this.renderList.length=0;var d=this.width,f=this.height,v=d*.5,m=f*.5,g=this.zoomX,y=this.zoomY,T=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(g)&&Number.isInteger(y);var C=d*this.originX,E=f*this.originY,z=this._follow,D=this.deadzone,A=this.scrollX,L=this.scrollY;D&&p(D,this.midPoint.x,this.midPoint.y);var b=!1;if(z&&!this.panEffect.isRunning){var F=this.lerp,V=z.x-this.followOffset.x,B=z.y-this.followOffset.y;D?(V<D.x?A=h(A,A-(D.x-V),F.x):V>D.right&&(A=h(A,A+(V-D.right),F.x)),B<D.y?L=h(L,L-(D.y-B),F.y):B>D.bottom&&(L=h(L,L+(B-D.bottom),F.y))):(A=h(A,V-C,F.x),L=h(L,B-E,F.y)),b=!0}this.roundPixels&&(A=Math.floor(A),L=Math.floor(L)),this.useBounds&&(A=this.clampX(A),L=this.clampY(L)),this.scrollX=A,this.scrollY=L;var N=A+v,U=L+m;this.midPoint.set(N,U);var I=Math.floor(d/g+.5),H=Math.floor(f/y+.5),O=Math.floor(N-I/2+.5),R=Math.floor(U-H/2+.5);this.worldView.setTo(O,R,I,H),T.applyITRS(Math.floor(this.x+C+.5),Math.floor(this.y+E+.5),this.rotation,g,y),T.translate(-C,-E),this.shakeEffect.preRender(),b&&this.emit(n.FOLLOW_UPDATE,this,z)},setLerp:function(d,f){return d===void 0&&(d=1),f===void 0&&(f=d),this.lerp.set(d,f),this},setFollowOffset:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=0),this.followOffset.set(d,f),this},startFollow:function(d,f,v,m,g,y){f===void 0&&(f=!1),v===void 0&&(v=1),m===void 0&&(m=v),g===void 0&&(g=0),y===void 0&&(y=g),this._follow=d,this.roundPixels=f,v=a(v,0,1),m=a(m,0,1),this.lerp.set(v,m),this.followOffset.set(g,y);var T=this.width/2,C=this.height/2,E=d.x-g,z=d.y-y;return this.midPoint.set(E,z),this.scrollX=E-T,this.scrollY=z-C,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,f){this.visible&&(this.rotateToEffect.update(d,f),this.panEffect.update(d,f),this.zoomEffect.update(d,f),this.shakeEffect.update(d,f),this.flashEffect.update(d,f),this.fadeEffect.update(d,f))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});c.exports=u},32743:(c,x,e)=>{var o=e(38058),p=e(83419),a=e(95540),r=e(37277),s=e(37303),t=e(97480),n=e(44594),h=new p({initialize:function(l){this.scene=l,this.systems=l.sys,this.roundPixels=l.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,l.sys.events.once(n.BOOT,this.boot,this),l.sys.events.on(n.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(t.RESIZE,this.onResize,this),this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var l=this.systems.events;l.on(n.UPDATE,this.update,this),l.once(n.SHUTDOWN,this.shutdown,this)},add:function(i,l,u,d,f,v){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),f===void 0&&(f=!1),v===void 0&&(v="");var m=new o(i,l,u,d);return m.setName(v),m.setScene(this.scene),m.setRoundPixels(this.roundPixels),m.id=this.getNextID(),this.cameras.push(m),f&&(this.main=m),m},addExisting:function(i,l){l===void 0&&(l=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),l&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,l=1,u=0;u<32;u++){for(var d=!1,f=0;f<i.length;f++){var v=i[f];if(v&&v.id===l){d=!0;continue}}if(d)l=l<<1;else return l}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var l=0,u=this.cameras,d=0;d<u.length;d++){var f=u[d];(!i||i&&f.visible)&&l++}return l},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var l=this.scene.sys.scale.width,u=this.scene.sys.scale.height,d=0;d<i.length;d++){var f=i[d],v=a(f,"x",0),m=a(f,"y",0),g=a(f,"width",l),y=a(f,"height",u),T=this.add(v,m,g,y);T.name=a(f,"name",""),T.zoom=a(f,"zoom",1),T.rotation=a(f,"rotation",0),T.scrollX=a(f,"scrollX",0),T.scrollY=a(f,"scrollY",0),T.roundPixels=a(f,"roundPixels",!1),T.visible=a(f,"visible",!0);var C=a(f,"backgroundColor",!1);C&&T.setBackgroundColor(C);var E=a(f,"bounds",null);if(E){var z=a(E,"x",0),D=a(E,"y",0),A=a(E,"width",l),L=a(E,"height",u);T.setBounds(z,D,A,L)}}return this},getCamera:function(i){for(var l=this.cameras,u=0;u<l.length;u++)if(l[u].name===i)return l[u];return null},getCamerasBelowPointer:function(i){for(var l=this.cameras,u=i.x,d=i.y,f=[],v=0;v<l.length;v++){var m=l[v];m.visible&&m.inputEnabled&&s(m,u,d)&&f.unshift(m)}return f},remove:function(i,l){l===void 0&&(l=!0),Array.isArray(i)||(i=[i]);for(var u=0,d=this.cameras,f=0;f<i.length;f++){var v=d.indexOf(i[f]);v!==-1&&(l?d[v].destroy():d[v].renderList=[],d.splice(v,1),u++)}return!this.main&&d[0]&&(this.main=d[0]),u},render:function(i,l){for(var u=this.scene,d=this.cameras,f=0;f<d.length;f++){var v=d[f];if(v.visible&&v.alpha>0){v.preRender();var m=this.getVisibleChildren(l.getChildren(),v);i.render(u,m,v)}}},getVisibleChildren:function(i,l){return i.filter(function(u){return u.willRender(l)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,l)},onResize:function(i,l,u,d,f){for(var v=0;v<this.cameras.length;v++){var m=this.cameras[v];m._x===0&&m._y===0&&m._width===d&&m._height===f&&m.setSize(l.width,l.height)}},resize:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,l)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var l=this.systems.events;l.off(n.UPDATE,this.update,this),l.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(n.START,this.start,this),this.systems.events.off(n.DESTROY,this.destroy,this),this.systems.game.scale.off(t.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",h,"cameras"),c.exports=h},5020:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(19715),r=new p({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,t,n,h,i,l,u,d){if(s===void 0&&(s=!0),t===void 0&&(t=1e3),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!l&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=s,this.progress=0,this.red=n,this.green=h,this.blue=i,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d;var f=s?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(f,this.camera,this,t,n,h,i),this.camera},update:function(s,t){this.isRunning&&(this._elapsed+=t,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(s,t){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,h=this.red/255,i=this.green/255,l=this.blue/255;return s.drawFillRect(n.x,n.y,n.width,n.height,t(l,i,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},10662:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(19715),r=new p({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(s,t,n,h,i,l,u){return s===void 0&&(s=250),t===void 0&&(t=255),n===void 0&&(n=255),h===void 0&&(h=255),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=t,this.green=n,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(a.FLASH_START,this.camera,this,s,t,n,h),this.camera)},update:function(s,t){this.isRunning&&(this._elapsed+=t,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var t=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(s,t){if(!this.isRunning)return!1;var n=this.camera,h=this.red/255,i=this.green/255,l=this.blue/255;return s.drawFillRect(n.x,n.y,n.width,n.height,t(l,i,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=r},20359:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(62640),r=e(19715),s=e(26099),t=new p({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,h,i,l,u,d,f){i===void 0&&(i=1e3),l===void 0&&(l=a.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),f===void 0&&(f=this.camera.scene);var v=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(v.scrollX,v.scrollY),this.destination.set(n,h),v.getScroll(n,h,this.current),typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=f,this.camera.emit(r.PAN_START,this.camera,this,i,n,h)),v},update:function(n,h){if(this.isRunning){this._elapsed+=h;var i=o(this._elapsed/this.duration,0,1);this.progress=i;var l=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);l.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*u,f=this.source.y+(this.current.y-this.source.y)*u;l.setScroll(d,f),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,d,f)}else l.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,l.scrollX,l.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=t},34208:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(19715),r=e(62640),s=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(t,n,h,i,l,u,d){h===void 0&&(h=1e3),i===void 0&&(i=r.Linear),l===void 0&&(l=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),n===void 0&&(n=!1),this.shortestPath=n;var f=t;t<0?(f=-1*t,this.clockwise=!1):this.clockwise=!0;var v=360*Math.PI/180;f=f-Math.floor(f/v)*v;var m=this.camera;if(!l&&this.isRunning)return m;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=m.rotation,this.destination=f,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.shortestPath){var g=0,y=0;this.destination>this.source?g=Math.abs(this.destination-this.source):g=Math.abs(this.destination+v)-this.source,this.source>this.destination?y=Math.abs(this.source-this.destination):y=Math.abs(this.source+v)-this.destination,g<y?this.clockwise=!0:g>y&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,h,f),m},update:function(t,n){if(this.isRunning){this._elapsed+=n;var h=o(this._elapsed/this.duration,0,1);this.progress=h;var i=this.camera;if(this._elapsed<this.duration){var l=this.ease(h);this.current=i.rotation;var u=0,d=360*Math.PI/180,f=this.destination,v=this.current;this.clockwise===!1&&(f=this.current,v=this.destination),f>=v?u=Math.abs(f-v):u=Math.abs(f+d)-v;var m=0;this.clockwise?m=i.rotation+u*l:m=i.rotation-u*l,i.rotation=m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,m)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});c.exports=s},30330:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(19715),r=e(26099),s=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,n,h,i,l){return t===void 0&&(t=100),n===void 0&&(n=.05),h===void 0&&(h=!1),i===void 0&&(i=null),l===void 0&&(l=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,typeof n=="number"?this.intensity.set(n):this.intensity.set(n.x,n.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=l,this.camera.emit(a.SHAKE_START,this.camera,this,t,n),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,n){if(this.isRunning)if(this._elapsed+=n,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,i=this.camera.width,l=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*h.x*i*2-h.x*i)*u,this._offsetY=(Math.random()*h.y*l*2-h.y*l)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});c.exports=s},45641:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(62640),r=e(19715),s=new p({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,n,h,i,l,u){n===void 0&&(n=1e3),h===void 0&&(h=a.Linear),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene);var d=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source=d.zoom,this.destination=t,typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(r.ZOOM_START,this.camera,this,n,t)),d},update:function(t,n){this.isRunning&&(this._elapsed+=n,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});c.exports=s},20052:(c,x,e)=>{c.exports={Fade:e(5020),Flash:e(10662),Pan:e(20359),Shake:e(30330),RotateTo:e(34208),Zoom:e(45641)}},16438:c=>{c.exports="cameradestroy"},32726:c=>{c.exports="camerafadeincomplete"},87807:c=>{c.exports="camerafadeinstart"},45917:c=>{c.exports="camerafadeoutcomplete"},95666:c=>{c.exports="camerafadeoutstart"},47056:c=>{c.exports="cameraflashcomplete"},91261:c=>{c.exports="cameraflashstart"},45047:c=>{c.exports="followupdate"},81927:c=>{c.exports="camerapancomplete"},74264:c=>{c.exports="camerapanstart"},54419:c=>{c.exports="postrender"},79330:c=>{c.exports="prerender"},93183:c=>{c.exports="camerarotatecomplete"},80112:c=>{c.exports="camerarotatestart"},62252:c=>{c.exports="camerashakecomplete"},86017:c=>{c.exports="camerashakestart"},539:c=>{c.exports="camerazoomcomplete"},51892:c=>{c.exports="camerazoomstart"},19715:(c,x,e)=>{c.exports={DESTROY:e(16438),FADE_IN_COMPLETE:e(32726),FADE_IN_START:e(87807),FADE_OUT_COMPLETE:e(45917),FADE_OUT_START:e(95666),FLASH_COMPLETE:e(47056),FLASH_START:e(91261),FOLLOW_UPDATE:e(45047),PAN_COMPLETE:e(81927),PAN_START:e(74264),POST_RENDER:e(54419),PRE_RENDER:e(79330),ROTATE_COMPLETE:e(93183),ROTATE_START:e(80112),SHAKE_COMPLETE:e(62252),SHAKE_START:e(86017),ZOOM_COMPLETE:e(539),ZOOM_START:e(51892)}},87969:(c,x,e)=>{c.exports={Camera:e(38058),BaseCamera:e(71911),CameraManager:e(32743),Effects:e(20052),Events:e(19715)}},63091:(c,x,e)=>{var o=e(83419),p=e(35154),a=new o({initialize:function(s){this.camera=p(s,"camera",null),this.left=p(s,"left",null),this.right=p(s,"right",null),this.up=p(s,"up",null),this.down=p(s,"down",null),this.zoomIn=p(s,"zoomIn",null),this.zoomOut=p(s,"zoomOut",null),this.zoomSpeed=p(s,"zoomSpeed",.01),this.minZoom=p(s,"minZoom",.001),this.maxZoom=p(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var t=p(s,"speed",null);typeof t=="number"?(this.speedX=t,this.speedY=t):(this.speedX=p(s,"speed.x",0),this.speedY=p(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=a},58818:(c,x,e)=>{var o=e(83419),p=e(35154),a=new o({initialize:function(s){this.camera=p(s,"camera",null),this.left=p(s,"left",null),this.right=p(s,"right",null),this.up=p(s,"up",null),this.down=p(s,"down",null),this.zoomIn=p(s,"zoomIn",null),this.zoomOut=p(s,"zoomOut",null),this.zoomSpeed=p(s,"zoomSpeed",.01),this.minZoom=p(s,"minZoom",.001),this.maxZoom=p(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var t=p(s,"acceleration",null);typeof t=="number"?(this.accelX=t,this.accelY=t):(this.accelX=p(s,"acceleration.x",0),this.accelY=p(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=p(s,"drag",null);typeof n=="number"?(this.dragX=n,this.dragY=n):(this.dragX=p(s,"drag.x",0),this.dragY=p(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=p(s,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=p(s,"maxSpeed.x",0),this.maxSpeedY=p(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*r|0),this._speedY!==0&&(s.scrollY-=this._speedY*r|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});c.exports=a},38865:(c,x,e)=>{c.exports={FixedKeyControl:e(63091),SmoothedKeyControl:e(58818)}},26638:(c,x,e)=>{c.exports={Controls:e(38865),Scene2D:e(87969)}},8054:(c,x,e)=>{var o={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:e(10312),ScaleModes:e(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};c.exports=o},69547:(c,x,e)=>{var o=e(83419),p=e(8054),a=e(42363),r=e(82264),s=e(95540),t=e(35154),n=e(41212),h=e(29747),i=e(75508),l=e(36060),u=e(80333),d=new o({initialize:function(v){v===void 0&&(v={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],g="#ffffff",y=t(v,"scale",null);this.width=t(y,"width",1024,v),this.height=t(y,"height",768,v),this.zoom=t(y,"zoom",1,v),this.parent=t(y,"parent",void 0,v),this.scaleMode=t(y,y?"mode":"scaleMode",0,v),this.expandParent=t(y,"expandParent",!0,v),this.autoRound=t(y,"autoRound",!1,v),this.autoCenter=t(y,"autoCenter",0,v),this.resizeInterval=t(y,"resizeInterval",500,v),this.fullscreenTarget=t(y,"fullscreenTarget",null,v),this.minWidth=t(y,"min.width",0,v),this.maxWidth=t(y,"max.width",0,v),this.minHeight=t(y,"min.height",0,v),this.maxHeight=t(y,"max.height",0,v),this.snapWidth=t(y,"snap.width",0,v),this.snapHeight=t(y,"snap.height",0,v),this.renderType=t(v,"type",p.AUTO),this.canvas=t(v,"canvas",null),this.context=t(v,"context",null),this.canvasStyle=t(v,"canvasStyle",null),this.customEnvironment=t(v,"customEnvironment",!1),this.sceneConfig=t(v,"scene",null),this.seed=t(v,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=t(v,"title",""),this.gameURL=t(v,"url","https://phaser.io/"+p.LOG_VERSION),this.gameVersion=t(v,"version",""),this.autoFocus=t(v,"autoFocus",!0),this.stableSort=t(v,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=t(v,"dom.createContainer",!1),this.domPointerEvents=t(v,"dom.pointerEvents","none"),this.inputKeyboard=t(v,"input.keyboard",!0),this.inputKeyboardEventTarget=t(v,"input.keyboard.target",window),this.inputKeyboardCapture=t(v,"input.keyboard.capture",[]),this.inputMouse=t(v,"input.mouse",!0),this.inputMouseEventTarget=t(v,"input.mouse.target",null),this.inputMousePreventDefaultDown=t(v,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=t(v,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=t(v,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=t(v,"input.mouse.preventDefaultWheel",!0),this.inputTouch=t(v,"input.touch",r.input.touch),this.inputTouchEventTarget=t(v,"input.touch.target",null),this.inputTouchCapture=t(v,"input.touch.capture",!0),this.inputActivePointers=t(v,"input.activePointers",1),this.inputSmoothFactor=t(v,"input.smoothFactor",0),this.inputWindowEvents=t(v,"input.windowEvents",!0),this.inputGamepad=t(v,"input.gamepad",!1),this.inputGamepadEventTarget=t(v,"input.gamepad.target",window),this.disableContextMenu=t(v,"disableContextMenu",!1),this.audio=t(v,"audio",{}),this.hideBanner=t(v,"banner",null)===!1,this.hidePhaser=t(v,"banner.hidePhaser",!1),this.bannerTextColor=t(v,"banner.text",g),this.bannerBackgroundColor=t(v,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=t(v,"fps",null),this.disablePreFX=t(v,"disablePreFX",!1),this.disablePostFX=t(v,"disablePostFX",!1);var T=t(v,"render",null);this.pipeline=t(T,"pipeline",null,v),this.autoMobilePipeline=t(T,"autoMobilePipeline",!0,v),this.defaultPipeline=t(T,"defaultPipeline",l.MULTI_PIPELINE,v),this.antialias=t(T,"antialias",!0,v),this.antialiasGL=t(T,"antialiasGL",!0,v),this.mipmapFilter=t(T,"mipmapFilter","",v),this.desynchronized=t(T,"desynchronized",!1,v),this.roundPixels=t(T,"roundPixels",!1,v),this.pixelArt=t(T,"pixelArt",this.zoom!==1,v),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=t(T,"transparent",!1,v),this.clearBeforeRender=t(T,"clearBeforeRender",!0,v),this.preserveDrawingBuffer=t(T,"preserveDrawingBuffer",!1,v),this.premultipliedAlpha=t(T,"premultipliedAlpha",!0,v),this.failIfMajorPerformanceCaveat=t(T,"failIfMajorPerformanceCaveat",!1,v),this.powerPreference=t(T,"powerPreference","default",v),this.batchSize=t(T,"batchSize",4096,v),this.maxTextures=t(T,"maxTextures",-1,v),this.maxLights=t(T,"maxLights",10,v);var C=t(v,"backgroundColor",0);this.backgroundColor=u(C),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=t(v,"callbacks.preBoot",h),this.postBoot=t(v,"callbacks.postBoot",h),this.physics=t(v,"physics",{}),this.defaultPhysicsSystem=t(this.physics,"default",!1),this.loaderBaseURL=t(v,"loader.baseURL",""),this.loaderPath=t(v,"loader.path",""),this.loaderMaxParallelDownloads=t(v,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=t(v,"loader.crossOrigin",void 0),this.loaderResponseType=t(v,"loader.responseType",""),this.loaderAsync=t(v,"loader.async",!0),this.loaderUser=t(v,"loader.user",""),this.loaderPassword=t(v,"loader.password",""),this.loaderTimeout=t(v,"loader.timeout",0),this.loaderMaxRetries=t(v,"loader.maxRetries",2),this.loaderWithCredentials=t(v,"loader.withCredentials",!1),this.loaderImageLoadType=t(v,"loader.imageLoadType","XHR"),this.loaderLocalScheme=t(v,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=t(v,"fx.glow.quality",.1),this.glowFXDistance=t(v,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var E=t(v,"plugins",null),z=a.DefaultScene;E&&(Array.isArray(E)?this.defaultPlugins=E:n(E)&&(this.installGlobalPlugins=s(E,"global",[]),this.installScenePlugins=s(E,"scene",[]),Array.isArray(E.default)?z=E.default:Array.isArray(E.defaultMerge)&&(z=z.concat(E.defaultMerge)))),this.defaultPlugins=z;var D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=t(v,"images.default",D+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=t(v,"images.missing",D+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=t(v,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});c.exports=d},86054:(c,x,e)=>{var o=e(20623),p=e(27919),a=e(8054),r=e(89357),s=function(t){var n=t.config;if((n.customEnvironment||n.canvas)&&n.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!n.customEnvironment&&!n.canvas&&n.renderType!==a.HEADLESS)if(n.renderType===a.AUTO&&(n.renderType=r.webGL?a.WEBGL:a.CANVAS),n.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(n.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+n.renderType);n.antialias||p.disableSmoothing();var h=t.scale.baseSize,i=h.width,l=h.height;if(n.canvas?(t.canvas=n.canvas,t.canvas.width=i,t.canvas.height=l):t.canvas=p.create(t,i,l,n.renderType),n.canvasStyle&&(t.canvas.style=n.canvasStyle),n.antialias||o.setCrisp(t.canvas),n.renderType!==a.HEADLESS){var u,d;u=e(68627),d=e(74797),n.renderType===a.WEBGL?t.renderer=new d(t):(t.renderer=new u(t),t.context=t.renderer.gameContext)}};c.exports=s},96391:(c,x,e)=>{var o=e(8054),p=function(a){var r=a.config;if(!r.hideBanner){var s="WebGL";r.renderType===o.CANVAS?s="Canvas":r.renderType===o.HEADLESS&&(s="Headless");var t=r.audio,n=a.device.audio,h;if(n.webAudio&&!t.disableWebAudio?h="Web Audio":t.noAudio||!n.webAudio&&!n.audioData?h="No Audio":h="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var i="",l=[i];if(Array.isArray(r.bannerBackgroundColor)){var u;r.bannerBackgroundColor.forEach(function(f){i=i.concat("%c "),l.push("background: "+f),u=f}),l[l.length-1]="color: "+r.bannerTextColor+"; background: "+u}else i=i.concat("%c "),l.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);l.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var d="";r.hidePhaser||(i=i.concat("Phaser v"+o.VERSION+d+" ("+s+" | "+h+")")),i=i.concat(" %c "+r.gameURL),l[0]=i,console.log.apply(console,l)}}};c.exports=p},50127:(c,x,e)=>{var o=e(40366),p=e(60848),a=e(24047),r=e(27919),s=e(83419),t=e(69547),n=e(83719),h=e(86054),i=e(45893),l=e(96391),u=e(82264),d=e(57264),f=e(50792),v=e(8443),m=e(7003),g=e(37277),y=e(77332),T=e(76531),C=e(60903),E=e(69442),z=e(17130),D=e(65898),A=e(51085),L=e(14747);if(0)var b;var F=new s({initialize:function(B){this.config=new t(B),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new f,this.anims=new p(this),this.textures=new z(this),this.cache=new a(this),this.registry=new i(this,new f),this.input=new m(this,this.config),this.scene=new C(this,this.config.sceneConfig),this.device=u,this.scale=new T(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new D(this,this.config.fps),this.plugins=new y(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!g.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),n(this),l(this),o(this.canvas,this.config.parent),this.textures.once(E.READY,this.texturesReady,this),this.events.emit(v.BOOT)},texturesReady:function(){this.events.emit(v.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var V=this.events;V.on(v.HIDDEN,this.onHidden,this),V.on(v.VISIBLE,this.onVisible,this),V.on(v.BLUR,this.onBlur,this),V.on(v.FOCUS,this.onFocus,this)},step:function(V,B){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var N=this.events;N.emit(v.PRE_STEP,V,B),N.emit(v.STEP,V,B),this.scene.update(V,B),N.emit(v.POST_STEP,V,B);var U=this.renderer;U.preRender(),N.emit(v.PRE_RENDER,U,V,B),this.scene.render(U),U.postRender(),N.emit(v.POST_RENDER,U,V,B)}},headlessStep:function(V,B){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var N=this.events;N.emit(v.PRE_STEP,V,B),N.emit(v.STEP,V,B),this.scene.update(V,B),N.emit(v.POST_STEP,V,B),this.scene.isProcessing=!1,N.emit(v.PRE_RENDER,null,V,B),N.emit(v.POST_RENDER,null,V,B)}},onHidden:function(){this.loop.pause(),this.events.emit(v.PAUSE)},pause:function(){var V=this.isPaused;this.isPaused=!0,V||this.events.emit(v.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(v.RESUME,this.loop.pauseDuration)},resume:function(){var V=this.isPaused;this.isPaused=!1,V&&this.events.emit(v.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(V,B){B===void 0&&(B=!1),this.pendingDestroy=!0,this.removeCanvas=V,this.noReturn=B},runDestroy:function(){this.scene.destroy(),this.events.emit(v.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});c.exports=F},65898:(c,x,e)=>{var o=e(83419),p=e(35154),a=e(29747),r=e(43092),s=new o({initialize:function(n,h){this.game=n,this.raf=new r,this.started=!1,this.running=!1,this.minFps=p(h,"min",5),this.targetFps=p(h,"target",60),this.fpsLimit=p(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=p(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(h,"deltaHistory",10),this.panicMax=p(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=Math.min(this._target,this.deltaHistory[n]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var n=0;n<this.deltaSmoothingMax;n++)this.deltaHistory[n]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(t){var n=this.deltaIndex,h=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,t=Math.min(t,this._target)),t>this._min&&(t=h[n],t=Math.min(t,this._min)),h[n]=t,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var l=0,u=0;u<i;u++)l+=h[u];return l/=i,l},updateFPS:function(t){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0},stepLimitFPS:function(t){this.now=t;var n=Math.max(0,t-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta+=n,t>=this.nextFpsUpdate&&this.updateFPS(t),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(t,this.delta),this.delta=0),this.lastTime=t,this.frame++},step:function(t){this.now=t;var n=Math.max(0,t-this.lastTime);this.rawDelta=n,this.time+=this.rawDelta,this.smoothStep&&(n=this.smoothDelta(n)),this.delta=n,t>=this.nextFpsUpdate&&this.updateFPS(t),this.framesThisSecond++,this.callback(t,n),this.lastTime=t,this.frame++},tick:function(){var t=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(t):this.step(t)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){t===void 0&&(t=!1);var n=window.performance.now();if(!this.running){t&&(this.startTime+=-this.lastTime+(this.lastTime+n));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});c.exports=s},51085:(c,x,e)=>{var o=e(8443),p=function(a){var r,s=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var t=["webkit","moz","ms"];t.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},r=h+"visibilitychange")})}var n=function(h){document.hidden||h.type==="pause"?s.emit(o.HIDDEN):s.emit(o.VISIBLE)};r&&document.addEventListener(r,n,!1),window.onblur=function(){s.emit(o.BLUR)},window.onfocus=function(){s.emit(o.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};c.exports=p},97217:c=>{c.exports="blur"},47548:c=>{c.exports="boot"},19814:c=>{c.exports="contextlost"},68446:c=>{c.exports="destroy"},41700:c=>{c.exports="focus"},25432:c=>{c.exports="hidden"},65942:c=>{c.exports="pause"},59211:c=>{c.exports="postrender"},47789:c=>{c.exports="poststep"},39066:c=>{c.exports="prerender"},460:c=>{c.exports="prestep"},16175:c=>{c.exports="ready"},42331:c=>{c.exports="resume"},11966:c=>{c.exports="step"},32969:c=>{c.exports="systemready"},94830:c=>{c.exports="visible"},8443:(c,x,e)=>{c.exports={BLUR:e(97217),BOOT:e(47548),CONTEXT_LOST:e(19814),DESTROY:e(68446),FOCUS:e(41700),HIDDEN:e(25432),PAUSE:e(65942),POST_RENDER:e(59211),POST_STEP:e(47789),PRE_RENDER:e(39066),PRE_STEP:e(460),READY:e(16175),RESUME:e(42331),STEP:e(11966),SYSTEM_READY:e(32969),VISIBLE:e(94830)}},42857:(c,x,e)=>{c.exports={Config:e(69547),CreateRenderer:e(86054),DebugHeader:e(96391),Events:e(8443),TimeStep:e(65898),VisibilityHandler:e(51085)}},99584:(c,x,e)=>{var o=e(5290),p=e(27919),a=e(35154),r=function(s){var t=a(s,"data",[]),n=a(s,"canvas",null),h=a(s,"palette",o),i=a(s,"pixelWidth",1),l=a(s,"pixelHeight",i),u=a(s,"resizeCanvas",!0),d=a(s,"clearCanvas",!0),f=a(s,"preRender",null),v=a(s,"postRender",null),m=Math.floor(Math.abs(t[0].length*i)),g=Math.floor(Math.abs(t.length*l));n||(n=p.create2D(this,m,g),u=!1,d=!1),u&&(n.width=m,n.height=g);var y=n.getContext("2d",{willReadFrequently:!0});d&&y.clearRect(0,0,m,g),f&&f(n,y);for(var T=0;T<t.length;T++)for(var C=t[T],E=0;E<C.length;E++){var z=C[E];z!=="."&&z!==" "&&(y.fillStyle=h[z],y.fillRect(E*i,T*l,i,l))}return v&&v(n,y),n};c.exports=r},15822:(c,x,e)=>{c.exports={GenerateTexture:e(99584),Palettes:e(57763)}},5290:c=>{c.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:c=>{c.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:c=>{c.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:c=>{c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:c=>{c.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(c,x,e)=>{c.exports={ARNE16:e(5290),C64:e(23816),CGA:e(9866),JMP:e(77552),MSX:e(92259)}},46728:(c,x,e)=>{var o=e(83419),p=e(36316),a=e(80021),r=e(26099),s=new o({Extends:a,initialize:function(n,h,i,l){a.call(this,"CubicBezierCurve"),Array.isArray(n)&&(l=new r(n[6],n[7]),i=new r(n[4],n[5]),h=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=h,this.p2=i,this.p3=l},getStartPoint:function(t){return t===void 0&&(t=new r),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,n){n===void 0&&(n=new r);var h=this.p0,i=this.p1,l=this.p2,u=this.p3;return n.set(p(t,h.x,i.x,l.x,u.x),p(t,h.y,i.y,l.y,u.y))},draw:function(t,n){n===void 0&&(n=32);var h=this.getPoints(n);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)t.lineTo(h[i].x,h[i].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(t){var n=t.points,h=new r(n[0],n[1]),i=new r(n[2],n[3]),l=new r(n[4],n[5]),u=new r(n[6],n[7]);return new s(h,i,l,u)},c.exports=s},80021:(c,x,e)=>{var o=e(83419),p=e(19217),a=e(87841),r=e(26099),s=new o({initialize:function(n){this.type=n,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(t,n){return n===void 0&&(n=32),t.strokePoints(this.getPoints(n))},getBounds:function(t,n){t||(t=new a),n===void 0&&(n=16);var h=this.getLength();n>h&&(n=h/2);var i=Math.max(1,Math.round(h/n));return p(this.getSpacedPoints(i),t)},getDistancePoints:function(t){var n=this.getLength(),h=Math.max(1,n/t);return this.getSpacedPoints(h)},getEndPoint:function(t){return t===void 0&&(t=new r),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n=[],h,i=this.getPoint(0,this._tmpVec2A),l=0;n.push(0);for(var u=1;u<=t;u++)h=this.getPoint(u/t,this._tmpVec2B),l+=h.distance(i),n.push(l),i.copy(h);return this.cacheArcLengths=n,n},getPointAt:function(t,n){var h=this.getUtoTmapping(t);return this.getPoint(h,n)},getPoints:function(t,n,h){h===void 0&&(h=[]),t||(n?t=this.getLength()/n:t=this.defaultDivisions);for(var i=0;i<=t;i++)h.push(this.getPoint(i/t));return h},getRandomPoint:function(t){return t===void 0&&(t=new r),this.getPoint(Math.random(),t)},getSpacedPoints:function(t,n,h){h===void 0&&(h=[]),t||(n?t=this.getLength()/n:t=this.defaultDivisions);for(var i=0;i<=t;i++){var l=this.getUtoTmapping(i/t,null,t);h.push(this.getPoint(l))}return h},getStartPoint:function(t){return t===void 0&&(t=new r),this.getPointAt(0,t)},getTangent:function(t,n){n===void 0&&(n=new r);var h=1e-4,i=t-h,l=t+h;return i<0&&(i=0),l>1&&(l=1),this.getPoint(i,this._tmpVec2A),this.getPoint(l,n),n.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,n){var h=this.getUtoTmapping(t);return this.getTangent(h,n)},getTFromDistance:function(t,n){return t<=0?0:this.getUtoTmapping(0,t,n)},getUtoTmapping:function(t,n,h){var i=this.getLengths(h),l=0,u=i.length,d;n?d=Math.min(n,i[u-1]):d=t*i[u-1];for(var f=0,v=u-1,m;f<=v;)if(l=Math.floor(f+(v-f)/2),m=i[l]-d,m<0)f=l+1;else if(m>0)v=l-1;else{v=l;break}if(l=v,i[l]===d)return l/(u-1);var g=i[l],y=i[l+1],T=y-g,C=(d-g)/T;return(l+C)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});c.exports=s},73825:(c,x,e)=>{var o=e(83419),p=e(80021),a=e(39506),r=e(35154),s=e(43396),t=e(26099),n=new o({Extends:p,initialize:function(i,l,u,d,f,v,m,g){if(typeof i=="object"){var y=i;i=r(y,"x",0),l=r(y,"y",0),u=r(y,"xRadius",0),d=r(y,"yRadius",u),f=r(y,"startAngle",0),v=r(y,"endAngle",360),m=r(y,"clockwise",!1),g=r(y,"rotation",0)}else d===void 0&&(d=u),f===void 0&&(f=0),v===void 0&&(v=360),m===void 0&&(m=!1),g===void 0&&(g=0);p.call(this,"EllipseCurve"),this.p0=new t(i,l),this._xRadius=u,this._yRadius=d,this._startAngle=a(f),this._endAngle=a(v),this._clockwise=m,this._rotation=a(g)},getStartPoint:function(h){return h===void 0&&(h=new t),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,i){i===void 0&&(i=new t);for(var l=Math.PI*2,u=this._endAngle-this._startAngle,d=Math.abs(u)<Number.EPSILON;u<0;)u+=l;for(;u>l;)u-=l;u<Number.EPSILON&&(d?u=0:u=l),this._clockwise&&!d&&(u===l?u=-l:u=u-l);var f=this._startAngle+h*u,v=this.p0.x+this._xRadius*Math.cos(f),m=this.p0.y+this._yRadius*Math.sin(f);if(this._rotation!==0){var g=Math.cos(this._rotation),y=Math.sin(this._rotation),T=v-this.p0.x,C=m-this.p0.y;v=T*g-C*y+this.p0.x,m=T*y+C*g+this.p0.y}return i.set(v,m)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return s(this._startAngle)},set:function(h){this._startAngle=a(h)}},endAngle:{get:function(){return s(this._endAngle)},set:function(h){this._endAngle=a(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return s(this._rotation)},set:function(h){this._rotation=a(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});n.fromJSON=function(h){return new n(h)},c.exports=n},33951:(c,x,e)=>{var o=e(83419),p=e(80021),a=e(19217),r=e(87841),s=e(26099),t=new o({Extends:p,initialize:function(h,i){p.call(this,"LineCurve"),Array.isArray(h)&&(i=new s(h[2],h[3]),h=new s(h[0],h[1])),this.p0=h,this.p1=i,this.arcLengthDivisions=1},getBounds:function(n){return n===void 0&&(n=new r),a([this.p0,this.p1],n)},getStartPoint:function(n){return n===void 0&&(n=new s),n.copy(this.p0)},getResolution:function(n){return n===void 0&&(n=1),n},getPoint:function(n,h){return h===void 0&&(h=new s),n===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(n).add(this.p0),h)},getPointAt:function(n,h){return this.getPoint(n,h)},getTangent:function(n,h){return h===void 0&&(h=new s),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(n,h,i){var l;if(h){var u=this.getLengths(i),d=u[u.length-1],f=Math.min(h,d);l=f/d}else l=n;return l},draw:function(n){return n.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});t.fromJSON=function(n){var h=n.points,i=new s(h[0],h[1]),l=new s(h[2],h[3]);return new t(i,l)},c.exports=t},14744:(c,x,e)=>{var o=e(83419),p=e(80021),a=e(32112),r=e(26099),s=new o({Extends:p,initialize:function(n,h,i){p.call(this,"QuadraticBezierCurve"),Array.isArray(n)&&(i=new r(n[4],n[5]),h=new r(n[2],n[3]),n=new r(n[0],n[1])),this.p0=n,this.p1=h,this.p2=i},getStartPoint:function(t){return t===void 0&&(t=new r),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,n){n===void 0&&(n=new r);var h=this.p0,i=this.p1,l=this.p2;return n.set(a(t,h.x,i.x,l.x),a(t,h.y,i.y,l.y))},draw:function(t,n){n===void 0&&(n=32);var h=this.getPoints(n);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)t.lineTo(h[i].x,h[i].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(t){var n=t.points,h=new r(n[0],n[1]),i=new r(n[2],n[3]),l=new r(n[4],n[5]);return new s(h,i,l)},c.exports=s},42534:(c,x,e)=>{var o=e(87842),p=e(83419),a=e(80021),r=e(26099),s=new p({Extends:a,initialize:function(n){n===void 0&&(n=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(n)},addPoints:function(t){for(var n=0;n<t.length;n++){var h=new r;typeof t[n]=="number"?(h.x=t[n],h.y=t[n+1],n++):Array.isArray(t[n])?(h.x=t[n][0],h.y=t[n][1]):(h.x=t[n].x,h.y=t[n].y),this.points.push(h)}return this},addPoint:function(t,n){var h=new r(t,n);return this.points.push(h),h},getStartPoint:function(t){return t===void 0&&(t=new r),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,n){n===void 0&&(n=new r);var h=this.points,i=(h.length-1)*t,l=Math.floor(i),u=i-l,d=h[l===0?l:l-1],f=h[l],v=h[l>h.length-2?h.length-1:l+1],m=h[l>h.length-3?h.length-1:l+2];return n.set(o(u,d.x,f.x,v.x,m.x),o(u,d.y,f.y,v.y,m.y))},toJSON:function(){for(var t=[],n=0;n<this.points.length;n++)t.push(this.points[n].x),t.push(this.points[n].y);return{type:this.type,points:t}}});s.fromJSON=function(t){return new s(t.points)},c.exports=s},25410:(c,x,e)=>{c.exports={Path:e(46669),MoveTo:e(68618),CubicBezier:e(46728),Curve:e(80021),Ellipse:e(73825),Line:e(33951),QuadraticBezier:e(14744),Spline:e(42534)}},68618:(c,x,e)=>{var o=e(83419),p=e(26099),a=new o({initialize:function(s,t){this.active=!1,this.p0=new p(s,t)},getPoint:function(r,s){return s===void 0&&(s=new p),s.copy(this.p0)},getPointAt:function(r,s){return this.getPoint(r,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});c.exports=a},46669:(c,x,e)=>{var o=e(83419),p=e(46728),a=e(73825),r=e(39429),s=e(33951),t=e(68618),n=e(14744),h=e(87841),i=e(42534),l=e(26099),u=e(36383),d=new o({initialize:function(v,m){v===void 0&&(v=0),m===void 0&&(m=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new l,this._tmpVec2A=new l,this._tmpVec2B=new l,typeof v=="object"?this.fromJSON(v):this.startPoint.set(v,m)},add:function(f){return this.curves.push(f),this},circleTo:function(f,v,m){return v===void 0&&(v=!1),this.ellipseTo(f,f,0,360,v,m)},closePath:function(){var f=this.curves[0].getPoint(0),v=this.curves[this.curves.length-1].getPoint(1);return f.equals(v)||this.curves.push(new s(v,f)),this},cubicBezierTo:function(f,v,m,g,y,T){var C=this.getEndPoint(),E,z,D;return f instanceof l?(E=f,z=v,D=m):(E=new l(m,g),z=new l(y,T),D=new l(f,v)),this.add(new p(C,E,z,D))},quadraticBezierTo:function(f,v,m,g){var y=this.getEndPoint(),T,C;return f instanceof l?(T=f,C=v):(T=new l(m,g),C=new l(f,v)),this.add(new n(y,T,C))},draw:function(f,v){for(var m=0;m<this.curves.length;m++){var g=this.curves[m];g.active&&g.draw(f,v)}return f},ellipseTo:function(f,v,m,g,y,T){var C=new a(0,0,f,v,m,g,y,T),E=this.getEndPoint(this._tmpVec2A),z=C.getStartPoint(this._tmpVec2B);return E.subtract(z),C.x=E.x,C.y=E.y,this.add(C)},fromJSON:function(f){this.curves=[],this.cacheLengths=[],this.startPoint.set(f.x,f.y),this.autoClose=f.autoClose;for(var v=0;v<f.curves.length;v++){var m=f.curves[v];switch(m.type){case"LineCurve":this.add(s.fromJSON(m));break;case"EllipseCurve":this.add(a.fromJSON(m));break;case"SplineCurve":this.add(i.fromJSON(m));break;case"CubicBezierCurve":this.add(p.fromJSON(m));break;case"QuadraticBezierCurve":this.add(n.fromJSON(m));break}}return this},getBounds:function(f,v){f===void 0&&(f=new h),v===void 0&&(v=16),f.x=Number.MAX_VALUE,f.y=Number.MAX_VALUE;for(var m=new h,g=u.MIN_SAFE_INTEGER,y=u.MIN_SAFE_INTEGER,T=0;T<this.curves.length;T++){var C=this.curves[T];C.active&&(C.getBounds(m,v),f.x=Math.min(f.x,m.x),f.y=Math.min(f.y,m.y),g=Math.max(g,m.right),y=Math.max(y,m.bottom))}return f.right=g,f.bottom=y,f},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var f=[],v=0,m=0;m<this.curves.length;m++)v+=this.curves[m].getLength(),f.push(v);return this.cacheLengths=f,f},getCurveAt:function(f){for(var v=f*this.getLength(),m=this.getCurveLengths(),g=0;g<m.length;){if(m[g]>=v)return this.curves[g];g++}return null},getEndPoint:function(f){return f===void 0&&(f=new l),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,f):f.copy(this.startPoint),f},getLength:function(){var f=this.getCurveLengths();return f[f.length-1]},getPoint:function(f,v){v===void 0&&(v=new l);for(var m=f*this.getLength(),g=this.getCurveLengths(),y=0;y<g.length;){if(g[y]>=m){var T=g[y]-m,C=this.curves[y],E=C.getLength(),z=E===0?0:1-T/E;return C.getPointAt(z,v)}y++}return null},getPoints:function(f,v){!f&&!v&&(f=this.defaultDivisions);for(var m=[],g,y=0;y<this.curves.length;y++){var T=this.curves[y];if(T.active)for(var C=T.getResolution(f),E=T.getPoints(C,v),z=0;z<E.length;z++){var D=E[z];g&&g.equals(D)||(m.push(D),g=D)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(f){return f===void 0&&(f=new l),this.getPoint(Math.random(),f)},getSpacedPoints:function(f){f===void 0&&(f=40);for(var v=[],m=0;m<=f;m++)v.push(this.getPoint(m/f));return this.autoClose&&v.push(v[0]),v},getStartPoint:function(f){return f===void 0&&(f=new l),f.copy(this.startPoint)},getTangent:function(f,v){v===void 0&&(v=new l);for(var m=f*this.getLength(),g=this.getCurveLengths(),y=0;y<g.length;){if(g[y]>=m){var T=g[y]-m,C=this.curves[y],E=C.getLength(),z=E===0?0:1-T/E;return C.getTangentAt(z,v)}y++}return null},lineTo:function(f,v){f instanceof l?this._tmpVec2B.copy(f):typeof f=="object"?this._tmpVec2B.setFromObject(f):this._tmpVec2B.set(f,v);var m=this.getEndPoint(this._tmpVec2A);return this.add(new s([m.x,m.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(f){return f.unshift(this.getEndPoint()),this.add(new i(f))},moveTo:function(f,v){return f instanceof l?this.add(new t(f.x,f.y)):this.add(new t(f,v))},toJSON:function(){for(var f=[],v=0;v<this.curves.length;v++)f.push(this.curves[v].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:f}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(f,v){return new d(f,v)}),c.exports=d},45893:(c,x,e)=>{var o=e(83419),p=e(24882),a=new o({initialize:function(s,t){this.parent=s,this.events=t,t||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(r){var s=this.list;if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)t.push(s[r[n]]);return t}else return s[r]},getAll:function(){var r={};for(var s in this.list)this.list.hasOwnProperty(s)&&(r[s]=this.list[s]);return r},query:function(r){var s={};for(var t in this.list)this.list.hasOwnProperty(t)&&t.match(r)&&(s[t]=this.list[t]);return s},set:function(r,s){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,s);for(var t in r)this.setValue(t,r[t]);return this},inc:function(r,s){if(this._frozen)return this;s===void 0&&(s=1);var t=this.get(r);return t===void 0&&(t=0),this.set(r,t+s),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,s){if(this._frozen)return this;if(this.has(r))this.values[r]=s;else{var t=this,n=this.list,h=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return n[r]},set:function(l){if(!t._frozen){var u=n[r];n[r]=l,h.emit(p.CHANGE_DATA,i,r,l,u),h.emit(p.CHANGE_DATA_KEY+r,i,l,u)}}}),n[r]=s,h.emit(p.SET_DATA,i,r,s)}return this},each:function(r,s){for(var t=[this.parent,null,void 0],n=1;n<arguments.length;n++)t.push(arguments[n]);for(var h in this.list)t[1]=h,t[2]=this.list[h],r.apply(s,t);return this},merge:function(r,s){s===void 0&&(s=!0);for(var t in r)r.hasOwnProperty(t)&&(s||!s&&!this.has(t))&&this.setValue(t,r[t]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var s=0;s<r.length;s++)this.removeValue(r[s]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var s=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(p.REMOVE_DATA,this.parent,r,s)}return this},pop:function(r){var s=void 0;return!this._frozen&&this.has(r)&&(s=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(p.REMOVE_DATA,this.parent,r,s)),s},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var s in this.list)this.list[s]!==void 0&&r++;return r}}});c.exports=a},63646:(c,x,e)=>{var o=e(83419),p=e(45893),a=e(37277),r=e(44594),s=new o({Extends:p,initialize:function(n){p.call(this,n,n.sys.events),this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",s,"data"),c.exports=s},10700:c=>{c.exports="changedata"},93608:c=>{c.exports="changedata-"},60883:c=>{c.exports="destroy"},69780:c=>{c.exports="removedata"},22166:c=>{c.exports="setdata"},24882:(c,x,e)=>{c.exports={CHANGE_DATA:e(10700),CHANGE_DATA_KEY:e(93608),DESTROY:e(60883),REMOVE_DATA:e(69780),SET_DATA:e(22166)}},44965:(c,x,e)=>{c.exports={DataManager:e(45893),DataManagerPlugin:e(63646),Events:e(24882)}},7098:(c,x,e)=>{var o=e(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),s=!!r.canPlayType;try{if(s){var t=function(i,l){var u=r.canPlayType("audio/"+i).replace(/^no$/,"");return l?!!(u||r.canPlayType("audio/"+l).replace(/^no$/,"")):!!u};if(p.ogg=t('ogg; codecs="vorbis"'),p.opus=t('ogg; codecs="opus"',"opus"),p.mp3=t("mpeg"),p.wav=t("wav"),p.m4a=t("x-m4a"),p.aac=t("aac"),p.flac=t("flac","x-flac"),p.webm=t('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)p.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(n===10&&h>=11||n>10)&&(p.dolby=!0)}}}}catch{}return p}c.exports=a()},84148:(c,x,e)=>{var o=e(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(p.edge=!0,p.es2019=!0):/OPR/.test(r)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(r)&&!o.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&o.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!o.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(p.silk=!0),p}c.exports=a()},89289:(c,x,e)=>{var o=e(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var i=new Image;i.onload=function(){var l=o.create2D(i,6),u=l.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(h,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var d=u.getImageData(2,0,1,1).data;o.remove(i),p.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},i.src=t+"/wCKxvRF"+n},h.src=t+"AP804Oa6"+n,!1}function r(){var t=o.create2D(this,2),n=t.getContext("2d",{willReadFrequently:!0});n.fillStyle="rgba(10, 20, 30, 0.5)",n.fillRect(0,0,1,1);var h=n.getImageData(0,0,1,1);if(h===null)return!1;n.putImageData(h,1,0);var i=n.getImageData(1,0,1,1),l=i.data[0]===h.data[0]&&i.data[1]===h.data[1]&&i.data[2]===h.data[2]&&i.data[3]===h.data[3];return o.remove(this),l}function s(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=a(),p.supportInverseAlpha=r()),p}c.exports=s()},89357:(c,x,e)=>{var o=e(25892),p=e(84148),a=e(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var n=new ArrayBuffer(4),h=new Uint8Array(n),i=new Uint32Array(n);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function t(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var n=!1,h=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),l=i.getContext("webgl")||i.getContext("experimental-webgl"),u=a.create2D(this),d=u.getContext("2d",{willReadFrequently:!0}),f=d.createImageData(1,1);return n=f.data instanceof Uint8ClampedArray,a.remove(i),a.remove(u),!!l}catch{return!1}return!1};return r.webGL=h(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(r.getUserMedia=!1),!o.iOS&&(p.ie||p.firefox||p.chrome)&&(r.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=s()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&n,r}c.exports=t()},91639:c=>{var x={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return x;var o,p="Fullscreen",a="FullScreen",r=["request"+p,"request"+a,"webkitRequest"+p,"webkitRequest"+a,"msRequest"+p,"msRequest"+a,"mozRequest"+a,"mozRequest"+p];for(o=0;o<r.length;o++)if(document.documentElement[r[o]]){x.available=!0,x.request=r[o];break}var s=["cancel"+a,"exit"+p,"webkitCancel"+a,"webkitExit"+p,"msCancel"+a,"msExit"+p,"mozCancel"+a,"mozExit"+p];if(x.available){for(o=0;o<s.length;o++)if(document[s[o]]){x.cancel=s[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}c.exports=e()},31784:(c,x,e)=>{var o=e(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}c.exports=a()},25892:c=>{var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function e(){if(typeof importScripts=="function")return x;var o=navigator.userAgent;/Windows/.test(o)?x.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(o)?x.android=!0:/Linux/.test(o)?x.linux=!0:/iP[ao]d|iPhone/i.test(o)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=o.toLowerCase().indexOf("iphone")!==-1,x.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?x.kindle=!0:/CrOS/.test(o)&&(x.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var p=/Silk/.test(o);return(x.windows||x.macOS||x.linux&&!p||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}c.exports=e()},43267:(c,x,e)=>{var o=e(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return p;var r=document.createElement("video"),s=!!r.canPlayType,t=/^no$/;try{s&&(r.canPlayType('video/ogg; codecs="theora"').replace(t,"")&&(p.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(t,"")&&(p.h264=!0,p.mp4=!0),r.canPlayType("video/x-m4v").replace(t,"")&&(p.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(t,"")&&(p.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(t,"")&&(p.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(t,"")&&(p.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),p.getVideoURL=function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var i=o(n[h],"url",n[h]);if(i.indexOf("blob:")===0)return{url:i,type:""};var l;if(i.indexOf("data:")===0?l=i.split(",")[0].match(/\/(.*?);/):l=i.match(/\.([a-zA-Z0-9]+)($|\?)/),l=o(n[h],"type",l?l[1]:"").toLowerCase(),p[l])return{url:i,type:l}}return null},p}c.exports=a()},82264:(c,x,e)=>{c.exports={os:e(25892),browser:e(84148),features:e(89357),input:e(31784),audio:e(7098),video:e(43267),fullscreen:e(91639),canvasFeatures:e(89289)}},89422:(c,x,e)=>{var o=e(83419),p=new Float32Array(20),a=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var t=r;return this.multiply([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],s)},saturate:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var t=r*2/3+1,n=(t-1)*-.5;return this.multiply([t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0],s)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1),r=r/180*Math.PI;var t=Math.cos(r),n=Math.sin(r),h=.213,i=.715,l=.072;return this.multiply([h+t*(1-h)+n*-h,i+t*-i+n*-i,l+t*-l+n*(1-l),0,0,h+t*-h+n*.143,i+t*(1-i)+n*.14,l+t*-l+n*-.283,0,0,h+t*-h+n*-(1-h),i+t*-i+n*i,l+t*(1-l)+n*l,0,0,0,0,0,1,0],s)},grayscale:function(r,s){return r===void 0&&(r=1),s===void 0&&(s=!1),this.saturate(-r,s)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var t=r+1,n=-.5*(t-1);return this.multiply([t,0,0,0,n,0,t,0,0,n,0,0,t,0,n,0,0,0,1,0],s)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,s){return r===void 0&&(r=.1),s===void 0&&(s=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],s)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,s){s===void 0&&(s=!1),s||this.reset();var t=this._matrix,n=p;return n.set(t),t.set([n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c.exports=a},51767:(c,x,e)=>{var o=e(83419),p=e(29747),a=new o({initialize:function(s,t,n){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(s,t,n)},set:function(r,s,t){return r===void 0&&(r=0),s===void 0&&(s=0),t===void 0&&(t=0),this._rgb=[r,s,t],this.onChange(),this},equals:function(r,s,t){var n=this._rgb;return n[0]===r&&n[1]===s&&n[2]===t},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});c.exports=a},60461:c=>{var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};c.exports=x},54312:(c,x,e)=>{var o=e(62235),p=e(35893),a=e(86327),r=e(88417),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)+h),a(t,o(n)+i),t};c.exports=s},46768:(c,x,e)=>{var o=e(62235),p=e(26541),a=e(86327),r=e(385),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)-h),a(t,o(n)+i),t};c.exports=s},35827:(c,x,e)=>{var o=e(62235),p=e(54380),a=e(86327),r=e(40136),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)+h),a(t,o(n)+i),t};c.exports=s},46871:(c,x,e)=>{var o=e(66786),p=e(35893),a=e(7702),r=function(s,t,n,h){return n===void 0&&(n=0),h===void 0&&(h=0),o(s,p(t)+n,a(t)+h),s};c.exports=r},5198:(c,x,e)=>{var o=e(7702),p=e(26541),a=e(20786),r=e(385),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)-h),a(t,o(n)+i),t};c.exports=s},11879:(c,x,e)=>{var o=e(60461),p=[];p[o.BOTTOM_CENTER]=e(54312),p[o.BOTTOM_LEFT]=e(46768),p[o.BOTTOM_RIGHT]=e(35827),p[o.CENTER]=e(46871),p[o.LEFT_CENTER]=e(5198),p[o.RIGHT_CENTER]=e(80503),p[o.TOP_CENTER]=e(89698),p[o.TOP_LEFT]=e(922),p[o.TOP_RIGHT]=e(21373),p[o.LEFT_BOTTOM]=p[o.BOTTOM_LEFT],p[o.LEFT_TOP]=p[o.TOP_LEFT],p[o.RIGHT_BOTTOM]=p[o.BOTTOM_RIGHT],p[o.RIGHT_TOP]=p[o.TOP_RIGHT];var a=function(r,s,t,n,h){return p[t](r,s,n,h)};c.exports=a},80503:(c,x,e)=>{var o=e(7702),p=e(54380),a=e(20786),r=e(40136),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)+h),a(t,o(n)+i),t};c.exports=s},89698:(c,x,e)=>{var o=e(35893),p=e(17717),a=e(88417),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,o(n)+h),r(t,p(n)-i),t};c.exports=s},922:(c,x,e)=>{var o=e(26541),p=e(17717),a=e(385),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,o(n)-h),r(t,p(n)-i),t};c.exports=s},21373:(c,x,e)=>{var o=e(54380),p=e(17717),a=e(40136),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,o(n)+h),r(t,p(n)-i),t};c.exports=s},91660:(c,x,e)=>{c.exports={BottomCenter:e(54312),BottomLeft:e(46768),BottomRight:e(35827),Center:e(46871),LeftCenter:e(5198),QuickSet:e(11879),RightCenter:e(80503),TopCenter:e(89698),TopLeft:e(922),TopRight:e(21373)}},71926:(c,x,e)=>{var o=e(60461),p=e(79291),a={In:e(91660),To:e(16694)};a=p(!1,a,o),c.exports=a},21578:(c,x,e)=>{var o=e(62235),p=e(35893),a=e(88417),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,p(n)+h),r(t,o(n)+i),t};c.exports=s},10210:(c,x,e)=>{var o=e(62235),p=e(26541),a=e(385),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,p(n)-h),r(t,o(n)+i),t};c.exports=s},82341:(c,x,e)=>{var o=e(62235),p=e(54380),a=e(40136),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,p(n)+h),r(t,o(n)+i),t};c.exports=s},87958:(c,x,e)=>{var o=e(62235),p=e(26541),a=e(86327),r=e(40136),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)-h),a(t,o(n)+i),t};c.exports=s},40080:(c,x,e)=>{var o=e(7702),p=e(26541),a=e(20786),r=e(40136),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)-h),a(t,o(n)+i),t};c.exports=s},88466:(c,x,e)=>{var o=e(26541),p=e(17717),a=e(40136),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,o(n)-h),r(t,p(n)-i),t};c.exports=s},38829:(c,x,e)=>{var o=e(60461),p=[];p[o.BOTTOM_CENTER]=e(21578),p[o.BOTTOM_LEFT]=e(10210),p[o.BOTTOM_RIGHT]=e(82341),p[o.LEFT_BOTTOM]=e(87958),p[o.LEFT_CENTER]=e(40080),p[o.LEFT_TOP]=e(88466),p[o.RIGHT_BOTTOM]=e(19211),p[o.RIGHT_CENTER]=e(34609),p[o.RIGHT_TOP]=e(48741),p[o.TOP_CENTER]=e(49440),p[o.TOP_LEFT]=e(81288),p[o.TOP_RIGHT]=e(61323);var a=function(r,s,t,n,h){return p[t](r,s,n,h)};c.exports=a},19211:(c,x,e)=>{var o=e(62235),p=e(54380),a=e(86327),r=e(385),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)+h),a(t,o(n)+i),t};c.exports=s},34609:(c,x,e)=>{var o=e(7702),p=e(54380),a=e(20786),r=e(385),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,p(n)+h),a(t,o(n)+i),t};c.exports=s},48741:(c,x,e)=>{var o=e(54380),p=e(17717),a=e(385),r=e(66737),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(t,o(n)+h),r(t,p(n)-i),t};c.exports=s},49440:(c,x,e)=>{var o=e(35893),p=e(17717),a=e(86327),r=e(88417),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,o(n)+h),a(t,p(n)-i),t};c.exports=s},81288:(c,x,e)=>{var o=e(26541),p=e(17717),a=e(86327),r=e(385),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,o(n)-h),a(t,p(n)-i),t};c.exports=s},61323:(c,x,e)=>{var o=e(54380),p=e(17717),a=e(86327),r=e(40136),s=function(t,n,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(t,o(n)+h),a(t,p(n)-i),t};c.exports=s},16694:(c,x,e)=>{c.exports={BottomCenter:e(21578),BottomLeft:e(10210),BottomRight:e(82341),LeftBottom:e(87958),LeftCenter:e(40080),LeftTop:e(88466),QuickSet:e(38829),RightBottom:e(19211),RightCenter:e(34609),RightTop:e(48741),TopCenter:e(49440),TopLeft:e(81288),TopRight:e(61323)}},66786:(c,x,e)=>{var o=e(88417),p=e(20786),a=function(r,s,t){return o(r,s),p(r,t)};c.exports=a},62235:c=>{var x=function(e){return e.y+e.height-e.height*e.originY};c.exports=x},72873:(c,x,e)=>{var o=e(62235),p=e(26541),a=e(54380),r=e(17717),s=e(87841),t=function(n,h){h===void 0&&(h=new s);var i=p(n),l=r(n);return h.x=i,h.y=l,h.width=a(n)-i,h.height=o(n)-l,h};c.exports=t},35893:c=>{var x=function(e){return e.x-e.width*e.originX+e.width*.5};c.exports=x},7702:c=>{var x=function(e){return e.y-e.height*e.originY+e.height*.5};c.exports=x},26541:c=>{var x=function(e){return e.x-e.width*e.originX};c.exports=x},87431:c=>{var x=function(e){return e.width*e.originX};c.exports=x},46928:c=>{var x=function(e){return e.height*e.originY};c.exports=x},54380:c=>{var x=function(e){return e.x+e.width-e.width*e.originX};c.exports=x},17717:c=>{var x=function(e){return e.y-e.height*e.originY};c.exports=x},86327:c=>{var x=function(e,o){return e.y=o-e.height+e.height*e.originY,e};c.exports=x},88417:c=>{var x=function(e,o){var p=e.width*e.originX;return e.x=o+p-e.width*.5,e};c.exports=x},20786:c=>{var x=function(e,o){var p=e.height*e.originY;return e.y=o+p-e.height*.5,e};c.exports=x},385:c=>{var x=function(e,o){return e.x=o+e.width*e.originX,e};c.exports=x},40136:c=>{var x=function(e,o){return e.x=o-e.width+e.width*e.originX,e};c.exports=x},66737:c=>{var x=function(e,o){return e.y=o+e.height*e.originY,e};c.exports=x},58724:(c,x,e)=>{c.exports={CenterOn:e(66786),GetBottom:e(62235),GetBounds:e(72873),GetCenterX:e(35893),GetCenterY:e(7702),GetLeft:e(26541),GetOffsetX:e(87431),GetOffsetY:e(46928),GetRight:e(54380),GetTop:e(17717),SetBottom:e(86327),SetCenterX:e(88417),SetCenterY:e(20786),SetLeft:e(385),SetRight:e(40136),SetTop:e(66737)}},20623:c=>{var x={setCrisp:function(e){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(p){e.style["image-rendering"]=p}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};c.exports=x},27919:(c,x,e)=>{var o=e(8054),p=e(68703),a=[],r=!1,s=function(){var t=function(m,g,y,T,C){g===void 0&&(g=1),y===void 0&&(y=1),T===void 0&&(T=o.CANVAS),C===void 0&&(C=!1);var E,z=i(T);return z===null?(z={parent:m,canvas:document.createElement("canvas"),type:T},T===o.CANVAS&&a.push(z),E=z.canvas):(z.parent=m,E=z.canvas),C&&(z.parent=E),E.width=g,E.height=y,r&&T===o.CANVAS&&p.disable(E.getContext("2d",{willReadFrequently:!1})),E},n=function(m,g,y){return t(m,g,y,o.CANVAS)},h=function(m,g,y){return t(m,g,y,o.WEBGL)},i=function(m){if(m===void 0&&(m=o.CANVAS),m===o.WEBGL)return null;for(var g=0;g<a.length;g++){var y=a[g];if(!y.parent&&y.type===m)return y}return null},l=function(m){var g=m instanceof HTMLCanvasElement;a.forEach(function(y){(g&&y.canvas===m||!g&&y.parent===m)&&(y.parent=null,y.canvas.width=1,y.canvas.height=1)})},u=function(){var m=0;return a.forEach(function(g){g.parent&&m++}),m},d=function(){return a.length-u()},f=function(){r=!0},v=function(){r=!1};return{create2D:n,create:t,createWebGL:h,disableSmoothing:f,enableSmoothing:v,first:i,free:d,pool:a,remove:l,total:u}};c.exports=s()},68703:c=>{var x="",e=function(){var o=function(s){for(var t=["i","webkitI","msI","mozI","oI"],n=0;n<t.length;n++){var h=t[n]+"mageSmoothingEnabled";if(h in s)return h}return null},p=function(s){return x===""&&(x=o(s)),x&&(s[x]=!0),s},a=function(s){return x===""&&(x=o(s)),x&&(s[x]=!1),s},r=function(s){return x!==null?s[x]:null};return{disable:a,enable:p,getPrefix:o,isEnabled:r}};c.exports=e()},65208:c=>{var x=function(e,o){return o===void 0&&(o="none"),e.style.msTouchAction=o,e.style["ms-touch-action"]=o,e.style["touch-action"]=o,e};c.exports=x},91610:c=>{var x=function(e,o){o===void 0&&(o="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(a){e.style[a+"user-select"]=o}),e.style["-webkit-touch-callout"]=o,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};c.exports=x},26253:(c,x,e)=>{c.exports={CanvasInterpolation:e(20623),CanvasPool:e(27919),Smoothing:e(68703),TouchAction:e(65208),UserSelect:e(91610)}},40987:(c,x,e)=>{var o=e(83419),p=e(37589),a=e(1e3),r=e(7537),s=e(87837),t=new o({initialize:function(h,i,l,u){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,i,l,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(n,h,i,l,u){return l===void 0&&(l=255),u===void 0&&(u=!0),this._locked=!0,this.red=n,this.green=h,this.blue=i,this.alpha=l,this._locked=!1,this.update(u)},setGLTo:function(n,h,i,l){return l===void 0&&(l=1),this._locked=!0,this.redGL=n,this.greenGL=h,this.blueGL=i,this.alphaGL=l,this._locked=!1,this.update(!0)},setFromRGB:function(n){return this._locked=!0,this.red=n.r,this.green=n.g,this.blue=n.b,n.hasOwnProperty("a")&&(this.alpha=n.a),this._locked=!1,this.update(!0)},setFromHSV:function(n,h,i){return r(n,h,i,this)},update:function(n){if(n===void 0&&(n=!1),this._locked)return this;var h=this.r,i=this.g,l=this.b,u=this.a;return this._color=p(h,i,l),this._color32=a(h,i,l,u),this._rgba="rgba("+h+","+i+","+l+","+u/255+")",n&&s(h,i,l,this),this},updateHSV:function(){var n=this.r,h=this.g,i=this.b;return s(n,h,i,this),this},clone:function(){return new t(this.r,this.g,this.b,this.a)},gray:function(n){return this.setTo(n,n,n)},random:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var i=Math.floor(n+Math.random()*(h-n)),l=Math.floor(n+Math.random()*(h-n)),u=Math.floor(n+Math.random()*(h-n));return this.setTo(i,l,u)},randomGray:function(n,h){n===void 0&&(n=0),h===void 0&&(h=255);var i=Math.floor(n+Math.random()*(h-n));return this.setTo(i,i,i)},saturate:function(n){return this.s+=n/100,this},desaturate:function(n){return this.s-=n/100,this},lighten:function(n){return this.v+=n/100,this},darken:function(n){return this.v-=n/100,this},brighten:function(n){var h=this.r,i=this.g,l=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(n/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(n/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(n/100)))),this.setTo(h,i,l)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(n){this.gl[0]=Math.min(Math.abs(n),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(n){this.gl[1]=Math.min(Math.abs(n),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(n){this.gl[2]=Math.min(Math.abs(n),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(n){this.gl[3]=Math.min(Math.abs(n),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(n){n=Math.floor(Math.abs(n)),this.r=Math.min(n,255),this.gl[0]=n/255,this.update(!0)}},green:{get:function(){return this.g},set:function(n){n=Math.floor(Math.abs(n)),this.g=Math.min(n,255),this.gl[1]=n/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(n){n=Math.floor(Math.abs(n)),this.b=Math.min(n,255),this.gl[2]=n/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(n){n=Math.floor(Math.abs(n)),this.a=Math.min(n,255),this.gl[3]=n/255,this.update()}},h:{get:function(){return this._h},set:function(n){this._h=n,r(n,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(n){this._s=n,r(this._h,n,this._v,this)}},v:{get:function(){return this._v},set:function(n){this._v=n,r(this._h,this._s,n,this)}}});c.exports=t},92728:(c,x,e)=>{var o=e(37589),p=function(a){a===void 0&&(a=1024);var r=[],s=255,t,n=255,h=0,i=0;for(t=0;t<=s;t++)r.push({r:n,g:t,b:i,color:o(n,t,i)});for(h=255,t=s;t>=0;t--)r.push({r:t,g:h,b:i,color:o(t,h,i)});for(n=0,t=0;t<=s;t++,h--)r.push({r:n,g:h,b:t,color:o(n,h,t)});for(h=0,i=255,t=0;t<=s;t++,i--,n++)r.push({r:n,g:h,b:i,color:o(n,h,i)});if(a===1024)return r;var l=[],u=0,d=1024/a;for(t=0;t<a;t++)l.push(r[Math.floor(u)]),u+=d;return l};c.exports=p},91588:c=>{var x=function(e){var o={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(o.a=e>>>24),o};c.exports=x},62957:c=>{var x=function(e){var o=e.toString(16);return o.length===1?"0"+o:o};c.exports=x},37589:c=>{var x=function(e,o,p){return e<<16|o<<8|p};c.exports=x},1e3:c=>{var x=function(e,o,p,a){return a<<24|e<<16|o<<8|p};c.exports=x},62183:(c,x,e)=>{var o=e(40987),p=e(89528),a=function(r,s,t){var n=t,h=t,i=t;if(s!==0){var l=t<.5?t*(1+s):t+s-t*s,u=2*t-l;n=p(u,l,r+1/3),h=p(u,l,r),i=p(u,l,r-1/3)}var d=new o;return d.setGLTo(n,h,i,1)};c.exports=a},27939:(c,x,e)=>{var o=e(7537),p=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var s=[],t=0;t<=359;t++)s.push(o(t/359,a,r));return s};c.exports=p},7537:(c,x,e)=>{var o=e(37589);function p(r,s,t,n){var h=(r+s*6)%6,i=Math.min(h,4-h,1);return Math.round(255*(n-n*t*Math.max(0,i)))}var a=function(r,s,t,n){s===void 0&&(s=1),t===void 0&&(t=1);var h=p(5,r,s,t),i=p(3,r,s,t),l=p(1,r,s,t);return n?n.setTo?n.setTo(h,i,l,n.alpha,!0):(n.r=h,n.g=i,n.b=l,n.color=o(h,i,l),n):{r:h,g:i,b:l,color:o(h,i,l)}};c.exports=a},70238:(c,x,e)=>{var o=e(40987),p=function(a){var r=new o;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,l,u,d){return l+l+u+u+d+d});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(s){var t=parseInt(s[1],16),n=parseInt(s[2],16),h=parseInt(s[3],16);r.setTo(t,n,h)}return r};c.exports=p},89528:c=>{var x=function(e,o,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?e+(o-e)*6*p:p<.5?o:p<.6666666666666666?e+(o-e)*(.6666666666666666-p)*6:e};c.exports=x},30100:(c,x,e)=>{var o=e(40987),p=e(90664),a=function(r){var s=p(r);return new o(s.r,s.g,s.b,s.a)};c.exports=a},90664:c=>{var x=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};c.exports=x},13699:(c,x,e)=>{var o=e(28915),p=function(s,t,n,h,i,l,u,d){u===void 0&&(u=100),d===void 0&&(d=0);var f=d/u;return{r:o(s,h,f),g:o(t,i,f),b:o(n,l,f)}},a=function(s,t,n,h){return n===void 0&&(n=100),h===void 0&&(h=0),p(s.r,s.g,s.b,t.r,t.g,t.b,n,h)},r=function(s,t,n,h,i,l){return i===void 0&&(i=100),l===void 0&&(l=0),p(s.r,s.g,s.b,t,n,h,i,l)};c.exports={RGBWithRGB:p,ColorWithRGB:r,ColorWithColor:a}},68957:(c,x,e)=>{var o=e(40987),p=function(a){return new o(a.r,a.g,a.b,a.a)};c.exports=p},87388:(c,x,e)=>{var o=e(40987),p=function(a){var r=new o,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(s){var t=parseInt(s[1],10),n=parseInt(s[2],10),h=parseInt(s[3],10),i=s[4]!==void 0?parseFloat(s[4]):1;r.setTo(t,n,h,i*255)}return r};c.exports=p},87837:c=>{var x=function(e,o,p,a){a===void 0&&(a={h:0,s:0,v:0}),e/=255,o/=255,p/=255;var r=Math.min(e,o,p),s=Math.max(e,o,p),t=s-r,n=0,h=s===0?0:t/s,i=s;return s!==r&&(s===e?n=(o-p)/t+(o<p?6:0):s===o?n=(p-e)/t+2:s===p&&(n=(e-o)/t+4),n/=6),a.hasOwnProperty("_h")?(a._h=n,a._s=h,a._v=i):(a.h=n,a.s=h,a.v=i),a};c.exports=x},75723:(c,x,e)=>{var o=e(62957),p=function(a,r,s,t,n){return t===void 0&&(t=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+s).toString(16).slice(1,7):"0x"+o(t)+o(a)+o(r)+o(s)};c.exports=p},85386:(c,x,e)=>{var o=e(30976),p=e(40987),a=function(r,s){return r===void 0&&(r=0),s===void 0&&(s=255),new p(o(r,s),o(r,s),o(r,s))};c.exports=a},80333:(c,x,e)=>{var o=e(70238),p=e(30100),a=e(68957),r=e(87388),s=function(t){var n=typeof t;switch(n){case"string":return t.substr(0,3).toLowerCase()==="rgb"?r(t):o(t);case"number":return p(t);case"object":return a(t)}};c.exports=s},3956:(c,x,e)=>{var o=e(40987);o.ColorSpectrum=e(92728),o.ColorToRGBA=e(91588),o.ComponentToHex=e(62957),o.GetColor=e(37589),o.GetColor32=e(1e3),o.HexStringToColor=e(70238),o.HSLToColor=e(62183),o.HSVColorWheel=e(27939),o.HSVToRGB=e(7537),o.HueToComponent=e(89528),o.IntegerToColor=e(30100),o.IntegerToRGB=e(90664),o.Interpolate=e(13699),o.ObjectToColor=e(68957),o.RandomRGB=e(85386),o.RGBStringToColor=e(87388),o.RGBToHSV=e(87837),o.RGBToString=e(75723),o.ValueToColor=e(80333),c.exports=o},27460:(c,x,e)=>{c.exports={Align:e(71926),BaseShader:e(73894),Bounds:e(58724),Canvas:e(26253),Color:e(3956),ColorMatrix:e(89422),Masks:e(69781),RGB:e(51767)}},6858:(c,x,e)=>{var o=e(83419),p=e(39429),a=new o({initialize:function(s,t,n,h,i,l){t||(t=s.sys.make.image({x:n,y:h,key:i,frame:l,add:!1})),this.bitmapMask=t,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,s,t){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,t)},postRenderWebGL:function(r,s,t){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,s,t)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(r,s,t,n,h){return new a(this.scene,r,s,t,n,h)}),c.exports=a},80661:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,s){var t=a.gl;a.flush(),a.maskStack.length===0&&(t.enable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:s}),this.applyStencil(a,s,!0),a.maskCount++},applyStencil:function(a,r,s){var t=a.gl,n=this.geometryMask,h=a.maskCount,i=255;t.colorMask(!1,!1,!1,!1),s?(t.stencilFunc(t.EQUAL,h,i),t.stencilOp(t.KEEP,t.KEEP,t.INCR),h++):(t.stencilFunc(t.EQUAL,h+1,i),t.stencilOp(t.KEEP,t.KEEP,t.DECR)),this.level=h,n.renderWebGL(a,n,r),a.flush(),t.colorMask(!0,!0,!0,!0),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),this.invertAlpha?t.stencilFunc(t.NOTEQUAL,h,i):t.stencilFunc(t.EQUAL,h,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var s=a.currentMask;if(a.maskStack.length===0)s.mask=null,r.disable(r.STENCIL_TEST);else{var t=a.maskStack[a.maskStack.length-1];t.mask.applyStencil(a,t.camera,!1),a.currentCameraMask.mask!==t.mask?(s.mask=t.mask,s.camera=t.camera):s.mask=null}},preRenderCanvas:function(a,r,s){var t=this.geometryMask;a.currentContext.save(),t.renderCanvas(a,t,s,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});c.exports=p},69781:(c,x,e)=>{c.exports={BitmapMask:e(6858),GeometryMask:e(80661)}},73894:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t,n){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!t||t==="")&&(t=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),n===void 0&&(n=null),this.key=r,this.fragmentSrc=s,this.vertexSrc=t,this.uniforms=n}});c.exports=p},40366:c=>{var x=function(e,o){var p;if(o)typeof o=="string"?p=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(p=o);else if(e.parentElement||o===null)return e;return p||(p=document.body),p.appendChild(e),e};c.exports=x},83719:(c,x,e)=>{var o=e(40366),p=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=s,o(s,r.parent)}};c.exports=p},57264:(c,x,e)=>{var o=e(25892),p=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?o.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};c.exports=p},57811:c=>{var x=function(e){if(!e)return window.innerHeight;var o=Math.abs(window.orientation),p={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),p.w=o===90?a.offsetHeight:window.innerWidth,p.h=o===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?p.h:p.w};c.exports=x},45818:(c,x,e)=>{var o=e(13560),p=function(a,r){var s=window.screen,t=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(t&&typeof t.type=="string")return t.type;if(typeof t=="string")return t;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return r>a?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};c.exports=p},74403:c=>{var x=function(e){var o;return e!==""&&(typeof e=="string"?o=document.getElementById(e):e&&e.nodeType===1&&(o=e)),o||(o=document.body),o};c.exports=x},56836:c=>{var x=function(e){var o="";try{if(window.DOMParser){var p=new DOMParser;o=p.parseFromString(e,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(e)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};c.exports=x},35846:c=>{var x=function(e){e.parentNode&&e.parentNode.removeChild(e)};c.exports=x},43092:(c,x,e)=>{var o=e(83419),p=e(29747),a=new o({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var s=this;this.step=function t(n){s.callback(n),s.isRunning&&(s.timeOutID=window.requestAnimationFrame(t))},this.stepTimeout=function t(){s.isRunning&&(s.timeOutID=window.setTimeout(t,s.delay)),s.callback(window.performance.now())}},start:function(r,s,t){this.isRunning||(this.callback=r,this.isSetTimeOut=s,this.delay=t,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});c.exports=a},84902:(c,x,e)=>{var o={AddToDOM:e(40366),DOMContentLoaded:e(57264),GetInnerHeight:e(57811),GetScreenOrientation:e(45818),GetTarget:e(74403),ParseXML:e(56836),RemoveFromDOM:e(35846),RequestAnimationFrame:e(43092)};c.exports=o},47565:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(37277),r=new o({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),c.exports=r},93055:(c,x,e)=>{c.exports={EventEmitter:e(47565)}},20122:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n){n===void 0&&(n=1),p.call(this,a.BARREL,t),this.amount=n}});c.exports=r},32251:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l,u,d){h===void 0&&(h=1),i===void 0&&(i=1),l===void 0&&(l=1),u===void 0&&(u=1),d===void 0&&(d=4),p.call(this,a.BLOOM,t),this.steps=d,this.offsetX=h,this.offsetY=i,this.blurStrength=l,this.strength=u,this.glcolor=[1,1,1],n!=null&&(this.color=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var t=this.glcolor;t[0]=(s>>16&255)/255,t[1]=(s>>8&255)/255,t[2]=(s&255)/255}}});c.exports=r},9047:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l,u,d){n===void 0&&(n=0),h===void 0&&(h=2),i===void 0&&(i=2),l===void 0&&(l=1),d===void 0&&(d=4),p.call(this,a.BLUR,t),this.quality=n,this.x=h,this.y=i,this.steps=d,this.strength=l,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var t=this.glcolor;t[0]=(s>>16&255)/255,t[1]=(s>>8&255)/255,t[2]=(s&255)/255}}});c.exports=r},27885:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l,u,d,f){n===void 0&&(n=.5),h===void 0&&(h=1),i===void 0&&(i=.2),l===void 0&&(l=!1),u===void 0&&(u=1),d===void 0&&(d=1),f===void 0&&(f=1),p.call(this,a.BOKEH,t),this.radius=n,this.amount=h,this.contrast=i,this.isTiltShift=l,this.strength=f,this.blurX=u,this.blurY=d}});c.exports=r},12578:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l,u){n===void 0&&(n=8),l===void 0&&(l=1),u===void 0&&(u=.005),p.call(this,a.CIRCLE,t),this.scale=l,this.feather=u,this.thickness=n,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),i!=null&&(this.backgroundColor=i)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var t=this.glcolor;t[0]=(s>>16&255)/255,t[1]=(s>>8&255)/255,t[2]=(s&255)/255}},backgroundColor:{get:function(){var s=this.glcolor2;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var t=this.glcolor2;t[0]=(s>>16&255)/255,t[1]=(s>>8&255)/255,t[2]=(s&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(s){this.glcolor2[3]=s}}});c.exports=r},15802:(c,x,e)=>{var o=e(83419),p=e(89422),a=e(14811),r=new o({Extends:p,initialize:function(t){p.call(this),this.type=a.COLOR_MATRIX,this.gameObject=t,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});c.exports=r},72898:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s){this.type=r,this.gameObject=s,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});c.exports=p},44553:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i){n===void 0&&(n="__WHITE"),h===void 0&&(h=.005),i===void 0&&(i=.005),p.call(this,a.DISPLACEMENT,t),this.x=h,this.y=i,this.glTexture,this.setTexture(n)},setTexture:function(s){var t=this.gameObject.scene.sys.textures.getFrame(s);return t&&(this.glTexture=t.glTexture),this}});c.exports=r},68531:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l){h===void 0&&(h=4),i===void 0&&(i=0),l===void 0&&(l=!1),p.call(this,a.GLOW,t),this.outerStrength=h,this.innerStrength=i,this.knockout=l,this.glcolor=[1,1,1,1],n!==void 0&&(this.color=n)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var t=this.glcolor;t[0]=(s>>16&255)/255,t[1]=(s>>8&255)/255,t[2]=(s&255)/255}}});c.exports=r},37102:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l,u,d,f,v){i===void 0&&(i=.2),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=1),v===void 0&&(v=0),p.call(this,a.GRADIENT,t),this.alpha=i,this.size=v,this.fromX=l,this.fromY=u,this.toX=d,this.toY=f,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],n!=null&&(this.color1=n),h!=null&&(this.color2=h)},color1:{get:function(){var s=this.glcolor1;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var t=this.glcolor1;t[0]=s>>16&255,t[1]=s>>8&255,t[2]=s&255}},color2:{get:function(){var s=this.glcolor2;return(s[0]<<16)+(s[1]<<8)+(s[2]|0)},set:function(s){var t=this.glcolor2;t[0]=s>>16&255,t[1]=s>>8&255,t[2]=s&255}}});c.exports=r},86886:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n){n===void 0&&(n=1),p.call(this,a.PIXELATE,t),this.amount=n}});c.exports=r},92322:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l,u,d,f){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=.1),l===void 0&&(l=1),d===void 0&&(d=6),f===void 0&&(f=1),p.call(this,a.SHADOW,t),this.x=n,this.y=h,this.decay=i,this.power=l,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=f,u!==void 0&&(this.color=u)},color:{get:function(){var s=this.glcolor;return(s[0]*255<<16)+(s[1]*255<<8)+(s[2]*255|0)},set:function(s){var t=this.glcolor;t[0]=(s>>16&255)/255,t[1]=(s>>8&255)/255,t[2]=(s&255)/255}}});c.exports=r},39563:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l){n===void 0&&(n=.5),h===void 0&&(h=.5),i===void 0&&(i=3),l===void 0&&(l=!1),p.call(this,a.SHINE,t),this.speed=n,this.lineWidth=h,this.gradient=i,this.reveal=l}});c.exports=r},56448:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l){n===void 0&&(n=.5),h===void 0&&(h=.5),i===void 0&&(i=.5),l===void 0&&(l=.5),p.call(this,a.VIGNETTE,t),this.x=n,this.y=h,this.radius=i,this.strength=l}});c.exports=r},38433:(c,x,e)=>{var o=e(83419),p=e(72898),a=e(14811),r=new o({Extends:p,initialize:function(t,n,h,i,l){n===void 0&&(n=.1),h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=!1),p.call(this,a.WIPE,t),this.progress=0,this.wipeWidth=n,this.direction=h,this.axis=i,this.reveal=l}});c.exports=r},14811:c=>{var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};c.exports=x},66064:(c,x,e)=>{var o=e(79291),p=e(14811),a={Barrel:e(20122),Controller:e(72898),Bloom:e(32251),Blur:e(9047),Bokeh:e(27885),Circle:e(12578),ColorMatrix:e(15802),Displacement:e(44553),Glow:e(68531),Gradient:e(37102),Pixelate:e(86886),Shadow:e(92322),Shine:e(39563),Vignette:e(56448),Wipe:e(38433)};a=o(!1,a,p),c.exports=a},25305:(c,x,e)=>{var o=e(10312),p=e(23568),a=function(r,s,t){s.x=p(t,"x",0),s.y=p(t,"y",0),s.depth=p(t,"depth",0),s.flipX=p(t,"flipX",!1),s.flipY=p(t,"flipY",!1);var n=p(t,"scale",null);typeof n=="number"?s.setScale(n):n!==null&&(s.scaleX=p(n,"x",1),s.scaleY=p(n,"y",1));var h=p(t,"scrollFactor",null);typeof h=="number"?s.setScrollFactor(h):h!==null&&(s.scrollFactorX=p(h,"x",1),s.scrollFactorY=p(h,"y",1)),s.rotation=p(t,"rotation",0);var i=p(t,"angle",null);i!==null&&(s.angle=i),s.alpha=p(t,"alpha",1);var l=p(t,"origin",null);if(typeof l=="number")s.setOrigin(l);else if(l!==null){var u=p(l,"x",.5),d=p(l,"y",.5);s.setOrigin(u,d)}s.blendMode=p(t,"blendMode",o.NORMAL),s.visible=p(t,"visible",!0);var f=p(t,"add",!0);return f&&r.sys.displayList.add(s),s.preUpdate&&r.sys.updateList.add(s),s};c.exports=a},13059:(c,x,e)=>{var o=e(23568),p=function(a,r){var s=o(r,"anims",null);if(s===null)return a;if(typeof s=="string")a.anims.play(s);else if(typeof s=="object"){var t=a.anims,n=o(s,"key",void 0);if(n){var h=o(s,"startFrame",void 0),i=o(s,"delay",0),l=o(s,"repeat",0),u=o(s,"repeatDelay",0),d=o(s,"yoyo",!1),f=o(s,"play",!1),v=o(s,"delayedPlay",0),m={key:n,delay:i,repeat:l,repeatDelay:u,yoyo:d,startFrame:h};f?t.play(m):v>0?t.playAfterDelay(m,v):t.load(m)}}return a};c.exports=p},8050:(c,x,e)=>{var o=e(83419),p=e(73162),a=e(37277),r=e(51708),s=e(44594),t=e(19186),n=new o({Extends:p,initialize:function(i){p.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(r.ADDED_TO_SCENE,h,this.scene),this.events.emit(s.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(r.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(t(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,i){return h._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",n,"displayList"),c.exports=n},95643:(c,x,e)=>{var o=e(83419),p=e(53774),a=e(45893),r=e(50792),s=e(51708),t=e(44594),n=new o({Extends:r,initialize:function(i,l){r.call(this),this.scene=i,this.displayList=null,this.type=l,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(h,i){return this.data||(this.data=new a(this)),this.data.set(h,i),this},incData:function(h,i){return this.data||(this.data=new a(this)),this.data.inc(h,i),this},toggleData:function(h){return this.data||(this.data=new a(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new a(this)),this.data.get(h)},setInteractive:function(h,i,l){return this.scene.sys.input.enable(this,h,i,l),this},disableInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.disable(this,h),this},removeInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.clear(this),h&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(h){var i=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!i||n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,i=this.parentContainer,l=[];i&&(l.unshift(i.getIndex(h)),h=i,i.parentContainer);)i=i.parentContainer;return this.displayList?l.unshift(this.displayList.getIndex(h)):l.unshift(this.scene.sys.displayList.getIndex(h)),l},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),h.events.emit(t.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(t.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var h=null;return this.parentContainer?h=this.parentContainer.list:this.displayList&&(h=this.displayList.list),h},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});n.RENDER_MASK=15,c.exports=n},44603:(c,x,e)=>{var o=e(83419),p=e(37277),a=e(44594),r=new o({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,t){r.prototype.hasOwnProperty(s)||(r.prototype[s]=t)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},p.register("GameObjectCreator",r,"make"),c.exports=r},39429:(c,x,e)=>{var o=e(83419),p=e(37277),a=e(44594),r=new o({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(s,t){r.prototype.hasOwnProperty(s)||(r.prototype[s]=t)},r.remove=function(s){r.prototype.hasOwnProperty(s)&&delete r.prototype[s]},p.register("GameObjectFactory",r,"add"),c.exports=r},91296:(c,x,e)=>{var o=e(61340),p=new o,a=new o,r=new o,s={camera:p,sprite:a,calc:r},t=function(n,h,i){var l=p,u=a,d=r;return u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(h.matrix),i?(l.multiplyWithOffset(i,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=h.scrollX*n.scrollFactorX,u.f-=h.scrollY*n.scrollFactorY),l.multiply(u,d),s};c.exports=t},45027:(c,x,e)=>{var o=e(83419),p=e(25774),a=e(37277),r=e(44594),s=new o({Extends:p,initialize:function(n){p.call(this),this.checkQueue=!0,this.scene=n,this.systems=n.sys,n.sys.events.once(r.BOOT,this.boot,this),n.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(r.PRE_UPDATE,this.update,this),t.on(r.UPDATE,this.sceneUpdate,this),t.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(t,n){for(var h=this._active,i=h.length,l=0;l<i;l++){var u=h[l];u.active&&u.preUpdate.call(u,t,n)}},shutdown:function(){for(var t=this._active.length;t--;)this._active[t].destroy(!0);for(t=this._pending.length;t--;)this._pending[t].destroy(!0);for(t=this._destroy.length;t--;)this._destroy[t].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var n=this.systems.events;n.off(r.PRE_UPDATE,this.update,this),n.off(r.UPDATE,this.sceneUpdate,this),n.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",s,"updateList"),c.exports=s},3217:c=>{var x=function(e,o,p,a,r,s,t,n,h,i,l,u,d,f,v){var m=p.x-o.displayOriginX+r,g=p.y-o.displayOriginY+s,y=m+p.w,T=g+p.h,C=t.a,E=t.b,z=t.c,D=t.d,A=t.e,L=t.f,b=m*C+g*z+A,F=m*E+g*D+L,V=m*C+T*z+A,B=m*E+T*D+L,N=y*C+T*z+A,U=y*E+T*D+L,I=y*C+g*z+A,H=y*E+g*D+L;n&&(b=Math.round(b),F=Math.round(F),V=Math.round(V),B=Math.round(B),N=Math.round(N),U=Math.round(U),I=Math.round(I),H=Math.round(H)),e.batchQuad(o,b,F,V,B,N,U,I,H,a.u0,a.v0,a.u1,a.v1,h,i,l,u,d,f,v)};c.exports=x},53048:c=>{var x=function(e,o,p,a){if(p===void 0&&(p=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=e.text,s=r.length,t=e.maxWidth,n=e.wordWrapCharCode,h=Number.MAX_VALUE,i=Number.MAX_VALUE,l=0,u=0,d=e.fontData.chars,f=e.fontData.lineHeight,v=e.letterSpacing,m=e.lineSpacing,g=0,y=0,T=0,C=null,E=e._align,z=0,D=0,A=e.fontSize/e.fontData.size,L=A*e.scaleX,b=A*e.scaleY,F=null,V=0,B=[],N=Number.MAX_VALUE,U=0,I=0,H=0,O,R,Y,G=[],k=[],W=null,X=function(Ne,tt){for(var Ee=0,Ue=0;Ue<Ne.length;Ue++){var je=Ne.charCodeAt(Ue),lt=tt.chars[je];lt&&(Ee+=lt.xAdvance)}return Ee*L};if(t>0){Y=r.split(`
`);var j=[];for(O=0;O<Y.length;O++){var K=Y[O],$="",Z="",J="",Q="";for(R=0;R<K.length;R++)if(T=K.charCodeAt(R),$+=K[R],T===n||R===K.length-1){Q=J+$;var _=X(Q,e.fontData);_<=t?J=Q:(Z=Z.slice(0,-1),Z+=(Z?`
`:"")+J,J=$),$=""}Z=Z.slice(0,-1),Z+=(Z?`
`:"")+J,j.push(Z)}r=j.join(`
`),a.wrappedText=r,s=r.length}var ae=0;for(O=0;O<s;O++){if(T=r.charCodeAt(O),T===10){W!==null&&(G.push({word:W.word,i:W.i,x:W.x*L,y:W.y*b,w:W.w*L,h:W.h*b}),W=null),F=null,B[I]=H,H>U&&(U=H),H<N&&(N=H),I++,H=0,g=0,y=(f+m)*I;continue}if(C=d[T],!!C){if(z=g,D=y,F!==null){var oe=C.kerning[V];z+=oe!==void 0?oe:0}h>z&&(h=z),i>D&&(i=D);var le=z+C.xAdvance,q=D+f;l<le&&(l=le),u<q&&(u=q);var ie=C.xOffset+C.xAdvance+(oe!==void 0?oe:0);T===n?W!==null&&(G.push({word:W.word,i:W.i,x:W.x*L,y:W.y*b,w:W.w*L,h:W.h*b}),W=null):(W===null&&(W={word:"",i:ae,x:g,y,w:0,h:f}),W.word=W.word.concat(r[O]),W.w+=ie),k.push({i:ae,idx:O,char:r[O],code:T,x:(C.xOffset+z)*A,y:(C.yOffset+y)*A,w:C.width*A,h:C.height*A,t:y*A,r:le*A,b:f*A,line:I,glyph:C}),g+=C.xAdvance+v+(oe!==void 0?oe:0),F=C,V=T,H=le*A,ae++}}if(W!==null&&G.push({word:W.word,i:W.i,x:W.x*L,y:W.y*b,w:W.w*L,h:W.h*b}),B[I]=H,H>U&&(U=H),H<N&&(N=H),E>0)for(var ne=0;ne<k.length;ne++){var fe=k[ne];if(E===1){var Te=(U-B[fe.line])/2;fe.x+=Te,fe.r+=Te}else if(E===2){var Ie=U-B[fe.line];fe.x+=Ie,fe.r+=Ie}}var xe=a.local,ye=a.global;return Y=a.lines,xe.x=h*A,xe.y=i*A,xe.width=l*A,xe.height=u*A,ye.x=e.x-e._displayOriginX+h*L,ye.y=e.y-e._displayOriginY+i*b,ye.width=l*L,ye.height=u*b,Y.shortest=N,Y.longest=U,Y.lengths=B,o&&(xe.x=Math.ceil(xe.x),xe.y=Math.ceil(xe.y),xe.width=Math.ceil(xe.width),xe.height=Math.ceil(xe.height),ye.x=Math.ceil(ye.x),ye.y=Math.ceil(ye.y),ye.width=Math.ceil(ye.width),ye.height=Math.ceil(ye.height),Y.shortest=Math.ceil(N),Y.longest=Math.ceil(U)),p&&(e._displayOriginX=e.originX*xe.width,e._displayOriginY=e.originY*xe.height,ye.x=e.x-e._displayOriginX*e.scaleX,ye.y=e.y-e._displayOriginY*e.scaleY,o&&(ye.x=Math.ceil(ye.x),ye.y=Math.ceil(ye.y))),a.words=G,a.characters=k,a.lines.height=f,a.scale=A,a.scaleX=e.scaleX,a.scaleY=e.scaleY,a};c.exports=x},61327:(c,x,e)=>{var o=e(21859),p=function(a,r,s,t,n,h,i){var l=a.sys.textures.get(s),u=l.get(t),d=a.sys.cache.xml.get(n);if(u&&d){var f=o(d,u,h,i,l);return a.sys.cache.bitmapFont.add(r,{data:f,texture:s,frame:t,fromAtlas:!0}),!0}else return!1};c.exports=p},6925:(c,x,e)=>{var o=e(35154),p=function(a,r){var s=r.width,t=r.height,n=Math.floor(s/2),h=Math.floor(t/2),i=o(r,"chars","");if(i!==""){var l=o(r,"image",""),u=a.sys.textures.getFrame(l),d=u.cutX,f=u.cutY,v=u.source.width,m=u.source.height,g=o(r,"offset.x",0),y=o(r,"offset.y",0),T=o(r,"spacing.x",0),C=o(r,"spacing.y",0),E=o(r,"lineSpacing",0),z=o(r,"charsPerRow",null);z===null&&(z=v/s,z>i.length&&(z=i.length));for(var D=g,A=y,L={retroFont:!0,font:l,size:s,lineHeight:t+E,chars:{}},b=0,F=0;F<i.length;F++){var V=i.charCodeAt(F),B=(d+D)/v,N=(f+A)/m,U=(d+D+s)/v,I=(f+A+t)/m;L.chars[V]={x:D,y:A,width:s,height:t,centerX:n,centerY:h,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:B,v0:N,u1:U,v1:I},b++,b===z?(b=0,D=g,A+=t+C):D+=s+T}var H={data:L,frame:null,texture:l};return H}};c.exports=p},21859:c=>{function x(o,p){return parseInt(o.getAttribute(p),10)}var e=function(o,p,a,r,s){a===void 0&&(a=0),r===void 0&&(r=0);var t=p.cutX,n=p.cutY,h=p.source.width,i=p.source.height,l=p.sourceIndex,u={},d=o.getElementsByTagName("info")[0],f=o.getElementsByTagName("common")[0];u.font=d.getAttribute("face"),u.size=x(d,"size"),u.lineHeight=x(f,"lineHeight")+r,u.chars={};var v=o.getElementsByTagName("char"),m=p!==void 0&&p.trimmed;if(m)var g=p.height,y=p.width;for(var T=0;T<v.length;T++){var C=v[T],E=x(C,"id"),z=String.fromCharCode(E),D=x(C,"x"),A=x(C,"y"),L=x(C,"width"),b=x(C,"height");m&&(D<y&&(y=D),A<g&&(g=A)),m&&g!==0&&y!==0&&(D-=p.x,A-=p.y);var F=(t+D)/h,V=(n+A)/i,B=(t+D+L)/h,N=(n+A+b)/i;if(u.chars[E]={x:D,y:A,width:L,height:b,centerX:Math.floor(L/2),centerY:Math.floor(b/2),xOffset:x(C,"xoffset"),yOffset:x(C,"yoffset"),xAdvance:x(C,"xadvance")+a,data:{},kerning:{},u0:F,v0:V,u1:B,v1:N},s&&L!==0&&b!==0){var U=s.add(z,l,D,A,L,b);U&&U.setUVs(L,b,F,V,B,N)}}var I=o.getElementsByTagName("kerning");for(T=0;T<I.length;T++){var H=I[T],O=x(H,"first"),R=x(H,"second"),Y=x(H,"amount");u.chars[R].kerning[O]=Y}return u};c.exports=e},196:(c,x,e)=>{var o=e(87662),p=e(79291),a={Parse:e(6925)};a=p(!1,a,o),c.exports=a},87662:c=>{var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};c.exports=x},2638:(c,x,e)=>{var o=e(22186),p=e(83419),a=e(12310),r=new p({Extends:o,Mixins:[a],initialize:function(t,n,h,i,l,u,d){o.call(this,t,n,h,i,l,u,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,t){return this.cropWidth=s,this.cropHeight=t,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});c.exports=r},86741:(c,x,e)=>{var o=e(20926),p=function(a,r,s,t){var n=r._text,h=n.length,i=a.currentContext;if(!(h===0||!o(a,i,r,s,t))){s.addToRenderList(r);var l=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.displayCallback,d=r.callbackData,f=r.fontData.chars,v=r.fontData.lineHeight,m=r._letterSpacing,g=0,y=0,T=0,C=null,E=0,z=0,D=0,A=0,L=0,b=0,F=null,V=0,B=r.frame.source.image,N=l.cutX,U=l.cutY,I=0,H=0,O=r._fontSize/r.fontData.size,R=r._align,Y=0,G=0;r.getTextBounds(!1);var k=r._bounds.lines;R===1?G=(k.longest-k.lengths[0])/2:R===2&&(G=k.longest-k.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var W=s.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var X=0;X<h;X++){if(H=O,I=0,T=n.charCodeAt(X),T===10){Y++,R===1?G=(k.longest-k.lengths[Y])/2:R===2&&(G=k.longest-k.lengths[Y]),g=0,y+=v,F=null;continue}if(C=f[T],!!C){if(E=N+C.x,z=U+C.y,D=C.width,A=C.height,L=C.xOffset+g-r.scrollX,b=C.yOffset+y-r.scrollY,F!==null){var j=C.kerning[V];L+=j!==void 0?j:0}if(u){d.index=X,d.charCode=T,d.x=L,d.y=b,d.scale=H,d.rotation=I,d.data=C.data;var K=u(d);L=K.x,b=K.y,H=K.scale,I=K.rotation}L*=H,b*=H,L+=G,g+=C.xAdvance+m+(j!==void 0?j:0),F=C,V=T,!(D===0||A===0||T===32)&&(W&&(L=Math.round(L),b=Math.round(b)),i.save(),i.translate(L,b),i.rotate(I),i.scale(H,H),i.drawImage(B,E,z,D,A,0,0,D,A),i.restore())}}i.restore()}};c.exports=p},11164:(c,x,e)=>{var o=e(2638),p=e(25305),a=e(44603),r=e(23568);a.register("dynamicBitmapText",function(s,t){s===void 0&&(s={});var n=r(s,"font",""),h=r(s,"text",""),i=r(s,"size",!1),l=new o(this.scene,0,0,n,h,i);return t!==void 0&&(s.add=t),p(this.scene,l,s),l})},72566:(c,x,e)=>{var o=e(2638),p=e(39429);p.register("dynamicBitmapText",function(a,r,s,t,n){return this.displayList.add(new o(this.scene,a,r,s,t,n))})},12310:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(73482),a=e(86741),c.exports={renderWebGL:p,renderCanvas:a}},73482:(c,x,e)=>{var o=e(91296),p=e(61340),a=e(70554),r=new p,s=function(t,n,h,i){var l=n.text,u=l.length;if(u!==0){h.addToRenderList(n);var d=t.pipelines.set(n.pipeline,n),f=o(n,h,i);t.pipelines.preBatch(n);var v=f.sprite,m=f.calc,g=r,y=n.cropWidth>0||n.cropHeight>0;y&&(d.flush(),t.pushScissor(m.tx,m.ty,n.cropWidth*m.scaleX,n.cropHeight*m.scaleY));var T=n.frame,C=T.glTexture,E=n.tintFill,z=a.getTintAppendFloatAlpha(n.tintTopLeft,h.alpha*n._alphaTL),D=a.getTintAppendFloatAlpha(n.tintTopRight,h.alpha*n._alphaTR),A=a.getTintAppendFloatAlpha(n.tintBottomLeft,h.alpha*n._alphaBL),L=a.getTintAppendFloatAlpha(n.tintBottomRight,h.alpha*n._alphaBR),b=d.setGameObject(n),F=0,V=0,B=0,N=0,U=n.letterSpacing,I,H=0,O=0,R,Y=n.scrollX,G=n.scrollY,k=n.fontData,W=k.chars,X=k.lineHeight,j=n.fontSize/k.size,K=0,$=n._align,Z=0,J=0,Q=n.getTextBounds(!1);n.maxWidth>0&&(l=Q.wrappedText,u=l.length);var _=n._bounds.lines;$===1?J=(_.longest-_.lengths[0])/2:$===2&&(J=_.longest-_.lengths[0]);for(var ae=h.roundPixels,oe=n.displayCallback,le=n.callbackData,q=0;q<u;q++){if(B=l.charCodeAt(q),B===10){Z++,$===1?J=(_.longest-_.lengths[Z])/2:$===2&&(J=_.longest-_.lengths[Z]),F=0,V+=X,R=null;continue}if(I=W[B],!!I){H=I.width,O=I.height;var ie=I.xOffset+F-Y,ne=I.yOffset+V-G;if(R!==null){var fe=I.kerning[N]||0;ie+=fe,F+=fe}if(F+=I.xAdvance+U,R=I,N=B,!(H===0||O===0||B===32)){if(j=n.fontSize/n.fontData.size,K=0,oe){le.color=0,le.tint.topLeft=z,le.tint.topRight=D,le.tint.bottomLeft=A,le.tint.bottomRight=L,le.index=q,le.charCode=B,le.x=ie,le.y=ne,le.scale=j,le.rotation=K,le.data=I.data;var Te=oe(le);ie=Te.x,ne=Te.y,j=Te.scale,K=Te.rotation,Te.color?(z=Te.color,D=Te.color,A=Te.color,L=Te.color):(z=Te.tint.topLeft,D=Te.tint.topRight,A=Te.tint.bottomLeft,L=Te.tint.bottomRight),z=a.getTintAppendFloatAlpha(z,h.alpha*n._alphaTL),D=a.getTintAppendFloatAlpha(D,h.alpha*n._alphaTR),A=a.getTintAppendFloatAlpha(A,h.alpha*n._alphaBL),L=a.getTintAppendFloatAlpha(L,h.alpha*n._alphaBR)}ie*=j,ne*=j,ie-=n.displayOriginX,ne-=n.displayOriginY,ie+=J,g.applyITRS(ie,ne,K,j,j),m.multiply(g,v);var Ie=I.u0,xe=I.v0,ye=I.u1,Ne=I.v1,tt=H,Ee=O,Ue=v.e,je=v.f,lt=Ee*v.c+v.e,pi=Ee*v.d+v.f,mi=tt*v.a+Ee*v.c+v.e,gi=tt*v.b+Ee*v.d+v.f,xi=tt*v.a+v.e,yi=tt*v.b+v.f;ae&&(Ue=Math.round(Ue),je=Math.round(je),lt=Math.round(lt),pi=Math.round(pi),mi=Math.round(mi),gi=Math.round(gi),xi=Math.round(xi),yi=Math.round(yi)),d.shouldFlush(6)&&(d.flush(),b=d.setGameObject(n)),d.batchQuad(n,Ue,je,lt,pi,mi,gi,xi,yi,Ie,xe,ye,Ne,z,D,A,L,E,C,b)}}}y&&(d.flush(),t.popScissor()),t.pipelines.postBatch(n)}};c.exports=s},22186:(c,x,e)=>{var o=e(83419),p=e(45319),a=e(31401),r=e(95643),s=e(53048),t=e(61327),n=e(21859),h=e(87841),i=e(18658),l=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(d,f,v,m,g,y,T){g===void 0&&(g=""),T===void 0&&(T=0),r.call(this,d,"BitmapText"),this.font=m;var C=this.scene.sys.cache.bitmapFont.get(m);if(!C)throw new Error("Invalid BitmapText key: "+m);this.fontData=C.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=T,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=C.fromAtlas,this.setTexture(C.texture,C.frame),this.setPosition(f,v),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(g)},setLeftAlign:function(){return this._align=l.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=l.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=l.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,d,f,v){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=.5),this.dropShadowX=u,this.dropShadowY=d,this.dropShadowColor=f,this.dropShadowAlpha=v,this},setCharacterTint:function(u,d,f,v,m,g,y){u===void 0&&(u=0),d===void 0&&(d=1),f===void 0&&(f=!1),v===void 0&&(v=-1),m===void 0&&(m=v,g=v,y=v);var T=this.text.length;d===-1&&(d=T),u<0&&(u=T+u),u=p(u,0,T-1);for(var C=p(u+d,u,T),E=this.charColors,z=u;z<C;z++){var D=E[z];if(v===-1)E[z]=null;else{var A=f?1:0;D?(D.tintEffect=A,D.tintTL=v,D.tintTR=m,D.tintBL=g,D.tintBR=y):E[z]={tintEffect:A,tintTL:v,tintTR:m,tintBL:g,tintBR:y}}}return this},setWordTint:function(u,d,f,v,m,g,y){d===void 0&&(d=1);for(var T=this.getTextBounds(),C=T.words,E=typeof u=="number",z=0,D=0;D<C.length;D++){var A=C[D];if((E&&D===u||!E&&A.word===u)&&(this.setCharacterTint(A.i,A.word.length,f,v,m,g,y),z++,z===d))return this}return this},getTextBounds:function(u){var d=this._bounds;return(this._dirty||u||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(s(this,u,!0,d),this._dirty=!1),d},getCharacterAt:function(u,d,f){for(var v=this.getLocalPoint(u,d,null,f),m=this.getTextBounds(),g=m.characters,y=new h,T=0;T<g.length;T++){var C=g[T];if(y.setTo(C.x,C.t,C.r-C.x,C.b),y.contains(v.x,v.y))return C}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,d,f){d===void 0&&(d=this._fontSize),f===void 0&&(f=this._align);var v=this.scene.sys.cache.bitmapFont.get(u);return v&&(this.font=u,this.fontData=v.data,this._fontSize=d,this._align=f,this.fromAtlas=v.fromAtlas===!0,this.setTexture(v.texture,v.frame),s(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,d){return this._maxWidth=u,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=a.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=d,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});l.ALIGN_LEFT=0,l.ALIGN_CENTER=1,l.ALIGN_RIGHT=2,l.ParseFromAtlas=t,l.ParseXMLBitmapFont=n,c.exports=l},37289:(c,x,e)=>{var o=e(20926),p=function(a,r,s,t){var n=r._text,h=n.length,i=a.currentContext;if(!(h===0||!o(a,i,r,s,t))){s.addToRenderList(r);var l=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.fontData.chars,d=r.fontData.lineHeight,f=r._letterSpacing,v=r._lineSpacing,m=0,g=0,y=0,T=null,C=0,E=0,z=0,D=0,A=0,L=0,b=null,F=0,V=l.source.image,B=l.cutX,N=l.cutY,U=r._fontSize/r.fontData.size,I=r._align,H=0,O=0,R=r.getTextBounds(!1);r.maxWidth>0&&(n=R.wrappedText,h=n.length);var Y=r._bounds.lines;I===1?O=(Y.longest-Y.lengths[0])/2:I===2&&(O=Y.longest-Y.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var G=s.roundPixels,k=0;k<h;k++){if(y=n.charCodeAt(k),y===10){H++,I===1?O=(Y.longest-Y.lengths[H])/2:I===2&&(O=Y.longest-Y.lengths[H]),m=0,g+=d+v,b=null;continue}if(T=u[y],!!T){if(C=B+T.x,E=N+T.y,z=T.width,D=T.height,A=T.xOffset+m,L=T.yOffset+g,b!==null){var W=T.kerning[F];A+=W!==void 0?W:0}A*=U,L*=U,A+=O,m+=T.xAdvance+f+(W!==void 0?W:0),b=T,F=y,!(z===0||D===0||y===32)&&(G&&(A=Math.round(A),L=Math.round(L)),i.save(),i.translate(A,L),i.scale(U,U),i.drawImage(V,C,E,z,D,0,0,z,D),i.restore())}}i.restore()}};c.exports=p},57336:(c,x,e)=>{var o=e(22186),p=e(25305),a=e(44603),r=e(23568),s=e(35154);a.register("bitmapText",function(t,n){t===void 0&&(t={});var h=s(t,"font",""),i=r(t,"text",""),l=r(t,"size",!1),u=s(t,"align",0),d=new o(this.scene,0,0,h,i,l,u);return n!==void 0&&(t.add=n),p(this.scene,d,t),d})},34914:(c,x,e)=>{var o=e(22186),p=e(39429);p.register("bitmapText",function(a,r,s,t,n,h){return this.displayList.add(new o(this.scene,a,r,s,t,n,h))})},18658:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(33590),a=e(37289),c.exports={renderWebGL:p,renderCanvas:a}},33590:(c,x,e)=>{var o=e(3217),p=e(91296),a=e(70554),r=function(s,t,n,h){var i=t._text,l=i.length;if(l!==0){n.addToRenderList(t);var u=s.pipelines.set(t.pipeline,t),d=p(t,n,h).calc;s.pipelines.preBatch(t);var f=n.roundPixels,v=n.alpha,m=t.charColors,g=t.tintFill,y=a.getTintAppendFloatAlpha,T=y(t.tintTopLeft,v*t._alphaTL),C=y(t.tintTopRight,v*t._alphaTR),E=y(t.tintBottomLeft,v*t._alphaBL),z=y(t.tintBottomRight,v*t._alphaBR),D=t.frame.glTexture,A=u.setGameObject(t),L=t.getTextBounds(!1),b,F,V,B=L.characters,N=t.dropShadowX,U=t.dropShadowY,I=N!==0||U!==0;if(I){var H=t.dropShadowColor,O=t.dropShadowAlpha,R=y(H,v*O*t._alphaTL),Y=y(H,v*O*t._alphaTR),G=y(H,v*O*t._alphaBL),k=y(H,v*O*t._alphaBR);for(b=0;b<B.length;b++)F=B[b],V=F.glyph,!(F.code===32||V.width===0||V.height===0)&&o(u,t,F,V,N,U,d,f,R,Y,G,k,1,D,A)}for(b=0;b<B.length;b++)if(F=B[b],V=F.glyph,!(F.code===32||V.width===0||V.height===0))if(u.shouldFlush(6)&&(u.flush(),A=u.setGameObject(t)),m[F.i]){var W=m[F.i],X=W.tintEffect,j=y(W.tintTL,v*t._alphaTL),K=y(W.tintTR,v*t._alphaTR),$=y(W.tintBL,v*t._alphaBL),Z=y(W.tintBR,v*t._alphaBR);o(u,t,F,V,0,0,d,f,j,K,$,Z,X,D,A)}else o(u,t,F,V,0,0,d,f,T,C,E,z,g,D,A);s.pipelines.postBatch(t)}};c.exports=r},6107:(c,x,e)=>{var o=e(48011),p=e(46590),a=e(83419),r=e(31401),s=e(4327),t=e(95643),n=e(73162),h=new a({Extends:t,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,o],initialize:function(l,u,d,f,v){t.call(this,l,"Blitter"),this.setTexture(f,v),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(),this.children=new n,this.renderList=[],this.dirty=!1},create:function(i,l,u,d,f){d===void 0&&(d=!0),f===void 0&&(f=this.children.length),u===void 0?u=this.frame:u instanceof s||(u=this.texture.get(u));var v=new p(this,i,l,u,d);return this.children.addAt(v,f,!1),this.dirty=!0,v},createFromCallback:function(i,l,u,d){for(var f=this.createMultiple(l,u,d),v=0;v<f.length;v++){var m=f[v];i.call(this,m,v)}return f},createMultiple:function(i,l,u){l===void 0&&(l=this.frame.name),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);var d=[],f=this;return l.forEach(function(v){for(var m=0;m<i;m++)d.push(f.create(0,0,v,u))}),d},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});c.exports=h},72396:c=>{var x=function(e,o,p,a){var r=o.getRenderList();if(r.length!==0){var s=e.currentContext,t=p.alpha*o.alpha;if(t!==0){p.addToRenderList(o),s.globalCompositeOperation=e.blendModes[o.blendMode],s.imageSmoothingEnabled=!o.frame.source.scaleMode;var n=o.x-p.scrollX*o.scrollFactorX,h=o.y-p.scrollY*o.scrollFactorY;s.save(),a&&a.copyToContext(s);for(var i=p.roundPixels,l=0;l<r.length;l++){var u=r[l],d=u.flipX||u.flipY,f=u.frame,v=f.canvasData,m=f.x,g=f.y,y=1,T=1,C=u.alpha*t;C!==0&&(s.globalAlpha=C,d?(u.flipX&&(y=-1,m-=v.width),u.flipY&&(T=-1,g-=v.height),v.width>0&&v.height>0&&(s.save(),s.translate(u.x+n,u.y+h),s.scale(y,T),s.drawImage(f.source.image,v.x,v.y,v.width,v.height,m,g,v.width,v.height),s.restore())):(i&&(m=Math.round(m),g=Math.round(g)),v.width>0&&v.height>0&&s.drawImage(f.source.image,v.x,v.y,v.width,v.height,m+u.x+n,g+u.y+h,v.width,v.height)))}s.restore()}}};c.exports=x},9403:(c,x,e)=>{var o=e(6107),p=e(25305),a=e(44603),r=e(23568);a.register("blitter",function(s,t){s===void 0&&(s={});var n=r(s,"key",null),h=r(s,"frame",null),i=new o(this.scene,0,0,n,h);return t!==void 0&&(s.add=t),p(this.scene,i,s),i})},12709:(c,x,e)=>{var o=e(6107),p=e(39429);p.register("blitter",function(a,r,s,t){return this.displayList.add(new o(this.scene,a,r,s,t))})},48011:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(99485),a=e(72396),c.exports={renderWebGL:p,renderCanvas:a}},99485:(c,x,e)=>{var o=e(61340),p=e(70554),a=new o,r=function(s,t,n,h){var i=t.getRenderList(),l=n.alpha*t.alpha;if(!(i.length===0||l===0)){n.addToRenderList(t);var u=s.pipelines.set(this.pipeline,t),d=n.scrollX*t.scrollFactorX,f=n.scrollY*t.scrollFactorY,v=a.copyFrom(n.matrix);h&&(v.multiplyWithOffset(h,-d,-f),d=0,f=0);var m=t.x-d,g=t.y-f,y=-1,T=!1,C=n.roundPixels;s.pipelines.preBatch(t);for(var E=0;E<i.length;E++){var z=i[E],D=z.frame,A=z.alpha*l;if(A!==0){var L=D.width,b=D.height,F=m+z.x+D.x,V=g+z.y+D.y;z.flipX&&(L*=-1,F+=D.width),z.flipY&&(b*=-1,V+=D.height);var B=v.setQuad(F,V,F+L,V+b,C),N=p.getTintAppendFloatAlpha(z.tint,A);if(D.sourceIndex!==y){var U=u.setGameObject(t,D);y=D.sourceIndex}u.batchQuad(t,B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],D.u0,D.v0,D.u1,D.v1,N,N,N,N,T,D.glTexture,U)&&(y=-1)}}s.pipelines.postBatch(t)}};c.exports=r},46590:(c,x,e)=>{var o=e(83419),p=e(4327),a=new o({initialize:function(s,t,n,h,i){this.parent=s,this.x=t,this.y=n,this.frame=h,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof p&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,s,t){return this.x=r,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,t&&this.setFrame(t),this},setPosition:function(r,s){return this.x=r,this.y=s,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,s){return this.flipX=r,this.flipY=s,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});c.exports=a},16005:(c,x,e)=>{var o=e(45319),p=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,s,t,n){return r===void 0&&(r=1),s===void 0?this.alpha=r:(this._alphaTL=o(r,0,1),this._alphaTR=o(s,0,1),this._alphaBL=o(t,0,1),this._alphaBR=o(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var s=o(r,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var s=o(r,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var s=o(r,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var s=o(r,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var s=o(r,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=p)}}};c.exports=a},88509:(c,x,e)=>{var o=e(45319),p=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var s=o(r,0,1);this._alpha=s,s===0?this.renderFlags&=~p:this.renderFlags|=p}}};c.exports=a},90065:(c,x,e)=>{var o=e(10312),p={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=o[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};c.exports=p},94215:c=>{var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,o){return this.width=e,this.height=o,this},setDisplaySize:function(e,o){return this.displayWidth=e,this.displayHeight=o,this}};c.exports=x},61683:c=>{var x={texture:null,frame:null,isCropped:!1,setCrop:function(e,o,p,a){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,o,p,a,this.flipX,this.flipY);else{var r=e;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=x},89272:(c,x,e)=>{var o=e(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this},setToTop:function(){var a=this.getDisplayList();return a&&o.BringToTop(a,this),this},setToBack:function(){var a=this.getDisplayList();return a&&o.SendToBack(a,this),this},setAbove:function(a){var r=this.getDisplayList();return r&&a&&o.MoveAbove(r,this,a),this},setBelow:function(a){var r=this.getDisplayList();return r&&a&&o.MoveBelow(r,this,a),this}};c.exports=p},47059:(c,x,e)=>{var o=e(83419),p=e(66064),a=e(19133),r=new o({initialize:function(t,n){this.gameObject=t,this.isPost=n,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(s){return s===void 0&&(s=0),this.padding=s,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(s){if(!this.isPost){var t=this.gameObject.scene.sys.renderer;t&&t.pipelines?(this.gameObject.pipeline=t.pipelines.FX_PIPELINE,s!==void 0&&(this.padding=s),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var s=this.list,t=0;t<s.length;t++)s[t].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(s){var t;if(this.isPost){var n=this.gameObject.getPostPipeline(String(s.type));for(Array.isArray(n)||(n=[n]),t=0;t<n.length;t++){var h=n[t];if(h.controller===s){this.gameObject.removePostPipeline(h),s.destroy();break}}}else{var i=this.list;for(t=0;t<i.length;t++)i[t]===s&&(a(i,t),s.destroy())}return this.gameObject},disable:function(s){return s===void 0&&(s=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,s&&this.clear(),this.gameObject},add:function(s,t){if(this.isPost){var n=String(s.type);this.gameObject.setPostPipeline(n,t);var h=this.gameObject.getPostPipeline(n);if(h)return Array.isArray(h)&&(h=h.pop()),h&&(h.controller=s),s}else return this.enabled||this.enable(),this.list.push(s),s},addGlow:function(s,t,n,h,i,l){return this.add(new p.Glow(this.gameObject,s,t,n,h),{quality:i,distance:l})},addShadow:function(s,t,n,h,i,l,u){return this.add(new p.Shadow(this.gameObject,s,t,n,h,i,l,u))},addPixelate:function(s){return this.add(new p.Pixelate(this.gameObject,s))},addVignette:function(s,t,n,h){return this.add(new p.Vignette(this.gameObject,s,t,n,h))},addShine:function(s,t,n,h){return this.add(new p.Shine(this.gameObject,s,t,n,h))},addBlur:function(s,t,n,h,i,l){return this.add(new p.Blur(this.gameObject,s,t,n,h,i,l))},addGradient:function(s,t,n,h,i,l,u,d){return this.add(new p.Gradient(this.gameObject,s,t,n,h,i,l,u,d))},addBloom:function(s,t,n,h,i,l){return this.add(new p.Bloom(this.gameObject,s,t,n,h,i,l))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(s,t,n,h,i){return this.add(new p.Circle(this.gameObject,s,t,n,h,i))},addBarrel:function(s){return this.add(new p.Barrel(this.gameObject,s))},addDisplacement:function(s,t,n){return this.add(new p.Displacement(this.gameObject,s,t,n))},addWipe:function(s,t,n){return this.add(new p.Wipe(this.gameObject,s,t,n))},addReveal:function(s,t,n){return this.add(new p.Wipe(this.gameObject,s,t,n,!0))},addBokeh:function(s,t,n){return this.add(new p.Bokeh(this.gameObject,s,t,n))},addTiltShift:function(s,t,n,h,i,l){return this.add(new p.Bokeh(this.gameObject,s,t,n,!0,h,i,l))},destroy:function(){this.clear(),this.gameObject=null}});c.exports=r},54434:c=>{var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,o){return this.flipX=e,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};c.exports=x},8004:(c,x,e)=>{var o=e(87841),p=e(11520),a=e(26099),r={prepareBoundsOutput:function(s,t){if(t===void 0&&(t=!1),this.rotation!==0&&p(s,this.x,this.y,this.rotation),t&&this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix();n.transformPoint(s.x,s.y,s)}return s},getCenter:function(s,t){return s===void 0&&(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,t)},getTopLeft:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,t)},getTopCenter:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,t)},getTopRight:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,t)},getLeftCenter:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,t)},getRightCenter:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,t)},getBottomLeft:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,t)},getBottomCenter:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,t)},getBottomRight:function(s,t){return s||(s=new a),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,t)},getBounds:function(s){s===void 0&&(s=new o);var t,n,h,i,l,u,d,f;if(this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),v.transformPoint(s.x,s.y,s),t=s.x,n=s.y,this.getTopRight(s),v.transformPoint(s.x,s.y,s),h=s.x,i=s.y,this.getBottomLeft(s),v.transformPoint(s.x,s.y,s),l=s.x,u=s.y,this.getBottomRight(s),v.transformPoint(s.x,s.y,s),d=s.x,f=s.y}else this.getTopLeft(s),t=s.x,n=s.y,this.getTopRight(s),h=s.x,i=s.y,this.getBottomLeft(s),l=s.x,u=s.y,this.getBottomRight(s),d=s.x,f=s.y;return s.x=Math.min(t,h,l,d),s.y=Math.min(n,i,u,f),s.width=Math.max(t,h,l,d)-s.x,s.height=Math.max(n,i,u,f)-s.y,s}};c.exports=r},8573:(c,x,e)=>{var o=e(6858),p=e(80661),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,s,t,n,h){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new o(this.scene,r,s,t,n,h)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new p(this.scene,r)}};c.exports=a},27387:c=>{var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,o){return e===void 0&&(e=.5),o===void 0&&(o=e),this.originX=e,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,o){return e===void 0&&(e=0),o===void 0&&(o=e),this.displayOriginX=e,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};c.exports=x},37640:(c,x,e)=>{var o=e(39506),p=e(57355),a=e(35154),r=e(86353),s=e(26099),t={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(n,h){h===void 0&&(h=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=n,h&&this.startFollow(h),this},setRotateToPath:function(n,h){return h===void 0&&(h=0),this.rotateToPath=n,this.pathRotationOffset=h,this},isFollowing:function(){var n=this.pathTween;return n&&n.isPlaying()},startFollow:function(n,h){n===void 0&&(n={}),h===void 0&&(h=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof n=="number"&&(n={duration:n}),n.from=a(n,"from",0),n.to=a(n,"to",1);var l=p(n,"positionOnPath",!1);this.rotateToPath=p(n,"rotateToPath",!1),this.pathRotationOffset=a(n,"rotationOffset",0);var u=a(n,"startAt",h);if(u&&(n.onStart=function(f){var v=f.data[0];v.progress=u,v.elapsed=v.duration*u;var m=v.ease(v.progress);v.current=v.start+(v.end-v.start)*m,v.setTargetValue()}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),n.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(n),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=n,this},pauseFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.pause(),this},resumeFollow:function(){var n=this.pathTween;return n&&n.isPaused()&&n.resume(),this},stopFollow:function(){var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this},pathUpdate:function(){var n=this.pathTween;if(n&&n.data){var h=n.data[0],i=this.pathDelta,l=this.pathVector;if(i.copy(l).negate(),h.state===r.COMPLETE){this.path.getPoint(h.end,l),i.add(l),l.add(this.pathOffset),this.setPosition(l.x,l.y);return}else if(h.state!==r.PLAYING_FORWARD&&h.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(n.getValue(),l),i.add(l),l.add(this.pathOffset);var u=this.x,d=this.y;this.setPosition(l.x,l.y);var f=this.x-u,v=this.y-d;if(f===0&&v===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(v,f)+o(this.pathRotationOffset))}}};c.exports=t},72699:(c,x,e)=>{var o=e(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var s=r.pipelines;if(s){a===void 0&&(a=s.default);var t=s.get(a);if(t)return this.defaultPipeline=t,this.pipeline=t,!0}return!1},setPipeline:function(a,r,s){var t=this.scene.sys.renderer;if(!t)return this;var n=t.pipelines;if(n){var h=n.get(a);h&&(this.pipeline=h),r&&(this.pipelineData=s?o(r):r)}return this},setPipelineData:function(a,r){var s=this.pipelineData;return r===void 0?delete s[a]:s[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};c.exports=p},17581:(c,x,e)=>{var o=e(62644),p=e(47059),a=e(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(s){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),s&&(this.preFX=new p(this,!1))},setPostPipeline:function(s,t,n){var h=this.scene.sys.renderer;if(!h)return this;var i=h.pipelines;if(i){Array.isArray(s)||(s=[s]);for(var l=0;l<s.length;l++){var u=i.getPostPipeline(s[l],this,t);u&&this.postPipelines.push(u)}t&&(this.postPipelineData=n?o(t):t)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(s,t){var n=this.postPipelineData;return t===void 0?delete n[s]:n[s]=t,this},getPostPipeline:function(s){for(var t=typeof s=="string",n=this.postPipelines,h=[],i=0;i<n.length;i++){var l=n[i];(t&&l.name===s||!t&&l instanceof s)&&h.push(l)}return h.length===1?h[0]:h},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var t=this.postPipelines,n=0;n<t.length;n++)t[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.postPipelineData={})},removePostPipeline:function(s){for(var t=typeof s=="string",n=this.postPipelines,h=n.length-1;h>=0;h--){var i=n[h];(t&&i.name===s||!t&&i===s)&&(i.destroy(),a(n,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};c.exports=r},80227:c=>{var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,o){return o===void 0&&(o=e),this.scrollFactorX=e,this.scrollFactorY=o,this}};c.exports=x},16736:c=>{var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){e||(e=this.frame),this.width=e.realWidth,this.height=e.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(e,o){return this.width=e,this.height=o,this},setDisplaySize:function(e,o){return this.displayWidth=e,this.displayHeight=o,this}};c.exports=x},37726:(c,x,e)=>{var o=e(4327),p=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,s,t,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s,t,n)},setFrame:function(r,s,t){return s===void 0&&(s=!0),t===void 0&&(t=!0),r instanceof o?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&t&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};c.exports=a},79812:(c,x,e)=>{var o=e(4327),p=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,s,t,n){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,s,t,n,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(s)},setFrame:function(r,s,t){return s===void 0&&(s=!0),t===void 0&&(t=!0),r instanceof o?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&t&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};c.exports=a},27472:c=>{var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,o,p,a){return e===void 0&&(e=16777215),o===void 0&&(o=e,p=e,a=e),this.tintTopLeft=e,this.tintTopRight=o,this.tintBottomLeft=p,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(e,o,p,a){return this.setTint(e,o,p,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};c.exports=x},53774:c=>{var x=function(e){var o={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(o.textureKey=e.texture.key,o.frameKey=e.frame.name),o};c.exports=x},16901:(c,x,e)=>{var o=e(36383),p=e(61340),a=e(85955),r=e(86554),s=e(30954),t=e(26099),n=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=~n:this.renderFlags|=n}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=~n:this._scaleY!==0&&(this.renderFlags|=n)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=~n:this._scaleX!==0&&(this.renderFlags|=n)}},angle:{get:function(){return s(this._rotation*o.RAD_TO_DEG)},set:function(i){this.rotation=s(i)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,l,u,d){return i===void 0&&(i=0),l===void 0&&(l=i),u===void 0&&(u=0),d===void 0&&(d=0),this.x=i,this.y=l,this.z=u,this.w=d,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,l,u,d){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=l+Math.random()*d,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=i),this.scaleX=i,this.scaleY=l,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,l){i===void 0&&(i=new p);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);for(l||(l=new p),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)l.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),l.multiply(i,i),u=u.parentContainer;return i},getLocalPoint:function(i,l,u,d){u||(u=new t),d||(d=this.scene.sys.cameras.main);var f=d.scrollX,v=d.scrollY,m=i+f*this.scrollFactorX-f,g=l+v*this.scrollFactorY-v;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(m,g,u):a(m,g,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var i=0,l=this.parentContainer;l;)i+=l.rotation,l=l.parentContainer;return i}};c.exports=h},61340:(c,x,e)=>{var o=e(83419),p=e(36383),a=e(26099),r=new o({initialize:function(t,n,h,i,l,u){t===void 0&&(t=1),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=1),l===void 0&&(l=0),u===void 0&&(u=0),this.matrix=new Float32Array([t,n,h,i,l,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,t=s[0],n=s[1],h=s[2],i=s[3];return t||n?n>0?Math.acos(t/this.scaleX):-Math.acos(t/this.scaleX):h||i?p.TAU-(i>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,t){var n=this.matrix;return n[4]=n[0]*s+n[2]*t+n[4],n[5]=n[1]*s+n[3]*t+n[5],this},scale:function(s,t){var n=this.matrix;return n[0]*=s,n[1]*=s,n[2]*=t,n[3]*=t,this},rotate:function(s){var t=Math.sin(s),n=Math.cos(s),h=this.matrix,i=h[0],l=h[1],u=h[2],d=h[3];return h[0]=i*n+u*t,h[1]=l*n+d*t,h[2]=i*-t+u*n,h[3]=l*-t+d*n,this},multiply:function(s,t){var n=this.matrix,h=s.matrix,i=n[0],l=n[1],u=n[2],d=n[3],f=n[4],v=n[5],m=h[0],g=h[1],y=h[2],T=h[3],C=h[4],E=h[5],z=t===void 0?n:t.matrix;return z[0]=m*i+g*u,z[1]=m*l+g*d,z[2]=y*i+T*u,z[3]=y*l+T*d,z[4]=C*i+E*u+f,z[5]=C*l+E*d+v,z},multiplyWithOffset:function(s,t,n){var h=this.matrix,i=s.matrix,l=h[0],u=h[1],d=h[2],f=h[3],v=h[4],m=h[5],g=t*l+n*d+v,y=t*u+n*f+m,T=i[0],C=i[1],E=i[2],z=i[3],D=i[4],A=i[5];return h[0]=T*l+C*d,h[1]=T*u+C*f,h[2]=E*l+z*d,h[3]=E*u+z*f,h[4]=D*l+A*d+g,h[5]=D*u+A*f+y,this},transform:function(s,t,n,h,i,l){var u=this.matrix,d=u[0],f=u[1],v=u[2],m=u[3],g=u[4],y=u[5];return u[0]=s*d+t*v,u[1]=s*f+t*m,u[2]=n*d+h*v,u[3]=n*f+h*m,u[4]=i*d+l*v+g,u[5]=i*f+l*m+y,this},transformPoint:function(s,t,n){n===void 0&&(n={x:0,y:0});var h=this.matrix,i=h[0],l=h[1],u=h[2],d=h[3],f=h[4],v=h[5];return n.x=s*i+t*u+f,n.y=s*l+t*d+v,n},invert:function(){var s=this.matrix,t=s[0],n=s[1],h=s[2],i=s[3],l=s[4],u=s[5],d=t*i-n*h;return s[0]=i/d,s[1]=-n/d,s[2]=-h/d,s[3]=t/d,s[4]=(h*u-i*l)/d,s[5]=-(t*u-n*l)/d,this},copyFrom:function(s){var t=this.matrix;return t[0]=s.a,t[1]=s.b,t[2]=s.c,t[3]=s.d,t[4]=s.e,t[5]=s.f,this},copyFromArray:function(s){var t=this.matrix;return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],this},copyToContext:function(s){var t=this.matrix;return s.transform(t[0],t[1],t[2],t[3],t[4],t[5]),s},setToContext:function(s){return s.setTransform(this),s},copyToArray:function(s){var t=this.matrix;return s===void 0?s=[t[0],t[1],t[2],t[3],t[4],t[5]]:(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5]),s},setTransform:function(s,t,n,h,i,l){var u=this.matrix;return u[0]=s,u[1]=t,u[2]=n,u[3]=h,u[4]=i,u[5]=l,this},decomposeMatrix:function(){var s=this.decomposedMatrix,t=this.matrix,n=t[0],h=t[1],i=t[2],l=t[3],u=n*l-h*i;if(s.translateX=t[4],s.translateY=t[5],n||h){var d=Math.sqrt(n*n+h*h);s.rotation=h>0?Math.acos(n/d):-Math.acos(n/d),s.scaleX=d,s.scaleY=u/d}else if(i||l){var f=Math.sqrt(i*i+l*l);s.rotation=Math.PI*.5-(l>0?Math.acos(-i/f):-Math.acos(i/f)),s.scaleX=u/f,s.scaleY=f}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,t,n,h,i){var l=this.matrix,u=Math.sin(n),d=Math.cos(n);return l[4]=s,l[5]=t,l[0]=d*h,l[1]=u*h,l[2]=-u*i,l[3]=d*i,this},applyInverse:function(s,t,n){n===void 0&&(n=new a);var h=this.matrix,i=h[0],l=h[1],u=h[2],d=h[3],f=h[4],v=h[5],m=1/(i*d+u*-l);return n.x=d*m*s+-u*m*t+(v*u-f*d)*m,n.y=i*m*t+-l*m*s+(-v*i+f*l)*m,n},setQuad:function(s,t,n,h,i,l){i===void 0&&(i=!1),l===void 0&&(l=this.quad);var u=this.matrix,d=u[0],f=u[1],v=u[2],m=u[3],g=u[4],y=u[5],T=s*d+t*v+g,C=s*f+t*m+y,E=s*d+h*v+g,z=s*f+h*m+y,D=n*d+h*v+g,A=n*f+h*m+y,L=n*d+t*v+g,b=n*f+t*m+y;if(i){var F=Math.floor(T+.5),V=Math.floor(C+.5),B=F-T,N=V-C;l[0]=F,l[1]=V,l[2]=E+B,l[3]=z+N,l[4]=D+B,l[5]=A+N,l[6]=L+B,l[7]=b+N}else l[0]=T,l[1]=C,l[2]=E,l[3]=z,l[4]=D,l[5]=A,l[6]=L,l[7]=b;return l},getX:function(s,t){return s*this.a+t*this.c+this.e},getY:function(s,t){return s*this.b+t*this.d+this.f},getXRound:function(s,t,n){var h=this.getX(s,t);return n&&(h=Math.floor(h+.5)),h},getYRound:function(s,t,n){var h=this.getY(s,t);return n&&(h=Math.floor(h+.5)),h},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});c.exports=r},59715:c=>{var x=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(o){return this.visible=o,this}};c.exports=e},31401:(c,x,e)=>{c.exports={Alpha:e(16005),AlphaSingle:e(88509),BlendMode:e(90065),ComputedSize:e(94215),Crop:e(61683),Depth:e(89272),Flip:e(54434),FX:e(47059),GetBounds:e(8004),Mask:e(8573),Origin:e(27387),PathFollower:e(37640),Pipeline:e(72699),PostPipeline:e(17581),ScrollFactor:e(80227),Size:e(16736),Texture:e(37726),TextureCrop:e(79812),Tint:e(27472),ToJSON:e(53774),Transform:e(16901),TransformMatrix:e(61340),Visible:e(59715)}},31559:(c,x,e)=>{var o=e(37105),p=e(10312),a=e(83419),r=e(31401),s=e(51708),t=e(95643),n=e(87841),h=e(29959),i=e(36899),l=e(26099),u=new r.TransformMatrix,d=new a({Extends:t,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,h],initialize:function(v,m,g,y){t.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(m,g),this.setBlendMode(p.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(f){return f===void 0&&(f=!0),this.exclusive=f,this},getBounds:function(f){if(f===void 0&&(f=new n),f.setTo(this.x,this.y,0,0),this.parentContainer){var v=this.parentContainer.getBoundsTransformMatrix(),m=v.transformPoint(this.x,this.y);f.setTo(m.x,m.y,0,0)}if(this.list.length>0){var g=this.list,y=new n,T=!1;f.setEmpty();for(var C=0;C<g.length;C++){var E=g[C];E.getBounds&&(E.getBounds(y),T?i(y,f,f):(f.setTo(y.x,y.y,y.width,y.height),T=!0))}}return f},addHandler:function(f){f.once(s.DESTROY,this.onChildDestroyed,this),this.exclusive&&(f.parentContainer&&f.parentContainer.remove(f),f.parentContainer=this,f.removeFromDisplayList(),f.addedToScene())},removeHandler:function(f){f.off(s.DESTROY,this.remove,this),this.exclusive&&(f.parentContainer=null,f.removedFromScene(),f.addToDisplayList())},pointToContainer:function(f,v){v===void 0&&(v=new l),this.parentContainer?this.parentContainer.pointToContainer(f,v):(v.x=f.x,v.y=f.y);var m=u;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(f.x,f.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(u,this.localTransform)},add:function(f){return o.Add(this.list,f,this.maxSize,this.addHandler,this),this},addAt:function(f,v){return o.AddAt(this.list,f,v,this.maxSize,this.addHandler,this),this},getAt:function(f){return this.list[f]},getIndex:function(f){return this.list.indexOf(f)},sort:function(f,v){return f?(v===void 0&&(v=function(m,g){return m[f]-g[f]}),o.StableSort(this.list,v),this):this},getByName:function(f){return o.GetFirst(this.list,"name",f)},getRandom:function(f,v){return o.GetRandom(this.list,f,v)},getFirst:function(f,v,m,g){return o.GetFirst(this.list,f,v,m,g)},getAll:function(f,v,m,g){return o.GetAll(this.list,f,v,m,g)},count:function(f,v,m,g){return o.CountAllMatching(this.list,f,v,m,g)},swap:function(f,v){return o.Swap(this.list,f,v),this},moveTo:function(f,v){return o.MoveTo(this.list,f,v),this},moveAbove:function(f,v){return o.MoveAbove(this.list,f,v),this},moveBelow:function(f,v){return o.MoveBelow(this.list,f,v),this},remove:function(f,v){var m=o.Remove(this.list,f,this.removeHandler,this);if(v&&m){Array.isArray(m)||(m=[m]);for(var g=0;g<m.length;g++)m[g].destroy()}return this},removeAt:function(f,v){var m=o.RemoveAt(this.list,f,this.removeHandler,this);return v&&m&&m.destroy(),this},removeBetween:function(f,v,m){var g=o.RemoveBetween(this.list,f,v,this.removeHandler,this);if(m)for(var y=0;y<g.length;y++)g[y].destroy();return this},removeAll:function(f){var v=this.list;if(f){for(var m=0;m<v.length;m++)v[m]&&v[m].scene&&(v[m].off(s.DESTROY,this.onChildDestroyed,this),v[m].destroy());this.list=[]}else o.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(f){return o.BringToTop(this.list,f),this},sendToBack:function(f){return o.SendToBack(this.list,f),this},moveUp:function(f){return o.MoveUp(this.list,f),this},moveDown:function(f){return o.MoveDown(this.list,f),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(f,v,m){var g=o.Replace(this.list,f,v);return g&&(this.addHandler(v),this.removeHandler(f),m&&f.destroy()),this},exists:function(f){return this.list.indexOf(f)>-1},setAll:function(f,v,m,g){return o.SetAll(this.list,f,v,m,g),this},each:function(f,v){var m=[null],g,y=this.list.slice(),T=y.length;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<T;g++)m[0]=y[g],f.apply(v,m);return this},iterate:function(f,v){var m=[null],g;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<this.list.length;g++)m[0]=this.list[g],f.apply(v,m);return this},setScrollFactor:function(f,v,m){return v===void 0&&(v=f),m===void 0&&(m=!1),this.scrollFactorX=f,this.scrollFactorY=v,m&&(o.SetAll(this.list,"scrollFactorX",f),o.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(f){o.Remove(this.list,f),this.exclusive&&(f.parentContainer=null,f.removedFromScene())}});c.exports=d},53584:c=>{var x=function(e,o,p,a){p.addToRenderList(o);var r=o.list;if(r.length!==0){var s=o.localTransform;a?(s.loadIdentity(),s.multiply(a),s.translate(o.x,o.y),s.rotate(o.rotation),s.scale(o.scaleX,o.scaleY)):s.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var t=o.blendMode!==-1;t||e.setBlendMode(0);var n=o._alpha,h=o.scrollFactorX,i=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(e,null,p);for(var l=0;l<r.length;l++){var u=r[l];if(u.willRender(p)){var d=u.alpha,f=u.scrollFactorX,v=u.scrollFactorY;!t&&u.blendMode!==e.currentBlendMode&&e.setBlendMode(u.blendMode),u.setScrollFactor(f*h,v*i),u.setAlpha(d*n),u.renderCanvas(e,u,p,s),u.setAlpha(d),u.setScrollFactor(f,v)}}o.mask&&o.mask.postRenderCanvas(e)}};c.exports=x},77143:(c,x,e)=>{var o=e(25305),p=e(31559),a=e(44603),r=e(23568),s=e(95540);a.register("container",function(t,n){t===void 0&&(t={});var h=r(t,"x",0),i=r(t,"y",0),l=s(t,"children",null),u=new p(this.scene,h,i,l);return n!==void 0&&(t.add=n),o(this.scene,u,t),u})},24961:(c,x,e)=>{var o=e(31559),p=e(39429);p.register("container",function(a,r,s){return this.displayList.add(new o(this.scene,a,r,s))})},29959:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(72249),a=e(53584),c.exports={renderWebGL:p,renderCanvas:a}},72249:c=>{var x=function(e,o,p,a){p.addToRenderList(o);var r=o.list,s=r.length;if(s!==0){var t=o.localTransform;a?(t.loadIdentity(),t.multiply(a),t.translate(o.x,o.y),t.rotate(o.rotation),t.scale(o.scaleX,o.scaleY)):t.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),e.pipelines.preBatch(o);var n=o.blendMode!==-1;n||e.setBlendMode(0);for(var h=o.alpha,i=o.scrollFactorX,l=o.scrollFactorY,u=0;u<s;u++){var d=r[u];if(d.willRender(p)){var f,v,m,g;if(d.alphaTopLeft!==void 0)f=d.alphaTopLeft,v=d.alphaTopRight,m=d.alphaBottomLeft,g=d.alphaBottomRight;else{var y=d.alpha;f=y,v=y,m=y,g=y}var T=d.scrollFactorX,C=d.scrollFactorY;!n&&d.blendMode!==e.currentBlendMode&&e.setBlendMode(d.blendMode);var E=d.mask;E&&E.preRenderWebGL(e,d,p);var z=d.type;z!==e.currentType&&(e.newType=!0,e.currentType=z),e.nextTypeMatch=u<s-1?r[u+1].type===e.currentType:!1,d.setScrollFactor(T*i,C*l),d.setAlpha(f*h,v*h,m*h,g*h),d.renderWebGL(e,d,p,t,o),d.setAlpha(f,v,m,g),d.setScrollFactor(T,C),E&&E.postRenderWebGL(e,p),e.newType=!1}}e.pipelines.postBatch(o)}};c.exports=x},47407:c=>{c.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(441),r=e(95643),s=e(41212),t=e(35846),n=e(44594),h=e(61369),i=new o({Extends:r,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,a],initialize:function(u,d,f,v,m,g){r.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,f),typeof v=="string"?v[0]==="#"?this.setElement(v.substr(1),m,g):this.createElement(v,m,g):v&&this.setElement(v,m,g),u.sys.events.on(n.SLEEP,this.handleSceneEvent,this),u.sys.events.on(n.WAKE,this.handleSceneEvent,this),u.sys.events.on(n.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(l){var u=this.node,d=u.style;u&&(d.display=l.settings.visible?"block":"none")},setSkew:function(l,u){return l===void 0&&(l=0),u===void 0&&(u=l),this.skewX=l,this.skewY=u,this},setPerspective:function(l){return this.parent.style.perspective=l+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(l){this.parent.style.perspective=l+"px"}},addListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.addEventListener(l[u],this.handler,!1)}return this},removeListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.removeEventListener(l[u],this.handler)}return this},dispatchNativeEvent:function(l){this.emit(l.type,l)},createElement:function(l,u,d){return this.setElement(document.createElement(l),u,d)},setElement:function(l,u,d){this.removeElement();var f;if(typeof l=="string"?(l[0]==="#"&&(l=l.substr(1)),f=document.getElementById(l)):typeof l=="object"&&l.nodeType===1&&(f=l),!f)return this;if(this.node=f,u&&s(u))for(var v in u)f.style[v]=u[v];else typeof u=="string"&&(f.style=u);return f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),d&&(f.innerText=d),this.updateSize()},createFromCache:function(l,u){var d=this.cache.get(l);return d&&this.createFromHTML(d,u),this},createFromHTML:function(l,u){u===void 0&&(u="div"),this.removeElement();var d=document.createElement(u);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=l,this.updateSize()},removeElement:function(){return this.node&&(t(this.node),this.node=null),this},updateSize:function(){var l=this.node,u=l.getBoundingClientRect();return this.width=l.clientWidth,this.height=l.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(l,u){if(this.node){for(var d=this.node.querySelectorAll("*"),f=0;f<d.length;f++)if(d[f][l]===u)return d[f]}return null},getChildByID:function(l){return this.getChildByProperty("id",l)},getChildByName:function(l){return this.getChildByProperty("name",l)},setClassName:function(l){return this.node&&(this.node.className=l,this.updateSize()),this},setText:function(l){return this.node&&(this.node.innerText=l,this.updateSize()),this},setHTML:function(l){return this.node&&(this.node.innerHTML=l,this.updateSize()),this},preRender:function(){var l=this.parentContainer,u=this.node;u&&l&&!l.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(n.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(n.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(n.PRE_RENDER,this.preRender,this)}});c.exports=i},49381:(c,x,e)=>{var o=e(47407),p=e(95643),a=e(61340),r=new a,s=new a,t=new a,n=function(h,i,l,u){if(i.node){var d=i.node.style,f=i.scene.sys.settings;if(!d||!f.visible||p.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&l.id||i.parentContainer&&!i.parentContainer.willRender()){d.display="none";return}var v=i.parentContainer,m=l.alpha*i.alpha;v&&(m*=v.alpha);var g=r,y=s,T=t,C=0,E=0,z="0%",D="0%";u?(C=i.width*i.scaleX*i.originX,E=i.height*i.scaleY*i.originY,y.applyITRS(i.x-C,i.y-E,i.rotation,i.scaleX,i.scaleY),g.copyFrom(l.matrix),g.multiplyWithOffset(u,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),y.e=i.x-C,y.f=i.y-E,g.multiply(y,T)):(C=i.width*i.originX,E=i.height*i.originY,y.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),g.copyFrom(l.matrix),z=100*i.originX+"%",D=100*i.originY+"%",y.e-=l.scrollX*i.scrollFactorX,y.f-=l.scrollY*i.scrollFactorY,g.multiply(y,T),T.e-=C,T.f-=E),i.transformOnly||(d.display="block",d.opacity=m,d.zIndex=i._depth,d.pointerEvents=i.pointerEvents,d.mixBlendMode=o[i._blendMode]),d.transform=T.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",d.transformOrigin=z+" "+D}};c.exports=n},2611:(c,x,e)=>{var o=e(3069),p=e(39429);p.register("dom",function(a,r,s,t,n){var h=new o(this.scene,a,r,s,t,n);return this.displayList.add(h),h})},441:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(49381),a=e(49381),c.exports={renderWebGL:p,renderCanvas:a}},62980:c=>{c.exports="addedtoscene"},41337:c=>{c.exports="destroy"},44947:c=>{c.exports="removedfromscene"},49358:c=>{c.exports="complete"},35163:c=>{c.exports="created"},97249:c=>{c.exports="error"},19483:c=>{c.exports="locked"},56059:c=>{c.exports="loop"},26772:c=>{c.exports="metadata"},64437:c=>{c.exports="playing"},83411:c=>{c.exports="play"},75780:c=>{c.exports="seeked"},67799:c=>{c.exports="seeking"},63500:c=>{c.exports="stalled"},55541:c=>{c.exports="stop"},53208:c=>{c.exports="textureready"},4992:c=>{c.exports="unlocked"},12:c=>{c.exports="unsupported"},51708:(c,x,e)=>{c.exports={ADDED_TO_SCENE:e(62980),DESTROY:e(41337),REMOVED_FROM_SCENE:e(44947),VIDEO_COMPLETE:e(49358),VIDEO_CREATED:e(35163),VIDEO_ERROR:e(97249),VIDEO_LOCKED:e(19483),VIDEO_LOOP:e(56059),VIDEO_METADATA:e(26772),VIDEO_PLAY:e(83411),VIDEO_PLAYING:e(64437),VIDEO_SEEKED:e(75780),VIDEO_SEEKING:e(67799),VIDEO_STALLED:e(63500),VIDEO_STOP:e(55541),VIDEO_TEXTURE:e(53208),VIDEO_UNLOCKED:e(4992),VIDEO_UNSUPPORTED:e(12)}},42421:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(95643),r=e(64993),s=new o({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,r],initialize:function(n){a.call(this,n,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});c.exports=s},70217:()=>{},56315:(c,x,e)=>{var o=e(42421),p=e(39429);p.register("extern",function(){var a=new o(this.scene);return this.displayList.add(a),a})},64993:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(80287),a=e(70217),c.exports={renderWebGL:p,renderCanvas:a}},80287:(c,x,e)=>{var o=e(91296),p=function(a,r,s,t){a.pipelines.clear();var n=o(r,s,t).calc;r.render.call(r,a,s,n),a.pipelines.rebind()};c.exports=p},85592:c=>{c.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(c,x,e)=>{var o=e(71911),p=e(83419),a=e(85592),r=e(31401),s=e(8497),t=e(95643),n=e(95540),h=e(35154),i=e(36383),l=e(84503),u=new p({Extends:t,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,l],initialize:function(f,v){var m=h(v,"x",0),g=h(v,"y",0);t.call(this,f,"Graphics"),this.setPosition(m,g),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(v)},setDefaultStyles:function(d){return h(d,"lineStyle",null)&&(this.defaultStrokeWidth=h(d,"lineStyle.width",1),this.defaultStrokeColor=h(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(d,"fillStyle",null)&&(this.defaultFillColor=h(d,"fillStyle.color",16777215),this.defaultFillAlpha=h(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,f,v){return v===void 0&&(v=1),this.commandBuffer.push(a.LINE_STYLE,d,f,v),this._lineWidth=d,this},fillStyle:function(d,f){return f===void 0&&(f=1),this.commandBuffer.push(a.FILL_STYLE,d,f),this},fillGradientStyle:function(d,f,v,m,g,y,T,C){return g===void 0&&(g=1),y===void 0&&(y=g),T===void 0&&(T=g),C===void 0&&(C=g),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,g,y,T,C,d,f,v,m),this},lineGradientStyle:function(d,f,v,m,g,y){return y===void 0&&(y=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,d,y,f,v,m,g),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,f,v){return this.beginPath(),this.arc(d,f,v,0,i.PI2),this.fillPath(),this},strokeCircle:function(d,f,v){return this.beginPath(),this.arc(d,f,v,0,i.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,f,v,m){return this.commandBuffer.push(a.FILL_RECT,d,f,v,m),this},strokeRect:function(d,f,v,m){var g=this._lineWidth/2,y=d-g,T=d+g;return this.beginPath(),this.moveTo(d,f),this.lineTo(d,f+m),this.strokePath(),this.beginPath(),this.moveTo(d+v,f),this.lineTo(d+v,f+m),this.strokePath(),this.beginPath(),this.moveTo(y,f),this.lineTo(T+v,f),this.strokePath(),this.beginPath(),this.moveTo(y,f+m),this.lineTo(T+v,f+m),this.strokePath(),this},fillRoundedRect:function(d,f,v,m,g){g===void 0&&(g=20);var y=g,T=g,C=g,E=g;typeof g!="number"&&(y=n(g,"tl",20),T=n(g,"tr",20),C=n(g,"bl",20),E=n(g,"br",20));var z=y>=0,D=T>=0,A=C>=0,L=E>=0;return y=Math.abs(y),T=Math.abs(T),C=Math.abs(C),E=Math.abs(E),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+v-T,f),D?this.arc(d+v-T,f+T,T,-i.TAU,0):this.arc(d+v,f,T,Math.PI,i.TAU,!0),this.lineTo(d+v,f+m-E),L?this.arc(d+v-E,f+m-E,E,0,i.TAU):this.arc(d+v,f+m,E,-i.TAU,Math.PI,!0),this.lineTo(d+C,f+m),A?this.arc(d+C,f+m-C,C,i.TAU,Math.PI):this.arc(d,f+m,C,0,-i.TAU,!0),this.lineTo(d,f+y),z?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,f,v,m,g){g===void 0&&(g=20);var y=g,T=g,C=g,E=g,z=Math.min(v,m)/2;typeof g!="number"&&(y=n(g,"tl",20),T=n(g,"tr",20),C=n(g,"bl",20),E=n(g,"br",20));var D=y>=0,A=T>=0,L=C>=0,b=E>=0;return y=Math.min(Math.abs(y),z),T=Math.min(Math.abs(T),z),C=Math.min(Math.abs(C),z),E=Math.min(Math.abs(E),z),this.beginPath(),this.moveTo(d+y,f),this.lineTo(d+v-T,f),this.moveTo(d+v-T,f),A?this.arc(d+v-T,f+T,T,-i.TAU,0):this.arc(d+v,f,T,Math.PI,i.TAU,!0),this.lineTo(d+v,f+m-E),this.moveTo(d+v,f+m-E),b?this.arc(d+v-E,f+m-E,E,0,i.TAU):this.arc(d+v,f+m,E,-i.TAU,Math.PI,!0),this.lineTo(d+C,f+m),this.moveTo(d+C,f+m),L?this.arc(d+C,f+m-C,C,i.TAU,Math.PI):this.arc(d,f+m,C,0,-i.TAU,!0),this.lineTo(d,f+y),this.moveTo(d,f+y),D?this.arc(d+y,f+y,y,-Math.PI,-i.TAU):this.arc(d,f,y,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,f){return this.fillPoint(d.x,d.y,f)},fillPoint:function(d,f,v){return!v||v<1?v=1:(d-=v/2,f-=v/2),this.commandBuffer.push(a.FILL_RECT,d,f,v,v),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,f,v,m,g,y){return this.commandBuffer.push(a.FILL_TRIANGLE,d,f,v,m,g,y),this},strokeTriangle:function(d,f,v,m,g,y){return this.commandBuffer.push(a.STROKE_TRIANGLE,d,f,v,m,g,y),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,f,v,m){return this.beginPath(),this.moveTo(d,f),this.lineTo(v,m),this.strokePath(),this},lineTo:function(d,f){return this.commandBuffer.push(a.LINE_TO,d,f),this},moveTo:function(d,f){return this.commandBuffer.push(a.MOVE_TO,d,f),this},strokePoints:function(d,f,v,m){f===void 0&&(f=!1),v===void 0&&(v=!1),m===void 0&&(m=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var g=1;g<m;g++)this.lineTo(d[g].x,d[g].y);return f&&this.lineTo(d[0].x,d[0].y),v&&this.closePath(),this.strokePath(),this},fillPoints:function(d,f,v,m){f===void 0&&(f=!1),v===void 0&&(v=!1),m===void 0&&(m=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var g=1;g<m;g++)this.lineTo(d[g].x,d[g].y);return f&&this.lineTo(d[0].x,d[0].y),v&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,f){f===void 0&&(f=32);var v=d.getPoints(f);return this.strokePoints(v,!0)},strokeEllipse:function(d,f,v,m,g){g===void 0&&(g=32);var y=new s(d,f,v,m),T=y.getPoints(g);return this.strokePoints(T,!0)},fillEllipseShape:function(d,f){f===void 0&&(f=32);var v=d.getPoints(f);return this.fillPoints(v,!0)},fillEllipse:function(d,f,v,m,g){g===void 0&&(g=32);var y=new s(d,f,v,m),T=y.getPoints(g);return this.fillPoints(T,!0)},arc:function(d,f,v,m,g,y,T){return y===void 0&&(y=!1),T===void 0&&(T=0),this.commandBuffer.push(a.ARC,d,f,v,m,g,y,T),this},slice:function(d,f,v,m,g,y,T){return y===void 0&&(y=!1),T===void 0&&(T=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,d,f),this.commandBuffer.push(a.ARC,d,f,v,m,g,y,T),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(d,f){return this.commandBuffer.push(a.TRANSLATE,d,f),this},scaleCanvas:function(d,f){return this.commandBuffer.push(a.SCALE,d,f),this},rotateCanvas:function(d){return this.commandBuffer.push(a.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,f,v){var m=this.scene.sys,g=m.game.renderer;f===void 0&&(f=m.scale.width),v===void 0&&(v=m.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,f,v),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var y,T,C={willReadFrequently:!0};if(typeof d=="string")if(m.textures.exists(d)){y=m.textures.get(d);var E=y.getSourceImage();E instanceof HTMLCanvasElement&&(T=E.getContext("2d",C))}else y=m.textures.createCanvas(d,f,v),T=y.getSourceImage().getContext("2d",C);else d instanceof HTMLCanvasElement&&(T=d.getContext("2d",C));return T&&(this.renderCanvas(g,this,u.TargetCamera,null,T,!1),y&&y.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new o,c.exports=u},32768:(c,x,e)=>{var o=e(85592),p=e(20926),a=function(r,s,t,n,h,i){var l=s.commandBuffer,u=l.length,d=h||r.currentContext;if(!(u===0||!p(r,d,s,t,n))){t.addToRenderList(s);var f=1,v=1,m=0,g=0,y=1,T=0,C=0,E=0;d.beginPath();for(var z=0;z<u;++z){var D=l[z];switch(D){case o.ARC:d.arc(l[z+1],l[z+2],l[z+3],l[z+4],l[z+5],l[z+6]),z+=7;break;case o.LINE_STYLE:y=l[z+1],m=l[z+2],f=l[z+3],T=(m&16711680)>>>16,C=(m&65280)>>>8,E=m&255,d.strokeStyle="rgba("+T+","+C+","+E+","+f+")",d.lineWidth=y,z+=3;break;case o.FILL_STYLE:g=l[z+1],v=l[z+2],T=(g&16711680)>>>16,C=(g&65280)>>>8,E=g&255,d.fillStyle="rgba("+T+","+C+","+E+","+v+")",z+=2;break;case o.BEGIN_PATH:d.beginPath();break;case o.CLOSE_PATH:d.closePath();break;case o.FILL_PATH:i||d.fill();break;case o.STROKE_PATH:i||d.stroke();break;case o.FILL_RECT:i?d.rect(l[z+1],l[z+2],l[z+3],l[z+4]):d.fillRect(l[z+1],l[z+2],l[z+3],l[z+4]),z+=4;break;case o.FILL_TRIANGLE:d.beginPath(),d.moveTo(l[z+1],l[z+2]),d.lineTo(l[z+3],l[z+4]),d.lineTo(l[z+5],l[z+6]),d.closePath(),i||d.fill(),z+=6;break;case o.STROKE_TRIANGLE:d.beginPath(),d.moveTo(l[z+1],l[z+2]),d.lineTo(l[z+3],l[z+4]),d.lineTo(l[z+5],l[z+6]),d.closePath(),i||d.stroke(),z+=6;break;case o.LINE_TO:d.lineTo(l[z+1],l[z+2]),z+=2;break;case o.MOVE_TO:d.moveTo(l[z+1],l[z+2]),z+=2;break;case o.LINE_FX_TO:d.lineTo(l[z+1],l[z+2]),z+=5;break;case o.MOVE_FX_TO:d.moveTo(l[z+1],l[z+2]),z+=5;break;case o.SAVE:d.save();break;case o.RESTORE:d.restore();break;case o.TRANSLATE:d.translate(l[z+1],l[z+2]),z+=2;break;case o.SCALE:d.scale(l[z+1],l[z+2]),z+=2;break;case o.ROTATE:d.rotate(l[z+1]),z+=1;break;case o.GRADIENT_FILL_STYLE:z+=5;break;case o.GRADIENT_LINE_STYLE:z+=6;break}}d.restore()}};c.exports=a},87079:(c,x,e)=>{var o=e(44603),p=e(43831);o.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var s=new p(this.scene,a);return a.add&&this.scene.sys.displayList.add(s),s})},1201:(c,x,e)=>{var o=e(43831),p=e(39429);p.register("graphics",function(a){return this.displayList.add(new o(this.scene,a))})},84503:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(77545),a=e(32768),a=e(32768),c.exports={renderWebGL:p,renderCanvas:a}},77545:(c,x,e)=>{var o=e(85592),p=e(91296),a=e(61340),r=e(70554),s=function(l,u,d){this.x=l,this.y=u,this.width=d},t=function(l,u,d){this.points=[],this.pointsLength=1,this.points[0]=new s(l,u,d)},n=[],h=new a,i=function(l,u,d,f){if(u.commandBuffer.length!==0){d.addToRenderList(u);var v=l.pipelines.set(u.pipeline,u);l.pipelines.preBatch(u);for(var m=p(u,d,f).calc,g=h.loadIdentity(),y=u.commandBuffer,T=d.alpha*u.alpha,C=1,E=v.fillTint,z=v.strokeTint,D=0,A=0,L=0,b=.01,F=Math.PI*2,V,B=[],N=0,U=!0,I=null,H=r.getTintAppendFloatAlpha,O=0;O<y.length;O++)switch(V=y[O],V){case o.BEGIN_PATH:{B.length=0,I=null,U=!0;break}case o.CLOSE_PATH:{U=!1,I&&I.points.length&&I.points.push(I.points[0]);break}case o.FILL_PATH:{for(N=0;N<B.length;N++)v.batchFillPath(B[N].points,g,m);break}case o.STROKE_PATH:{for(N=0;N<B.length;N++)v.batchStrokePath(B[N].points,C,U,g,m);break}case o.LINE_STYLE:{C=y[++O];var R=y[++O],Y=y[++O]*T,G=H(R,Y);z.TL=G,z.TR=G,z.BL=G,z.BR=G;break}case o.FILL_STYLE:{var k=y[++O],W=y[++O]*T,X=H(k,W);E.TL=X,E.TR=X,E.BL=X,E.BR=X;break}case o.GRADIENT_FILL_STYLE:{var j=y[++O]*T,K=y[++O]*T,$=y[++O]*T,Z=y[++O]*T;E.TL=H(y[++O],j),E.TR=H(y[++O],K),E.BL=H(y[++O],$),E.BR=H(y[++O],Z);break}case o.GRADIENT_LINE_STYLE:{C=y[++O];var J=y[++O]*T;z.TL=H(y[++O],J),z.TR=H(y[++O],J),z.BL=H(y[++O],J),z.BR=H(y[++O],J);break}case o.ARC:{var Q=0,_=y[++O],ae=y[++O],oe=y[++O],le=y[++O],q=y[++O],ie=y[++O],ne=y[++O];for(q-=le,ie?q<-F?q=-F:q>0&&(q=-F+q%F):q>F?q=F:q<0&&(q=F+q%F),I===null&&(I=new t(_+Math.cos(le)*oe,ae+Math.sin(le)*oe,C),B.push(I),Q+=b);Q<1+ne;)L=q*Q+le,D=_+Math.cos(L)*oe,A=ae+Math.sin(L)*oe,I.points.push(new s(D,A,C)),Q+=b;L=q+le,D=_+Math.cos(L)*oe,A=ae+Math.sin(L)*oe,I.points.push(new s(D,A,C));break}case o.FILL_RECT:{v.batchFillRect(y[++O],y[++O],y[++O],y[++O],g,m);break}case o.FILL_TRIANGLE:{v.batchFillTriangle(y[++O],y[++O],y[++O],y[++O],y[++O],y[++O],g,m);break}case o.STROKE_TRIANGLE:{v.batchStrokeTriangle(y[++O],y[++O],y[++O],y[++O],y[++O],y[++O],C,g,m);break}case o.LINE_TO:{I!==null?I.points.push(new s(y[++O],y[++O],C)):(I=new t(y[++O],y[++O],C),B.push(I));break}case o.MOVE_TO:{I=new t(y[++O],y[++O],C),B.push(I);break}case o.SAVE:{n.push(g.copyToArray());break}case o.RESTORE:{g.copyFromArray(n.pop());break}case o.TRANSLATE:{_=y[++O],ae=y[++O],g.translate(_,ae);break}case o.SCALE:{_=y[++O],ae=y[++O],g.scale(_,ae);break}case o.ROTATE:{g.rotate(y[++O]);break}}l.pipelines.postBatch(u)}};c.exports=i},26479:(c,x,e)=>{var o=e(61061),p=e(83419),a=e(51708),r=e(50792),s=e(46710),t=e(95540),n=e(35154),h=e(97022),i=e(41212),l=e(88492),u=e(35072),d=e(68287),f=new p({Extends:r,initialize:function(m,g,y){r.call(this),y?g&&!Array.isArray(g)&&(g=[g]):Array.isArray(g)?i(g[0])&&(y=g,g=null):i(g)&&(y=g,g=null),this.scene=m,this.children=new u,this.isParent=!0,this.type="Group",this.classType=t(y,"classType",d),this.name=t(y,"name",""),this.active=t(y,"active",!0),this.maxSize=t(y,"maxSize",-1),this.defaultKey=t(y,"defaultKey",null),this.defaultFrame=t(y,"defaultFrame",null),this.runChildUpdate=t(y,"runChildUpdate",!1),this.createCallback=t(y,"createCallback",null),this.removeCallback=t(y,"removeCallback",null),this.createMultipleCallback=t(y,"createMultipleCallback",null),this.internalCreateCallback=t(y,"internalCreateCallback",null),this.internalRemoveCallback=t(y,"internalRemoveCallback",null),g&&this.addMultiple(g),y&&this.createMultiple(y),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(v,m,g,y,T,C){if(v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=this.defaultKey),y===void 0&&(y=this.defaultFrame),T===void 0&&(T=!0),C===void 0&&(C=!0),this.isFull())return null;var E=new this.classType(this.scene,v,m,g,y);return E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList(),E.visible=T,E.setActive(C),this.add(E),E},createMultiple:function(v){if(this.isFull())return[];Array.isArray(v)||(v=[v]);var m=[];if(v[0].key)for(var g=0;g<v.length;g++){var y=this.createFromConfig(v[g]);m=m.concat(y)}return m},createFromConfig:function(v){if(this.isFull())return[];this.classType=t(v,"classType",this.classType);var m=t(v,"key",void 0),g=t(v,"frame",null),y=t(v,"visible",!0),T=t(v,"active",!0),C=[];if(m===void 0)return C;Array.isArray(m)||(m=[m]),Array.isArray(g)||(g=[g]);var E=t(v,"repeat",0),z=t(v,"randomKey",!1),D=t(v,"randomFrame",!1),A=t(v,"yoyo",!1),L=t(v,"quantity",!1),b=t(v,"frameQuantity",1),F=t(v,"max",0),V=l(m,g,{max:F,qty:L||b,random:z,randomB:D,repeat:E,yoyo:A});v.createCallback&&(this.createCallback=v.createCallback),v.removeCallback&&(this.removeCallback=v.removeCallback),v.internalCreateCallback&&(this.internalCreateCallback=v.internalCreateCallback),v.internalRemoveCallback&&(this.internalRemoveCallback=v.internalRemoveCallback);for(var B=0;B<V.length;B++){var N=this.create(0,0,V[B].a,V[B].b,y,T);if(!N)break;C.push(N)}if(h(v,"setXY")){var U=n(v,"setXY.x",0),I=n(v,"setXY.y",0),H=n(v,"setXY.stepX",0),O=n(v,"setXY.stepY",0);o.SetXY(C,U,I,H,O)}if(h(v,"setRotation")){var R=n(v,"setRotation.value",0),Y=n(v,"setRotation.step",0);o.SetRotation(C,R,Y)}if(h(v,"setScale")){var G=n(v,"setScale.x",1),k=n(v,"setScale.y",G),W=n(v,"setScale.stepX",0),X=n(v,"setScale.stepY",0);o.SetScale(C,G,k,W,X)}if(h(v,"setOrigin")){var j=n(v,"setOrigin.x",.5),K=n(v,"setOrigin.y",j),$=n(v,"setOrigin.stepX",0),Z=n(v,"setOrigin.stepY",0);o.SetOrigin(C,j,K,$,Z)}if(h(v,"setAlpha")){var J=n(v,"setAlpha.value",1),Q=n(v,"setAlpha.step",0);o.SetAlpha(C,J,Q)}if(h(v,"setDepth")){var _=n(v,"setDepth.value",0),ae=n(v,"setDepth.step",0);o.SetDepth(C,_,ae)}if(h(v,"setScrollFactor")){var oe=n(v,"setScrollFactor.x",1),le=n(v,"setScrollFactor.y",oe),q=n(v,"setScrollFactor.stepX",0),ie=n(v,"setScrollFactor.stepY",0);o.SetScrollFactor(C,oe,le,q,ie)}var ne=t(v,"hitArea",null),fe=t(v,"hitAreaCallback",null);ne&&o.SetHitArea(C,ne,fe);var Te=t(v,"gridAlign",!1);return Te&&o.GridAlign(C,Te),this.createMultipleCallback&&this.createMultipleCallback.call(this,C),C},preUpdate:function(v,m){if(!(!this.runChildUpdate||this.children.size===0))for(var g=this.children.entries.slice(),y=0;y<g.length;y++){var T=g[y];T.active&&T.update(v,m)}},add:function(v,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(v),this.internalCreateCallback&&this.internalCreateCallback.call(this,v),this.createCallback&&this.createCallback.call(this,v),m&&(v.addToDisplayList(this.scene.sys.displayList),v.addToUpdateList()),v.on(a.DESTROY,this.remove,this),this)},addMultiple:function(v,m){if(m===void 0&&(m=!1),Array.isArray(v))for(var g=0;g<v.length;g++)this.add(v[g],m);return this},remove:function(v,m,g){return m===void 0&&(m=!1),g===void 0&&(g=!1),this.children.contains(v)?(this.children.delete(v),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,v),this.removeCallback&&this.removeCallback.call(this,v),v.off(a.DESTROY,this.remove,this),g?v.destroy():m&&(v.removeFromDisplayList(),v.removeFromUpdateList()),this):this},clear:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1);for(var g=this.children,y=0;y<g.size;y++){var T=g.entries[y];T.off(a.DESTROY,this.remove,this),m?T.destroy():v&&(T.removeFromDisplayList(),T.removeFromUpdateList())}return this.children.clear(),this},contains:function(v){return this.children.contains(v)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(v,m,g,y){return s(this.children.entries,v,m,g,y)},getFirst:function(v,m,g,y,T,C,E){return this.getHandler(!0,1,v,m,g,y,T,C,E)},getFirstNth:function(v,m,g,y,T,C,E,z){return this.getHandler(!0,v,m,g,y,T,C,E,z)},getLast:function(v,m,g,y,T,C,E){return this.getHandler(!1,1,v,m,g,y,T,C,E)},getLastNth:function(v,m,g,y,T,C,E,z){return this.getHandler(!1,v,m,g,y,T,C,E,z)},getHandler:function(v,m,g,y,T,C,E,z,D){g===void 0&&(g=!1),y===void 0&&(y=!1);var A,L,b=0,F=this.children.entries;if(v)for(L=0;L<F.length;L++)if(A=F[L],A.active===g){if(b++,b===m)break}else A=null;else for(L=F.length-1;L>=0;L--)if(A=F[L],A.active===g){if(b++,b===m)break}else A=null;return A?(typeof T=="number"&&(A.x=T),typeof C=="number"&&(A.y=C),A):y?this.create(T,C,E,z,D):null},get:function(v,m,g,y,T){return this.getFirst(!1,!0,v,m,g,y,T)},getFirstAlive:function(v,m,g,y,T,C){return this.getFirst(!0,v,m,g,y,T,C)},getFirstDead:function(v,m,g,y,T,C){return this.getFirst(!1,v,m,g,y,T,C)},playAnimation:function(v,m){return o.PlayAnimation(this.children.entries,v,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(v){v===void 0&&(v=!0);for(var m=0,g=0;g<this.children.size;g++)this.children.entries[g].active===v&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var v=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-v},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},propertyValueSet:function(v,m,g,y,T){return o.PropertyValueSet(this.children.entries,v,m,g,y,T),this},propertyValueInc:function(v,m,g,y,T){return o.PropertyValueInc(this.children.entries,v,m,g,y,T),this},setX:function(v,m){return o.SetX(this.children.entries,v,m),this},setY:function(v,m){return o.SetY(this.children.entries,v,m),this},setXY:function(v,m,g,y){return o.SetXY(this.children.entries,v,m,g,y),this},incX:function(v,m){return o.IncX(this.children.entries,v,m),this},incY:function(v,m){return o.IncY(this.children.entries,v,m),this},incXY:function(v,m,g,y){return o.IncXY(this.children.entries,v,m,g,y),this},shiftPosition:function(v,m,g){return o.ShiftPosition(this.children.entries,v,m,g),this},angle:function(v,m){return o.Angle(this.children.entries,v,m),this},rotate:function(v,m){return o.Rotate(this.children.entries,v,m),this},rotateAround:function(v,m){return o.RotateAround(this.children.entries,v,m),this},rotateAroundDistance:function(v,m,g){return o.RotateAroundDistance(this.children.entries,v,m,g),this},setAlpha:function(v,m){return o.SetAlpha(this.children.entries,v,m),this},setTint:function(v,m,g,y){return o.SetTint(this.children.entries,v,m,g,y),this},setOrigin:function(v,m,g,y){return o.SetOrigin(this.children.entries,v,m,g,y),this},scaleX:function(v,m){return o.ScaleX(this.children.entries,v,m),this},scaleY:function(v,m){return o.ScaleY(this.children.entries,v,m),this},scaleXY:function(v,m,g,y){return o.ScaleXY(this.children.entries,v,m,g,y),this},setDepth:function(v,m){return o.SetDepth(this.children.entries,v,m),this},setBlendMode:function(v){return o.SetBlendMode(this.children.entries,v),this},setHitArea:function(v,m){return o.SetHitArea(this.children.entries,v,m),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(v){this.children.contains(v)&&v.setActive(!1)},killAndHide:function(v){this.children.contains(v)&&(v.setActive(!1),v.setVisible(!1))},setVisible:function(v,m,g){return o.SetVisible(this.children.entries,v,m,g),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(v,m){v===void 0&&(v=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,v),this.scene=void 0,this.children=void 0)}});c.exports=f},94975:(c,x,e)=>{var o=e(44603),p=e(26479);o.register("group",function(a){return new p(this.scene,null,a)})},3385:(c,x,e)=>{var o=e(26479),p=e(39429);p.register("group",function(a,r){return this.updateList.add(new o(this.scene,a,r))})},88571:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(95643),r=e(59819),s=new o({Extends:a,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,r],initialize:function(n,h,i,l,u){a.call(this,n,"Image"),this._crop=this.resetCropObject(),this.setTexture(l,u),this.setPosition(h,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=s},40652:c=>{var x=function(e,o,p,a){p.addToRenderList(o),e.batchSprite(o,o.frame,p,a)};c.exports=x},82459:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(88571);p.register("image",function(s,t){s===void 0&&(s={});var n=a(s,"key",null),h=a(s,"frame",null),i=new r(this.scene,0,0,n,h);return t!==void 0&&(s.add=t),o(this.scene,i,s),i})},2117:(c,x,e)=>{var o=e(88571),p=e(39429);p.register("image",function(a,r,s,t){return this.displayList.add(new o(this.scene,a,r,s,t))})},59819:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(99517),a=e(40652),c.exports={renderWebGL:p,renderCanvas:a}},99517:c=>{var x=function(e,o,p,a){p.addToRenderList(o),this.pipeline.batchSprite(o,p,a)};c.exports=x},77856:(c,x,e)=>{var o={Events:e(51708),DisplayList:e(8050),GameObjectCreator:e(44603),GameObjectFactory:e(39429),UpdateList:e(45027),Components:e(31401),GetCalcMatrix:e(91296),BuildGameObject:e(25305),BuildGameObjectAnimation:e(13059),GameObject:e(95643),BitmapText:e(22186),Blitter:e(6107),Bob:e(46590),Container:e(31559),DOMElement:e(3069),DynamicBitmapText:e(2638),Extern:e(42421),Graphics:e(43831),Group:e(26479),Image:e(88571),Layer:e(93595),Particles:e(18404),PathFollower:e(1159),RenderTexture:e(591),RetroFont:e(196),Rope:e(77757),Sprite:e(68287),Text:e(50171),GetTextSize:e(14220),MeasureText:e(79557),TextStyle:e(35762),TileSprite:e(20839),Zone:e(41481),Video:e(18471),Shape:e(17803),Arc:e(23629),Curve:e(89),Ellipse:e(19921),Grid:e(30479),IsoBox:e(61475),IsoTriangle:e(16933),Line:e(57847),Polygon:e(24949),Rectangle:e(74561),Star:e(55911),Triangle:e(36931),Factories:{Blitter:e(12709),Container:e(24961),DOMElement:e(2611),DynamicBitmapText:e(72566),Extern:e(56315),Graphics:e(1201),Group:e(3385),Image:e(2117),Layer:e(20005),Particles:e(676),PathFollower:e(90145),RenderTexture:e(60505),Rope:e(96819),Sprite:e(46409),StaticBitmapText:e(34914),Text:e(68005),TileSprite:e(91681),Zone:e(84175),Video:e(89025),Arc:e(42563),Curve:e(40511),Ellipse:e(1543),Grid:e(34137),IsoBox:e(3933),IsoTriangle:e(49803),Line:e(2481),Polygon:e(64827),Rectangle:e(87959),Star:e(93697),Triangle:e(45245)},Creators:{Blitter:e(9403),Container:e(77143),DynamicBitmapText:e(11164),Graphics:e(87079),Group:e(94975),Image:e(82459),Layer:e(25179),Particles:e(92730),RenderTexture:e(34495),Rope:e(26209),Sprite:e(15567),StaticBitmapText:e(57336),Text:e(71259),TileSprite:e(14167),Zone:e(95261),Video:e(11511)}};o.Shader=e(20071),o.Mesh=e(4703),o.NineSlice=e(28103),o.PointLight=e(80321),o.Plane=e(33663),o.Factories.Shader=e(74177),o.Factories.Mesh=e(9225),o.Factories.NineSlice=e(47521),o.Factories.PointLight=e(71255),o.Factories.Plane=e(30985),o.Creators.Shader=e(54935),o.Creators.Mesh=e(20527),o.Creators.NineSlice=e(28279),o.Creators.PointLight=e(39829),o.Creators.Plane=e(56015),o.Light=e(41432),o.LightsManager=e(61356),o.LightsPlugin=e(88992),c.exports=o},93595:(c,x,e)=>{var o=e(10312),p=e(83419),a=e(31401),r=e(53774),s=e(45893),t=e(50792),n=e(51708),h=e(73162),i=e(33963),l=e(44594),u=e(19186),d=new p({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,t,i],initialize:function(v,m){h.call(this,v),t.call(this),this.scene=v,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=v.sys,this.events=v.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),m&&this.add(m),v.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(f,v){return this.data||(this.data=new s(this)),this.data.set(f,v),this},incData:function(f,v){return this.data||(this.data=new s(this)),this.data.inc(f,v),this},toggleData:function(f){return this.data||(this.data=new s(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new s(this)),this.data.get(f)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(f){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,v=this.parentContainer,m=[];v&&(m.unshift(v.getIndex(f)),f=v,v.parentContainer);)v=v.parentContainer;return m.unshift(this.displayList.getIndex(f)),m},addChildCallback:function(f){var v=f.displayList;v&&v!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(n.ADDED_TO_SCENE,f,this.scene),this.events.emit(l.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(n.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,f,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,v){return f._depth-v._depth},getChildren:function(){return this.list},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),f.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(f){if(!(!this.scene||this.ignoreDestroy)){this.emit(n.DESTROY,this);for(var v=this.list;v.length;)v[0].destroy(f);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});c.exports=d},2956:c=>{var x=function(e,o,p){var a=o.list;if(a.length!==0){o.depthSort();var r=o.blendMode!==-1;r||e.setBlendMode(0);var s=o._alpha;o.mask&&o.mask.preRenderCanvas(e,null,p);for(var t=0;t<a.length;t++){var n=a[t];if(n.willRender(p)){var h=n.alpha;!r&&n.blendMode!==e.currentBlendMode&&e.setBlendMode(n.blendMode),n.setAlpha(h*s),n.renderCanvas(e,n,p),n.setAlpha(h)}}o.mask&&o.mask.postRenderCanvas(e)}};c.exports=x},25179:(c,x,e)=>{var o=e(25305),p=e(93595),a=e(44603),r=e(23568);a.register("layer",function(s,t){s===void 0&&(s={});var n=r(s,"children",null),h=new p(this.scene,n);return t!==void 0&&(s.add=t),o(this.scene,h,s),h})},20005:(c,x,e)=>{var o=e(93595),p=e(39429);p.register("layer",function(a){return this.displayList.add(new o(this.scene,a))})},33963:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(15869),a=e(2956),c.exports={renderWebGL:p,renderCanvas:a}},15869:c=>{var x=function(e,o,p){var a=o.list,r=a.length;if(r!==0){o.depthSort(),e.pipelines.preBatch(o);var s=o.blendMode!==-1;s||e.setBlendMode(0);for(var t=o.alpha,n=0;n<r;n++){var h=a[n];if(h.willRender(p)){var i,l,u,d;if(h.alphaTopLeft!==void 0)i=h.alphaTopLeft,l=h.alphaTopRight,u=h.alphaBottomLeft,d=h.alphaBottomRight;else{var f=h.alpha;i=f,l=f,u=f,d=f}!s&&h.blendMode!==e.currentBlendMode&&e.setBlendMode(h.blendMode);var v=h.mask;v&&v.preRenderWebGL(e,h,p);var m=h.type;m!==e.currentType&&(e.newType=!0,e.currentType=m),e.nextTypeMatch=n<r-1?a[n+1].type===e.currentType:!1,h.setAlpha(i*t,l*t,u*t,d*t),h.renderWebGL(e,h,p),h.setAlpha(i,l,u,d),v&&v.postRenderWebGL(e,p),e.newType=!1}}e.pipelines.postBatch(o)}};c.exports=x},41432:(c,x,e)=>{var o=e(96503),p=e(83419),a=e(31401),r=e(51767),s=e(70554),t=new p({Extends:o,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(h,i,l,u,d,f,v){o.call(this,h,i,l),this.color=new r(u,d,f),this.intensity=v,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(l)},displayWidth:{get:function(){return this.diameter},set:function(n){this.diameter=n}},displayHeight:{get:function(){return this.diameter},set:function(n){this.diameter=n}},width:{get:function(){return this.diameter},set:function(n){this.diameter=n}},height:{get:function(){return this.diameter},set:function(n){this.diameter=n}},willRender:function(n){return!(t.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&n.id)},setColor:function(n){var h=s.getFloatsFromUintRGB(n);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(n){return this.intensity=n,this},setRadius:function(n){return this.radius=n,this}});t.RENDER_MASK=15,c.exports=t},61356:(c,x,e)=>{var o=e(81491),p=e(83419),a=e(20339),r=e(41432),s=e(80321),t=e(51767),n=e(19133),h=e(19186),i=e(70554),l=new p({initialize:function(){this.lights=[],this.ambientColor=new t(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,d,f,v,m,g){return this.systems.displayList.add(new s(this.scene,u,d,f,v,m,g))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var d=this.lights,f=u.worldView,v=[],m=0;m<d.length;m++){var g=d[m];g.willRender(u)&&o(g,f)&&v.push({light:g,distance:a(g.x,g.y,f.centerX,f.centerY)})}return v.length>this.maxLights&&(h(v,this.sortByDistance),v=v.slice(0,this.maxLights)),this.visibleLights=v.length,v},sortByDistance:function(u,d){return u.distance>=d.distance},setAmbientColor:function(u){var d=i.getFloatsFromUintRGB(u);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,d,f,v,m){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),v===void 0&&(v=16777215),m===void 0&&(m=1);var g=i.getFloatsFromUintRGB(v),y=new r(u,d,f,g[0],g[1],g[2],m);return this.lights.push(y),y},removeLight:function(u){var d=this.lights.indexOf(u);return d>=0&&n(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});c.exports=l},88992:(c,x,e)=>{var o=e(83419),p=e(61356),a=e(37277),r=e(44594),s=new o({Extends:p,initialize:function(n){this.scene=n,this.systems=n.sys,n.sys.settings.isBooted||n.sys.events.once(r.BOOT,this.boot,this),p.call(this)},boot:function(){var t=this.systems.events;t.on(r.SHUTDOWN,this.shutdown,this),t.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",s,"lights"),c.exports=s},4703:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(39506),r=e(83997),s=e(95643),t=e(34684),n=e(92515),h=e(91296),i=e(37867),l=e(29807),u=e(43396),d=e(19186),f=e(25836),v=e(39318),m=new o({Extends:s,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,l],initialize:function(y,T,C,E,z,D,A,L,b,F,V,B){T===void 0&&(T=0),C===void 0&&(C=0),E===void 0&&(E="__WHITE"),s.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new f,this.modelScale=new f(1,1,1),this.modelRotation=new f,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new f,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var N=y.sys.renderer;this.setPosition(T,C),this.setTexture(E,z),this.setSize(N.width,N.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(N.width,N.height),D&&this.addVertices(D,A,L,b,F,V,B)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(g){return this.viewPosition.addScale(f.LEFT,g),this.dirtyCache[10]=1,this},panY:function(g){return this.viewPosition.y+=f.DOWN.y*g,this.dirtyCache[10]=1,this},panZ:function(g){return this.viewPosition.z+=g,this.dirtyCache[10]=1,this},setPerspective:function(g,y,T,C,E){return T===void 0&&(T=45),C===void 0&&(C=.01),E===void 0&&(E=1e3),this.fov=T,this.projectionMatrix.perspective(a(T),g/y,C,E),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(g,y,T,C){return g===void 0&&(g=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),T===void 0&&(T=-1e3),C===void 0&&(C=1e3),this.fov=0,this.projectionMatrix.ortho(-g,g,-y,y,T,C),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(g){g.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(g,y,T,C,E,z,D,A,L){var b=this.scene.sys.cache.obj.get(g),F;return b&&(F=t(b,this,y,T,C,E,z,D,A,L)),(!F||F.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",g),this},sortByDepth:function(g,y){return g.depth-y.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(g,y,T,C,E,z,D){var A=new v(g,y,T,C,E,z,D);return this.vertices.push(A),A},addFace:function(g,y,T){var C=new r(g,y,T);return this.faces.push(C),this.dirtyCache[9]=-1,C},addVertices:function(g,y,T,C,E,z,D){var A=n(g,y,T,C,E,z,D);return A?(this.faces=this.faces.concat(A.faces),this.vertices=this.vertices.concat(A.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(g){return this.faces[g]},hasFaceAt:function(g,y,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var C=h(this,T).calc,E=this.faces,z=0;z<E.length;z++){var D=E[z];if(D.contains(g,y,C))return!0}return!1},getFaceAt:function(g,y,T){T===void 0&&(T=this.scene.sys.cameras.main);for(var C=h(this,T).calc,E=this.faces,z=[],D=0;D<E.length;D++){var A=E[D];A.contains(g,y,C)&&z.push(A)}return d(z,this.sortByDepth)},setDebug:function(g,y){return this.debugGraphic=g,!g&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var g=this.modelPosition,y=this.modelRotation,T=this.modelScale,C=this.dirtyCache,E=g.x,z=g.y,D=g.z,A=y.x,L=y.y,b=y.z,F=T.x,V=T.y,B=T.z,N=this.getFaceCount(),U=C[0],I=C[1],H=C[2],O=C[3],R=C[4],Y=C[5],G=C[6],k=C[7],W=C[8],X=C[9];return C[0]=E,C[1]=z,C[2]=D,C[3]=A,C[4]=L,C[5]=b,C[6]=F,C[7]=V,C[8]=B,C[9]=N,U!==E||I!==z||H!==D||O!==A||R!==L||Y!==b||G!==F||k!==V||W!==B||X!==N},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var g=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!g[10]&&!this.isDirty())){var y=this.width,T=this.height,C=this.viewMatrix,E=this.viewPosition;g[10]&&(C.identity(),C.translate(E),C.invert(),g[10]=0);var z=this.transformMatrix;z.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var D=E.z,A=this.faces,L=0;L<A.length;L++)A[L].transformCoordinatesLocal(z,y,T,D);this.depthSort()}},renderDebug:function(g,y){for(var T=g.debugGraphic,C=0;C<y.length;C++){var E=y[C],z=E.vertex1.tx,D=E.vertex1.ty,A=E.vertex2.tx,L=E.vertex2.ty,b=E.vertex3.tx,F=E.vertex3.ty;T.strokeTriangle(z,D,A,L,b,F)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(g){g===void 0&&(g={});var y=function(T,C,E){for(var z=this.faces,D=0;D<z.length;D++){var A=z[D];if(A.contains(C,E))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,g,y),this},setTint:function(g){g===void 0&&(g=16777215);for(var y=this.vertices,T=0;T<y.length;T++)y[T].color=g;return this},uvScroll:function(g,y){for(var T=this.faces,C=0;C<T.length;C++)T[C].scrollUV(g,y);return this},uvScale:function(g,y){for(var T=this.faces,C=0;C<T.length;C++)T[C].scaleUV(g,y);return this},tint:{set:function(g){this.setTint(g)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(g){this.modelRotation.x=a(g)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(g){this.modelRotation.y=a(g)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(g){this.modelRotation.z=a(g)}}});c.exports=m},36488:c=>{var x=function(){};c.exports=x},20527:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(35154),s=e(4703);p.register("mesh",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=a(t,"frame",null),l=r(t,"vertices",[]),u=r(t,"uvs",[]),d=r(t,"indicies",[]),f=r(t,"containsZ",!1),v=r(t,"normals",[]),m=r(t,"colors",16777215),g=r(t,"alphas",1),y=new s(this.scene,0,0,h,i,l,u,d,f,v,m,g);return n!==void 0&&(t.add=n),o(this.scene,y,t),y})},9225:(c,x,e)=>{var o=e(4703),p=e(39429);p.register("mesh",function(a,r,s,t,n,h,i,l,u,d,f){return this.displayList.add(new o(this.scene,a,r,s,t,n,h,i,l,u,d,f))})},29807:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(48833),a=e(36488),c.exports={renderWebGL:p,renderCanvas:a}},48833:(c,x,e)=>{var o=e(91296),p=function(a,r,s,t){var n=r.faces,h=n.length;if(h!==0){s.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),l=o(r,s,t).calc;a.pipelines.preBatch(r);for(var u=i.setGameObject(r),d=i.vertexViewF32,f=i.vertexViewU32,v=i.vertexCount*i.currentShader.vertexComponentCount-1,m=r.tintFill,g=[],y=r.debugCallback,T=l.a,C=l.b,E=l.c,z=l.d,D=l.e,A=l.f,L=r.viewPosition.z,b=r.hideCCW,F=s.roundPixels,V=s.alpha*r.alpha,B=0,N=0;N<h;N++){var U=n[N];U.isInView(s,b,L,V,T,C,E,z,D,A,F)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(r),v=i.vertexCount*i.currentShader.vertexComponentCount-1),v=U.load(d,f,v,u,m),B++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,y&&g.push(U))}r.totalFrame+=B,y&&y.call(r,r,g),a.pipelines.postBatch(r)}};c.exports=p},28103:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(95643),r=e(78023),s=e(39318),t=new o({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,r],initialize:function(h,i,l,u,d,f,v,m,g,y,T){a.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var C=h.textures.getFrame(u,d);this.is3Slice=!y&&!T,C&&C.scale9&&(this.is3Slice=C.is3Slice);for(var E=this.is3Slice?18:54,z=0;z<E;z++)this.vertices.push(new s);this.setPosition(i,l),this.setTexture(u,d),this.setSlices(f,v,m,g,y,T,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(n,h,i,l,u,d,f){i===void 0&&(i=10),l===void 0&&(l=10),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=!1);var v=this.frame,m=!1;if(this.is3Slice&&f&&u!==0&&d!==0&&(m=!0),m)console.warn("Cannot change 9 slice to 3 slice");else{if(v&&v.scale9&&!f){var g=v.data.scale9Borders,y=g.x,T=g.y;i=y,l=v.width-g.w-y,u=T,d=v.height-g.h-T,n===void 0&&(n=v.width),h===void 0&&(h=v.height)}else n===void 0&&(n=256),h===void 0&&(h=256);this._width=n,this._height=h,this.leftWidth=i,this.rightWidth=l,this.topHeight=u,this.bottomHeight=d,this.is3Slice&&(h=v.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var n=this.leftWidth,h=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,n/u,i/d),this.updateQuadUVs(6,n/u,0,1-h/u,i/d),this.updateQuadUVs(12,1-h/u,0,1,i/d),this.is3Slice||(this.updateQuadUVs(18,0,i/d,n/u,1-l/d),this.updateQuadUVs(24,n/u,i/d,1-h/u,1-l/d),this.updateQuadUVs(30,1-h/u,i/d,1,1-l/d),this.updateQuadUVs(36,0,1-l/d,n/u,1),this.updateQuadUVs(42,n/u,1-l/d,1-h/u,1),this.updateQuadUVs(48,1-h/u,1-l/d,1,1))},updateVertices:function(){var n=this.leftWidth,h=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+n/u,.5-i/d),this.updateQuad(6,-.5+n/u,.5,.5-h/u,.5-i/d),this.updateQuad(12,.5-h/u,.5,.5,.5-i/d),this.is3Slice||(this.updateQuad(18,-.5,.5-i/d,-.5+n/u,-.5+l/d),this.updateQuad(24,-.5+n/u,.5-i/d,.5-h/u,-.5+l/d),this.updateQuad(30,.5-h/u,.5-i/d,.5,-.5+l/d),this.updateQuad(36,-.5,-.5+l/d,-.5+n/u,-.5),this.updateQuad(42,-.5+n/u,-.5+l/d,.5-h/u,-.5),this.updateQuad(48,.5-h/u,-.5+l/d,.5,-.5))},updateQuad:function(n,h,i,l,u){var d=this.width,f=this.height,v=this.originX,m=this.originY,g=this.vertices;g[n+0].resize(h,i,d,f,v,m),g[n+1].resize(h,u,d,f,v,m),g[n+2].resize(l,i,d,f,v,m),g[n+3].resize(h,u,d,f,v,m),g[n+4].resize(l,u,d,f,v,m),g[n+5].resize(l,i,d,f,v,m)},updateQuadUVs:function(n,h,i,l,u){var d=this.vertices,f=this.frame,v=f.u0,m=f.v0,g=f.u1,y=f.v1;if(v!==0||g!==1){var T=g-v;h=v+h*T,l=v+l*T}if(m!==0||y!==1){var C=y-m;i=m+i*C,u=m+u*C}d[n+0].setUVs(h,i),d[n+1].setUVs(h,u),d[n+2].setUVs(l,i),d[n+3].setUVs(h,u),d[n+4].setUVs(l,u),d[n+5].setUVs(l,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(n){return n===void 0&&(n=16777215),this.tint=n,this.tintFill=!1,this},setTintFill:function(n){return this.setTint(n),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(n){this._width=Math.max(n,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(n){this.is3Slice||(this._height=Math.max(n,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}},setSize:function(n,h){this.width=n,this.height=h,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(n,h){return this.displayWidth=n,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(n){this._originX=n,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(n){this._originY=n,this.updateVertices()}},setOrigin:function(n,h){return n===void 0&&(n=.5),h===void 0&&(h=n),this._originX=n,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var n=this.frame.height;this._height=n,this.topHeight=n,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});c.exports=t},28279:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(35154),s=e(28103);p.register("nineslice",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=a(t,"frame",null),l=r(t,"width",256),u=r(t,"height",256),d=r(t,"leftWidth",10),f=r(t,"rightWidth",10),v=r(t,"topHeight",0),m=r(t,"bottomHeight",0),g=new s(this.scene,0,0,h,i,l,u,d,f,v,m);return n!==void 0&&(t.add=n),o(this.scene,g,t),g})},47521:(c,x,e)=>{var o=e(28103),p=e(39429);p.register("nineslice",function(a,r,s,t,n,h,i,l,u,d){return this.displayList.add(new o(this.scene,a,r,s,t,n,h,i,l,u,d))})},78023:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(52230),c.exports={renderWebGL:p,renderCanvas:a}},52230:(c,x,e)=>{var o=e(91296),p=e(70554),a=function(r,s,t,n){var h=s.vertices,i=h.length;if(i!==0){t.addToRenderList(s);var l=r.pipelines.set(s.pipeline,s),u=o(s,t,n,!1).calc;r.pipelines.preBatch(s);var d=l.setGameObject(s),f=l.vertexViewF32,v=l.vertexViewU32,m=l.vertexCount*l.currentShader.vertexComponentCount-1,g=t.roundPixels,y=s.tintFill,T=t.alpha*s.alpha,C=p.getTintAppendFloatAlpha(s.tint,T),E=l.vertexAvailable(),z=-1;E<i&&(z=E);for(var D=0;D<i;D++){var A=h[D];D===z&&(l.flush(),d=l.setGameObject(s),m=0),f[++m]=u.getXRound(A.vx,A.vy,g),f[++m]=u.getYRound(A.vx,A.vy,g),f[++m]=A.u,f[++m]=A.v,f[++m]=d,f[++m]=y,v[++m]=C,l.vertexCount++,l.currentBatch.count=l.vertexCount-l.currentBatch.start}r.pipelines.postBatch(s)}};c.exports=a},76472:(c,x,e)=>{var o=e(83419),p=e(44777),a=e(37589),r=e(6113),s=e(91389),t=e(90664),n=new o({Extends:p,initialize:function(i){p.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,i=h,l=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=r("Linear"),this.interpolation=s("linear"),l=this.easedValueEmit,u=this.easeValueUpdate,i=h[0],this.active=!0;for(var d=0;d<h.length;d++){var f=t(h[d]);this.r.push(f.r),this.g.push(f.g),this.b.push(f.b)}}return this.onEmit=l,this.onUpdate=u,this.current=i,this},setEase:function(h){this.easeName=h,this.ease=r(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,i,l){var u=this.ease(l),d=this.interpolation(this.r,u),f=this.interpolation(this.g,u),v=this.interpolation(this.b,u),m=a(d,f,v);return this.current=m,m}});c.exports=n},44777:(c,x,e)=>{var o=e(30976),p=e(45319),a=e(83419),r=e(99472),s=e(6113),t=e(95540),n=e(91389),h=e(77720),i=e(15994),l=new a({initialize:function(d,f,v){v===void 0&&(v=!1),this.propertyKey=d,this.propertyValue=f,this.defaultValue=f,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=v,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,d){u===void 0&&(u={}),d&&(this.propertyKey=d),this.propertyValue=t(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var d;switch(this.method){case 1:case 3:case 8:d=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(d=u);break;case 4:var f=(this.end-this.start)/this.steps;d=h(u,f),this.counter=d;break;case 5:case 6:case 7:d=p(u,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var d=typeof u;if(d==="number")return 1;if(Array.isArray(u))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,d=u,f=this.defaultEmit,v=this.defaultUpdate;switch(this.method){case 1:f=this.staticValueEmit;break;case 2:f=this.randomStaticValueEmit,d=u[0];break;case 3:this._onEmit=u,f=this.proxyEmit;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,f=this.steppedEmit,d=this.start;break;case 5:this.start=u.start,this.end=u.end;var m=this.has(u,"ease")?u.ease:"Linear";this.ease=s(m,u.easeParams),f=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,v=this.easeValueUpdate,d=this.start;break;case 6:this.start=u.min,this.end=u.max,f=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var g=u.random;Array.isArray(g)&&(this.start=g[0],this.end=g[1]),f=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,f=this.proxyEmit,v=this.proxyUpdate;break;case 9:this.start=u.values;var y=this.has(u,"ease")?u.ease:"Linear";this.ease=s(y,u.easeParams),this.interpolation=n(u.interpolation),f=this.easedValueEmit,v=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=f,this.onUpdate=v,this.current=d,this},has:function(u,d){return u.hasOwnProperty(d)},hasBoth:function(u,d,f){return u.hasOwnProperty(d)&&u.hasOwnProperty(f)},hasEither:function(u,d,f){return u.hasOwnProperty(d)||u.hasOwnProperty(f)},defaultEmit:function(u,d,f){return f},defaultUpdate:function(u,d,f,v){return v},proxyEmit:function(u,d,f){var v=this._onEmit(u,d,f);return this.current=v,v},proxyUpdate:function(u,d,f,v){var m=this._onUpdate(u,d,f,v);return this.current=m,m},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,d){var f=r(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},randomRangedIntEmit:function(u,d){var f=o(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},steppedEmit:function(){var u=this.counter,d=u,f=(this.end-this.start)/this.steps;if(this.yoyo){var v;this.direction===0?(d+=f,d>=this.end&&(v=d-this.end,d=this.end-v,this.direction=1)):(d-=f,d<=this.start&&(v=this.start-d,d=this.start+v,this.direction=0)),this.counter=d}else this.counter=i(d+f,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,d){if(u&&u.data[d]){var f=u.data[d];f.min=this.start,f.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,d,f){var v=u.data[d],m,g=this.ease(f);return this.interpolation?m=this.interpolation(this.start,g):m=(v.max-v.min)*g+v.min,this.current=m,m},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});c.exports=l},24502:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(20286),r=new o({Extends:a,initialize:function(t,n,h,i,l){if(typeof t=="object"){var u=t;t=p(u,"x",0),n=p(u,"y",0),h=p(u,"power",0),i=p(u,"epsilon",100),l=p(u,"gravity",50)}else t===void 0&&(t=0),n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=100),l===void 0&&(l=50);a.call(this,t,n,!0),this._gravity=l,this._power=h*l,this._epsilon=i*i},update:function(s,t){var n=this.x-s.x,h=this.y-s.y,i=n*n+h*h;if(i!==0){var l=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*t/(i*l)*100;s.velocityX+=n*u,s.velocityY+=h*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(s){this._epsilon=s*s}},power:{get:function(){return this._power/this._gravity},set:function(s){this._power=s*this._gravity}},gravity:{get:function(){return this._gravity},set:function(s){var t=this.power;this._gravity=s,this.power=t}}});c.exports=r},56480:(c,x,e)=>{var o=e(9674),p=e(45319),a=e(83419),r=e(39506),s=e(87841),t=e(11520),n=e(26099),h=new a({initialize:function(l){this.emitter=l,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new n,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=l.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new s},emit:function(i,l,u,d,f,v){return this.emitter.emit(i,l,u,d,f,v)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,l){i===void 0&&(i=0),l===void 0&&(l=0),this.x=i,this.y=l},fire:function(i,l){var u=this.emitter,d=u.ops,f=u.getAnim();if(f?this.anims.play(f):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=i+d.x.onEmit(this,"x"):this.x+=i,l===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=l+d.y.onEmit(this,"y"):this.y+=l,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var v=d.speedX.onEmit(this,"speedX"),m=d.speedY.active?d.speedY.onEmit(this,"speedY"):v;if(u.radial){var g=r(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(g)*Math.abs(v),this.velocityY=Math.sin(g)*Math.abs(m)}else if(u.moveTo){var y=d.moveToX.onEmit(this,"moveToX"),T=d.moveToY.onEmit(this,"moveToY"),C=this.life/1e3;this.velocityX=(y-this.x)/C,this.velocityY=(T-this.y)/C}else this.velocityX=v,this.velocityY=m;return u.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(i,l,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var d=this.emitter,f=d.ops,v=1-this.lifeCurrent/this.life;if(this.lifeT=v,this.x=f.x.onUpdate(this,"x",v,this.x),this.y=f.y.onUpdate(this,"y",v,this.y),d.moveTo){var m=f.moveToX.onUpdate(this,"moveToX",v,d.moveToX),g=f.moveToY.onUpdate(this,"moveToY",v,d.moveToY),y=this.lifeCurrent/1e3;this.velocityX=(m-this.x)/y,this.velocityY=(g-this.y)/y}return this.computeVelocity(d,i,l,u,v),this.scaleX=f.scaleX.onUpdate(this,"scaleX",v,this.scaleX),f.scaleY.active?this.scaleY=f.scaleY.onUpdate(this,"scaleY",v,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",v,this.angle),this.rotation=r(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(f.alpha.onUpdate(this,"alpha",v,this.alpha),0,1),f.color.active?this.tint=f.color.onUpdate(this,"color",v,this.tint):this.tint=f.tint.onUpdate(this,"tint",v,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,l,u,d,f){var v=i.ops,m=this.velocityX,g=this.velocityY,y=v.accelerationX.onUpdate(this,"accelerationX",f,this.accelerationX),T=v.accelerationY.onUpdate(this,"accelerationY",f,this.accelerationY),C=v.maxVelocityX.onUpdate(this,"maxVelocityX",f,this.maxVelocityX),E=v.maxVelocityY.onUpdate(this,"maxVelocityY",f,this.maxVelocityY);this.bounce=v.bounce.onUpdate(this,"bounce",f,this.bounce),m+=i.gravityX*u+y*u,g+=i.gravityY*u+T*u,m=p(m,-C,C),g=p(g,-E,E),this.velocityX=m,this.velocityY=g,this.x+=m*u,this.y+=g*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var z=0;z<d.length;z++){var D=d[z];D.active&&D.update(this,l,u,f)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var l=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,d=this.x,f=this.y,v=this.rotation,m=this.frame.width*l/2,g=this.frame.height*u/2,y=this.bounds,T=new n(d-m,f-g),C=new n(d+m,f-g),E=new n(d-m,f+g),z=new n(d+m,f+g);return v!==0&&(t(T,d,f,v),t(C,d,f,v),t(E,d,f,v),t(z,d,f,v)),i.transformPoint(T.x,T.y,T),i.transformPoint(C.x,C.y,C),i.transformPoint(E.x,E.y,E),i.transformPoint(z.x,z.y,z),y.x=Math.min(T.x,C.x,E.x,z.x),y.y=Math.min(T.y,C.y,E.y,z.y),y.width=Math.max(T.x,C.x,E.x,z.x)-y.x,y.height=Math.max(T.y,C.y,E.y,z.y)-y.y,y},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});c.exports=h},69601:(c,x,e)=>{var o=e(83419),p=e(20286),a=e(87841),r=new o({Extends:p,initialize:function(t,n,h,i,l,u,d,f){l===void 0&&(l=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),p.call(this,t,n,!0),this.bounds=new a(t,n,h,i),this.collideLeft=l,this.collideRight=u,this.collideTop=d,this.collideBottom=f},update:function(s){var t=this.bounds,n=-s.bounce,h=s.worldPosition;h.x<t.x&&this.collideLeft?(s.x+=t.x-h.x,s.velocityX*=n):h.x>t.right&&this.collideRight&&(s.x-=h.x-t.right,s.velocityX*=n),h.y<t.y&&this.collideTop?(s.y+=t.y-h.y,s.velocityY*=n):h.y>t.bottom&&this.collideBottom&&(s.y-=h.y-t.bottom,s.velocityY*=n)}});c.exports=r},31600:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(53774),r=e(43459),s=e(26388),t=e(19909),n=e(76472),h=e(44777),i=e(20696),l=e(95643),u=e(95540),d=e(26546),f=e(24502),v=e(1985),m=e(97022),g=e(86091),y=e(73162),T=e(20074),C=e(269),E=e(56480),z=e(69601),D=e(68875),A=e(87841),L=e(59996),b=e(72905),F=e(90668),V=e(19186),B=e(61340),N=e(26099),U=e(15994),I=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],H=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],O=new o({Extends:l,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,F],initialize:function(Y,G,k,W,X){l.call(this,Y,"ParticleEmitter"),this.particleClass=E,this.config=null,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new n("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new N,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new y(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(G,k),this.setTexture(W),X&&this.setConfig(X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(R){if(!R)return this;this.config=R;var Y=0,G="",k=this.ops;for(Y=0;Y<H.length;Y++)G=H[Y],k[G].loadConfig(R);for(Y=0;Y<I.length;Y++)G=I[Y],m(R,G)&&(this[G]=u(R,G));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,m(R,"speed")&&(k.speedX.loadConfig(R,"speed"),k.speedY.active=!1),(v(R,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),m(R,"scale")&&(k.scaleX.loadConfig(R,"scale"),k.scaleY.active=!1),m(R,"callbackScope")){var W=u(R,"callbackScope",null);this.emitCallbackScope=W,this.deathCallbackScope=W}if(m(R,"emitZone")&&this.addEmitZone(R.emitZone),m(R,"deathZone")&&this.addDeathZone(R.deathZone),m(R,"bounds")){var X=this.addParticleBounds(R.bounds);X.collideLeft=u(R,"collideLeft",!0),X.collideRight=u(R,"collideRight",!0),X.collideTop=u(R,"collideTop",!0),X.collideBottom=u(R,"collideBottom",!0)}return m(R,"followOffset")&&this.followOffset.setFromObject(u(R,"followOffset",0)),m(R,"texture")&&this.setTexture(R.texture),m(R,"frame")?this.setEmitterFrame(R.frame):m(R,"anim")&&this.setAnim(R.anim),m(R,"reserve")&&this.reserve(R.reserve),m(R,"advance")&&this.fastForward(R.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(R){return R&&(this.config?this.setConfig(C(this.config,R)):this.setConfig(R)),this},toJSON:function(){var R=a(this),Y=0,G="";for(Y=0;Y<I.length;Y++)G=I[Y],R[G]=this[G];var k=this.ops;for(Y=0;Y<H.length;Y++)G=H[Y],k[G]&&(R[G]=k[G].toJSON());return k.speedY.active||(delete R.speedX,R.speed=k.speedX.toJSON()),this.scaleX===this.scaleY&&(delete R.scaleX,delete R.scaleY,R.scale=k.scaleX.toJSON()),R},resetCounters:function(R,Y){var G=this.counters;G.fill(0),G[0]=R,Y&&(G[5]=1)},startFollow:function(R,Y,G,k){return Y===void 0&&(Y=0),G===void 0&&(G=0),k===void 0&&(k=!1),this.follow=R,this.followOffset.set(Y,G),this.trackVisible=k,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var R=this.frames,Y=R.length,G;return Y===1?G=R[0]:this.randomFrame?G=d(R):(G=R[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===Y&&(this.currentFrame=0))),this.texture.get(G)},setEmitterFrame:function(R,Y,G){Y===void 0&&(Y=!0),G===void 0&&(G=1),this.randomFrame=Y,this.frameQuantity=G,this.currentFrame=0;var k=typeof R;if(this.frames.length=0,Array.isArray(R))this.frames=this.frames.concat(R);else if(k==="string"||k==="number")this.frames.push(R);else if(k==="object"){var W=R;R=u(W,"frames",null),R&&(this.frames=this.frames.concat(R));var X=u(W,"cycle",!1);this.randomFrame=!X,this.frameQuantity=u(W,"quantity",G)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var R=this.anims,Y=R.length;if(Y===0)return null;if(Y===1)return R[0];if(this.randomAnim)return d(R);var G=R[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=U(this.currentAnim+1,0,Y)),G},setAnim:function(R,Y,G){Y===void 0&&(Y=!0),G===void 0&&(G=1),this.randomAnim=Y,this.animQuantity=G,this.currentAnim=0;var k=typeof R;if(this.anims.length=0,Array.isArray(R))this.anims=this.anims.concat(R);else if(k==="string")this.anims.push(R);else if(k==="object"){var W=R;R=u(W,"anims",null),R&&(this.anims=this.anims.concat(R));var X=u(W,"cycle",!1);this.randomAnim=!X,this.animQuantity=u(W,"quantity",G)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(R){return R===void 0&&(R=!0),this.radial=R,this},addParticleBounds:function(R,Y,G,k,W,X,j,K){if(typeof R=="object"){var $=R;R=$.x,Y=$.y,G=m($,"w")?$.w:$.width,k=m($,"h")?$.h:$.height}return this.addParticleProcessor(new z(R,Y,G,k,W,X,j,K))},setParticleSpeed:function(R,Y){return Y===void 0&&(Y=R),this.ops.speedX.onChange(R),R===Y?this.ops.speedY.active=!1:this.ops.speedY.onChange(Y),this.radial=!0,this},setParticleScale:function(R,Y){return R===void 0&&(R=1),Y===void 0&&(Y=R),this.ops.scaleX.onChange(R),this.ops.scaleY.onChange(Y),this},setParticleGravity:function(R,Y){return this.gravityX=R,this.gravityY=Y,this},setParticleAlpha:function(R){return this.ops.alpha.onChange(R),this},setParticleTint:function(R){return this.ops.tint.onChange(R),this},setEmitterAngle:function(R){return this.ops.angle.onChange(R),this},setParticleLifespan:function(R){return this.ops.lifespan.onChange(R),this},setQuantity:function(R){return this.quantity=R,this},setFrequency:function(R,Y){return this.frequency=R,this.flowCounter=R>0?R:0,Y&&(this.quantity=Y),this},addDeathZone:function(R){Array.isArray(R)||(R=[R]);for(var Y,G=[],k=0;k<R.length;k++)if(Y=R[k],Y instanceof s)G.push(Y);else if(typeof Y.contains=="function")Y=new s(Y,!0),G.push(Y);else{var W=u(Y,"type","onEnter"),X=u(Y,"source",null);if(X&&typeof X.contains=="function"){var j=W==="onEnter";Y=new s(X,j),G.push(Y)}}return this.deathZones=this.deathZones.concat(G),G},removeDeathZone:function(R){return b(this.deathZones,R),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(R){Array.isArray(R)||(R=[R]);for(var Y,G=[],k=0;k<R.length;k++)if(Y=R[k],Y instanceof D||Y instanceof t)G.push(Y);else{var W=u(Y,"source",null);if(W){var X=u(Y,"type","random");if(X==="random"&&typeof W.getRandomPoint=="function")Y=new D(W),G.push(Y);else if(X==="edge"&&typeof W.getPoints=="function"){var j=u(Y,"quantity",1),K=u(Y,"stepRate",0),$=u(Y,"yoyo",!1),Z=u(Y,"seamless",!0),J=u(Y,"total",-1);Y=new t(W,j,K,$,Z,J),G.push(Y)}}}return this.emitZones=this.emitZones.concat(G),G},removeEmitZone:function(R){return b(this.emitZones,R),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(R){var Y=this.emitZones,G=Y.length;if(G!==0){var k=Y[this.zoneIndex];k.getPoint(R),k.total>-1&&(this.zoneTotal++,this.zoneTotal===k.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===G&&(this.zoneIndex=0)))}},getDeathZone:function(R){for(var Y=this.deathZones,G=0;G<Y.length;G++){var k=Y[G];if(k.willKill(R))return this.emit(i.DEATH_ZONE,this,R,k),!0}return!1},setEmitZone:function(R){var Y;return isFinite(R)?Y=R:Y=this.emitZones.indexOf(R),Y>=0&&(this.zoneIndex=Y),this},addParticleProcessor:function(R){return this.processors.exists(R)||(R.emitter&&R.emitter.removeParticleProcessor(R),this.processors.add(R),R.emitter=this),R},removeParticleProcessor:function(R){return this.processors.exists(R)&&(this.processors.remove(R,!0),R.emitter=null),R},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(R){return this.addParticleProcessor(new f(R))},reserve:function(R){var Y=this.dead;if(this.maxParticles>0){var G=this.getParticleCount();G+R>this.maxParticles&&(R=this.maxParticles-(G+R))}for(var k=0;k<R;k++)Y.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(R,Y){return R===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof R=="function"&&(this.emitCallback=R,Y&&(this.emitCallbackScope=Y)),this},onParticleDeath:function(R,Y){return R===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof R=="function"&&(this.deathCallback=R,Y&&(this.deathCallbackScope=Y)),this},killAll:function(){for(var R=this.dead,Y=this.alive;Y.length>0;)R.push(Y.pop());return this},forEachAlive:function(R,Y){for(var G=this.alive,k=G.length,W=0;W<k;W++)R.call(Y,G[W],this);return this},forEachDead:function(R,Y){for(var G=this.dead,k=G.length,W=0;W<k;W++)R.call(Y,G[W],this);return this},start:function(R,Y){return R===void 0&&(R=0),this.emitting||(R>0&&this.fastForward(R),this.emitting=!0,this.resetCounters(this.frequency,!0),Y!==void 0&&(this.duration=Math.abs(Y)),this.emit(i.START,this)),this},stop:function(R){return R===void 0&&(R=!1),this.emitting&&(this.emitting=!1,R&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(R,Y){return R===void 0&&(R=""),Y===void 0&&(Y=this.true),this.sortProperty=R,this.sortOrderAsc=Y,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(R){return this.sortProperty!==""?R=this.depthSortCallback:R=null,this.sortCallback=R,this},depthSort:function(){return V(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(R,Y){var G=this.sortProperty;return this.sortOrderAsc?R[G]-Y[G]:Y[G]-R[G]},flow:function(R,Y,G){return Y===void 0&&(Y=1),this.emitting=!1,this.frequency=R,this.quantity=Y,G!==void 0&&(this.stopAfter=G),this.start()},explode:function(R,Y,G){this.frequency=-1,this.resetCounters(-1,!0);var k=this.emitParticle(R,Y,G);return this.emit(i.EXPLODE,this,k),k},emitParticleAt:function(R,Y,G){return this.emitParticle(G,R,Y)},emitParticle:function(R,Y,G){if(!this.atLimit()){R===void 0&&(R=this.ops.quantity.onEmit());for(var k=this.dead,W=this.stopAfter,X=this.follow?this.follow.x+this.followOffset.x:Y,j=this.follow?this.follow.y+this.followOffset.y:G,K=0;K<R;K++){var $=k.pop();if($||($=new this.particleClass(this)),$.fire(X,j)?(this.particleBringToTop?this.alive.push($):this.alive.unshift($),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,$,this)):this.dead.push($),W>0&&(this.stopCounter++,this.stopCounter>=W)||this.atLimit())break}return $}},fastForward:function(R,Y){Y===void 0&&(Y=1e3/60);var G=0;for(this.skipping=!0;G<Math.abs(R);)this.preUpdate(0,Y),G+=Y;return this.skipping=!1,this},preUpdate:function(R,Y){Y*=this.timeScale;var G=Y/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var k=this.getProcessors(),W=this.alive,X=this.dead,j=0,K=[],$=W.length;for(j=0;j<$;j++){var Z=W[j];Z.update(Y,G,k)&&K.push({index:j,particle:Z})}if($=K.length,$>0){var J=this.deathCallback,Q=this.deathCallbackScope;for(j=$-1;j>=0;j--){var _=K[j];W.splice(_.index,1),X.push(_.particle),J&&J.call(Q,_.particle),_.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&W.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=Y;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=Y,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(R){for(var Y=this.getWorldTransformMatrix(),G=this.alive,k=G.length,W=[],X=0;X<k;X++){var j=G[X];L(R,j.getBounds(Y))&&W.push(j)}return W},getBounds:function(R,Y,G,k){R===void 0&&(R=0),Y===void 0&&(Y=0),G===void 0&&(G=1e3/60),k===void 0&&(k=new A);var W=this.getWorldTransformMatrix(),X,j,K=this.alive,$=!1;if(k.setTo(0,0,0,0),Y>0){var Z=0;for(this.skipping=!0;Z<Math.abs(Y);){for(this.preUpdate(0,G),X=0;X<K.length;X++)j=K[X].getBounds(W),$?T(k,j):($=!0,r(j,k));Z+=G}this.skipping=!1}else for(X=0;X<K.length;X++)j=K[X].getBounds(W),$?T(k,j):($=!0,r(j,k));return R>0&&g(k,R,R),k},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(R){this.ops.x.onChange(R)}},particleY:{get:function(){return this.ops.y.current},set:function(R){this.ops.y.onChange(R)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(R){this.ops.accelerationX.onChange(R)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(R){this.ops.accelerationY.onChange(R)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(R){this.ops.maxVelocityX.onChange(R)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(R){this.ops.maxVelocityY.onChange(R)}},speed:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R),this.ops.speedY.onChange(R)}},speedX:{get:function(){return this.ops.speedX.current},set:function(R){this.ops.speedX.onChange(R)}},speedY:{get:function(){return this.ops.speedY.current},set:function(R){this.ops.speedY.onChange(R)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(R){this.ops.moveToX.onChange(R)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(R){this.ops.moveToY.onChange(R)}},bounce:{get:function(){return this.ops.bounce.current},set:function(R){this.ops.bounce.onChange(R)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(R){this.ops.scaleX.onChange(R)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(R){this.ops.scaleY.onChange(R)}},particleColor:{get:function(){return this.ops.color.current},set:function(R){this.ops.color.onChange(R)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(R){this.ops.color.setEase(R)}},particleTint:{get:function(){return this.ops.tint.current},set:function(R){this.ops.tint.onChange(R)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(R){this.ops.alpha.onChange(R)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(R){this.ops.lifespan.onChange(R)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(R){this.ops.angle.onChange(R)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(R){this.ops.rotate.onChange(R)}},quantity:{get:function(){return this.ops.quantity.current},set:function(R){this.ops.quantity.onChange(R)}},delay:{get:function(){return this.ops.delay.current},set:function(R){this.ops.delay.onChange(R)}},hold:{get:function(){return this.ops.hold.current},set:function(R){this.ops.hold.onChange(R)}},flowCounter:{get:function(){return this.counters[0]},set:function(R){this.counters[0]=R}},frameCounter:{get:function(){return this.counters[1]},set:function(R){this.counters[1]=R}},animCounter:{get:function(){return this.counters[2]},set:function(R){this.counters[2]=R}},elapsed:{get:function(){return this.counters[3]},set:function(R){this.counters[3]=R}},stopCounter:{get:function(){return this.counters[4]},set:function(R){this.counters[4]=R}},completeFlag:{get:function(){return this.counters[5]},set:function(R){this.counters[5]=R}},zoneIndex:{get:function(){return this.counters[6]},set:function(R){this.counters[6]=R}},zoneTotal:{get:function(){return this.counters[7]},set:function(R){this.counters[7]=R}},currentFrame:{get:function(){return this.counters[8]},set:function(R){this.counters[8]=R}},currentAnim:{get:function(){return this.counters[9]},set:function(R){this.counters[9]=R}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var R,Y=this.ops;for(R=0;R<H.length;R++){var G=H[R];Y[G].destroy()}for(R=0;R<this.alive.length;R++)this.alive[R].destroy();for(R=0;R<this.dead.length;R++)this.dead[R].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});c.exports=O},9871:(c,x,e)=>{var o=e(59996),p=e(61340),a=new p,r=new p,s=new p,t=new p,n=function(h,i,l,u){var d=a,f=r,v=s,m=t;u?(m.loadIdentity(),m.multiply(u),m.translate(i.x,i.y),m.rotate(i.rotation),m.scale(i.scaleX,i.scaleY)):m.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var g=h.currentContext,y=l.roundPixels,T=l.alpha,C=i.alpha,E=i.alive,z=E.length,D=i.viewBounds;if(!(!i.visible||z===0||D&&!o(D,l.worldView))){i.sortCallback&&i.depthSort(),l.addToRenderList(i);var A=i.scrollFactorX,L=i.scrollFactorY;g.save(),g.globalCompositeOperation=h.blendModes[i.blendMode];for(var b=0;b<z;b++){var F=E[b],V=F.alpha*C*T;if(!(V<=0||F.scaleX===0||F.scaleY===0)){v.applyITRS(F.x,F.y,F.rotation,F.scaleX,F.scaleY),d.copyFrom(l.matrix),d.multiplyWithOffset(m,-l.scrollX*A,-l.scrollY*L),v.e=F.x,v.f=F.y,d.multiply(v,f);var B=F.frame,N=B.canvasData;if(N.width>0&&N.height>0){var U=-B.halfWidth,I=-B.halfHeight;g.globalAlpha=V,g.save(),f.setToContext(g),y&&(U=Math.round(U),I=Math.round(I)),g.imageSmoothingEnabled=!B.source.scaleMode,g.drawImage(B.source.image,N.x,N.y,N.width,N.height,U,I,N.width,N.height),g.restore()}}}g.restore()}};c.exports=n},92730:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(95540),s=e(31600);p.register("particles",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=r(t,"config",null),l=new s(this.scene,0,0,h);return n!==void 0&&(t.add=n),o(this.scene,l,t),i&&l.setConfig(i),l})},676:(c,x,e)=>{var o=e(39429),p=e(31600);o.register("particles",function(a,r,s,t){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,a,r,s,t))})},90668:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(21188),a=e(9871),c.exports={renderWebGL:p,renderCanvas:a}},21188:(c,x,e)=>{var o=e(59996),p=e(61340),a=e(70554),r=new p,s=new p,t=new p,n=new p,h=function(i,l,u,d){var f=i.pipelines.set(l.pipeline),v=r,m=s,g=t,y=n;d?(y.loadIdentity(),y.multiply(d),y.translate(l.x,l.y),y.rotate(l.rotation),y.scale(l.scaleX,l.scaleY)):y.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var T=a.getTintAppendFloatAlpha,C=u.alpha,E=l.alpha;i.pipelines.preBatch(l);var z=l.alive,D=z.length,A=l.viewBounds;if(!(D===0||A&&!o(A,u.worldView))){l.sortCallback&&l.depthSort(),u.addToRenderList(l),v.copyFrom(u.matrix),v.multiplyWithOffset(y,-u.scrollX*l.scrollFactorX,-u.scrollY*l.scrollFactorY),i.setBlendMode(l.blendMode),l.mask&&(l.mask.preRenderWebGL(i,l,u),i.pipelines.set(l.pipeline));for(var L=l.tintFill,b,F,V=0;V<D;V++){var B=z[V],N=B.alpha*E*C;if(!(N<=0||B.scaleX===0||B.scaleY===0)){g.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),g.e=B.x,g.f=B.y,v.multiply(g,m);var U=B.frame;U.glTexture!==F&&(F=U.glTexture,b=f.setGameObject(l,U));var I=-U.halfWidth,H=-U.halfHeight,O=m.setQuad(I,H,I+U.width,H+U.height),R=T(B.tint,N);f.shouldFlush(6)&&(f.flush(),b=f.setGameObject(l,U)),f.batchQuad(l,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],U.u0,U.v0,U.u1,U.v1,R,R,R,R,L,F,b)}}l.mask&&l.mask.postRenderWebGL(i,u),i.pipelines.postBatch(l)}};c.exports=h},20286:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t){r===void 0&&(r=0),s===void 0&&(s=0),t===void 0&&(t=!0),this.emitter,this.x=r,this.y=s,this.active=t},update:function(){},destroy:function(){this.emitter=null}});c.exports=p},9774:c=>{c.exports="complete"},812:c=>{c.exports="deathzone"},30522:c=>{c.exports="explode"},96695:c=>{c.exports="start"},18677:c=>{c.exports="stop"},20696:(c,x,e)=>{c.exports={COMPLETE:e(9774),DEATH_ZONE:e(812),EXPLODE:e(30522),START:e(96695),STOP:e(18677)}},18404:(c,x,e)=>{c.exports={EmitterColorOp:e(76472),EmitterOp:e(44777),Events:e(20696),GravityWell:e(24502),Particle:e(56480),ParticleBounds:e(69601),ParticleEmitter:e(31600),ParticleProcessor:e(20286),Zones:e(21024)}},26388:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s){this.source=r,this.killOnEnter=s},willKill:function(a){var r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});c.exports=p},19909:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t,n,h,i){n===void 0&&(n=!1),h===void 0&&(h=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=s,this.stepRate=t,this.yoyo=n,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});c.exports=p},68875:(c,x,e)=>{var o=e(83419),p=e(26099),a=new o({initialize:function(s){this.source=s,this._tempVec=new p,this.total=-1},getPoint:function(r){var s=this._tempVec;this.source.getRandomPoint(s),r.x=s.x,r.y=s.y}});c.exports=a},21024:(c,x,e)=>{c.exports={DeathZone:e(26388),EdgeZone:e(19909),RandomZone:e(68875)}},1159:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(68287),r=new o({Extends:a,Mixins:[p.PathFollower],initialize:function(t,n,h,i,l,u){a.call(this,t,h,i,l,u),this.path=n},preUpdate:function(s,t){this.anims.update(s,t),this.pathUpdate(s)}});c.exports=r},90145:(c,x,e)=>{var o=e(39429),p=e(1159);o.register("follower",function(a,r,s,t,n){var h=new p(this.scene,a,r,s,t,n);return this.displayList.add(h),this.updateList.add(h),h})},33663:(c,x,e)=>{var o=e(9674),p=e(83419),a=e(48803),r=e(90664),s=e(4703),t=e(45650),n=new p({Extends:s,initialize:function(i,l,u,d,f,v,m,g){d||(d="__DEFAULT"),s.call(this,i,l,u,d,f),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(v,m,g),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(h,i,l){h===void 0&&(h=8),i===void 0&&(i=8),l===void 0&&(l=!1);var u=!1;return l&&(u=!0),this.gridWidth=h,this.gridHeight=i,this.isTiled=l,this.clear(),a({mesh:this,widthSegments:h,heightSegments:i,isOrtho:!1,tile:l,flipY:u}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var l=this.gridWidth,u=this.gridHeight,d=this.vertices,f=i.u0,v=i.u1,m=i.v0,g=i.v1,y,T,C=0;if(this.isTiled)for(m=i.v1,g=i.v0,T=0;T<u;T++)for(y=0;y<l;y++)d[C++].setUVs(f,g),d[C++].setUVs(f,m),d[C++].setUVs(v,g),d[C++].setUVs(f,m),d[C++].setUVs(v,m),d[C++].setUVs(v,g);else{var E=l+1,z=u+1,D=v-f,A=g-m,L=[];for(T=0;T<z;T++)for(y=0;y<E;y++){var b=f+D*(y/l),F=m+A*(T/u);L.push(b,F)}for(T=0;T<u;T++)for(y=0;y<l;y++){var V=(y+E*T)*2,B=(y+E*(T+1))*2,N=(y+1+E*(T+1))*2,U=(y+1+E*T)*2;d[C++].setUVs(L[V],L[V+1]),d[C++].setUVs(L[B],L[B+1]),d[C++].setUVs(L[U],L[U+1]),d[C++].setUVs(L[B],L[B+1]),d[C++].setUVs(L[N],L[N+1]),d[C++].setUVs(L[U],L[U+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(h,i,l,u,d){h===void 0&&(h=16777215),i===void 0&&(i=255),l===void 0&&(l=255),u===void 0&&(u=255),d===void 0&&(d=128);for(var f=r(h),v=r(i),m=[],g=0;g<16;g++)for(var y=0;y<16;y++)g<8&&y<8||g>7&&y>7?m.push(f.r,f.g,f.b,l):m.push(v.r,v.g,v.b,u);var T=this.scene.sys.textures.addUint8Array(t(),new Uint8Array(m),16,16);return this.removeCheckerboard(),this.setTexture(T),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,i){return this.anims.play(h,i)},playReverse:function(h,i){return this.anims.playReverse(h,i)},playAfterDelay:function(h,i){return this.anims.playAfterDelay(h,i)},playAfterRepeat:function(h,i){return this.anims.playAfterRepeat(h,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,i){s.prototype.preUpdate.call(this,h,i),this.anims.update(h,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});c.exports=n},56015:(c,x,e)=>{var o=e(25305),p=e(13059),a=e(44603),r=e(23568),s=e(35154),t=e(33663);a.register("plane",function(n,h){n===void 0&&(n={});var i=r(n,"key",null),l=r(n,"frame",null),u=s(n,"width",8),d=s(n,"height",8),f=s(n,"tile",!1),v=new t(this.scene,0,0,i,l,u,d,f);h!==void 0&&(n.add=h);var m=s(n,"checkerboard",null);if(m){var g=s(m,"color1",16777215),y=s(m,"color2",255),T=s(m,"alpha1",255),C=s(m,"alpha2",255),E=s(m,"height",128);v.createCheckerboard(g,y,T,C,E)}return o(this.scene,v,n),p(v,n),v})},30985:(c,x,e)=>{var o=e(33663),p=e(39429);p.register("plane",function(a,r,s,t,n,h,i){return this.displayList.add(new o(this.scene,a,r,s,t,n,h,i))})},80321:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(95643),r=e(30100),s=e(36060),t=e(67277),n=new o({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,t],initialize:function(i,l,u,d,f,v,m){d===void 0&&(d=16777215),f===void 0&&(f=128),v===void 0&&(v=1),m===void 0&&(m=.1),a.call(this,i,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(l,u),this.color=r(d),this.intensity=v,this.attenuation=m,this.width=f*2,this.height=f*2,this._radius=f},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});c.exports=n},39829:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(80321);p.register("pointlight",function(s,t){s===void 0&&(s={});var n=a(s,"color",16777215),h=a(s,"radius",128),i=a(s,"intensity",1),l=a(s,"attenuation",.1),u=new r(this.scene,0,0,n,h,i,l);return t!==void 0&&(s.add=t),o(this.scene,u,s),u})},71255:(c,x,e)=>{var o=e(39429),p=e(80321);o.register("pointlight",function(a,r,s,t,n,h){return this.displayList.add(new p(this.scene,a,r,s,t,n,h))})},67277:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(57787),c.exports={renderWebGL:p,renderCanvas:a}},57787:(c,x,e)=>{var o=e(91296),p=function(a,r,s,t){s.addToRenderList(r);var n=a.pipelines.set(r.pipeline),h=o(r,s,t).calc,i=r.width,l=r.height,u=-r._radius,d=-r._radius,f=u+i,v=d+l,m=h.getX(0,0),g=h.getY(0,0),y=h.getX(u,d),T=h.getY(u,d),C=h.getX(u,v),E=h.getY(u,v),z=h.getX(f,v),D=h.getY(f,v),A=h.getX(f,d),L=h.getY(f,d);a.pipelines.preBatch(r),n.batchPointLight(r,s,y,T,C,E,z,D,A,L,m,g),a.pipelines.postBatch(r)};c.exports=p},591:(c,x,e)=>{var o=e(83419),p=e(81320),a=e(88571),r=new o({Extends:a,initialize:function(t,n,h,i,l){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=32),l===void 0&&(l=32);var u=new p(t.sys.textures,"",i,l);a.call(this,t,n,h,u),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(s,t){this.width=s,this.height=t,this.texture.setSize(s,t),this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=s,n.hitArea.height=t),this},resize:function(s,t){return this.setSize(s,t),this},saveTexture:function(s){var t=this.texture;return t.key=s,t.manager.addDynamicTexture(t)&&(this._saved=!0),t},fill:function(s,t,n,h,i,l){return this.texture.fill(s,t,n,h,i,l),this},clear:function(){return this.texture.clear(),this},stamp:function(s,t,n,h,i){return this.texture.stamp(s,t,n,h,i),this},erase:function(s,t,n){return this.texture.erase(s,t,n),this},draw:function(s,t,n,h,i){return this.texture.draw(s,t,n,h,i),this},drawFrame:function(s,t,n,h,i,l){return this.texture.drawFrame(s,t,n,h,i,l),this},repeat:function(s,t,n,h,i,l,u,d,f){return this.texture.repeat(s,t,n,h,i,l,u,d,f),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(s,t,n,h,i){return this.texture.batchDraw(s,t,n,h,i),this},batchDrawFrame:function(s,t,n,h,i,l){return this.texture.batchDrawFrame(s,t,n,h,i,l),this},endDraw:function(s){return this.texture.endDraw(s),this},snapshotArea:function(s,t,n,h,i,l,u){return this.texture.snapshotArea(s,t,n,h,i,l,u),this},snapshot:function(s,t,n){return this.snapshotArea(0,0,this.width,this.height,s,t,n)},snapshotPixel:function(s,t,n){return this.snapshotArea(s,t,1,1,n,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});c.exports=r},34495:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(591);p.register("renderTexture",function(s,t){s===void 0&&(s={});var n=a(s,"x",0),h=a(s,"y",0),i=a(s,"width",32),l=a(s,"height",32),u=new r(this.scene,n,h,i,l);return t!==void 0&&(s.add=t),o(this.scene,u,s),u})},60505:(c,x,e)=>{var o=e(39429),p=e(591);o.register("renderTexture",function(a,r,s,t){return this.displayList.add(new p(this.scene,a,r,s,t))})},77757:(c,x,e)=>{var o=e(9674),p=e(83419),a=e(31401),r=e(95643),s=e(36060),t=e(38745),n=e(26099),h=new p({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,t],initialize:function(l,u,d,f,v,m,g,y,T){f===void 0&&(f="__DEFAULT"),m===void 0&&(m=2),g===void 0&&(g=!0),r.call(this,l,"Rope"),this.anims=new o(this),this.points=m,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=f==="__DEFAULT",this.dirty=!1,this.horizontal=g,this._flipX=!1,this._flipY=!1,this._perp=new n,this.debugCallback=null,this.debugGraphic=null,this.setTexture(f,v),this.setPosition(u,d),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(m)&&this.resizeArrays(m.length),this.setPoints(m,y,T),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,l){var u=this.anims.currentFrame;this.anims.update(i,l),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,l,u){return this.anims.play(i,l,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,l,u))},setVertical:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,l,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,l){var u=this.points.length;if(u<1)return this;var d=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&l===void 0&&(i=[i]);var f,v=0;if(l!==void 0)for(f=0;f<u;f++)v=f*2,d[v]=i,d[v+1]=l;else if(i.length===u)for(f=0;f<u;f++)v=f*2,d[v]=i[f],d[v+1]=i[f];else{var m=i[0];for(f=0;f<u;f++)v=f*2,i.length>v&&(m=i[v]),d[v]=m,i.length>v+1&&(m=i[v+1]),d[v+1]=m}return this},setColors:function(i){var l=this.points.length;if(l<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var d,f=0;if(i.length===l)for(d=0;d<l;d++)f=d*2,u[f]=i[d],u[f+1]=i[d];else{var v=i[0];for(d=0;d<l;d++)f=d*2,i.length>f&&(v=i[f]),u[f]=v,i.length>f+1&&(v=i[f+1]),u[f+1]=v}return this},setPoints:function(i,l,u){if(i===void 0&&(i=2),typeof i=="number"){var d=i;d<2&&(d=2),i=[];var f,v,m;if(this.horizontal)for(m=-this.frame.halfWidth,v=this.frame.width/(d-1),f=0;f<d;f++)i.push({x:m+f*v,y:0});else for(m=-this.frame.halfHeight,v=this.frame.height/(d-1),f=0;f<d;f++)i.push({x:0,y:m+f*v})}var g=i.length,y=this.points.length;return g<1?(console.warn("Rope: Not enough points given"),this):(g===1&&(i.unshift({x:0,y:0}),g++),y!==g&&this.resizeArrays(g),this.dirty=!0,this.points=i,this.updateUVs(),l!=null&&this.setColors(l),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,l=this.points.length,u=this.frame.u0,d=this.frame.v0,f=this.frame.u1,v=this.frame.v1,m=(f-u)/(l-1),g=(v-d)/(l-1),y=0;y<l;y++){var T=y*4,C,E,z,D;this.horizontal?(this._flipX?(C=f-y*m,z=f-y*m):(C=u+y*m,z=u+y*m),this._flipY?(E=v,D=d):(E=d,D=v)):(this._flipX?(C=u,z=f):(C=f,z=u),this._flipY?(E=v-y*g,D=v-y*g):(E=d+y*g,D=d+y*g)),i[T+0]=C,i[T+1]=E,i[T+2]=z,i[T+3]=D}return this},resizeArrays:function(i){var l=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),l=new Uint32Array(i*2),u=new Float32Array(i*2);for(var d=0;d<i*2;d++)l[d]=16777215,u[d]=1;return this.colors=l,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,l=this.points,u=this.vertices,d=l.length;if(this.dirty=!1,!(d<1)){for(var f,v=l[0],m=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,g=0;g<d;g++){var y=l[g],T=g*4;g<d-1?f=l[g+1]:f=y,i.x=f.y-v.y,i.y=-(f.x-v.x);var C=i.length();i.x/=C,i.y/=C,i.x*=m,i.y*=m,u[T]=y.x+i.x,u[T+1]=y.y+i.y,u[T+2]=y.x-i.x,u[T+3]=y.y-i.y,v=y}return this}},setDebug:function(i,l){return this.debugGraphic=i,!i&&!l?this.debugCallback=null:l?this.debugCallback=l:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,l,u){var d=i.debugGraphic,f=u[0],v=u[1],m=u[2],g=u[3];d.lineBetween(f,v,m,g);for(var y=4;y<l;y+=4){var T=u[y+0],C=u[y+1],E=u[y+2],z=u[y+3];d.lineBetween(f,v,T,C),d.lineBetween(m,g,E,z),d.lineBetween(m,g,T,C),d.lineBetween(T,C,E,z),f=T,v=C,m=E,g=z}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});c.exports=h},95262:c=>{var x=function(){};c.exports=x},26209:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(35154),s=e(77757);p.register("rope",function(t,n){t===void 0&&(t={});var h=a(t,"key",null),i=a(t,"frame",null),l=a(t,"horizontal",!0),u=r(t,"points",void 0),d=r(t,"colors",void 0),f=r(t,"alphas",void 0),v=new s(this.scene,0,0,h,i,u,l,d,f);return n!==void 0&&(t.add=n),o(this.scene,v,t),v})},96819:(c,x,e)=>{var o=e(77757),p=e(39429);p.register("rope",function(a,r,s,t,n,h,i,l){return this.displayList.add(new o(this.scene,a,r,s,t,n,h,i,l))})},38745:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(20439),a=e(95262),c.exports={renderWebGL:p,renderCanvas:a}},20439:(c,x,e)=>{var o=e(91296),p=e(70554),a=function(r,s,t,n){t.addToRenderList(s);var h=r.pipelines.set(s.pipeline,s),i=o(s,t,n).calc,l=s.vertices,u=s.uv,d=s.colors,f=s.alphas,v=s.alpha,m=p.getTintAppendFloatAlpha,g=t.roundPixels,y=l.length,T=Math.floor(y*.5);h.flush(),r.pipelines.preBatch(s);var C=h.setGameObject(s),E=h.vertexViewF32,z=h.vertexViewU32,D=h.vertexCount*h.currentShader.vertexComponentCount-1,A=0,L=s.tintFill;s.dirty&&s.updateVertices();for(var b=s.debugCallback,F=[],V=0;V<y;V+=2){var B=l[V+0],N=l[V+1],U=B*i.a+N*i.c+i.e,I=B*i.b+N*i.d+i.f;g&&(U=Math.round(U),I=Math.round(I)),E[++D]=U,E[++D]=I,E[++D]=u[V+0],E[++D]=u[V+1],E[++D]=C,E[++D]=L,z[++D]=m(d[A],t.alpha*(f[A]*v)),A++,b&&(F[V+0]=U,F[V+1]=I)}b&&b.call(s,s,y,F),h.vertexCount+=T,h.currentBatch.count=h.vertexCount-h.currentBatch.start,r.pipelines.postBatch(s)};c.exports=a},20071:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(95643),r=e(95540),s=e(79291),t=e(61622),n=e(25479),h=e(61340),i=e(95428),l=e(92503),u=new o({Extends:a,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,n],initialize:function(f,v,m,g,y,T,C,E){m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=128),T===void 0&&(T=128),a.call(this,f,"Shader"),this.blendMode=-1,this.shader;var z=f.sys.renderer;this.renderer=z,this.gl=z.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=z.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=z.width,this._rendererHeight=z.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,g),this.setSize(y,T),this.setOrigin(.5,.5),this.setShader(v,C,E),this.renderer.on(l.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,f){if(f===void 0&&(f=!1),!this.renderToTexture){var v=this.width,m=this.height,g=this.renderer;this.glTexture=g.createTextureFromSource(null,v,m,0),this.framebuffer=g.createFramebuffer(v,m,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(g.pipelines.clear(),this.load(),this.flush(),g.pipelines.rebind()),this},setShader:function(d,f,v){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:f,textureData:v},this;if(f===void 0&&(f=[]),typeof d=="string"){var m=this.scene.sys.cache.shader;if(!m.has(d))return console.warn("Shader missing: "+d),this;this.shader=m.get(d)}else this.shader=d;var g=this.gl,y=this.renderer;this.program&&y.deleteProgram(this.program);var T=y.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);g.uniformMatrix4fv(g.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),g.uniformMatrix4fv(g.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),g.uniform2f(g.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height),this.program=T;var C=new Date,E={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[C.getFullYear(),C.getMonth(),C.getDate(),C.getHours()*60*60+C.getMinutes()*60+C.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,E):this.uniforms=E;for(var z=0;z<4;z++)f[z]&&this.setSampler2D("iChannel"+z,f[z],z,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,f,v,m){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:f,bottom:v,top:m};return}var g=-1e3,y=1e3,T=1/(d-f),C=1/(v-m),E=1/(g-y),z=this.projectionMatrix;z[0]=-2*T,z[5]=-2*C,z[10]=2*E,z[12]=(d+f)*T,z[13]=(m+v)*C,z[14]=(y+g)*E;var D=this.program,A=this.gl,L=this.renderer;L.setProgram(D),A.uniformMatrix4fv(A.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=v},initUniforms:function(){var d=this.renderer.glFuncMap,f=this.program;this._textureCount=0;for(var v in this.uniforms){var m=this.uniforms[v],g=m.type,y=d[g];m.uniformLocation=this.renderer.createUniformLocation(f,v),g!=="sampler2D"&&(m.glMatrix=y.matrix,m.glValueLength=y.length,m.glFunc=y.func)}},setSampler2DBuffer:function(d,f,v,m,g,y){g===void 0&&(g=0),y===void 0&&(y={});var T=this.uniforms[d];return T.value=f,y.width=v,y.height=m,T.textureData=y,this._textureCount=g,this.initSampler2D(T),this},setSampler2D:function(d,f,v,m){v===void 0&&(v=0);var g=this.scene.sys.textures;if(g.exists(f)){var y=g.getFrame(f);if(y.glTexture&&y.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,y.glTexture,y.width,y.height,v,m);var T=this.uniforms[d],C=y.source;T.textureKey=f,T.source=C.image,T.value=y.glTexture,C.isGLTexture&&(m||(m={}),m.width=C.width,m.height=C.height),m&&(T.textureData=m),this._textureCount=v,this.initSampler2D(T)}return this},setUniform:function(d,f){return t(this.uniforms,d,f),this},getUniform:function(d){return r(this.uniforms,d,null)},setChannel0:function(d,f){return this.setSampler2D("iChannel0",d,0,f)},setChannel1:function(d,f){return this.setSampler2D("iChannel1",d,1,f)},setChannel2:function(d,f){return this.setSampler2D("iChannel2",d,2,f)},setChannel3:function(d,f){return this.setSampler2D("iChannel3",d,3,f)},initSampler2D:function(d){if(d.value){var f=d.textureData;if(f&&!d.value.isRenderTexture){var v=this.gl,m=d.value,g=v[r(f,"magFilter","linear").toUpperCase()],y=v[r(f,"minFilter","linear").toUpperCase()],T=v[r(f,"wrapS","repeat").toUpperCase()],C=v[r(f,"wrapT","repeat").toUpperCase()],E=v[r(f,"format","rgba").toUpperCase()],z=r(f,"flipY",!1),D=r(f,"width",m.width),A=r(f,"height",m.height),L=r(f,"source",m.pixels);f.repeat&&(T=v.REPEAT,C=v.REPEAT),f.width&&(L=null),m.update(L,D,A,z,T,C,y,g,E)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,f=this.uniforms,v,m,g,y,T,C=0;for(var E in f)v=f[E],g=v.glFunc,m=v.glValueLength,y=v.uniformLocation,T=v.value,T!==null&&(m===1?v.glMatrix?g.call(d,y.webGLUniformLocation,v.transpose,T):g.call(d,y.webGLUniformLocation,T):m===2?g.call(d,y.webGLUniformLocation,T.x,T.y):m===3?g.call(d,y.webGLUniformLocation,T.x,T.y,T.z):m===4?g.call(d,y.webGLUniformLocation,T.x,T.y,T.z,T.w):v.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+C),d.bindTexture(d.TEXTURE_2D,T.webGLTexture),d.uniform1i(y.webGLUniformLocation,C),C++))},load:function(d){var f=this.gl,v=this.width,m=this.height,g=this.renderer,y=this.program,T=this.viewMatrix;if(!this.renderToTexture){var C=-this._displayOriginX,E=-this._displayOriginY;T[0]=d[0],T[1]=d[1],T[4]=d[2],T[5]=d[3],T[8]=d[4],T[9]=d[5],T[12]=T[0]*C+T[4]*E,T[13]=T[1]*C+T[5]*E}f.useProgram(y.webGLProgram),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uViewMatrix"),!1,T),f.uniformMatrix4fv(f.getUniformLocation(y.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),f.uniform2f(f.getUniformLocation(y.webGLProgram,"uResolution"),this.width,this.height);var z=this.uniforms,D=z.resolution;D.value.x=v,D.value.y=m,z.time.value=g.game.loop.getDuration();var A=this.pointer;if(A){var L=z.mouse,b=A.x/v,F=1-A.y/m;L.value.x=b.toFixed(2),L.value.y=F.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,f=this.height,v=this.program,m=this.gl,g=this.vertexBuffer,y=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(y.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,g.webGLBuffer);var C=m.getAttribLocation(v.webGLProgram,"inPosition");C!==-1&&(m.enableVertexAttribArray(C),m.vertexAttribPointer(C,2,m.FLOAT,!1,T,0));var E=this.vertexViewF32;E[3]=f,E[4]=d,E[5]=f,E[8]=d,E[9]=f,E[10]=d;var z=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,z*T)),m.drawArrays(m.TRIANGLES,0,z),this.renderToTexture&&y.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,f=this._deferSetShader.textures,v=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,f,v)}if(this._deferProjOrtho!==null){var m=this._deferProjOrtho.left,g=this._deferProjOrtho.right,y=this._deferProjOrtho.bottom,T=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(m,g,y,T)}},preDestroy:function(){var d=this.renderer;d.off(l.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(f){d.deleteUniformLocation(f.uniformLocation),f.uniformLocation=null})}});c.exports=u},80464:c=>{var x=function(){};c.exports=x},54935:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(20071);p.register("shader",function(s,t){s===void 0&&(s={});var n=a(s,"key",null),h=a(s,"x",0),i=a(s,"y",0),l=a(s,"width",128),u=a(s,"height",128),d=new r(this.scene,n,h,i,l,u);return t!==void 0&&(s.add=t),o(this.scene,d,s),d})},74177:(c,x,e)=>{var o=e(20071),p=e(39429);p.register("shader",function(a,r,s,t,n,h,i){return this.displayList.add(new o(this.scene,a,r,s,t,n,h,i))})},25479:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(19257),a=e(80464),c.exports={renderWebGL:p,renderCanvas:a}},19257:(c,x,e)=>{var o=e(91296),p=function(a,r,s,t){if(r.shader){if(s.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var n=o(r,s,t).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(n.matrix),r.flush()}a.pipelines.rebind()}};c.exports=p},10441:(c,x,e)=>{var o=e(70554),p=function(a,r,s,t,n,h){for(var i=o.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*t),l=s.pathData,u=s.pathIndexes,d=0;d<u.length;d+=3){var f=u[d]*2,v=u[d+1]*2,m=u[d+2]*2,g=l[f+0]-n,y=l[f+1]-h,T=l[v+0]-n,C=l[v+1]-h,E=l[m+0]-n,z=l[m+1]-h,D=r.getX(g,y),A=r.getY(g,y),L=r.getX(T,C),b=r.getY(T,C),F=r.getX(E,z),V=r.getY(E,z);a.batchTri(s,D,A,L,b,F,V,0,0,1,1,i,i,i,2)}};c.exports=p},65960:c=>{var x=function(e,o,p,a){var r=p||o.fillColor,s=a||o.fillAlpha,t=(r&16711680)>>>16,n=(r&65280)>>>8,h=r&255;e.fillStyle="rgba("+t+","+n+","+h+","+s+")"};c.exports=x},75177:c=>{var x=function(e,o,p,a){var r=p||o.strokeColor,s=a||o.strokeAlpha,t=(r&16711680)>>>16,n=(r&65280)>>>8,h=r&255;e.strokeStyle="rgba("+t+","+n+","+h+","+s+")",e.lineWidth=o.lineWidth};c.exports=x},17803:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(95643),r=e(23031),s=new o({Extends:a,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(n,h,i){h===void 0&&(h="Shape"),a.call(this,n,h),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(t,n){return n===void 0&&(n=1),t===void 0?this.isFilled=!1:(this.fillColor=t,this.fillAlpha=n,this.isFilled=!0),this},setStrokeStyle:function(t,n,h){return h===void 0&&(h=1),t===void 0?this.isStroked=!1:(this.lineWidth=t,this.strokeColor=n,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(t){return this.closePath=t,this},setSize:function(t,n){return this.width=t,this.height=n,this},setDisplaySize:function(t,n){return this.displayWidth=t,this.displayHeight=n,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}}});c.exports=s},34682:(c,x,e)=>{var o=e(70554),p=function(a,r,s,t,n){var h=a.strokeTint,i=o.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*s);h.TL=i,h.TR=i,h.BL=i,h.BR=i;var l=r.pathData,u=l.length-1,d=r.lineWidth,f=d/2,v=l[0]-t,m=l[1]-n;r.closePath||(u-=2);for(var g=2;g<u;g+=2){var y=l[g]-t,T=l[g+1]-n;a.batchLine(v,m,y,T,f,f,d,g-2,r.closePath?g===u-1:!1),v=y,m=T}};c.exports=p},23629:(c,x,e)=>{var o=e(13609),p=e(83419),a=e(39506),r=e(94811),s=e(96503),t=e(36383),n=e(17803),h=new p({Extends:n,Mixins:[o],initialize:function(l,u,d,f,v,m,g,y,T){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),v===void 0&&(v=0),m===void 0&&(m=360),g===void 0&&(g=!1),n.call(this,l,"Arc",new s(0,0,f)),this._startAngle=v,this._endAngle=m,this._anticlockwise=g,this._iterations=.01,this.setPosition(u,d);var C=this.geom.radius*2;this.setSize(C,C),y!==void 0&&this.setFillStyle(y,T),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var l=i*2;this.setSize(l,l),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,l){return this._startAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},setEndAngle:function(i,l){return this._endAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},updateData:function(){var i=this._iterations,l=i,u=this.geom.radius,d=a(this._startAngle),f=a(this._endAngle),v=this._anticlockwise,m=u,g=u;f-=d,v?f<-t.PI2?f=-t.PI2:f>0&&(f=-t.PI2+f%t.PI2):f>t.PI2?f=t.PI2:f<0&&(f=t.PI2+f%t.PI2);for(var y=[m+Math.cos(d)*u,g+Math.sin(d)*u],T;l<1;)T=f*l+d,y.push(m+Math.cos(T)*u,g+Math.sin(T)*u),l+=i;return T=f+d,y.push(m+Math.cos(T)*u,g+Math.sin(T)*u),y.push(m+Math.cos(d)*u,g+Math.sin(d)*u),this.pathIndexes=r(y),this.pathData=y,this}});c.exports=h},42542:(c,x,e)=>{var o=e(39506),p=e(65960),a=e(75177),r=e(20926),s=function(t,n,h,i){h.addToRenderList(n);var l=t.currentContext;if(r(t,l,n,h,i)){var u=n.radius;l.beginPath(),l.arc(u-n.originX*(u*2),u-n.originY*(u*2),u,o(n._startAngle),o(n._endAngle),n.anticlockwise),n.closePath&&l.closePath(),n.isFilled&&(p(l,n),l.fill()),n.isStroked&&(a(l,n),l.stroke()),l.restore()}};c.exports=s},42563:(c,x,e)=>{var o=e(23629),p=e(39429);p.register("arc",function(a,r,s,t,n,h,i,l){return this.displayList.add(new o(this.scene,a,r,s,t,n,h,i,l))}),p.register("circle",function(a,r,s,t,n){return this.displayList.add(new o(this.scene,a,r,s,0,360,!1,t,n))})},13609:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(41447),a=e(42542),c.exports={renderWebGL:p,renderCanvas:a}},41447:(c,x,e)=>{var o=e(91296),p=e(10441),a=e(34682),r=function(s,t,n,h){n.addToRenderList(t);var i=s.pipelines.set(t.pipeline),l=o(t,n,h),u=i.calcMatrix.copyFrom(l.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;s.pipelines.preBatch(t),t.isFilled&&p(i,u,t,v,d,f),t.isStroked&&a(i,t,v,d,f),s.pipelines.postBatch(t)};c.exports=r},89:(c,x,e)=>{var o=e(83419),p=e(33141),a=e(94811),r=e(87841),s=e(17803),t=new o({Extends:s,Mixins:[p],initialize:function(h,i,l,u,d,f){i===void 0&&(i=0),l===void 0&&(l=0),s.call(this,h,"Curve",u),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,l),d!==void 0&&this.setFillStyle(d,f),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){var n=this._curveBounds,h=this._smoothness;this.geom.getBounds(n,h),this.setSize(n.width,n.height),this.updateDisplayOrigin();for(var i=[],l=this.geom.getPoints(h),u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});c.exports=t},3170:(c,x,e)=>{var o=e(65960),p=e(75177),a=e(20926),r=function(s,t,n,h){n.addToRenderList(t);var i=s.currentContext;if(a(s,i,t,n,h)){var l=t._displayOriginX+t._curveBounds.x,u=t._displayOriginY+t._curveBounds.y,d=t.pathData,f=d.length-1,v=d[0]-l,m=d[1]-u;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-l,T=d[g+1]-u;i.lineTo(y,T)}t.closePath&&i.closePath(),t.isFilled&&(o(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};c.exports=r},40511:(c,x,e)=>{var o=e(39429),p=e(89);o.register("curve",function(a,r,s,t,n){return this.displayList.add(new p(this.scene,a,r,s,t,n))})},33141:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(53987),a=e(3170),c.exports={renderWebGL:p,renderCanvas:a}},53987:(c,x,e)=>{var o=e(10441),p=e(91296),a=e(34682),r=function(s,t,n,h){n.addToRenderList(t);var i=s.pipelines.set(t.pipeline),l=p(t,n,h),u=i.calcMatrix.copyFrom(l.calc),d=t._displayOriginX+t._curveBounds.x,f=t._displayOriginY+t._curveBounds.y,v=n.alpha*t.alpha;s.pipelines.preBatch(t),t.isFilled&&o(i,u,t,v,d,f),t.isStroked&&a(i,t,v,d,f),s.pipelines.postBatch(t)};c.exports=r},19921:(c,x,e)=>{var o=e(83419),p=e(94811),a=e(54205),r=e(8497),s=e(17803),t=new o({Extends:s,Mixins:[a],initialize:function(h,i,l,u,d,f,v){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),d===void 0&&(d=128),s.call(this,h,"Ellipse",new r(u/2,d/2,u,d)),this._smoothness=64,this.setPosition(i,l),this.width=u,this.height=d,f!==void 0&&this.setFillStyle(f,v),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(n){this._smoothness=n,this.updateData()}},setSize:function(n,h){return this.width=n,this.height=h,this.geom.setPosition(n/2,h/2),this.geom.setSize(n,h),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(n){return this._smoothness=n,this.updateData()},updateData:function(){for(var n=[],h=this.geom.getPoints(this._smoothness),i=0;i<h.length;i++)n.push(h[i].x,h[i].y);return n.push(h[0].x,h[0].y),this.pathIndexes=p(n),this.pathData=n,this}});c.exports=t},7930:(c,x,e)=>{var o=e(65960),p=e(75177),a=e(20926),r=function(s,t,n,h){n.addToRenderList(t);var i=s.currentContext;if(a(s,i,t,n,h)){var l=t._displayOriginX,u=t._displayOriginY,d=t.pathData,f=d.length-1,v=d[0]-l,m=d[1]-u;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-l,T=d[g+1]-u;i.lineTo(y,T)}i.closePath(),t.isFilled&&(o(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};c.exports=r},1543:(c,x,e)=>{var o=e(19921),p=e(39429);p.register("ellipse",function(a,r,s,t,n,h){return this.displayList.add(new o(this.scene,a,r,s,t,n,h))})},54205:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(19467),a=e(7930),c.exports={renderWebGL:p,renderCanvas:a}},19467:(c,x,e)=>{var o=e(10441),p=e(91296),a=e(34682),r=function(s,t,n,h){n.addToRenderList(t);var i=s.pipelines.set(t.pipeline),l=p(t,n,h),u=i.calcMatrix.copyFrom(l.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;s.pipelines.preBatch(t),t.isFilled&&o(i,u,t,v,d,f),t.isStroked&&a(i,t,v,d,f),s.pipelines.postBatch(t)};c.exports=r},30479:(c,x,e)=>{var o=e(83419),p=e(17803),a=e(26015),r=new o({Extends:p,Mixins:[a],initialize:function(t,n,h,i,l,u,d,f,v,m,g){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=128),l===void 0&&(l=128),u===void 0&&(u=32),d===void 0&&(d=32),p.call(this,t,"Grid",null),this.cellWidth=u,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(n,h),this.setSize(i,l),this.setFillStyle(f,v),m!==void 0&&this.setOutlineStyle(m,g),this.updateDisplayOrigin()},setFillStyle:function(s,t){return t===void 0&&(t=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=t,this.showCells=!0),this},setAltFillStyle:function(s,t){return t===void 0&&(t=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=t,this.showAltCells=!0),this},setOutlineStyle:function(s,t){return t===void 0&&(t=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=t,this.showOutline=!0),this}});c.exports=r},49912:(c,x,e)=>{var o=e(65960),p=e(75177),a=e(20926),r=function(s,t,n,h){n.addToRenderList(t);var i=s.currentContext;if(a(s,i,t,n,h)){var l=-t._displayOriginX,u=-t._displayOriginY,d=n.alpha*t.alpha,f=t.width,v=t.height,m=t.cellWidth,g=t.cellHeight,y=Math.ceil(f/m),T=Math.ceil(v/g),C=m,E=g,z=m-(y*m-f),D=g-(T*g-v),A=t.showCells,L=t.showAltCells,b=t.showOutline,F=0,V=0,B=0,N=0,U=0;if(b&&(C--,E--,z===m&&z--,D===g&&D--),A&&t.fillAlpha>0)for(o(i,t),V=0;V<T;V++)for(L&&(B=V%2),F=0;F<y;F++){if(L&&B){B=0;continue}B++,N=F<y-1?C:z,U=V<T-1?E:D,i.fillRect(l+F*m,u+V*g,N,U)}if(L&&t.altFillAlpha>0)for(o(i,t,t.altFillColor,t.altFillAlpha*d),V=0;V<T;V++)for(L&&(B=V%2),F=0;F<y;F++){if(L&&!B){B=1;continue}B=0,N=F<y-1?C:z,U=V<T-1?E:D,i.fillRect(l+F*m,u+V*g,N,U)}if(b&&t.outlineFillAlpha>0){for(p(i,t,t.outlineFillColor,t.outlineFillAlpha*d),F=1;F<y;F++){var I=F*m;i.beginPath(),i.moveTo(I+l,u),i.lineTo(I+l,v+u),i.stroke()}for(V=1;V<T;V++){var H=V*g;i.beginPath(),i.moveTo(l,H+u),i.lineTo(l+f,H+u),i.stroke()}}i.restore()}};c.exports=r},34137:(c,x,e)=>{var o=e(39429),p=e(30479);o.register("grid",function(a,r,s,t,n,h,i,l,u,d){return this.displayList.add(new p(this.scene,a,r,s,t,n,h,i,l,u,d))})},26015:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(46161),a=e(49912),c.exports={renderWebGL:p,renderCanvas:a}},46161:(c,x,e)=>{var o=e(91296),p=e(70554),a=function(r,s,t,n){t.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=o(s,t,n),l=h.calcMatrix.copyFrom(i.calc);l.translate(-s._displayOriginX,-s._displayOriginY);var u=t.alpha*s.alpha,d=s.width,f=s.height,v=s.cellWidth,m=s.cellHeight,g=Math.ceil(d/v),y=Math.ceil(f/m),T=v,C=m,E=v-(g*v-d),z=m-(y*m-f),D,A,L=s.showCells,b=s.showAltCells,F=s.showOutline,V=0,B=0,N=0,U=0,I=0;if(F&&(T--,C--,E===v&&E--,z===m&&z--),r.pipelines.preBatch(s),L&&s.fillAlpha>0)for(D=h.fillTint,A=p.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*u),D.TL=A,D.TR=A,D.BL=A,D.BR=A,B=0;B<y;B++)for(b&&(N=B%2),V=0;V<g;V++){if(b&&N){N=0;continue}N++,U=V<g-1?T:E,I=B<y-1?C:z,h.batchFillRect(V*v,B*m,U,I)}if(b&&s.altFillAlpha>0)for(D=h.fillTint,A=p.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*u),D.TL=A,D.TR=A,D.BL=A,D.BR=A,B=0;B<y;B++)for(b&&(N=B%2),V=0;V<g;V++){if(b&&!N){N=1;continue}N=0,U=V<g-1?T:E,I=B<y-1?C:z,h.batchFillRect(V*v,B*m,U,I)}if(F&&s.outlineFillAlpha>0){var H=h.strokeTint,O=p.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*u);for(H.TL=O,H.TR=O,H.BL=O,H.BR=O,V=1;V<g;V++){var R=V*v;h.batchLine(R,0,R,f,1,1,1,0,!1)}for(B=1;B<y;B++){var Y=B*m;h.batchLine(0,Y,d,Y,1,1,1,0,!1)}}r.pipelines.postBatch(s)};c.exports=a},61475:(c,x,e)=>{var o=e(99651),p=e(83419),a=e(17803),r=new p({Extends:a,Mixins:[o],initialize:function(t,n,h,i,l,u,d,f){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=15658734),d===void 0&&(d=10066329),f===void 0&&(f=13421772),a.call(this,t,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=f,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(n,h),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,t,n){return s===void 0&&(s=!0),t===void 0&&(t=!0),n===void 0&&(n=!0),this.showTop=s,this.showLeft=t,this.showRight=n,this},setFillStyle:function(s,t,n){return this.fillTop=s,this.fillLeft=t,this.fillRight=n,this.isFilled=!0,this}});c.exports=r},11508:(c,x,e)=>{var o=e(65960),p=e(20926),a=function(r,s,t,n){t.addToRenderList(s);var h=r.currentContext;if(p(r,h,s,t,n)&&s.isFilled){var i=s.width,l=s.height,u=i/2,d=i/s.projection;s.showTop&&(o(h,s,s.fillTop),h.beginPath(),h.moveTo(-u,-l),h.lineTo(0,-d-l),h.lineTo(u,-l),h.lineTo(u,-1),h.lineTo(0,d-1),h.lineTo(-u,-1),h.lineTo(-u,-l),h.fill()),s.showLeft&&(o(h,s,s.fillLeft),h.beginPath(),h.moveTo(-u,0),h.lineTo(0,d),h.lineTo(0,d-l),h.lineTo(-u,-l),h.lineTo(-u,0),h.fill()),s.showRight&&(o(h,s,s.fillRight),h.beginPath(),h.moveTo(u,0),h.lineTo(0,d),h.lineTo(0,d-l),h.lineTo(u,-l),h.lineTo(u,0),h.fill()),h.restore()}};c.exports=a},3933:(c,x,e)=>{var o=e(39429),p=e(61475);o.register("isobox",function(a,r,s,t,n,h,i){return this.displayList.add(new p(this.scene,a,r,s,t,n,h,i))})},99651:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(68149),a=e(11508),c.exports={renderWebGL:p,renderCanvas:a}},68149:(c,x,e)=>{var o=e(91296),p=e(70554),a=function(r,s,t,n){t.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=o(s,t,n),l=h.calcMatrix.copyFrom(i.calc),u=s.width,d=s.height,f=u/2,v=u/s.projection,m=t.alpha*s.alpha;if(s.isFilled){var g,y,T,C,E,z,D,A,L;r.pipelines.preBatch(s),s.showTop&&(g=p.getTintAppendFloatAlpha(s.fillTop,m),y=l.getX(-f,-d),T=l.getY(-f,-d),C=l.getX(0,-v-d),E=l.getY(0,-v-d),z=l.getX(f,-d),D=l.getY(f,-d),A=l.getX(0,v-d),L=l.getY(0,v-d),h.batchQuad(s,y,T,C,E,z,D,A,L,0,0,1,1,g,g,g,g,2)),s.showLeft&&(g=p.getTintAppendFloatAlpha(s.fillLeft,m),y=l.getX(-f,0),T=l.getY(-f,0),C=l.getX(0,v),E=l.getY(0,v),z=l.getX(0,v-d),D=l.getY(0,v-d),A=l.getX(-f,-d),L=l.getY(-f,-d),h.batchQuad(s,y,T,C,E,z,D,A,L,0,0,1,1,g,g,g,g,2)),s.showRight&&(g=p.getTintAppendFloatAlpha(s.fillRight,m),y=l.getX(f,0),T=l.getY(f,0),C=l.getX(0,v),E=l.getY(0,v),z=l.getX(0,v-d),D=l.getY(0,v-d),A=l.getX(f,-d),L=l.getY(f,-d),h.batchQuad(s,y,T,C,E,z,D,A,L,0,0,1,1,g,g,g,g,2)),r.pipelines.postBatch(s)}};c.exports=a},16933:(c,x,e)=>{var o=e(83419),p=e(60561),a=e(17803),r=new o({Extends:a,Mixins:[p],initialize:function(t,n,h,i,l,u,d,f,v){n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=!1),d===void 0&&(d=15658734),f===void 0&&(f=10066329),v===void 0&&(v=13421772),a.call(this,t,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=f,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(n,h),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,t,n){return s===void 0&&(s=!0),t===void 0&&(t=!0),n===void 0&&(n=!0),this.showTop=s,this.showLeft=t,this.showRight=n,this},setFillStyle:function(s,t,n){return this.fillTop=s,this.fillLeft=t,this.fillRight=n,this.isFilled=!0,this}});c.exports=r},79590:(c,x,e)=>{var o=e(65960),p=e(20926),a=function(r,s,t,n){t.addToRenderList(s);var h=r.currentContext;if(p(r,h,s,t,n)&&s.isFilled){var i=s.width,l=s.height,u=i/2,d=i/s.projection,f=s.isReversed;s.showTop&&f&&(o(h,s,s.fillTop),h.beginPath(),h.moveTo(-u,-l),h.lineTo(0,-d-l),h.lineTo(u,-l),h.lineTo(0,d-l),h.fill()),s.showLeft&&(o(h,s,s.fillLeft),h.beginPath(),f?(h.moveTo(-u,-l),h.lineTo(0,d),h.lineTo(0,d-l)):(h.moveTo(-u,0),h.lineTo(0,d),h.lineTo(0,d-l)),h.fill()),s.showRight&&(o(h,s,s.fillRight),h.beginPath(),f?(h.moveTo(u,-l),h.lineTo(0,d),h.lineTo(0,d-l)):(h.moveTo(u,0),h.lineTo(0,d),h.lineTo(0,d-l)),h.fill()),h.restore()}};c.exports=a},49803:(c,x,e)=>{var o=e(39429),p=e(16933);o.register("isotriangle",function(a,r,s,t,n,h,i,l){return this.displayList.add(new p(this.scene,a,r,s,t,n,h,i,l))})},60561:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(51503),a=e(79590),c.exports={renderWebGL:p,renderCanvas:a}},51503:(c,x,e)=>{var o=e(91296),p=e(70554),a=function(r,s,t,n){t.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=o(s,t,n),l=h.calcMatrix.copyFrom(i.calc),u=s.width,d=s.height,f=u/2,v=u/s.projection,m=s.isReversed,g=t.alpha*s.alpha;if(s.isFilled){r.pipelines.preBatch(s);var y,T,C,E,z,D,A;if(s.showTop&&m){y=p.getTintAppendFloatAlpha(s.fillTop,g),T=l.getX(-f,-d),C=l.getY(-f,-d),E=l.getX(0,-v-d),z=l.getY(0,-v-d),D=l.getX(f,-d),A=l.getY(f,-d);var L=l.getX(0,v-d),b=l.getY(0,v-d);h.batchQuad(s,T,C,E,z,D,A,L,b,0,0,1,1,y,y,y,y,2)}s.showLeft&&(y=p.getTintAppendFloatAlpha(s.fillLeft,g),m?(T=l.getX(-f,-d),C=l.getY(-f,-d),E=l.getX(0,v),z=l.getY(0,v),D=l.getX(0,v-d),A=l.getY(0,v-d)):(T=l.getX(-f,0),C=l.getY(-f,0),E=l.getX(0,v),z=l.getY(0,v),D=l.getX(0,v-d),A=l.getY(0,v-d)),h.batchTri(s,T,C,E,z,D,A,0,0,1,1,y,y,y,2)),s.showRight&&(y=p.getTintAppendFloatAlpha(s.fillRight,g),m?(T=l.getX(f,-d),C=l.getY(f,-d),E=l.getX(0,v),z=l.getY(0,v),D=l.getX(0,v-d),A=l.getY(0,v-d)):(T=l.getX(f,0),C=l.getY(f,0),E=l.getX(0,v),z=l.getY(0,v),D=l.getX(0,v-d),A=l.getY(0,v-d)),h.batchTri(s,T,C,E,z,D,A,0,0,1,1,y,y,y,2)),r.pipelines.postBatch(s)}};c.exports=a},57847:(c,x,e)=>{var o=e(83419),p=e(17803),a=e(23031),r=e(36823),s=new o({Extends:p,Mixins:[r],initialize:function(n,h,i,l,u,d,f,v,m){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=128),f===void 0&&(f=0),p.call(this,n,"Line",new a(l,u,d,f));var g=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,i),this.setSize(g,y),v!==void 0&&this.setStrokeStyle(1,v,m),this.updateDisplayOrigin()},setLineWidth:function(t,n){return n===void 0&&(n=t),this._startWidth=t,this._endWidth=n,this.lineWidth=t,this},setTo:function(t,n,h,i){return this.geom.setTo(t,n,h,i),this}});c.exports=s},17440:(c,x,e)=>{var o=e(75177),p=e(20926),a=function(r,s,t,n){t.addToRenderList(s);var h=r.currentContext;if(p(r,h,s,t,n)){var i=s._displayOriginX,l=s._displayOriginY;s.isStroked&&(o(h,s),h.beginPath(),h.moveTo(s.geom.x1-i,s.geom.y1-l),h.lineTo(s.geom.x2-i,s.geom.y2-l),h.stroke()),h.restore()}};c.exports=a},2481:(c,x,e)=>{var o=e(39429),p=e(57847);o.register("line",function(a,r,s,t,n,h,i,l){return this.displayList.add(new p(this.scene,a,r,s,t,n,h,i,l))})},36823:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(77385),a=e(17440),c.exports={renderWebGL:p,renderCanvas:a}},77385:(c,x,e)=>{var o=e(91296),p=e(70554),a=function(r,s,t,n){t.addToRenderList(s);var h=r.pipelines.set(s.pipeline),i=o(s,t,n);h.calcMatrix.copyFrom(i.calc);var l=s._displayOriginX,u=s._displayOriginY,d=t.alpha*s.alpha;if(r.pipelines.preBatch(s),s.isStroked){var f=h.strokeTint,v=p.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*d);f.TL=v,f.TR=v,f.BL=v,f.BR=v,h.batchLine(s.geom.x1-l,s.geom.y1-u,s.geom.x2-l,s.geom.y2-u,s._startWidth/2,s._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(s)};c.exports=a},24949:(c,x,e)=>{var o=e(90273),p=e(83419),a=e(94811),r=e(13829),s=e(25717),t=e(17803),n=e(5469),h=new p({Extends:t,Mixins:[o],initialize:function(l,u,d,f,v,m){u===void 0&&(u=0),d===void 0&&(d=0),t.call(this,l,"Polygon",new s(f));var g=r(this.geom);this.setPosition(u,d),this.setSize(g.width,g.height),v!==void 0&&this.setFillStyle(v,m),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var l=0;l<i;l++)n(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var l=r(this.geom);return this.setSize(l.width,l.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],l=this.geom.points,u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});c.exports=h},38710:(c,x,e)=>{var o=e(65960),p=e(75177),a=e(20926),r=function(s,t,n,h){n.addToRenderList(t);var i=s.currentContext;if(a(s,i,t,n,h)){var l=t._displayOriginX,u=t._displayOriginY,d=t.pathData,f=d.length-1,v=d[0]-l,m=d[1]-u;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-l,T=d[g+1]-u;i.lineTo(y,T)}t.closePath&&i.closePath(),t.isFilled&&(o(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};c.exports=r},64827:(c,x,e)=>{var o=e(39429),p=e(24949);o.register("polygon",function(a,r,s,t,n){return this.displayList.add(new p(this.scene,a,r,s,t,n))})},90273:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(73695),a=e(38710),c.exports={renderWebGL:p,renderCanvas:a}},73695:(c,x,e)=>{var o=e(10441),p=e(91296),a=e(34682),r=function(s,t,n,h){n.addToRenderList(t);var i=s.pipelines.set(t.pipeline),l=p(t,n,h),u=i.calcMatrix.copyFrom(l.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;s.pipelines.preBatch(t),t.isFilled&&o(i,u,t,v,d,f),t.isStroked&&a(i,t,v,d,f),s.pipelines.postBatch(t)};c.exports=r},74561:(c,x,e)=>{var o=e(83419),p=e(87841),a=e(17803),r=e(95597),s=new o({Extends:a,Mixins:[r],initialize:function(n,h,i,l,u,d,f){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=128),u===void 0&&(u=128),a.call(this,n,"Rectangle",new p(0,0,l,u)),this.setPosition(h,i),this.setSize(l,u),d!==void 0&&this.setFillStyle(d,f),this.updateDisplayOrigin(),this.updateData()},setSize:function(t,n){this.width=t,this.height=n,this.geom.setSize(t,n),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=t,h.hitArea.height=n),this},updateData:function(){var t=[],n=this.geom,h=this._tempLine;return n.getLineA(h),t.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),t.push(h.x2,h.y2),n.getLineC(h),t.push(h.x2,h.y2),n.getLineD(h),t.push(h.x2,h.y2),this.pathData=t,this}});c.exports=s},48682:(c,x,e)=>{var o=e(65960),p=e(75177),a=e(20926),r=function(s,t,n,h){n.addToRenderList(t);var i=s.currentContext;if(a(s,i,t,n,h)){var l=t._displayOriginX,u=t._displayOriginY;t.isFilled&&(o(i,t),i.fillRect(-l,-u,t.width,t.height)),t.isStroked&&(p(i,t),i.beginPath(),i.rect(-l,-u,t.width,t.height),i.stroke()),i.restore()}};c.exports=r},87959:(c,x,e)=>{var o=e(39429),p=e(74561);o.register("rectangle",function(a,r,s,t,n,h){return this.displayList.add(new p(this.scene,a,r,s,t,n,h))})},95597:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(52059),a=e(48682),c.exports={renderWebGL:p,renderCanvas:a}},52059:(c,x,e)=>{var o=e(91296),p=e(34682),a=e(70554),r=function(s,t,n,h){n.addToRenderList(t);var i=s.pipelines.set(t.pipeline),l=o(t,n,h);i.calcMatrix.copyFrom(l.calc);var u=t._displayOriginX,d=t._displayOriginY,f=n.alpha*t.alpha;if(s.pipelines.preBatch(t),t.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*f);v.TL=m,v.TR=m,v.BL=m,v.BR=m,i.batchFillRect(-u,-d,t.width,t.height)}t.isStroked&&p(i,t,f,u,d),s.pipelines.postBatch(t)};c.exports=r},55911:(c,x,e)=>{var o=e(81991),p=e(83419),a=e(94811),r=e(17803),s=new p({Extends:r,Mixins:[o],initialize:function(n,h,i,l,u,d,f,v){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=5),u===void 0&&(u=32),d===void 0&&(d=64),r.call(this,n,"Star",null),this._points=l,this._innerRadius=u,this._outerRadius=d,this.setPosition(h,i),this.setSize(d*2,d*2),f!==void 0&&this.setFillStyle(f,v),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t=[],n=this._points,h=this._innerRadius,i=this._outerRadius,l=Math.PI/2*3,u=Math.PI/n,d=i,f=i;t.push(d,f+-i);for(var v=0;v<n;v++)t.push(d+Math.cos(l)*i,f+Math.sin(l)*i),l+=u,t.push(d+Math.cos(l)*h,f+Math.sin(l)*h),l+=u;return t.push(d,f+-i),this.pathIndexes=a(t),this.pathData=t,this}});c.exports=s},64272:(c,x,e)=>{var o=e(65960),p=e(75177),a=e(20926),r=function(s,t,n,h){n.addToRenderList(t);var i=s.currentContext;if(a(s,i,t,n,h)){var l=t._displayOriginX,u=t._displayOriginY,d=t.pathData,f=d.length-1,v=d[0]-l,m=d[1]-u;i.beginPath(),i.moveTo(v,m),t.closePath||(f-=2);for(var g=2;g<f;g+=2){var y=d[g]-l,T=d[g+1]-u;i.lineTo(y,T)}i.closePath(),t.isFilled&&(o(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};c.exports=r},93697:(c,x,e)=>{var o=e(55911),p=e(39429);p.register("star",function(a,r,s,t,n,h,i){return this.displayList.add(new o(this.scene,a,r,s,t,n,h,i))})},81991:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(57017),a=e(64272),c.exports={renderWebGL:p,renderCanvas:a}},57017:(c,x,e)=>{var o=e(10441),p=e(91296),a=e(34682),r=function(s,t,n,h){n.addToRenderList(t);var i=s.pipelines.set(t.pipeline),l=p(t,n,h),u=i.calcMatrix.copyFrom(l.calc),d=t._displayOriginX,f=t._displayOriginY,v=n.alpha*t.alpha;s.pipelines.preBatch(t),t.isFilled&&o(i,u,t,v,d,f),t.isStroked&&a(i,t,v,d,f),s.pipelines.postBatch(t)};c.exports=r},36931:(c,x,e)=>{var o=e(83419),p=e(17803),a=e(16483),r=e(96195),s=new o({Extends:p,Mixins:[r],initialize:function(n,h,i,l,u,d,f,v,m,g,y){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),d===void 0&&(d=64),f===void 0&&(f=0),v===void 0&&(v=128),m===void 0&&(m=128),p.call(this,n,"Triangle",new a(l,u,d,f,v,m));var T=this.geom.right-this.geom.left,C=this.geom.bottom-this.geom.top;this.setPosition(h,i),this.setSize(T,C),g!==void 0&&this.setFillStyle(g,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(t,n,h,i,l,u){return this.geom.setTo(t,n,h,i,l,u),this.updateData()},updateData:function(){var t=[],n=this.geom,h=this._tempLine;return n.getLineA(h),t.push(h.x1,h.y1,h.x2,h.y2),n.getLineB(h),t.push(h.x2,h.y2),n.getLineC(h),t.push(h.x2,h.y2),this.pathData=t,this}});c.exports=s},85172:(c,x,e)=>{var o=e(65960),p=e(75177),a=e(20926),r=function(s,t,n,h){n.addToRenderList(t);var i=s.currentContext;if(a(s,i,t,n,h)){var l=t._displayOriginX,u=t._displayOriginY,d=t.geom.x1-l,f=t.geom.y1-u,v=t.geom.x2-l,m=t.geom.y2-u,g=t.geom.x3-l,y=t.geom.y3-u;i.beginPath(),i.moveTo(d,f),i.lineTo(v,m),i.lineTo(g,y),i.closePath(),t.isFilled&&(o(i,t),i.fill()),t.isStroked&&(p(i,t),i.stroke()),i.restore()}};c.exports=r},45245:(c,x,e)=>{var o=e(39429),p=e(36931);o.register("triangle",function(a,r,s,t,n,h,i,l,u,d){return this.displayList.add(new p(this.scene,a,r,s,t,n,h,i,l,u,d))})},96195:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(83253),a=e(85172),c.exports={renderWebGL:p,renderCanvas:a}},83253:(c,x,e)=>{var o=e(91296),p=e(34682),a=e(70554),r=function(s,t,n,h){n.addToRenderList(t);var i=s.pipelines.set(t.pipeline),l=o(t,n,h);i.calcMatrix.copyFrom(l.calc);var u=t._displayOriginX,d=t._displayOriginY,f=n.alpha*t.alpha;if(s.pipelines.preBatch(t),t.isFilled){var v=i.fillTint,m=a.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*f);v.TL=m,v.TR=m,v.BL=m,v.BR=m;var g=t.geom.x1-u,y=t.geom.y1-d,T=t.geom.x2-u,C=t.geom.y2-d,E=t.geom.x3-u,z=t.geom.y3-d;i.batchFillTriangle(g,y,T,C,E,z,l.sprite,l.camera)}t.isStroked&&p(i,t,f,u,d),s.pipelines.postBatch(t)};c.exports=r},68287:(c,x,e)=>{var o=e(9674),p=e(83419),a=e(31401),r=e(95643),s=e(92751),t=new p({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,s],initialize:function(h,i,l,u,d){r.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(u,d),this.setPosition(i,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,h){this.anims.update(n,h)},play:function(n,h){return this.anims.play(n,h)},playReverse:function(n,h){return this.anims.playReverse(n,h)},playAfterDelay:function(n,h){return this.anims.playAfterDelay(n,h)},playAfterRepeat:function(n,h){return this.anims.playAfterRepeat(n,h)},chain:function(n){return this.anims.chain(n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(n){return this.anims.stopAfterDelay(n)},stopAfterRepeat:function(n){return this.anims.stopAfterRepeat(n)},stopOnFrame:function(n){return this.anims.stopOnFrame(n)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});c.exports=t},76552:c=>{var x=function(e,o,p,a){p.addToRenderList(o),e.batchSprite(o,o.frame,p,a)};c.exports=x},15567:(c,x,e)=>{var o=e(25305),p=e(13059),a=e(44603),r=e(23568),s=e(68287);a.register("sprite",function(t,n){t===void 0&&(t={});var h=r(t,"key",null),i=r(t,"frame",null),l=new s(this.scene,0,0,h,i);return n!==void 0&&(t.add=n),o(this.scene,l,t),p(l,t),l})},46409:(c,x,e)=>{var o=e(39429),p=e(68287);o.register("sprite",function(a,r,s,t){return this.displayList.add(new p(this.scene,a,r,s,t))})},92751:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(9409),a=e(76552),c.exports={renderWebGL:p,renderCanvas:a}},9409:c=>{var x=function(e,o,p,a){p.addToRenderList(o),o.pipeline.batchSprite(o,p,a)};c.exports=x},14220:c=>{var x=function(e,o,p){var a=e.canvas,r=e.context,s=e.style,t=[],n=0,h=p.length;s.maxLines>0&&s.maxLines<p.length&&(h=s.maxLines),s.syncFont(a,r);for(var i=e.letterSpacing,l=0;l<h;l++){var u=s.strokeThickness;if(i===0)u+=r.measureText(p[l]).width;else{for(var d=p[l],f=0;f<d.length;f++)u+=r.measureText(d[f]).width;d.length>1&&(u+=i*(d.length-1))}s.wordWrap&&(u-=r.measureText(" ").width),t[l]=Math.ceil(u),n=Math.max(n,t[l])}var v=o.fontSize+s.strokeThickness,m=v*h,g=e.lineSpacing;return h>1&&(m+=g*(h-1)),{width:n,height:m,lines:h,lineWidths:t,lineSpacing:g,lineHeight:v}};c.exports=x},79557:(c,x,e)=>{var o=e(27919),p=function(a){var r=o.create(this),s=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,s);var t=s.measureText(a.testString);if("actualBoundingBoxAscent"in t){var n=t.actualBoundingBoxAscent,h=t.actualBoundingBoxDescent;return o.remove(r),{ascent:n,descent:h,fontSize:n+h}}var i=Math.ceil(t.width*a.baselineX),l=i,u=2*l;l=l*a.baselineY|0,r.width=i,r.height=u,s.fillStyle="#f00",s.fillRect(0,0,i,u),s.font=a._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a.testString,0,l);var d={ascent:0,descent:0,fontSize:0},f=s.getImageData(0,0,i,u);if(!f)return d.ascent=l,d.descent=l+6,d.fontSize=d.ascent+d.descent,o.remove(r),d;var v=f.data,m=v.length,g=i*4,y,T,C=0,E=!1;for(y=0;y<l;y++){for(T=0;T<g;T+=4)if(v[C+T]!==255){E=!0;break}if(!E)C+=g;else break}for(d.ascent=l-y,C=m-g,E=!1,y=u;y>l;y--){for(T=0;T<g;T+=4)if(v[C+T]!==255){E=!0;break}if(!E)C-=g;else break}return d.descent=y-l,d.fontSize=d.ascent+d.descent,o.remove(r),d};c.exports=p},50171:(c,x,e)=>{var o=e(40366),p=e(27919),a=e(83419),r=e(31401),s=e(95643),t=e(14220),n=e(35154),h=e(35846),i=e(61771),l=e(35762),u=e(45650),d=new a({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(v,m,g,y,T){m===void 0&&(m=0),g===void 0&&(g=0),s.call(this,v,"Text"),this.renderer=v.sys.renderer,this.setPosition(m,g),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new l(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(y),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(f){var v=this.style;if(v.wordWrapCallback){var m=v.wordWrapCallback.call(v.wordWrapCallbackScope,f,this);return Array.isArray(m)&&(m=m.join(`
`)),m}else return v.wordWrapWidth?v.wordWrapUseAdvanced?this.advancedWordWrap(f,this.context,this.style.wordWrapWidth):this.basicWordWrap(f,this.context,this.style.wordWrapWidth):f},advancedWordWrap:function(f,v,m){for(var g="",y=f.replace(/ +/gi," ").split(this.splitRegExp),T=y.length,C=0;C<T;C++){var E=y[C],z="";E=E.replace(/^ *|\s*$/gi,"");var D=v.measureText(E).width;if(D<m){g+=E+`
`;continue}for(var A=m,L=E.split(" "),b=0;b<L.length;b++){var F=L[b],V=F+" ",B=v.measureText(V).width;if(B>A){if(b===0){for(var N=V;N.length&&(N=N.slice(0,-1),B=v.measureText(N).width,!(B<=A)););if(!N.length)throw new Error("wordWrapWidth < a single character");var U=F.substr(N.length);L[b]=U,z+=N}var I=L[b].length?b:b+1,H=L.slice(I).join(" ").replace(/[ \n]*$/gi,"");y.splice(C+1,0,H),T=y.length;break}else z+=V,A-=B}g+=z.replace(/[ \n]*$/gi,"")+`
`}return g=g.replace(/[\s|\n]*$/gi,""),g},basicWordWrap:function(f,v,m){for(var g="",y=f.split(this.splitRegExp),T=y.length-1,C=v.measureText(" ").width,E=0;E<=T;E++){for(var z=m,D=y[E].split(" "),A=D.length-1,L=0;L<=A;L++){var b=D[L],F=v.measureText(b).width,V=F;L<A&&(V+=C),V>z&&L>0&&(g+=`
`,z=m),g+=b,L<A?(g+=" ",z-=V):z-=F}E<T&&(g+=`
`)}return g},getWrappedText:function(f){f===void 0&&(f=this._text),this.style.syncFont(this.canvas,this.context);var v=this.runWordWrap(f);return v.split(this.splitRegExp)},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this._text&&(this._text=f.toString(),this.updateText()),this},appendText:function(f,v){v===void 0&&(v=!0),!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f=f.toString();var m=this._text.concat(v?`
`+f:f);return m!==this._text&&(this._text=m,this.updateText()),this},setStyle:function(f){return this.style.setStyle(f)},setFont:function(f){return this.style.setFont(f)},setFontFamily:function(f){return this.style.setFontFamily(f)},setFontSize:function(f){return this.style.setFontSize(f)},setFontStyle:function(f){return this.style.setFontStyle(f)},setFixedSize:function(f,v){return this.style.setFixedSize(f,v)},setBackgroundColor:function(f){return this.style.setBackgroundColor(f)},setFill:function(f){return this.style.setFill(f)},setColor:function(f){return this.style.setColor(f)},setStroke:function(f,v){return this.style.setStroke(f,v)},setShadow:function(f,v,m,g,y,T){return this.style.setShadow(f,v,m,g,y,T)},setShadowOffset:function(f,v){return this.style.setShadowOffset(f,v)},setShadowColor:function(f){return this.style.setShadowColor(f)},setShadowBlur:function(f){return this.style.setShadowBlur(f)},setShadowStroke:function(f){return this.style.setShadowStroke(f)},setShadowFill:function(f){return this.style.setShadowFill(f)},setWordWrapWidth:function(f,v){return this.style.setWordWrapWidth(f,v)},setWordWrapCallback:function(f,v){return this.style.setWordWrapCallback(f,v)},setAlign:function(f){return this.style.setAlign(f)},setResolution:function(f){return this.style.setResolution(f)},setLineSpacing:function(f){return this.lineSpacing=f,this.updateText()},setLetterSpacing:function(f){return this.letterSpacing=f,this.updateText()},setPadding:function(f,v,m,g){if(typeof f=="object"){var y=f,T=n(y,"x",null);T!==null?(f=T,m=T):(f=n(y,"left",0),m=n(y,"right",f));var C=n(y,"y",null);C!==null?(v=C,g=C):(v=n(y,"top",0),g=n(y,"bottom",v))}else f===void 0&&(f=0),v===void 0&&(v=f),m===void 0&&(m=f),g===void 0&&(g=v);return this.padding.left=f,this.padding.top=v,this.padding.right=m,this.padding.bottom=g,this.updateText()},setMaxLines:function(f){return this.style.setMaxLines(f)},setRTL:function(f){f===void 0&&(f=!0);var v=this.style;return v.rtl===f?this:(v.rtl=f,f?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),v.align==="left"?v.align="right":v.align==="right"&&(v.align="left"),this)},updateText:function(){var f=this.canvas,v=this.context,m=this.style,g=m.resolution,y=m.metrics;m.syncFont(f,v);var T=this._text;(m.wordWrapWidth||m.wordWrapCallback)&&(T=this.runWordWrap(this._text));var C=T.split(this.splitRegExp),E=t(this,y,C),z=this.padding,D;m.fixedWidth===0?(this.width=E.width+z.left+z.right,D=E.width):(this.width=m.fixedWidth,D=this.width-z.left-z.right,D<E.width&&(D=E.width)),m.fixedHeight===0?this.height=E.height+z.top+z.bottom:this.height=m.fixedHeight;var A=this.width,L=this.height;this.updateDisplayOrigin(),A*=g,L*=g,A=Math.max(A,1),L=Math.max(L,1),f.width!==A||f.height!==L?(f.width=A,f.height=L,this.frame.setSize(A,L),m.syncFont(f,v),m.rtl&&(v.direction="rtl")):v.clearRect(0,0,A,L),v.save(),v.scale(g,g),m.backgroundColor&&(v.fillStyle=m.backgroundColor,v.fillRect(0,0,A,L)),m.syncStyle(f,v),v.translate(z.left,z.top);for(var b,F,V=0;V<E.lines;V++){if(b=m.strokeThickness/2,F=m.strokeThickness/2+V*E.lineHeight+y.ascent,V>0&&(F+=E.lineSpacing*V),m.rtl)b=A-b-z.left-z.right;else if(m.align==="right")b+=D-E.lineWidths[V];else if(m.align==="center")b+=(D-E.lineWidths[V])/2;else if(m.align==="justify"){var B=.85;if(E.lineWidths[V]/E.width>=B){var N=E.width-E.lineWidths[V],U=v.measureText(" ").width,I=C[V].trim(),H=I.split(" ");N+=(C[V].length-I.length)*U;for(var O=Math.floor(N/U),R=0;O>0;)H[R]+=" ",R=(R+1)%(H.length-1||1),--O;C[V]=H.join(" ")}}this.autoRound&&(b=Math.round(b),F=Math.round(F));var Y=this.letterSpacing;if(m.strokeThickness&&Y===0&&(m.syncShadow(v,m.shadowStroke),v.strokeText(C[V],b,F)),m.color)if(m.syncShadow(v,m.shadowFill),Y!==0)for(var G=0,k=C[V].split(""),W=0;W<k.length;W++)m.strokeThickness&&(m.syncShadow(v,m.shadowStroke),v.strokeText(k[W],b+G,F),m.syncShadow(v,m.shadowFill)),v.fillText(k[W],b+G,F),G+=v.measureText(k[W]).width+Y;else v.fillText(C[V],b,F)}v.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0));var X=this.input;return X&&!X.customHitArea&&(X.hitArea.width=this.width,X.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(f){this.setText(f)}},toJSON:function(){var f=r.ToJSON(this),v={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return f.data=v,f},preDestroy:function(){h(this.canvas),p.remove(this.canvas);var f=this.texture;f&&f.destroy()}});c.exports=d},79724:c=>{var x=function(e,o,p,a){o.width===0||o.height===0||(p.addToRenderList(o),e.batchSprite(o,o.frame,p,a))};c.exports=x},71259:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(50171);p.register("text",function(s,t){s===void 0&&(s={});var n=a(s,"text",""),h=a(s,"style",null),i=a(s,"padding",null);i!==null&&(h.padding=i);var l=new r(this.scene,0,0,n,h);return t!==void 0&&(s.add=t),o(this.scene,l,s),l.autoRound=a(s,"autoRound",!0),l.resolution=a(s,"resolution",1),l})},68005:(c,x,e)=>{var o=e(50171),p=e(39429);p.register("text",function(a,r,s,t){return this.displayList.add(new o(this.scene,a,r,s,t))})},61771:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(34397),a=e(79724),c.exports={renderWebGL:p,renderCanvas:a}},35762:(c,x,e)=>{var o=e(83419),p=e(23568),a=e(35154),r=e(79557),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},t=new o({initialize:function(h,i){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(n,h,i){h===void 0&&(h=!0),i===void 0&&(i=!1);for(var l in s){var u=i?s[l][1]:this[l];l==="wordWrapCallback"||l==="wordWrapCallbackScope"?this[l]=a(n,s[l][0],u):n&&l==="fontSize"&&typeof n.fontSize=="number"?this[l]=n.fontSize.toString()+"px":this[l]=p(n,s[l][0],u)}var d=a(n,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var f=a(n,"fill",null);f!==null&&(this.color=f);var v=a(n,"metrics",!1);return v?this.metrics={ascent:a(v,"ascent",0),descent:a(v,"descent",0),fontSize:a(v,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=r(this)),h?this.parent.updateText():this.parent},syncFont:function(n,h){h.font=this._font},syncStyle:function(n,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(n,h){h?(n.shadowOffsetX=this.shadowOffsetX,n.shadowOffsetY=this.shadowOffsetY,n.shadowColor=this.shadowColor,n.shadowBlur=this.shadowBlur):(n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=0,n.shadowBlur=0)},update:function(n){return n&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(n,h){h===void 0&&(h=!0);var i=n,l="",u="";if(typeof n!="string")i=a(n,"fontFamily","Courier"),l=a(n,"fontSize","16px"),u=a(n,"fontStyle","");else{var d=n.split(" "),f=0;u=d.length>2?d[f++]:"",l=d[f++]||"16px",i=d[f++]||"Courier"}return(i!==this.fontFamily||l!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=l,this.fontStyle=u,h&&this.update(!0)),this.parent},setFontFamily:function(n){return this.fontFamily!==n&&(this.fontFamily=n,this.update(!0)),this.parent},setFontStyle:function(n){return this.fontStyle!==n&&(this.fontStyle=n,this.update(!0)),this.parent},setFontSize:function(n){return typeof n=="number"&&(n=n.toString()+"px"),this.fontSize!==n&&(this.fontSize=n,this.update(!0)),this.parent},setTestString:function(n){return this.testString=n,this.update(!0)},setFixedSize:function(n,h){return this.fixedWidth=n,this.fixedHeight=h,n&&(this.parent.width=n),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(n){return this.backgroundColor=n,this.update(!1)},setFill:function(n){return this.color=n,this.update(!1)},setColor:function(n){return this.color=n,this.update(!1)},setResolution:function(n){return this.resolution=n,this.update(!1)},setStroke:function(n,h){return h===void 0&&(h=this.strokeThickness),n===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==n||this.strokeThickness!==h)&&(this.stroke=n,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(n,h,i,l,u,d){return n===void 0&&(n=0),h===void 0&&(h=0),i===void 0&&(i="#000"),l===void 0&&(l=0),u===void 0&&(u=!1),d===void 0&&(d=!0),this.shadowOffsetX=n,this.shadowOffsetY=h,this.shadowColor=i,this.shadowBlur=l,this.shadowStroke=u,this.shadowFill=d,this.update(!1)},setShadowOffset:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this.shadowOffsetX=n,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(n){return n===void 0&&(n="#000"),this.shadowColor=n,this.update(!1)},setShadowBlur:function(n){return n===void 0&&(n=0),this.shadowBlur=n,this.update(!1)},setShadowStroke:function(n){return this.shadowStroke=n,this.update(!1)},setShadowFill:function(n){return this.shadowFill=n,this.update(!1)},setWordWrapWidth:function(n,h){return h===void 0&&(h=!1),this.wordWrapWidth=n,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(n,h){return h===void 0&&(h=null),this.wordWrapCallback=n,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(n){return n===void 0&&(n="left"),this.align=n,this.update(!1)},setMaxLines:function(n){return n===void 0&&(n=0),this.maxLines=n,this.update(!1)},getTextMetrics:function(){var n=this.metrics;return{ascent:n.ascent,descent:n.descent,fontSize:n.fontSize}},toJSON:function(){var n={};for(var h in s)n[h]=this[h];return n.metrics=this.getTextMetrics(),n},destroy:function(){this.parent=void 0}});c.exports=t},34397:(c,x,e)=>{var o=e(70554),p=function(a,r,s,t){if(!(r.width===0||r.height===0)){s.addToRenderList(r);var n=r.frame,h=n.width,i=n.height,l=o.getTintAppendFloatAlpha,u=a.pipelines.set(r.pipeline,r),d=u.setTexture2D(n.glTexture,r);u.batchTexture(r,n.glTexture,h,i,r.x,r.y,h/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,i,l(r.tintTopLeft,s.alpha*r._alphaTL),l(r.tintTopRight,s.alpha*r._alphaTR),l(r.tintBottomLeft,s.alpha*r._alphaBL),l(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,0,0,s,t,!1,d)}};c.exports=p},20839:(c,x,e)=>{var o=e(27919),p=e(83419),a=e(31401),r=e(95643),s=e(98439),t=e(68703),n=e(56295),h=e(45650),i=e(26099),l=8,u=new p({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,n],initialize:function(f,v,m,g,y,T,C){var E=f.sys.renderer;r.call(this,f,"TileSprite");var z=f.sys.textures.get(T),D=z.get(C);D.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),z=f.sys.textures.get("__MISSING"),D=z.get()),z.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),z=f.sys.textures.get("__MISSING"),D=z.get()),!g||!y?(g=g||D.width,y=y||D.height):(g=Math.floor(g),y=Math.floor(y)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=E,this.canvas=o.create(this,g,y),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=z,this.displayFrame=D,this._crop=this.resetCropObject(),this._textureKey=h(),this.texture=f.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=s(D.width),this.potHeight=s(D.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(v,m),this.setSize(g,y),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,f){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(f)},setFrame:function(d){var f=this.displayTexture.get(d);return this.potWidth=s(f.width),this.potHeight=s(f.height),this.canvas.width=0,!f.cutWidth||!f.cutHeight?this.renderFlags&=~l:this.renderFlags|=l,this.displayFrame=f,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,f){return d!==void 0&&(this.tilePositionX=d),f!==void 0&&(this.tilePositionY=f),this},setTileScale:function(d,f){return d===void 0&&(d=this.tileScaleX),f===void 0&&(f=d),this.tileScaleX=d,this.tileScaleY=f,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var f=this.fillContext,v=this.fillCanvas,m=this.potWidth,g=this.potHeight;(!this.renderer||!this.renderer.gl)&&(m=d.cutWidth,g=d.cutHeight),f.clearRect(0,0,m,g),v.width=m,v.height=g,f.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,m,g),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(v,this.fillPattern):this.fillPattern=f.createPattern(v,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var f=this.context;this.scene.sys.game.config.antialias||t.disable(f);var v=this._tileScale.x,m=this._tileScale.y,g=this._tilePosition.x,y=this._tilePosition.y;f.clearRect(0,0,this.width,this.height),f.save(),f.scale(v,m),f.translate(-g,-y),f.fillStyle=this.fillPattern,f.fillRect(g,y,this.width/v,this.height/m),f.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});c.exports=u},46992:c=>{var x=function(e,o,p,a){o.updateCanvas(),p.addToRenderList(o),e.batchSprite(o,o.frame,p,a)};c.exports=x},14167:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(20839);p.register("tileSprite",function(s,t){s===void 0&&(s={});var n=a(s,"x",0),h=a(s,"y",0),i=a(s,"width",512),l=a(s,"height",512),u=a(s,"key",""),d=a(s,"frame",""),f=new r(this.scene,n,h,i,l,u,d);return t!==void 0&&(s.add=t),o(this.scene,f,s),f})},91681:(c,x,e)=>{var o=e(20839),p=e(39429);p.register("tileSprite",function(a,r,s,t,n,h){return this.displayList.add(new o(this.scene,a,r,s,t,n,h))})},56295:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(18553),a=e(46992),c.exports={renderWebGL:p,renderCanvas:a}},18553:(c,x,e)=>{var o=e(70554),p=function(a,r,s,t){r.updateCanvas();var n=r.width,h=r.height;if(!(n===0||h===0)){s.addToRenderList(r);var i=o.getTintAppendFloatAlpha,l=a.pipelines.set(r.pipeline,r),u=l.setTexture2D(r.fillPattern,r);l.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,n,h,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*n,r.originY*h,0,0,n,h,i(r.tintTopLeft,s.alpha*r._alphaTL),i(r.tintTopRight,s.alpha*r._alphaTR),i(r.tintBottomLeft,s.alpha*r._alphaBL),i(r.tintBottomRight,s.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,s,t,!1,u)}};c.exports=p},18471:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(31401),r=e(51708),s=e(8443),t=e(95643),n=e(36383),h=e(14463),i=e(45650),l=e(10247),u=new p({Extends:t,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,l],initialize:function(f,v,m,g){t.call(this,f,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var y=f.sys.game;this._device=y.device.video,this.setPosition(v,m),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),y.events.on(s.PAUSE,this.globalPause,this),y.events.on(s.RESUME,this.globalResume,this);var T=f.sys.sound;T&&T.on(h.GLOBAL_MUTE,this.globalMute,this),g&&this.load(g)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var f=this.scene.sys.cache.video.get(d);return f?(this.cacheKey=d,this.loadHandler(f.url,f.noAudio,f.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,f,v,m,g){f===void 0&&(f=!0),v===void 0&&(v=!1),this.cacheKey!==d&&(this.load(d),f&&this.play(v,m,g))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,f,v){f===void 0&&(f=!1);var m=this._device.getVideoURL(d);return m?(this.cacheKey="",this.loadHandler(m.url,f,v)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,f,v){return this.loadHandler(null,f,v,d)},loadHandler:function(d,f,v,m){f||(f=!1);var g=this.video;if(g?(this.removeLoadEventHandlers(),this.stop()):(g=document.createElement("video"),g.controls=!1,g.setAttribute("playsinline","playsinline"),g.setAttribute("preload","auto"),g.setAttribute("disablePictureInPicture","true")),f?(g.muted=!0,g.defaultMuted=!0,g.setAttribute("autoplay","autoplay")):(g.muted=!1,g.defaultMuted=!1,g.removeAttribute("autoplay")),v?g.setAttribute("crossorigin",v):g.removeAttribute("crossorigin"),m)if("srcObject"in g)try{g.srcObject=m}catch(T){if(T.name!=="TypeError")throw T;g.src=URL.createObjectURL(m)}else g.src=URL.createObjectURL(m);else g.src=d;this.retry=0,this.video=g,this._playCalled=!1,g.load(),this.addLoadEventHandlers();var y=this.scene.sys.textures.get(this._key);return this.setTexture(y),this},requestVideoFrame:function(d,f){var v=this.video;if(v){var m=f.width,g=f.height,y=this.videoTexture,T=this.videoTextureSource,C=!y||T.source!==v;C?(this._codePaused=v.paused,this._codeMuted=v.muted,y?(T.source=v,T.width=m,T.height=g,y.get().setSize(m,g)):(y=this.scene.sys.textures.create(this._key,v,m,g),y.add("__BASE",0,0,0,m,g),this.setTexture(y),this.videoTexture=y,this.videoTextureSource=y.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,y)),this.setSizeToFrame(),this.updateDisplayOrigin()):T.update(),this.isStalled=!1,this.metadata=f;var E=f.mediaTime;C&&(this._lastUpdate=E,this.emit(r.VIDEO_CREATED,this,m,g),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?E>=this._markerOut&&(v.loop?(v.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):E<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=E,this._getFrame?(this.removeEventHandlers(),v.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,f,v){f===void 0&&(f=-1),v===void 0&&(v=n.MAX_SAFE_INTEGER);var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(d===void 0&&(d=m.loop),m.loop=d,this._markerIn=f,this._markerOut=v,this._playingMarker=f>-1&&v>f&&v<n.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var v in f)d.addEventListener(v,f[v])}},removeEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var v in f)d.removeEventListener(v,f[v])}},createPlayPromise:function(d){d===void 0&&(d=!0);var f=this.video,v=f.play();if(v!==void 0){var m=this.playSuccess.bind(this),g=this.playError.bind(this);if(!d){var y=this;g=function(){y.failedPlayAttempts++}}v.then(m).catch(g)}else f.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,f,v){return!isNaN(f)&&f>=0&&!isNaN(v)&&v>f&&(this.markers[d]=[f,v]),this},playMarker:function(d,f){var v=this.markers[d];return v&&this.play(f,v[0],v[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,f){return d===void 0&&(d=this.width),f===void 0&&(f=this.height),this.snapshotArea(0,0,this.width,this.height,d,f)},snapshotArea:function(d,f,v,m,g,y){d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=this.width),m===void 0&&(m=this.height),g===void 0&&(g=v),y===void 0&&(y=m);var T=this.video,C=this.snapshotTexture;return C?(C.setSize(g,y),T&&C.context.drawImage(T,d,f,v,m,0,0,g,y)):(C=this.scene.sys.textures.createCanvas(i(),g,y),this.snapshotTexture=C,T&&C.context.drawImage(T,d,f,v,m,0,0,g,y)),C.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var f=d.name;f==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):f==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(r.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(r.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(d,f){var v=this.video;!v||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=f,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var f=this.video;if(f){var v=f.duration;if(v!==1/0&&!isNaN(v)){var m=v*d;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var f=this.video;if(f){if(typeof d=="string"){var v=d[0],m=parseFloat(d.substr(1));v==="+"?d=f.currentTime+m:v==="-"&&(d=f.currentTime-m)}f.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var f=d.duration;if(f!==1/0&&!isNaN(f))return d.currentTime/f}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var f=this.video;return f&&(f.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,f){this._systemMuted=f;var v=this.video;v&&(v.muted=this._codeMuted?!0:f)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var f=this.video;return this._codePaused=d,f&&!f.ended&&(d?f.paused||(this.removeEventHandlers(),f.pause()):d||(this._playCalled?f.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=o(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,f){return f===void 0&&(f=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(f)),this._key=d,this.flipY=f,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var f=this.video;return f&&(this.removeEventHandlers(),f.cancelVideoFrameCallback(this._rfvCallbackId),f.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(s.PAUSE,this.globalPause,this),d.off(s.RESUME,this.globalResume,this);var f=this.scene.sys.sound;f&&f.off(h.GLOBAL_MUTE,this.globalMute,this)}});c.exports=u},58352:c=>{var x=function(e,o,p,a){o.videoTexture&&(p.addToRenderList(o),e.batchSprite(o,o.frame,p,a))};c.exports=x},11511:(c,x,e)=>{var o=e(25305),p=e(44603),a=e(23568),r=e(18471);p.register("video",function(s,t){s===void 0&&(s={});var n=a(s,"key",null),h=new r(this.scene,0,0,n);return t!==void 0&&(s.add=t),o(this.scene,h,s),h})},89025:(c,x,e)=>{var o=e(18471),p=e(39429);p.register("video",function(a,r,s){return this.displayList.add(new o(this.scene,a,r,s))})},10247:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(29849),a=e(58352),c.exports={renderWebGL:p,renderCanvas:a}},29849:c=>{var x=function(e,o,p,a){o.videoTexture&&(p.addToRenderList(o),o.pipeline.batchSprite(o,p,a))};c.exports=x},41481:(c,x,e)=>{var o=e(10312),p=e(96503),a=e(87902),r=e(83419),s=e(31401),t=e(95643),n=e(87841),h=e(37303),i=new r({Extends:t,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(u,d,f,v,m){v===void 0&&(v=1),m===void 0&&(m=v),t.call(this,u,"Zone"),this.setPosition(d,f),this.width=v,this.height=m,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,u,d){d===void 0&&(d=!0),this.width=l,this.height=u,this.updateDisplayOrigin();var f=this.input;return d&&f&&!f.customHitArea&&(f.hitArea.width=l,f.hitArea.height=u),this},setDisplaySize:function(l,u){return this.displayWidth=l,this.displayHeight=u,this},setCircleDropZone:function(l){return this.setDropZone(new p(0,0,l),a)},setRectangleDropZone:function(l,u){return this.setDropZone(new n(0,0,l,u),h)},setDropZone:function(l,u){return this.input||this.setInteractive(l,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(l,u,d){d.addToRenderList(u)},renderWebGL:function(l,u,d){d.addToRenderList(u)}});c.exports=i},95261:(c,x,e)=>{var o=e(44603),p=e(23568),a=e(41481);o.register("zone",function(r){var s=p(r,"x",0),t=p(r,"y",0),n=p(r,"width",1),h=p(r,"height",n);return new a(this.scene,s,t,n,h)})},84175:(c,x,e)=>{var o=e(41481),p=e(39429);p.register("zone",function(a,r,s,t){return this.displayList.add(new o(this.scene,a,r,s,t))})},95166:c=>{var x=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};c.exports=x},96503:(c,x,e)=>{var o=e(83419),p=e(87902),a=e(26241),r=e(79124),s=e(23777),t=e(28176),n=new o({initialize:function(i,l,u){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.type=s.CIRCLE,this.x=i,this.y=l,this._radius=u,this._diameter=u*2},contains:function(h,i){return p(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,l){return r(this,h,i,l)},getRandomPoint:function(h){return t(this,h)},setTo:function(h,i,l){return this.x=h,this.y=i,this._radius=l,this._diameter=l*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});c.exports=n},71562:c=>{var x=function(e){return 2*(Math.PI*e.radius)};c.exports=x},92110:(c,x,e)=>{var o=e(2141),p=function(a,r,s){return s===void 0&&(s=new o),s.x=a.x+a.radius*Math.cos(r),s.y=a.y+a.radius*Math.sin(r),s};c.exports=p},42250:(c,x,e)=>{var o=e(96503),p=function(a){return new o(a.x,a.y,a.radius)};c.exports=p},87902:c=>{var x=function(e,o,p){if(e.radius>0&&o>=e.left&&o<=e.right&&p>=e.top&&p<=e.bottom){var a=(e.x-o)*(e.x-o),r=(e.y-p)*(e.y-p);return a+r<=e.radius*e.radius}else return!1};c.exports=x},5698:(c,x,e)=>{var o=e(87902),p=function(a,r){return o(a,r.x,r.y)};c.exports=p},70588:(c,x,e)=>{var o=e(87902),p=function(a,r){return o(a,r.x,r.y)&&o(a,r.right,r.y)&&o(a,r.x,r.bottom)&&o(a,r.right,r.bottom)};c.exports=p},26394:c=>{var x=function(e,o){return o.setTo(e.x,e.y,e.radius)};c.exports=x},76278:c=>{var x=function(e,o){return e.x===o.x&&e.y===o.y&&e.radius===o.radius};c.exports=x},2074:(c,x,e)=>{var o=e(87841),p=function(a,r){return r===void 0&&(r=new o),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};c.exports=p},26241:(c,x,e)=>{var o=e(92110),p=e(62945),a=e(36383),r=e(2141),s=function(t,n,h){h===void 0&&(h=new r);var i=p(n,0,a.PI2);return o(t,i,h)};c.exports=s},79124:(c,x,e)=>{var o=e(71562),p=e(92110),a=e(62945),r=e(36383),s=function(t,n,h,i){i===void 0&&(i=[]),!n&&h>0&&(n=o(t)/h);for(var l=0;l<n;l++){var u=a(l/n,0,r.PI2);i.push(p(t,u))}return i};c.exports=s},50884:c=>{var x=function(e,o,p){return e.x+=o,e.y+=p,e};c.exports=x},39212:c=>{var x=function(e,o){return e.x+=o.x,e.y+=o.y,e};c.exports=x},28176:(c,x,e)=>{var o=e(2141),p=function(a,r){r===void 0&&(r=new o);var s=2*Math.PI*Math.random(),t=Math.random()+Math.random(),n=t>1?2-t:t,h=n*Math.cos(s),i=n*Math.sin(s);return r.x=a.x+h*a.radius,r.y=a.y+i*a.radius,r};c.exports=p},88911:(c,x,e)=>{var o=e(96503);o.Area=e(95166),o.Circumference=e(71562),o.CircumferencePoint=e(92110),o.Clone=e(42250),o.Contains=e(87902),o.ContainsPoint=e(5698),o.ContainsRect=e(70588),o.CopyFrom=e(26394),o.Equals=e(76278),o.GetBounds=e(2074),o.GetPoint=e(26241),o.GetPoints=e(79124),o.Offset=e(50884),o.OffsetPoint=e(39212),o.Random=e(28176),c.exports=o},23777:c=>{var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};c.exports=x},78874:c=>{var x=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};c.exports=x},92990:c=>{var x=function(e){var o=e.width/2,p=e.height/2,a=Math.pow(o-p,2)/Math.pow(o+p,2);return Math.PI*(o+p)*(1+3*a/(10+Math.sqrt(4-3*a)))};c.exports=x},79522:(c,x,e)=>{var o=e(2141),p=function(a,r,s){s===void 0&&(s=new o);var t=a.width/2,n=a.height/2;return s.x=a.x+t*Math.cos(r),s.y=a.y+n*Math.sin(r),s};c.exports=p},58102:(c,x,e)=>{var o=e(8497),p=function(a){return new o(a.x,a.y,a.width,a.height)};c.exports=p},81154:c=>{var x=function(e,o,p){if(e.width<=0||e.height<=0)return!1;var a=(o-e.x)/e.width,r=(p-e.y)/e.height;return a*=a,r*=r,a+r<.25};c.exports=x},46662:(c,x,e)=>{var o=e(81154),p=function(a,r){return o(a,r.x,r.y)};c.exports=p},1632:(c,x,e)=>{var o=e(81154),p=function(a,r){return o(a,r.x,r.y)&&o(a,r.right,r.y)&&o(a,r.x,r.bottom)&&o(a,r.right,r.bottom)};c.exports=p},65534:c=>{var x=function(e,o){return o.setTo(e.x,e.y,e.width,e.height)};c.exports=x},8497:(c,x,e)=>{var o=e(83419),p=e(81154),a=e(90549),r=e(48320),s=e(23777),t=e(24820),n=new o({initialize:function(i,l,u,d){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=s.ELLIPSE,this.x=i,this.y=l,this.width=u,this.height=d},contains:function(h,i){return p(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,l){return r(this,h,i,l)},getRandomPoint:function(h){return t(this,h)},setTo:function(h,i,l,u){return this.x=h,this.y=i,this.width=l,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},setSize:function(h,i){return i===void 0&&(i=h),this.width=h,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});c.exports=n},36146:c=>{var x=function(e,o){return e.x===o.x&&e.y===o.y&&e.width===o.width&&e.height===o.height};c.exports=x},23694:(c,x,e)=>{var o=e(87841),p=function(a,r){return r===void 0&&(r=new o),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};c.exports=p},90549:(c,x,e)=>{var o=e(79522),p=e(62945),a=e(36383),r=e(2141),s=function(t,n,h){h===void 0&&(h=new r);var i=p(n,0,a.PI2);return o(t,i,h)};c.exports=s},48320:(c,x,e)=>{var o=e(92990),p=e(79522),a=e(62945),r=e(36383),s=function(t,n,h,i){i===void 0&&(i=[]),!n&&h>0&&(n=o(t)/h);for(var l=0;l<n;l++){var u=a(l/n,0,r.PI2);i.push(p(t,u))}return i};c.exports=s},73424:c=>{var x=function(e,o,p){return e.x+=o,e.y+=p,e};c.exports=x},44808:c=>{var x=function(e,o){return e.x+=o.x,e.y+=o.y,e};c.exports=x},24820:(c,x,e)=>{var o=e(2141),p=function(a,r){r===void 0&&(r=new o);var s=Math.random()*Math.PI*2,t=Math.sqrt(Math.random());return r.x=a.x+t*Math.cos(s)*a.width/2,r.y=a.y+t*Math.sin(s)*a.height/2,r};c.exports=p},49203:(c,x,e)=>{var o=e(8497);o.Area=e(78874),o.Circumference=e(92990),o.CircumferencePoint=e(79522),o.Clone=e(58102),o.Contains=e(81154),o.ContainsPoint=e(46662),o.ContainsRect=e(1632),o.CopyFrom=e(65534),o.Equals=e(36146),o.GetBounds=e(23694),o.GetPoint=e(90549),o.GetPoints=e(48320),o.Offset=e(73424),o.OffsetPoint=e(44808),o.Random=e(24820),c.exports=o},55738:(c,x,e)=>{var o=e(23777),p=e(79291),a={Circle:e(88911),Ellipse:e(49203),Intersects:e(91865),Line:e(2529),Mesh:e(73090),Point:e(43711),Polygon:e(58423),Rectangle:e(93232),Triangle:e(84435)};a=p(!1,a,o),c.exports=a},2044:(c,x,e)=>{var o=e(20339),p=function(a,r){return o(a.x,a.y,r.x,r.y)<=a.radius+r.radius};c.exports=p},81491:c=>{var x=function(e,o){var p=o.width/2,a=o.height/2,r=Math.abs(e.x-o.x-p),s=Math.abs(e.y-o.y-a),t=p+e.radius,n=a+e.radius;if(r>t||s>n)return!1;if(r<=p||s<=a)return!0;var h=r-p,i=s-a,l=h*h,u=i*i,d=e.radius*e.radius;return l+u<=d};c.exports=x},63376:(c,x,e)=>{var o=e(2141),p=e(2044),a=function(r,s,t){if(t===void 0&&(t=[]),p(r,s)){var n=r.x,h=r.y,i=r.radius,l=s.x,u=s.y,d=s.radius,f,v,m,g,y;if(h===u)y=(d*d-i*i-l*l+n*n)/(2*(n-l)),f=1,v=-2*u,m=l*l+y*y-2*l*y+u*u-d*d,g=v*v-4*f*m,g===0?t.push(new o(y,-v/(2*f))):g>0&&(t.push(new o(y,(-v+Math.sqrt(g))/(2*f))),t.push(new o(y,(-v-Math.sqrt(g))/(2*f))));else{var T=(n-l)/(h-u),C=(d*d-i*i-l*l+n*n-u*u+h*h)/(2*(h-u));f=T*T+1,v=2*h*T-2*C*T-2*n,m=n*n+h*h+C*C-i*i-2*h*C,g=v*v-4*f*m,g===0?(y=-v/(2*f),t.push(new o(y,C-y*T))):g>0&&(y=(-v+Math.sqrt(g))/(2*f),t.push(new o(y,C-y*T)),y=(-v-Math.sqrt(g))/(2*f),t.push(new o(y,C-y*T)))}}return t};c.exports=a},97439:(c,x,e)=>{var o=e(4042),p=e(81491),a=function(r,s,t){if(t===void 0&&(t=[]),p(r,s)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC(),l=s.getLineD();o(n,r,t),o(h,r,t),o(i,r,t),o(l,r,t)}return t};c.exports=a},4042:(c,x,e)=>{var o=e(2141),p=e(80462),a=function(r,s,t){if(t===void 0&&(t=[]),p(r,s)){var n=r.x1,h=r.y1,i=r.x2,l=r.y2,u=s.x,d=s.y,f=s.radius,v=i-n,m=l-h,g=n-u,y=h-d,T=v*v+m*m,C=2*(v*g+m*y),E=g*g+y*y-f*f,z=C*C-4*T*E,D,A;if(z===0){var L=-C/(2*T);D=n+L*v,A=h+L*m,L>=0&&L<=1&&t.push(new o(D,A))}else if(z>0){var b=(-C-Math.sqrt(z))/(2*T);D=n+b*v,A=h+b*m,b>=0&&b<=1&&t.push(new o(D,A));var F=(-C+Math.sqrt(z))/(2*T);D=n+F*v,A=h+F*m,F>=0&&F<=1&&t.push(new o(D,A))}}return t};c.exports=a},36100:(c,x,e)=>{var o=e(25836),p=function(a,r,s,t){s===void 0&&(s=!1);var n=a.x1,h=a.y1,i=a.x2,l=a.y2,u=r.x1,d=r.y1,f=r.x2,v=r.y2,m=i-n,g=l-h,y=f-u,T=v-d,C=m*T-g*y;if(C===0)return null;var E,z,D;if(s){if(E=(m*(d-h)+g*(n-u))/(y*g-T*m),m!==0)z=(u+y*E-n)/m;else if(g!==0)z=(d+T*E-h)/g;else return null;if(z<0||E<0||E>1)return null;D=z}else{if(E=((u-n)*T-(d-h)*y)/C,z=((h-d)*m-(n-u)*g)/C,E<0||E>1||z<0||z>1)return null;D=E}return t===void 0&&(t=new o),t.set(n+m*D,h+g*D,D)};c.exports=p},3073:(c,x,e)=>{var o=e(36100),p=e(23031),a=e(25836),r=new p,s=new a,t=function(n,h,i,l){i===void 0&&(i=!1),l===void 0&&(l=new a);var u=!1;l.set(),s.set();for(var d=h[h.length-1],f=0;f<h.length;f++){var v=h[f];r.setTo(d.x,d.y,v.x,v.y),d=v,o(n,r,i,s)&&(!u||s.z<l.z)&&(l.copy(s),u=!0)}return u?l:null};c.exports=t},56362:(c,x,e)=>{var o=e(25836),p=e(61369),a=e(3073),r=new o,s=function(t,n,h,i){i===void 0&&(i=new p),Array.isArray(n)||(n=[n]);var l=!1;i.set(),r.set();for(var u=0;u<n.length;u++)a(t,n[u].points,h,r)&&(!l||r.z<i.z)&&(i.set(r.x,r.y,r.z,u),l=!0);return l?i:null};c.exports=s},60646:(c,x,e)=>{var o=e(2141),p=e(76112),a=e(92773),r=function(s,t,n){if(n===void 0&&(n=[]),a(s,t))for(var h=t.getLineA(),i=t.getLineB(),l=t.getLineC(),u=t.getLineD(),d=[new o,new o,new o,new o],f=[p(h,s,d[0]),p(i,s,d[1]),p(l,s,d[2]),p(u,s,d[3])],v=0;v<4;v++)f[v]&&n.push(d[v]);return n};c.exports=r},71147:(c,x,e)=>{var o=e(61369),p=e(56362),a=e(23031),r=new a;function s(h,i,l,u,d){var f=Math.cos(h),v=Math.sin(h);r.setTo(i,l,i+f,l+v);var m=p(r,u,!0);m&&d.push(new o(m.x,m.y,h,m.w))}function t(h,i){return h.z-i.z}var n=function(h,i,l){Array.isArray(l)||(l=[l]);for(var u=[],d=[],f=0;f<l.length;f++)for(var v=l[f].points,m=0;m<v.length;m++){var g=Math.atan2(v[m].y-i,v[m].x-h);d.indexOf(g)===-1&&(s(g,h,i,l,u),s(g-1e-5,h,i,l,u),s(g+1e-5,h,i,l,u),d.push(g))}return u.sort(t)};c.exports=n},68389:(c,x,e)=>{var o=e(87841),p=e(59996),a=function(r,s,t){return t===void 0&&(t=new o),p(r,s)&&(t.x=Math.max(r.x,s.x),t.y=Math.max(r.y,s.y),t.width=Math.min(r.right,s.right)-t.x,t.height=Math.min(r.bottom,s.bottom)-t.y),t};c.exports=a},52784:(c,x,e)=>{var o=e(60646),p=e(59996),a=function(r,s,t){if(t===void 0&&(t=[]),p(r,s)){var n=r.getLineA(),h=r.getLineB(),i=r.getLineC(),l=r.getLineD();o(n,s,t),o(h,s,t),o(i,s,t),o(l,s,t)}return t};c.exports=a},26341:(c,x,e)=>{var o=e(89265),p=e(60646),a=function(r,s,t){if(t===void 0&&(t=[]),o(r,s)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC();p(n,r,t),p(h,r,t),p(i,r,t)}return t};c.exports=a},38720:(c,x,e)=>{var o=e(4042),p=e(67636),a=function(r,s,t){if(t===void 0&&(t=[]),p(r,s)){var n=r.getLineA(),h=r.getLineB(),i=r.getLineC();o(n,s,t),o(h,s,t),o(i,s,t)}return t};c.exports=a},13882:(c,x,e)=>{var o=e(2141),p=e(2822),a=e(76112),r=function(s,t,n){if(n===void 0&&(n=[]),p(s,t))for(var h=s.getLineA(),i=s.getLineB(),l=s.getLineC(),u=[new o,new o,new o],d=[a(h,t,u[0]),a(i,t,u[1]),a(l,t,u[2])],f=0;f<3;f++)d[f]&&n.push(u[f]);return n};c.exports=r},75636:(c,x,e)=>{var o=e(82944),p=e(13882),a=function(r,s,t){if(t===void 0&&(t=[]),o(r,s)){var n=s.getLineA(),h=s.getLineB(),i=s.getLineC();p(r,n,t),p(r,h,t),p(r,i,t)}return t};c.exports=a},80462:(c,x,e)=>{var o=e(87902),p=e(2141),a=new p,r=function(s,t,n){if(n===void 0&&(n=a),o(t,s.x1,s.y1))return n.x=s.x1,n.y=s.y1,!0;if(o(t,s.x2,s.y2))return n.x=s.x2,n.y=s.y2,!0;var h=s.x2-s.x1,i=s.y2-s.y1,l=t.x-s.x1,u=t.y-s.y1,d=h*h+i*i,f=h,v=i;if(d>0){var m=(l*h+u*i)/d;f*=m,v*=m}n.x=s.x1+f,n.y=s.y1+v;var g=f*f+v*v;return g<=d&&f*h+v*i>=0&&o(t,n.x,n.y)};c.exports=r},76112:c=>{var x=function(e,o,p){var a=e.x1,r=e.y1,s=e.x2,t=e.y2,n=o.x1,h=o.y1,i=o.x2,l=o.y2;if(a===s&&r===t||n===i&&h===l)return!1;var u=(l-h)*(s-a)-(i-n)*(t-r);if(u===0)return!1;var d=((i-n)*(r-h)-(l-h)*(a-n))/u,f=((s-a)*(r-h)-(t-r)*(a-n))/u;return d<0||d>1||f<0||f>1?!1:(p&&(p.x=a+d*(s-a),p.y=r+d*(t-r)),!0)};c.exports=x},92773:c=>{var x=function(e,o){var p=e.x1,a=e.y1,r=e.x2,s=e.y2,t=o.x,n=o.y,h=o.right,i=o.bottom,l=0;if(p>=t&&p<=h&&a>=n&&a<=i||r>=t&&r<=h&&s>=n&&s<=i)return!0;if(p<t&&r>=t){if(l=a+(s-a)*(t-p)/(r-p),l>n&&l<=i)return!0}else if(p>h&&r<=h&&(l=a+(s-a)*(h-p)/(r-p),l>=n&&l<=i))return!0;if(a<n&&s>=n){if(l=p+(r-p)*(n-a)/(s-a),l>=t&&l<=h)return!0}else if(a>i&&s<=i&&(l=p+(r-p)*(i-a)/(s-a),l>=t&&l<=h))return!0;return!1};c.exports=x},16204:c=>{var x=function(e,o,p){p===void 0&&(p=1);var a=o.x1,r=o.y1,s=o.x2,t=o.y2,n=e.x,h=e.y,i=(s-a)*(s-a)+(t-r)*(t-r);if(i===0)return!1;var l=((n-a)*(s-a)+(h-r)*(t-r))/i;if(l<0)return Math.sqrt((a-n)*(a-n)+(r-h)*(r-h))<=p;if(l>=0&&l<=1){var u=((r-h)*(s-a)-(a-n)*(t-r))/i;return Math.abs(u)*Math.sqrt(i)<=p}else return Math.sqrt((s-n)*(s-n)+(t-h)*(t-h))<=p};c.exports=x},14199:(c,x,e)=>{var o=e(16204),p=function(a,r){if(!o(a,r))return!1;var s=Math.min(r.x1,r.x2),t=Math.max(r.x1,r.x2),n=Math.min(r.y1,r.y2),h=Math.max(r.y1,r.y2);return a.x>=s&&a.x<=t&&a.y>=n&&a.y<=h};c.exports=p},59996:c=>{var x=function(e,o){return e.width<=0||e.height<=0||o.width<=0||o.height<=0?!1:!(e.right<o.x||e.bottom<o.y||e.x>o.right||e.y>o.bottom)};c.exports=x},89265:(c,x,e)=>{var o=e(76112),p=e(37303),a=e(48653),r=e(77493),s=function(t,n){if(n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top)return!1;var h=n.getLineA(),i=n.getLineB(),l=n.getLineC();if(p(t,h.x1,h.y1)||p(t,h.x2,h.y2)||p(t,i.x1,i.y1)||p(t,i.x2,i.y2)||p(t,l.x1,l.y1)||p(t,l.x2,l.y2))return!0;var u=t.getLineA(),d=t.getLineB(),f=t.getLineC(),v=t.getLineD();if(o(h,u)||o(h,d)||o(h,f)||o(h,v)||o(i,u)||o(i,d)||o(i,f)||o(i,v)||o(l,u)||o(l,d)||o(l,f)||o(l,v))return!0;var m=r(t),g=a(n,m,!0);return g.length>0};c.exports=s},84411:c=>{var x=function(e,o,p,a,r,s){return s===void 0&&(s=0),!(o>e.right+s||p<e.left-s||a>e.bottom+s||r<e.top-s)};c.exports=x},67636:(c,x,e)=>{var o=e(80462),p=e(10690),a=function(r,s){return r.left>s.right||r.right<s.left||r.top>s.bottom||r.bottom<s.top?!1:!!(p(r,s.x,s.y)||o(r.getLineA(),s)||o(r.getLineB(),s)||o(r.getLineC(),s))};c.exports=a},2822:(c,x,e)=>{var o=e(76112),p=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||o(a.getLineA(),r)||o(a.getLineB(),r)||o(a.getLineC(),r))};c.exports=p},82944:(c,x,e)=>{var o=e(48653),p=e(71694),a=e(76112),r=function(s,t){if(s.left>t.right||s.right<t.left||s.top>t.bottom||s.bottom<t.top)return!1;var n=s.getLineA(),h=s.getLineB(),i=s.getLineC(),l=t.getLineA(),u=t.getLineB(),d=t.getLineC();if(a(n,l)||a(n,u)||a(n,d)||a(h,l)||a(h,u)||a(h,d)||a(i,l)||a(i,u)||a(i,d))return!0;var f=p(s),v=o(t,f,!0);return v.length>0||(f=p(t),v=o(s,f,!0),v.length>0)};c.exports=r},91865:(c,x,e)=>{c.exports={CircleToCircle:e(2044),CircleToRectangle:e(81491),GetCircleToCircle:e(63376),GetCircleToRectangle:e(97439),GetLineToCircle:e(4042),GetLineToLine:e(36100),GetLineToPoints:e(3073),GetLineToPolygon:e(56362),GetLineToRectangle:e(60646),GetRaysFromPointToPolygon:e(71147),GetRectangleIntersection:e(68389),GetRectangleToRectangle:e(52784),GetRectangleToTriangle:e(26341),GetTriangleToCircle:e(38720),GetTriangleToLine:e(13882),GetTriangleToTriangle:e(75636),LineToCircle:e(80462),LineToLine:e(76112),LineToRectangle:e(92773),PointToLine:e(16204),PointToLineSegment:e(14199),RectangleToRectangle:e(59996),RectangleToTriangle:e(89265),RectangleToValues:e(84411),TriangleToCircle:e(67636),TriangleToLine:e(2822),TriangleToTriangle:e(82944)}},91938:c=>{var x=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};c.exports=x},84993:c=>{var x=function(e,o,p){o===void 0&&(o=1),p===void 0&&(p=[]);var a=Math.round(e.x1),r=Math.round(e.y1),s=Math.round(e.x2),t=Math.round(e.y2),n=Math.abs(s-a),h=Math.abs(t-r),i=a<s?1:-1,l=r<t?1:-1,u=n-h;p.push({x:a,y:r});for(var d=1;!(a===s&&r===t);){var f=u<<1;f>-h&&(u-=h,a+=i),f<n&&(u+=n,r+=l),d%o===0&&p.push({x:a,y:r}),d++}return p};c.exports=x},36469:c=>{var x=function(e,o,p){var a=o-(e.x1+e.x2)/2,r=p-(e.y1+e.y2)/2;return e.x1+=a,e.y1+=r,e.x2+=a,e.y2+=r,e};c.exports=x},31116:(c,x,e)=>{var o=e(23031),p=function(a){return new o(a.x1,a.y1,a.x2,a.y2)};c.exports=p},59944:c=>{var x=function(e,o){return o.setTo(e.x1,e.y1,e.x2,e.y2)};c.exports=x},59220:c=>{var x=function(e,o){return e.x1===o.x1&&e.y1===o.y1&&e.x2===o.x2&&e.y2===o.y2};c.exports=x},78177:(c,x,e)=>{var o=e(35001),p=function(a,r,s){s===void 0&&(s=r);var t=o(a),n=a.x2-a.x1,h=a.y2-a.y1;return r&&(a.x1=a.x1-n/t*r,a.y1=a.y1-h/t*r),s&&(a.x2=a.x2+n/t*s,a.y2=a.y2+h/t*s),a};c.exports=p},26708:(c,x,e)=>{var o=e(52816),p=e(6113),a=e(2141),r=function(s,t,n,h,i){h===void 0&&(h=0),i===void 0&&(i=[]);var l=[],u=s.x1,d=s.y1,f=s.x2-u,v=s.y2-d,m=p(t,i),g,y,T=n-1;for(g=0;g<T;g++)y=m(g/T),l.push(new a(u+f*y,d+v*y));if(y=m(1),l.push(new a(u+f*y,d+v*y)),h>0){var C=l[0],E=[C];for(g=1;g<l.length-1;g++){var z=l[g];o(C,z)>=h&&(E.push(z),C=z)}var D=l[l.length-1];return o(C,D)<h&&E.pop(),E.push(D),E}else return l};c.exports=r},32125:(c,x,e)=>{var o=e(2141),p=function(a,r){return r===void 0&&(r=new o),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};c.exports=p},99569:(c,x,e)=>{var o=e(2141),p=function(a,r,s){s===void 0&&(s=new o);var t=a.x1,n=a.y1,h=a.x2,i=a.y2,l=(h-t)*(h-t)+(i-n)*(i-n);if(l===0)return s;var u=((r.x-t)*(h-t)+(r.y-n)*(i-n))/l;return s.x=t+u*(h-t),s.y=n+u*(i-n),s};c.exports=p},34638:(c,x,e)=>{var o=e(36383),p=e(91938),a=e(2141),r=function(s,t){t===void 0&&(t=new a);var n=p(s)-o.TAU;return t.x=Math.cos(n),t.y=Math.sin(n),t};c.exports=r},13151:(c,x,e)=>{var o=e(2141),p=function(a,r,s){return s===void 0&&(s=new o),s.x=a.x1+(a.x2-a.x1)*r,s.y=a.y1+(a.y2-a.y1)*r,s};c.exports=p},15258:(c,x,e)=>{var o=e(35001),p=e(2141),a=function(r,s,t,n){n===void 0&&(n=[]),!s&&t>0&&(s=o(r)/t);for(var h=r.x1,i=r.y1,l=r.x2,u=r.y2,d=0;d<s;d++){var f=d/s,v=h+(l-h)*f,m=i+(u-i)*f;n.push(new p(v,m))}return n};c.exports=a},26408:c=>{var x=function(e,o){var p=e.x1,a=e.y1,r=e.x2,s=e.y2,t=(r-p)*(r-p)+(s-a)*(s-a);if(t===0)return!1;var n=((a-o.y)*(r-p)-(p-o.x)*(s-a))/t;return Math.abs(n)*Math.sqrt(t)};c.exports=x},98770:c=>{var x=function(e){return Math.abs(e.y1-e.y2)};c.exports=x},35001:c=>{var x=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};c.exports=x},23031:(c,x,e)=>{var o=e(83419),p=e(13151),a=e(15258),r=e(23777),s=e(65822),t=e(26099),n=new o({initialize:function(i,l,u,d){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=r.LINE,this.x1=i,this.y1=l,this.x2=u,this.y2=d},getPoint:function(h,i){return p(this,h,i)},getPoints:function(h,i,l){return a(this,h,i,l)},getRandomPoint:function(h){return s(this,h)},setTo:function(h,i,l,u){return h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.x1=h,this.y1=i,this.x2=l,this.y2=u,this},setFromObjects:function(h,i){return this.x1=h.x,this.y1=h.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(h){return h===void 0&&(h=new t),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new t),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});c.exports=n},64795:(c,x,e)=>{var o=e(36383),p=e(15994),a=e(91938),r=function(s){var t=a(s)-o.TAU;return p(t,-Math.PI,Math.PI)};c.exports=r},52616:(c,x,e)=>{var o=e(36383),p=e(91938),a=function(r){return Math.cos(p(r)-o.TAU)};c.exports=a},87231:(c,x,e)=>{var o=e(36383),p=e(91938),a=function(r){return Math.sin(p(r)-o.TAU)};c.exports=a},89662:c=>{var x=function(e,o,p){return e.x1+=o,e.y1+=p,e.x2+=o,e.y2+=p,e};c.exports=x},71165:c=>{var x=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};c.exports=x},65822:(c,x,e)=>{var o=e(2141),p=function(a,r){r===void 0&&(r=new o);var s=Math.random();return r.x=a.x1+s*(a.x2-a.x1),r.y=a.y1+s*(a.y2-a.y1),r};c.exports=p},69777:(c,x,e)=>{var o=e(91938),p=e(64795),a=function(r,s){return 2*p(s)-Math.PI-o(r)};c.exports=a},39706:(c,x,e)=>{var o=e(64400),p=function(a,r){var s=(a.x1+a.x2)/2,t=(a.y1+a.y2)/2;return o(a,s,t,r)};c.exports=p},82585:(c,x,e)=>{var o=e(64400),p=function(a,r,s){return o(a,r.x,r.y,s)};c.exports=p},64400:c=>{var x=function(e,o,p,a){var r=Math.cos(a),s=Math.sin(a),t=e.x1-o,n=e.y1-p;return e.x1=t*r-n*s+o,e.y1=t*s+n*r+p,t=e.x2-o,n=e.y2-p,e.x2=t*r-n*s+o,e.y2=t*s+n*r+p,e};c.exports=x},62377:c=>{var x=function(e,o,p,a,r){return e.x1=o,e.y1=p,e.x2=o+Math.cos(a)*r,e.y2=p+Math.sin(a)*r,e};c.exports=x},71366:c=>{var x=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};c.exports=x},10809:c=>{var x=function(e){return Math.abs(e.x1-e.x2)};c.exports=x},2529:(c,x,e)=>{var o=e(23031);o.Angle=e(91938),o.BresenhamPoints=e(84993),o.CenterOn=e(36469),o.Clone=e(31116),o.CopyFrom=e(59944),o.Equals=e(59220),o.Extend=e(78177),o.GetEasedPoints=e(26708),o.GetMidPoint=e(32125),o.GetNearestPoint=e(99569),o.GetNormal=e(34638),o.GetPoint=e(13151),o.GetPoints=e(15258),o.GetShortestDistance=e(26408),o.Height=e(98770),o.Length=e(35001),o.NormalAngle=e(64795),o.NormalX=e(52616),o.NormalY=e(87231),o.Offset=e(89662),o.PerpSlope=e(71165),o.Random=e(65822),o.ReflectAngle=e(69777),o.Rotate=e(39706),o.RotateAroundPoint=e(82585),o.RotateAroundXY=e(64400),o.SetToAngle=e(62377),o.Slope=e(71366),o.Width=e(10809),c.exports=o},83997:(c,x,e)=>{var o=e(83419),p=e(87841),a=e(26099);function r(t,n,h,i){var l=t-h,u=n-i,d=l*l+u*u;return Math.sqrt(d)}var s=new o({initialize:function(n,h,i){this.vertex1=n,this.vertex2=h,this.vertex3=i,this.bounds=new p,this._inCenter=new a},getInCenter:function(t){t===void 0&&(t=!0);var n=this.vertex1,h=this.vertex2,i=this.vertex3,l,u,d,f,v,m;t?(l=n.x,u=n.y,d=h.x,f=h.y,v=i.x,m=i.y):(l=n.vx,u=n.vy,d=h.vx,f=h.vy,v=i.vx,m=i.vy);var g=r(v,m,d,f),y=r(l,u,v,m),T=r(d,f,l,u),C=g+y+T;return this._inCenter.set((l*g+d*y+v*T)/C,(u*g+f*y+m*T)/C)},contains:function(t,n,h){var i=this.vertex1,l=this.vertex2,u=this.vertex3,d=i.vx,f=i.vy,v=l.vx,m=l.vy,g=u.vx,y=u.vy;if(h){var T=h.a,C=h.b,E=h.c,z=h.d,D=h.e,A=h.f;d=i.vx*T+i.vy*E+D,f=i.vx*C+i.vy*z+A,v=l.vx*T+l.vy*E+D,m=l.vx*C+l.vy*z+A,g=u.vx*T+u.vy*E+D,y=u.vx*C+u.vy*z+A}var L=g-d,b=y-f,F=v-d,V=m-f,B=t-d,N=n-f,U=L*L+b*b,I=L*F+b*V,H=L*B+b*N,O=F*F+V*V,R=F*B+V*N,Y=U*O-I*I,G=Y===0?0:1/Y,k=(O*H-I*R)*G,W=(U*R-I*H)*G;return k>=0&&W>=0&&k+W<1},isCounterClockwise:function(t){var n=this.vertex1,h=this.vertex2,i=this.vertex3,l=(h.vx-n.vx)*(i.vy-n.vy)-(h.vy-n.vy)*(i.vx-n.vx);return t<=0?l>=0:l<0},load:function(t,n,h,i,l){return h=this.vertex1.load(t,n,h,i,l),h=this.vertex2.load(t,n,h,i,l),h=this.vertex3.load(t,n,h,i,l),h},transformCoordinatesLocal:function(t,n,h,i){return this.vertex1.transformCoordinatesLocal(t,n,h,i),this.vertex2.transformCoordinatesLocal(t,n,h,i),this.vertex3.transformCoordinatesLocal(t,n,h,i),this},updateBounds:function(){var t=this.vertex1,n=this.vertex2,h=this.vertex3,i=this.bounds;return i.x=Math.min(t.vx,n.vx,h.vx),i.y=Math.min(t.vy,n.vy,h.vy),i.width=Math.max(t.vx,n.vx,h.vx)-i.x,i.height=Math.max(t.vy,n.vy,h.vy)-i.y,this},isInView:function(t,n,h,i,l,u,d,f,v,m,g){this.update(i,l,u,d,f,v,m,g);var y=this.vertex1,T=this.vertex2,C=this.vertex3;if(y.ta<=0&&T.ta<=0&&C.ta<=0||n&&!this.isCounterClockwise(h))return!1;var E=this.bounds;E.x=Math.min(y.tx,T.tx,C.tx),E.y=Math.min(y.ty,T.ty,C.ty),E.width=Math.max(y.tx,T.tx,C.tx)-E.x,E.height=Math.max(y.ty,T.ty,C.ty)-E.y;var z=t.x+t.width,D=t.y+t.height;return E.width<=0||E.height<=0||t.width<=0||t.height<=0?!1:!(E.right<t.x||E.bottom<t.y||E.x>z||E.y>D)},scrollUV:function(t,n){return this.vertex1.scrollUV(t,n),this.vertex2.scrollUV(t,n),this.vertex3.scrollUV(t,n),this},scaleUV:function(t,n){return this.vertex1.scaleUV(t,n),this.vertex2.scaleUV(t,n),this.vertex3.scaleUV(t,n),this},setColor:function(t){return this.vertex1.color=t,this.vertex2.color=t,this.vertex3.color=t,this},update:function(t,n,h,i,l,u,d,f){return this.vertex1.update(n,h,i,l,u,d,f,t),this.vertex2.update(n,h,i,l,u,d,f,t),this.vertex3.update(n,h,i,l,u,d,f,t),this},translate:function(t,n){n===void 0&&(n=0);var h=this.vertex1,i=this.vertex2,l=this.vertex3;return h.x+=t,h.y+=n,i.x+=t,i.y+=n,l.x+=t,l.y+=n,this},x:{get:function(){return this.getInCenter().x},set:function(t){var n=this.getInCenter();this.translate(t-n.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(t){var n=this.getInCenter();this.translate(0,t-n.y)}},alpha:{get:function(){var t=this.vertex1,n=this.vertex2,h=this.vertex3;return(t.alpha+n.alpha+h.alpha)/3},set:function(t){this.vertex1.alpha=t,this.vertex2.alpha=t,this.vertex3.alpha=t}},depth:{get:function(){var t=this.vertex1,n=this.vertex2,h=this.vertex3;return(t.vz+n.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});c.exports=s},48803:(c,x,e)=>{var o=e(83997),p=e(95540),a=e(37867),r=e(25836),s=e(39318),t=new r,n=new r,h=new a,i=function(l){var u=p(l,"mesh"),d=p(l,"texture",null),f=p(l,"frame"),v=p(l,"width",1),m=p(l,"height",v),g=p(l,"widthSegments",1),y=p(l,"heightSegments",g),T=p(l,"x",0),C=p(l,"y",0),E=p(l,"z",0),z=p(l,"rotateX",0),D=p(l,"rotateY",0),A=p(l,"rotateZ",0),L=p(l,"zIsUp",!0),b=p(l,"isOrtho",u?u.dirtyCache[11]:!1),F=p(l,"colors",[16777215]),V=p(l,"alphas",[1]),B=p(l,"tile",!1),N=p(l,"flipY",!1),U=p(l,"width",null),I={faces:[],verts:[]};t.set(T,C,E),n.set(z,D,A),h.fromRotationXYTranslation(n,t,L);var H;if(!d&&u)d=u.texture,f||(H=u.frame);else if(u&&typeof d=="string")d=u.scene.sys.textures.get(d);else if(!d)return I;H||(H=d.get(f)),!U&&b&&d&&u&&(v=H.width/u.height,m=H.height/u.height);var O=v/2,R=m/2,Y=Math.floor(g),G=Math.floor(y),k=Y+1,W=G+1,X=v/Y,j=m/G,K=[],$=[],Z,J,Q=0,_=1,ae=0,oe=1;H&&(Q=H.u0,_=H.u1,N?(ae=H.v1,oe=H.v0):(ae=H.v0,oe=H.v1));var le=_-Q,q=oe-ae;for(J=0;J<W;J++){var ie=J*j-R;for(Z=0;Z<k;Z++){var ne=Z*X-O;$.push(ne,-ie);var fe=Q+le*(Z/Y),Te=ae+q*(J/G);K.push(fe,Te)}}Array.isArray(F)||(F=[F]),Array.isArray(V)||(V=[V]);var Ie=0,xe=0;for(J=0;J<G;J++)for(Z=0;Z<Y;Z++){var ye=(Z+k*J)*2,Ne=(Z+k*(J+1))*2,tt=(Z+1+k*(J+1))*2,Ee=(Z+1+k*J)*2,Ue=F[xe],je=V[Ie],lt=new s($[ye],$[ye+1],0,K[ye],K[ye+1],Ue,je).transformMat4(h),pi=new s($[Ne],$[Ne+1],0,K[Ne],K[Ne+1],Ue,je).transformMat4(h),mi=new s($[Ee],$[Ee+1],0,K[Ee],K[Ee+1],Ue,je).transformMat4(h),gi=new s($[Ne],$[Ne+1],0,K[Ne],K[Ne+1],Ue,je).transformMat4(h),xi=new s($[tt],$[tt+1],0,K[tt],K[tt+1],Ue,je).transformMat4(h),yi=new s($[Ee],$[Ee+1],0,K[Ee],K[Ee+1],Ue,je).transformMat4(h);B&&(lt.setUVs(Q,oe),pi.setUVs(Q,ae),mi.setUVs(_,oe),gi.setUVs(Q,ae),xi.setUVs(_,ae),yi.setUVs(_,oe)),xe++,xe===F.length&&(xe=0),Ie++,Ie===V.length&&(Ie=0),I.verts.push(lt,pi,mi,gi,xi,yi),I.faces.push(new o(lt,pi,mi),new o(gi,xi,yi))}return u&&(u.faces=u.faces.concat(I.faces),u.vertices=u.vertices.concat(I.verts)),I};c.exports=i},34684:(c,x,e)=>{var o=e(83997),p=e(37867),a=e(25836),r=e(39318),s=new a,t=new a,n=new p,h=function(i,l,u,d,f,v,m,g,y,T){u===void 0&&(u=1),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=0),T===void 0&&(T=!0);var C={faces:[],verts:[]},E=i.materials;s.set(d,f,v),t.set(m,g,y),n.fromRotationXYTranslation(t,s,T);for(var z=0;z<i.models.length;z++)for(var D=i.models[z],A=D.vertices,L=D.textureCoords,b=D.faces,F=0;F<b.length;F++){var V=b[F],B=V.vertices[0],N=V.vertices[1],U=V.vertices[2],I=A[B.vertexIndex],H=A[N.vertexIndex],O=A[U.vertexIndex],R=B.textureCoordsIndex,Y=N.textureCoordsIndex,G=U.textureCoordsIndex,k=R===-1?{u:0,v:1}:L[R],W=Y===-1?{u:0,v:0}:L[Y],X=G===-1?{u:1,v:1}:L[G],j=16777215;V.material!==""&&E[V.material]&&(j=E[V.material]);var K=new r(I.x*u,I.y*u,I.z*u,k.u,k.v,j).transformMat4(n),$=new r(H.x*u,H.y*u,H.z*u,W.u,W.v,j).transformMat4(n),Z=new r(O.x*u,O.y*u,O.z*u,X.u,X.v,j).transformMat4(n);C.verts.push(K,$,Z),C.faces.push(new o(K,$,Z))}return l&&(l.faces=l.faces.concat(C.faces),l.vertices=l.vertices.concat(C.verts)),C};c.exports=h},92515:(c,x,e)=>{var o=e(83997),p=e(39318),a=function(r,s,t,n,h,i,l,u){if(n===void 0&&(n=!1),i===void 0&&(i=16777215),l===void 0&&(l=1),u===void 0&&(u=!1),r.length!==s.length&&!n){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},f,v,m,g,y,T,C,E,z,D,A,L=n?3:2,b=Array.isArray(i),F=Array.isArray(l);if(Array.isArray(t)&&t.length>0)for(f=0;f<t.length;f++){var V=t[f],B=t[f]*2,N=t[f]*L;v=r[N],m=r[N+1],g=n?r[N+2]:0,y=s[B],T=s[B+1],u&&(T=1-T),C=b?i[V]:i,E=F?l[V]:l,z=0,D=0,A=0,h&&(z=h[N],D=h[N+1],A=n?h[N+2]:0),d.vertices.push(new p(v,m,g,y,T,C,E,z,D,A))}else{var U=0,I=0;for(f=0;f<r.length;f+=L)v=r[f],m=r[f+1],g=n?r[f+2]:0,y=s[U],T=s[U+1],C=b?i[I]:i,E=F?l[I]:l,z=0,D=0,A=0,h&&(z=h[f],D=h[f+1],A=n?h[f+2]:0),d.vertices.push(new p(v,m,g,y,T,C,E,z,D,A)),U+=2,I++}for(f=0;f<d.vertices.length;f+=3){var H=d.vertices[f],O=d.vertices[f+1],R=d.vertices[f+2];d.faces.push(new o(H,O,R))}return d};c.exports=a},85048:c=>{var x=!0,e="untitled",o="",p="";function a(v){var m=v.indexOf("#");return m>-1?v.substring(0,m):v}function r(v){return v.models.length===0&&v.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),o="",v.models[v.models.length-1]}function s(v,m){var g=v.length>=2?v[1]:e;m.models.push({faces:[],name:g,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function t(v){v.length===2&&(o=v[1])}function n(v,m){var g=v.length,y=g>=2?parseFloat(v[1]):0,T=g>=3?parseFloat(v[2]):0,C=g>=4?parseFloat(v[3]):0;r(m).vertices.push({x:y,y:T,z:C})}function h(v,m){var g=v.length,y=g>=2?parseFloat(v[1]):0,T=g>=3?parseFloat(v[2]):0,C=g>=4?parseFloat(v[3]):0;isNaN(y)&&(y=0),isNaN(T)&&(T=0),isNaN(C)&&(C=0),x&&(T=1-T),r(m).textureCoords.push({u:y,v:T,w:C})}function i(v,m){var g=v.length,y=g>=2?parseFloat(v[1]):0,T=g>=3?parseFloat(v[2]):0,C=g>=4?parseFloat(v[3]):0;r(m).vertexNormals.push({x:y,y:T,z:C})}function l(v,m){var g=v.length-1;if(!(g<3)){for(var y={group:o,material:p,vertices:[]},T=0;T<g;T++){var C=v[T+1],E=C.split("/"),z=E.length;if(!(z<1||z>3)){var D=0,A=0,L=0;D=parseInt(E[0],10),z>1&&E[1]!==""&&(A=parseInt(E[1],10)),z>2&&(L=parseInt(E[2],10)),D!==0&&(D<0&&(D=r(m).vertices.length+1+D),A-=1,D-=1,L-=1,y.vertices.push({textureCoordsIndex:A,vertexIndex:D,vertexNormalIndex:L}))}}r(m).faces.push(y)}}function u(v,m){v.length>=2&&m.materialLibraries.push(v[1])}function d(v){v.length>=2&&(p=v[1])}var f=function(v,m){m===void 0&&(m=!0),x=m;var g={materials:{},materialLibraries:[],models:[]};o="",p="";for(var y=v.split(`
`),T=0;T<y.length;T++){var C=a(y[T]),E=C.replace(/\s\s+/g," ").trim().split(" ");switch(E[0].toLowerCase()){case"o":s(E,g);break;case"g":t(E);break;case"v":n(E,g);break;case"vt":h(E,g);break;case"vn":i(E,g);break;case"f":l(E,g);break;case"mtllib":u(E,g);break;case"usemtl":d(E);break}}return g};c.exports=f},61485:(c,x,e)=>{var o=e(37589),p=function(a){for(var r={},s=a.split(`
`),t="",n=0;n<s.length;n++){var h=s[n].trim();if(!(h.indexOf("#")===0||h==="")){var i=h.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{t=i[1];break}case"kd":{var l=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):l,d=i.length>=3?Math.floor(i[3]*255):l;r[t]=o(l,u,d);break}}}}return r};c.exports=p},92570:c=>{var x=function(e,o,p,a){var r,s;if(p===void 0&&a===void 0){var t=e.getInCenter();r=t.x,s=t.y}var n=Math.cos(o),h=Math.sin(o),i=e.vertex1,l=e.vertex2,u=e.vertex3,d=i.x-r,f=i.y-s;i.set(d*n-f*h+r,d*h+f*n+s),d=l.x-r,f=l.y-s,l.set(d*n-f*h+r,d*h+f*n+s),d=u.x-r,f=u.y-s,u.set(d*n-f*h+r,d*h+f*n+s)};c.exports=x},39318:(c,x,e)=>{var o=e(83419),p=e(70554),a=e(25836),r=new o({Extends:a,initialize:function(t,n,h,i,l,u,d,f,v,m){u===void 0&&(u=16777215),d===void 0&&(d=1),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),a.call(this,t,n,h),this.vx=0,this.vy=0,this.vz=0,this.nx=f,this.ny=v,this.nz=m,this.u=i,this.v=l,this.color=u,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=l},setUVs:function(s,t){return this.u=s,this.v=t,this.tu=s,this.tv=t,this},scrollUV:function(s,t){return this.tu+=s,this.tv+=t,this},scaleUV:function(s,t){return this.tu=this.u*s,this.tv=this.v*t,this},transformCoordinatesLocal:function(s,t,n,h){var i=this.x,l=this.y,u=this.z,d=s.val,f=i*d[0]+l*d[4]+u*d[8]+d[12],v=i*d[1]+l*d[5]+u*d[9]+d[13],m=i*d[2]+l*d[6]+u*d[10]+d[14],g=i*d[3]+l*d[7]+u*d[11]+d[15];this.vx=f/g*t,this.vy=-(v/g)*n,h<=0?this.vz=m/g:this.vz=-(m/g)},resize:function(s,t,n,h,i,l){return this.x=s,this.y=t,this.vx=this.x*n,this.vy=-this.y*h,this.vz=0,i<.5?this.vx+=n*(.5-i):i>.5&&(this.vx-=n*(i-.5)),l<.5?this.vy+=h*(.5-l):l>.5&&(this.vy-=h*(l-.5)),this},update:function(s,t,n,h,i,l,u,d){var f=this.vx*s+this.vy*n+i,v=this.vx*t+this.vy*h+l;return u&&(f=Math.round(f),v=Math.round(v)),this.tx=f,this.ty=v,this.ta=this.alpha*d,this},load:function(s,t,n,h,i){return s[++n]=this.tx,s[++n]=this.ty,s[++n]=this.tu,s[++n]=this.tv,s[++n]=h,s[++n]=i,t[++n]=p.getTintAppendFloatAlpha(this.color,this.ta),n}});c.exports=r},73090:(c,x,e)=>{var o={Face:e(83997),GenerateGridVerts:e(48803),GenerateObjVerts:e(34684),GenerateVerts:e(92515),ParseObj:e(85048),ParseObjMaterial:e(61485),RotateFace:e(92570),Vertex:e(39318)};c.exports=o},96550:c=>{var x=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};c.exports=x},99706:(c,x,e)=>{var o=e(2141),p=function(a){return new o(a.x,a.y)};c.exports=p},68010:c=>{var x=function(e,o){return o.setTo(e.x,e.y)};c.exports=x},27814:c=>{var x=function(e,o){return e.x===o.x&&e.y===o.y};c.exports=x},73565:c=>{var x=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};c.exports=x},87555:(c,x,e)=>{var o=e(2141),p=function(a,r){if(r===void 0&&(r=new o),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var s=a.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)r.x=a[0].x,r.y=a[0].y;else{for(var t=0;t<s;t++)r.x+=a[t].x,r.y+=a[t].y;r.x/=s,r.y/=s}return r};c.exports=p},28793:c=>{var x=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};c.exports=x},44405:c=>{var x=function(e){return e.x*e.x+e.y*e.y};c.exports=x},20873:(c,x,e)=>{var o=e(87841),p=function(a,r){r===void 0&&(r=new o);for(var s=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var l=a[i];l.x>s&&(s=l.x),l.x<t&&(t=l.x),l.y>n&&(n=l.y),l.y<h&&(h=l.y)}return r.x=t,r.y=h,r.width=s-t,r.height=n-h,r};c.exports=p},26152:(c,x,e)=>{var o=e(2141),p=function(a,r,s,t){return s===void 0&&(s=0),t===void 0&&(t=new o),t.x=a.x+(r.x-a.x)*s,t.y=a.y+(r.y-a.y)*s,t};c.exports=p},55767:c=>{var x=function(e){return e.setTo(e.y,e.x)};c.exports=x},79432:(c,x,e)=>{var o=e(2141),p=function(a,r){return r===void 0&&(r=new o),r.setTo(-a.x,-a.y)};c.exports=p},2141:(c,x,e)=>{var o=e(83419),p=e(23777),a=new o({initialize:function(s,t){s===void 0&&(s=0),t===void 0&&(t=s),this.type=p.POINT,this.x=s,this.y=t},setTo:function(r,s){return r===void 0&&(r=0),s===void 0&&(s=r),this.x=r,this.y=s,this}});c.exports=a},72930:(c,x,e)=>{var o=e(2141),p=e(44405),a=function(r,s,t){t===void 0&&(t=new o);var n=r.x*s.x+r.y*s.y,h=n/p(s);return h!==0&&(t.x=h*s.x,t.y=h*s.y),t};c.exports=a},62880:(c,x,e)=>{var o=e(2141),p=function(a,r,s){s===void 0&&(s=new o);var t=a.x*r.x+a.y*r.y;return t!==0&&(s.x=t*r.x,s.y=t*r.y),s};c.exports=p},15093:(c,x,e)=>{var o=e(28793),p=function(a,r){if(a.x!==0||a.y!==0){var s=o(a);a.x/=s,a.y/=s}return a.x*=r,a.y*=r,a};c.exports=p},43711:(c,x,e)=>{var o=e(2141);o.Ceil=e(96550),o.Clone=e(99706),o.CopyFrom=e(68010),o.Equals=e(27814),o.Floor=e(73565),o.GetCentroid=e(87555),o.GetMagnitude=e(28793),o.GetMagnitudeSq=e(44405),o.GetRectangleFromPoints=e(20873),o.Interpolate=e(26152),o.Invert=e(55767),o.Negative=e(79432),o.Project=e(72930),o.ProjectUnit=e(62880),o.SetMagnitude=e(15093),c.exports=o},12306:(c,x,e)=>{var o=e(25717),p=function(a){return new o(a.points)};c.exports=p},63814:c=>{var x=function(e,o,p){for(var a=!1,r=-1,s=e.points.length-1;++r<e.points.length;s=r){var t=e.points[r].x,n=e.points[r].y,h=e.points[s].x,i=e.points[s].y;(n<=p&&p<i||i<=p&&p<n)&&o<(h-t)*(p-n)/(i-n)+t&&(a=!a)}return a};c.exports=x},99338:(c,x,e)=>{var o=e(63814),p=function(a,r){return o(a,r.x,r.y)};c.exports=p},94811:c=>{"use strict";function x(I,H,O){O=O||2;var R=H&&H.length,Y=R?H[0]*O:I.length,G=e(I,0,Y,O,!0),k=[];if(!G||G.next===G.prev)return k;var W,X,j,K,$,Z,J;if(R&&(G=n(I,H,G,O)),I.length>80*O){W=j=I[0],X=K=I[1];for(var Q=O;Q<Y;Q+=O)$=I[Q],Z=I[Q+1],$<W&&(W=$),Z<X&&(X=Z),$>j&&(j=$),Z>K&&(K=Z);J=Math.max(j-W,K-X),J=J!==0?32767/J:0}return p(G,k,O,W,X,J,0),k}function e(I,H,O,R,Y){var G,k;if(Y===U(I,H,O,R)>0)for(G=H;G<O;G+=R)k=V(G,I[G],I[G+1],k);else for(G=O-R;G>=H;G-=R)k=V(G,I[G],I[G+1],k);return k&&C(k,k.next)&&(B(k),k=k.next),k}function o(I,H){if(!I)return I;H||(H=I);var O=I,R;do if(R=!1,!O.steiner&&(C(O,O.next)||T(O.prev,O,O.next)===0)){if(B(O),O=H=O.prev,O===O.next)break;R=!0}else O=O.next;while(R||O!==H);return H}function p(I,H,O,R,Y,G,k){if(I){!k&&G&&d(I,R,Y,G);for(var W=I,X,j;I.prev!==I.next;){if(X=I.prev,j=I.next,G?r(I,R,Y,G):a(I)){H.push(X.i/O|0),H.push(I.i/O|0),H.push(j.i/O|0),B(I),I=j.next,W=j.next;continue}if(I=j,I===W){k?k===1?(I=s(o(I),H,O),p(I,H,O,R,Y,G,2)):k===2&&t(I,H,O,R,Y,G):p(o(I),H,O,R,Y,G,1);break}}}}function a(I){var H=I.prev,O=I,R=I.next;if(T(H,O,R)>=0)return!1;for(var Y=H.x,G=O.x,k=R.x,W=H.y,X=O.y,j=R.y,K=Y<G?Y<k?Y:k:G<k?G:k,$=W<X?W<j?W:j:X<j?X:j,Z=Y>G?Y>k?Y:k:G>k?G:k,J=W>X?W>j?W:j:X>j?X:j,Q=R.next;Q!==H;){if(Q.x>=K&&Q.x<=Z&&Q.y>=$&&Q.y<=J&&g(Y,W,G,X,k,j,Q.x,Q.y)&&T(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function r(I,H,O,R){var Y=I.prev,G=I,k=I.next;if(T(Y,G,k)>=0)return!1;for(var W=Y.x,X=G.x,j=k.x,K=Y.y,$=G.y,Z=k.y,J=W<X?W<j?W:j:X<j?X:j,Q=K<$?K<Z?K:Z:$<Z?$:Z,_=W>X?W>j?W:j:X>j?X:j,ae=K>$?K>Z?K:Z:$>Z?$:Z,oe=v(J,Q,H,O,R),le=v(_,ae,H,O,R),q=I.prevZ,ie=I.nextZ;q&&q.z>=oe&&ie&&ie.z<=le;){if(q.x>=J&&q.x<=_&&q.y>=Q&&q.y<=ae&&q!==Y&&q!==k&&g(W,K,X,$,j,Z,q.x,q.y)&&T(q.prev,q,q.next)>=0||(q=q.prevZ,ie.x>=J&&ie.x<=_&&ie.y>=Q&&ie.y<=ae&&ie!==Y&&ie!==k&&g(W,K,X,$,j,Z,ie.x,ie.y)&&T(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;q&&q.z>=oe;){if(q.x>=J&&q.x<=_&&q.y>=Q&&q.y<=ae&&q!==Y&&q!==k&&g(W,K,X,$,j,Z,q.x,q.y)&&T(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;ie&&ie.z<=le;){if(ie.x>=J&&ie.x<=_&&ie.y>=Q&&ie.y<=ae&&ie!==Y&&ie!==k&&g(W,K,X,$,j,Z,ie.x,ie.y)&&T(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function s(I,H,O){var R=I;do{var Y=R.prev,G=R.next.next;!C(Y,G)&&E(Y,R,R.next,G)&&L(Y,G)&&L(G,Y)&&(H.push(Y.i/O|0),H.push(R.i/O|0),H.push(G.i/O|0),B(R),B(R.next),R=I=G),R=R.next}while(R!==I);return o(R)}function t(I,H,O,R,Y,G){var k=I;do{for(var W=k.next.next;W!==k.prev;){if(k.i!==W.i&&y(k,W)){var X=F(k,W);k=o(k,k.next),X=o(X,X.next),p(k,H,O,R,Y,G,0),p(X,H,O,R,Y,G,0);return}W=W.next}k=k.next}while(k!==I)}function n(I,H,O,R){var Y=[],G,k,W,X,j;for(G=0,k=H.length;G<k;G++)W=H[G]*R,X=G<k-1?H[G+1]*R:I.length,j=e(I,W,X,R,!1),j===j.next&&(j.steiner=!0),Y.push(m(j));for(Y.sort(h),G=0;G<Y.length;G++)O=i(Y[G],O);return O}function h(I,H){return I.x-H.x}function i(I,H){var O=l(I,H);if(!O)return H;var R=F(O,I);return o(R,R.next),o(O,O.next)}function l(I,H){var O=H,R=I.x,Y=I.y,G=-1/0,k;do{if(Y<=O.y&&Y>=O.next.y&&O.next.y!==O.y){var W=O.x+(Y-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(W<=R&&W>G&&(G=W,k=O.x<O.next.x?O:O.next,W===R))return k}O=O.next}while(O!==H);if(!k)return null;var X=k,j=k.x,K=k.y,$=1/0,Z;O=k;do R>=O.x&&O.x>=j&&R!==O.x&&g(Y<K?R:G,Y,j,K,Y<K?G:R,Y,O.x,O.y)&&(Z=Math.abs(Y-O.y)/(R-O.x),L(O,I)&&(Z<$||Z===$&&(O.x>k.x||O.x===k.x&&u(k,O)))&&(k=O,$=Z)),O=O.next;while(O!==X);return k}function u(I,H){return T(I.prev,I,H.prev)<0&&T(H.next,I,I.next)<0}function d(I,H,O,R){var Y=I;do Y.z===0&&(Y.z=v(Y.x,Y.y,H,O,R)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==I);Y.prevZ.nextZ=null,Y.prevZ=null,f(Y)}function f(I){var H,O,R,Y,G,k,W,X,j=1;do{for(O=I,I=null,G=null,k=0;O;){for(k++,R=O,W=0,H=0;H<j&&(W++,R=R.nextZ,!!R);H++);for(X=j;W>0||X>0&&R;)W!==0&&(X===0||!R||O.z<=R.z)?(Y=O,O=O.nextZ,W--):(Y=R,R=R.nextZ,X--),G?G.nextZ=Y:I=Y,Y.prevZ=G,G=Y;O=R}G.nextZ=null,j*=2}while(k>1);return I}function v(I,H,O,R,Y){return I=(I-O)*Y|0,H=(H-R)*Y|0,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,I|H<<1}function m(I){var H=I,O=I;do(H.x<O.x||H.x===O.x&&H.y<O.y)&&(O=H),H=H.next;while(H!==I);return O}function g(I,H,O,R,Y,G,k,W){return(Y-k)*(H-W)>=(I-k)*(G-W)&&(I-k)*(R-W)>=(O-k)*(H-W)&&(O-k)*(G-W)>=(Y-k)*(R-W)}function y(I,H){return I.next.i!==H.i&&I.prev.i!==H.i&&!A(I,H)&&(L(I,H)&&L(H,I)&&b(I,H)&&(T(I.prev,I,H.prev)||T(I,H.prev,H))||C(I,H)&&T(I.prev,I,I.next)>0&&T(H.prev,H,H.next)>0)}function T(I,H,O){return(H.y-I.y)*(O.x-H.x)-(H.x-I.x)*(O.y-H.y)}function C(I,H){return I.x===H.x&&I.y===H.y}function E(I,H,O,R){var Y=D(T(I,H,O)),G=D(T(I,H,R)),k=D(T(O,R,I)),W=D(T(O,R,H));return!!(Y!==G&&k!==W||Y===0&&z(I,O,H)||G===0&&z(I,R,H)||k===0&&z(O,I,R)||W===0&&z(O,H,R))}function z(I,H,O){return H.x<=Math.max(I.x,O.x)&&H.x>=Math.min(I.x,O.x)&&H.y<=Math.max(I.y,O.y)&&H.y>=Math.min(I.y,O.y)}function D(I){return I>0?1:I<0?-1:0}function A(I,H){var O=I;do{if(O.i!==I.i&&O.next.i!==I.i&&O.i!==H.i&&O.next.i!==H.i&&E(O,O.next,I,H))return!0;O=O.next}while(O!==I);return!1}function L(I,H){return T(I.prev,I,I.next)<0?T(I,H,I.next)>=0&&T(I,I.prev,H)>=0:T(I,H,I.prev)<0||T(I,I.next,H)<0}function b(I,H){var O=I,R=!1,Y=(I.x+H.x)/2,G=(I.y+H.y)/2;do O.y>G!=O.next.y>G&&O.next.y!==O.y&&Y<(O.next.x-O.x)*(G-O.y)/(O.next.y-O.y)+O.x&&(R=!R),O=O.next;while(O!==I);return R}function F(I,H){var O=new N(I.i,I.x,I.y),R=new N(H.i,H.x,H.y),Y=I.next,G=H.prev;return I.next=H,H.prev=I,O.next=Y,Y.prev=O,R.next=O,O.prev=R,G.next=R,R.prev=G,R}function V(I,H,O,R){var Y=new N(I,H,O);return R?(Y.next=R.next,Y.prev=R,R.next.prev=Y,R.next=Y):(Y.prev=Y,Y.next=Y),Y}function B(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function N(I,H,O){this.i=I,this.x=H,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(I,H,O,R){var Y=H&&H.length,G=Y?H[0]*O:I.length,k=Math.abs(U(I,0,G,O));if(Y)for(var W=0,X=H.length;W<X;W++){var j=H[W]*O,K=W<X-1?H[W+1]*O:I.length;k-=Math.abs(U(I,j,K,O))}var $=0;for(W=0;W<R.length;W+=3){var Z=R[W]*O,J=R[W+1]*O,Q=R[W+2]*O;$+=Math.abs((I[Z]-I[Q])*(I[J+1]-I[Z+1])-(I[Z]-I[J])*(I[Q+1]-I[Z+1]))}return k===0&&$===0?0:Math.abs(($-k)/k)};function U(I,H,O,R){for(var Y=0,G=H,k=O-R;G<O;G+=R)Y+=(I[k]-I[G])*(I[G+1]+I[k+1]),k=G;return Y}x.flatten=function(I){for(var H=I[0][0].length,O={vertices:[],holes:[],dimensions:H},R=0,Y=0;Y<I.length;Y++){for(var G=0;G<I[Y].length;G++)for(var k=0;k<H;k++)O.vertices.push(I[Y][G][k]);Y>0&&(R+=I[Y-1].length,O.holes.push(R))}return O},c.exports=x},13829:(c,x,e)=>{var o=e(87841),p=function(a,r){r===void 0&&(r=new o);for(var s=1/0,t=1/0,n=-s,h=-t,i,l=0;l<a.points.length;l++)i=a.points[l],s=Math.min(s,i.x),t=Math.min(t,i.y),n=Math.max(n,i.x),h=Math.max(h,i.y);return r.x=s,r.y=t,r.width=n-s,r.height=h-t,r};c.exports=p},26173:c=>{var x=function(e,o){o===void 0&&(o=[]);for(var p=0;p<e.points.length;p++)o.push(e.points[p].x),o.push(e.points[p].y);return o};c.exports=x},9564:(c,x,e)=>{var o=e(35001),p=e(23031),a=e(30052),r=function(s,t,n,h){h===void 0&&(h=[]);var i=s.points,l=a(s);!t&&n>0&&(t=l/n);for(var u=0;u<t;u++)for(var d=l*(u/t),f=0,v=0;v<i.length;v++){var m=i[v],g=i[(v+1)%i.length],y=new p(m.x,m.y,g.x,g.y),T=o(y);if(d<f||d>f+T){f+=T;continue}var C=y.getPoint((d-f)/T);h.push(C);break}return h};c.exports=r},30052:(c,x,e)=>{var o=e(35001),p=e(23031),a=function(r){for(var s=r.points,t=0,n=0;n<s.length;n++){var h=s[n],i=s[(n+1)%s.length],l=new p(h.x,h.y,i.x,i.y);t+=o(l)}return t};c.exports=a},25717:(c,x,e)=>{var o=e(83419),p=e(63814),a=e(9564),r=e(23777),s=new o({initialize:function(n){this.type=r.POLYGON,this.area=0,this.points=[],n&&this.setTo(n)},contains:function(t,n){return p(this,t,n)},setTo:function(t){if(this.area=0,this.points=[],typeof t=="string"&&(t=t.split(" ")),!Array.isArray(t))return this;for(var n,h=0;h<t.length;h++)n={x:0,y:0},typeof t[h]=="number"||typeof t[h]=="string"?(n.x=parseFloat(t[h]),n.y=parseFloat(t[h+1]),h++):Array.isArray(t[h])?(n.x=t[h][0],n.y=t[h][1]):(n.x=t[h].x,n.y=t[h].y),this.points.push(n);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t=0,n,h,i=0;i<this.points.length-1;i++)n=this.points[i],h=this.points[i+1],t+=(h.x-n.x)*(n.y+h.y);return n=this.points[0],h=this.points[this.points.length-1],t+=(n.x-h.x)*(h.y+n.y),this.area=-t*.5,this.area},getPoints:function(t,n,h){return a(this,t,n,h)}});c.exports=s},8133:c=>{var x=function(e){return e.points.reverse(),e};c.exports=x},29524:c=>{function x(s,t){var n=s.x-t.x,h=s.y-t.y;return n*n+h*h}function e(s,t,n){var h=t.x,i=t.y,l=n.x-h,u=n.y-i;if(l!==0||u!==0){var d=((s.x-h)*l+(s.y-i)*u)/(l*l+u*u);d>1?(h=n.x,i=n.y):d>0&&(h+=l*d,i+=u*d)}return l=s.x-h,u=s.y-i,l*l+u*u}function o(s,t){for(var n=s[0],h=[n],i,l=1,u=s.length;l<u;l++)i=s[l],x(i,n)>t&&(h.push(i),n=i);return n!==i&&h.push(i),h}function p(s,t,n,h,i){for(var l=h,u,d=t+1;d<n;d++){var f=e(s[d],s[t],s[n]);f>l&&(u=d,l=f)}l>h&&(u-t>1&&p(s,t,u,h,i),i.push(s[u]),n-u>1&&p(s,u,n,h,i))}function a(s,t){var n=s.length-1,h=[s[0]];return p(s,0,n,t,h),h.push(s[n]),h}var r=function(s,t,n){t===void 0&&(t=1),n===void 0&&(n=!1);var h=s.points;if(h.length>2){var i=t*t;n||(h=o(h,i)),s.setTo(a(h,i))}return s};c.exports=r},5469:c=>{var x=function(o,p){return o[0]=p[0],o[1]=p[1],o},e=function(o){var p,a=[],r=o.points;for(p=0;p<r.length;p++)a.push([r[p].x,r[p].y]);var s=[];for(a.length>0&&s.push(x([0,0],a[0])),p=0;p<a.length-1;p++){var t=a[p],n=a[p+1],h=t[0],i=t[1],l=n[0],u=n[1];s.push([.85*h+.15*l,.85*i+.15*u]),s.push([.15*h+.85*l,.15*i+.85*u])}return a.length>1&&s.push(x([0,0],a[a.length-1])),o.setTo(s)};c.exports=e},24709:c=>{var x=function(e,o,p){for(var a=e.points,r=0;r<a.length;r++)a[r].x+=o,a[r].y+=p;return e};c.exports=x},58423:(c,x,e)=>{var o=e(25717);o.Clone=e(12306),o.Contains=e(63814),o.ContainsPoint=e(99338),o.Earcut=e(94811),o.GetAABB=e(13829),o.GetNumberArray=e(26173),o.GetPoints=e(9564),o.Perimeter=e(30052),o.Reverse=e(8133),o.Simplify=e(29524),o.Smooth=e(5469),o.Translate=e(24709),c.exports=o},62224:c=>{var x=function(e){return e.width*e.height};c.exports=x},98615:c=>{var x=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};c.exports=x},31688:c=>{var x=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};c.exports=x},67502:c=>{var x=function(e,o,p){return e.x=o-e.width/2,e.y=p-e.height/2,e};c.exports=x},65085:(c,x,e)=>{var o=e(87841),p=function(a){return new o(a.x,a.y,a.width,a.height)};c.exports=p},37303:c=>{var x=function(e,o,p){return e.width<=0||e.height<=0?!1:e.x<=o&&e.x+e.width>=o&&e.y<=p&&e.y+e.height>=p};c.exports=x},96553:(c,x,e)=>{var o=e(37303),p=function(a,r){return o(a,r.x,r.y)};c.exports=p},70273:c=>{var x=function(e,o){return o.width*o.height>e.width*e.height?!1:o.x>e.x&&o.x<e.right&&o.right>e.x&&o.right<e.right&&o.y>e.y&&o.y<e.bottom&&o.bottom>e.y&&o.bottom<e.bottom};c.exports=x},43459:c=>{var x=function(e,o){return o.setTo(e.x,e.y,e.width,e.height)};c.exports=x},77493:c=>{var x=function(e,o){return o===void 0&&(o=[]),o.push({x:e.x,y:e.y}),o.push({x:e.right,y:e.y}),o.push({x:e.right,y:e.bottom}),o.push({x:e.x,y:e.bottom}),o};c.exports=x},9219:c=>{var x=function(e,o){return e.x===o.x&&e.y===o.y&&e.width===o.width&&e.height===o.height};c.exports=x},53751:(c,x,e)=>{var o=e(8249),p=function(a,r){var s=o(a);return s<o(r)?a.setSize(r.height*s,r.height):a.setSize(r.width,r.width/s),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};c.exports=p},16088:(c,x,e)=>{var o=e(8249),p=function(a,r){var s=o(a);return s>o(r)?a.setSize(r.height*s,r.height):a.setSize(r.width,r.width/s),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};c.exports=p},80774:c=>{var x=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};c.exports=x},83859:c=>{var x=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};c.exports=x},19217:(c,x,e)=>{var o=e(87841),p=e(36383),a=function(r,s){if(s===void 0&&(s=new o),r.length===0)return s;for(var t=Number.MAX_VALUE,n=Number.MAX_VALUE,h=p.MIN_SAFE_INTEGER,i=p.MIN_SAFE_INTEGER,l,u,d,f=0;f<r.length;f++)l=r[f],Array.isArray(l)?(u=l[0],d=l[1]):(u=l.x,d=l.y),t=Math.min(t,u),n=Math.min(n,d),h=Math.max(h,u),i=Math.max(i,d);return s.x=t,s.y=n,s.width=h-t,s.height=i-n,s};c.exports=a},9477:(c,x,e)=>{var o=e(87841),p=function(a,r,s,t,n){return n===void 0&&(n=new o),n.setTo(Math.min(a,s),Math.min(r,t),Math.abs(a-s),Math.abs(r-t))};c.exports=p},8249:c=>{var x=function(e){return e.height===0?NaN:e.width/e.height};c.exports=x},27165:(c,x,e)=>{var o=e(2141),p=function(a,r){return r===void 0&&(r=new o),r.x=a.centerX,r.y=a.centerY,r};c.exports=p},20812:(c,x,e)=>{var o=e(13019),p=e(2141),a=function(r,s,t){if(t===void 0&&(t=new p),s<=0||s>=1)return t.x=r.x,t.y=r.y,t;var n=o(r)*s;return s>.5?(n-=r.width+r.height,n<=r.width?(t.x=r.right-n,t.y=r.bottom):(t.x=r.x,t.y=r.bottom-(n-r.width))):n<=r.width?(t.x=r.x+n,t.y=r.y):(t.x=r.right,t.y=r.y+(n-r.width)),t};c.exports=a},34819:(c,x,e)=>{var o=e(20812),p=e(13019),a=function(r,s,t,n){n===void 0&&(n=[]),!s&&t>0&&(s=p(r)/t);for(var h=0;h<s;h++){var i=h/s;n.push(o(r,i))}return n};c.exports=a},51313:(c,x,e)=>{var o=e(2141),p=function(a,r){return r===void 0&&(r=new o),r.x=a.width,r.y=a.height,r};c.exports=p},86091:(c,x,e)=>{var o=e(67502),p=function(a,r,s){var t=a.centerX,n=a.centerY;return a.setSize(a.width+r*2,a.height+s*2),o(a,t,n)};c.exports=p},53951:(c,x,e)=>{var o=e(87841),p=e(59996),a=function(r,s,t){return t===void 0&&(t=new o),p(r,s)?(t.x=Math.max(r.x,s.x),t.y=Math.max(r.y,s.y),t.width=Math.min(r.right,s.right)-t.x,t.height=Math.min(r.bottom,s.bottom)-t.y):t.setEmpty(),t};c.exports=a},14649:(c,x,e)=>{var o=e(13019),p=e(2141),a=function(r,s,t,n){if(n===void 0&&(n=[]),!s&&!t)return n;s?t=Math.round(o(r)/s):s=o(r)/t;for(var h=r.x,i=r.y,l=0,u=0;u<t;u++)switch(n.push(new p(h,i)),l){case 0:h+=s,h>=r.right&&(l=1,i+=h-r.right,h=r.right);break;case 1:i+=s,i>=r.bottom&&(l=2,h-=i-r.bottom,i=r.bottom);break;case 2:h-=s,h<=r.left&&(l=3,i-=r.left-h,h=r.left);break;case 3:i-=s,i<=r.top&&(l=0,i=r.top);break}return n};c.exports=a},33595:c=>{var x=function(e,o){for(var p=e.x,a=e.right,r=e.y,s=e.bottom,t=0;t<o.length;t++)p=Math.min(p,o[t].x),a=Math.max(a,o[t].x),r=Math.min(r,o[t].y),s=Math.max(s,o[t].y);return e.x=p,e.y=r,e.width=a-p,e.height=s-r,e};c.exports=x},20074:c=>{var x=function(e,o){var p=Math.min(e.x,o.x),a=Math.max(e.right,o.right);e.x=p,e.width=a-p;var r=Math.min(e.y,o.y),s=Math.max(e.bottom,o.bottom);return e.y=r,e.height=s-r,e};c.exports=x},92171:c=>{var x=function(e,o,p){var a=Math.min(e.x,o),r=Math.max(e.right,o);e.x=a,e.width=r-a;var s=Math.min(e.y,p),t=Math.max(e.bottom,p);return e.y=s,e.height=t-s,e};c.exports=x},42981:c=>{var x=function(e,o,p){return e.x+=o,e.y+=p,e};c.exports=x},46907:c=>{var x=function(e,o){return e.x+=o.x,e.y+=o.y,e};c.exports=x},60170:c=>{var x=function(e,o){return e.x<o.right&&e.right>o.x&&e.y<o.bottom&&e.bottom>o.y};c.exports=x},13019:c=>{var x=function(e){return 2*(e.width+e.height)};c.exports=x},85133:(c,x,e)=>{var o=e(2141),p=e(39506),a=function(r,s,t){t===void 0&&(t=new o),s=p(s);var n=Math.sin(s),h=Math.cos(s),i=h>0?r.width/2:r.width/-2,l=n>0?r.height/2:r.height/-2;return Math.abs(i*n)<Math.abs(l*h)?l=i*n/h:i=l*h/n,t.x=i+r.centerX,t.y=l+r.centerY,t};c.exports=a},26597:(c,x,e)=>{var o=e(2141),p=function(a,r){return r===void 0&&(r=new o),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};c.exports=p},86470:(c,x,e)=>{var o=e(30976),p=e(70273),a=e(2141),r=function(s,t,n){if(n===void 0&&(n=new a),p(s,t))switch(o(0,3)){case 0:n.x=s.x+Math.random()*(t.right-s.x),n.y=s.y+Math.random()*(t.top-s.y);break;case 1:n.x=t.x+Math.random()*(s.right-t.x),n.y=t.bottom+Math.random()*(s.bottom-t.bottom);break;case 2:n.x=s.x+Math.random()*(t.x-s.x),n.y=t.y+Math.random()*(s.bottom-t.y);break;case 3:n.x=t.right+Math.random()*(s.right-t.right),n.y=s.y+Math.random()*(t.bottom-s.y);break}return n};c.exports=r},87841:(c,x,e)=>{var o=e(83419),p=e(37303),a=e(20812),r=e(34819),s=e(23777),t=e(23031),n=e(26597),h=new o({initialize:function(l,u,d,f){l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),this.type=s.RECTANGLE,this.x=l,this.y=u,this.width=d,this.height=f},contains:function(i,l){return p(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return r(this,i,l,u)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,l,u,d){return this.x=i,this.y=l,this.width=u,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,l){return l===void 0&&(l=i),this.x=i,this.y=l,this},setSize:function(i,l){return l===void 0&&(l=i),this.width=i,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new t),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new t),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new t),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new t),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});c.exports=h},94845:c=>{var x=function(e,o){return e.width===o.width&&e.height===o.height};c.exports=x},31730:c=>{var x=function(e,o,p){return p===void 0&&(p=o),e.width*=o,e.height*=p,e};c.exports=x},36899:(c,x,e)=>{var o=e(87841),p=function(a,r,s){s===void 0&&(s=new o);var t=Math.min(a.x,r.x),n=Math.min(a.y,r.y),h=Math.max(a.right,r.right)-t,i=Math.max(a.bottom,r.bottom)-n;return s.setTo(t,n,h,i)};c.exports=p},93232:(c,x,e)=>{var o=e(87841);o.Area=e(62224),o.Ceil=e(98615),o.CeilAll=e(31688),o.CenterOn=e(67502),o.Clone=e(65085),o.Contains=e(37303),o.ContainsPoint=e(96553),o.ContainsRect=e(70273),o.CopyFrom=e(43459),o.Decompose=e(77493),o.Equals=e(9219),o.FitInside=e(53751),o.FitOutside=e(16088),o.Floor=e(80774),o.FloorAll=e(83859),o.FromPoints=e(19217),o.FromXY=e(9477),o.GetAspectRatio=e(8249),o.GetCenter=e(27165),o.GetPoint=e(20812),o.GetPoints=e(34819),o.GetSize=e(51313),o.Inflate=e(86091),o.Intersection=e(53951),o.MarchingAnts=e(14649),o.MergePoints=e(33595),o.MergeRect=e(20074),o.MergeXY=e(92171),o.Offset=e(42981),o.OffsetPoint=e(46907),o.Overlaps=e(60170),o.Perimeter=e(13019),o.PerimeterPoint=e(85133),o.Random=e(26597),o.RandomOutside=e(86470),o.SameDimensions=e(94845),o.Scale=e(31730),o.Union=e(36899),c.exports=o},41658:c=>{var x=function(e){var o=e.x1,p=e.y1,a=e.x2,r=e.y2,s=e.x3,t=e.y3;return Math.abs(((s-o)*(r-p)-(a-o)*(t-p))/2)};c.exports=x},39208:(c,x,e)=>{var o=e(16483),p=function(a,r,s){var t=s*(Math.sqrt(3)/2),n=a,h=r,i=a+s/2,l=r+t,u=a-s/2,d=r+t;return new o(n,h,i,l,u,d)};c.exports=p},39545:(c,x,e)=>{var o=e(94811),p=e(16483),a=function(r,s,t,n,h){s===void 0&&(s=null),t===void 0&&(t=1),n===void 0&&(n=1),h===void 0&&(h=[]);for(var i=o(r,s),l,u,d,f,v,m,g,y,T,C=0;C<i.length;C+=3)l=i[C],u=i[C+1],d=i[C+2],f=r[l*2]*t,v=r[l*2+1]*n,m=r[u*2]*t,g=r[u*2+1]*n,y=r[d*2]*t,T=r[d*2+1]*n,h.push(new p(f,v,m,g,y,T));return h};c.exports=a},90301:(c,x,e)=>{var o=e(16483),p=function(a,r,s,t){t===void 0&&(t=s);var n=a,h=r,i=a,l=r-t,u=a+s,d=r;return new o(n,h,i,l,u,d)};c.exports=p},23707:(c,x,e)=>{var o=e(97523),p=e(13584),a=function(r,s,t,n){n===void 0&&(n=o);var h=n(r),i=s-h.x,l=t-h.y;return p(r,i,l)};c.exports=a},97523:(c,x,e)=>{var o=e(2141),p=function(a,r){return r===void 0&&(r=new o),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};c.exports=p},24951:(c,x,e)=>{var o=e(26099);function p(r,s,t,n){return r*n-s*t}var a=function(r,s){s===void 0&&(s=new o);var t=r.x3,n=r.y3,h=r.x1-t,i=r.y1-n,l=r.x2-t,u=r.y2-n,d=2*p(h,i,l,u),f=p(i,h*h+i*i,u,l*l+u*u),v=p(h,h*h+i*i,l,l*l+u*u);return s.x=t-f/d,s.y=n+v/d,s};c.exports=a},85614:(c,x,e)=>{var o=e(96503),p=function(a,r){r===void 0&&(r=new o);var s=a.x1,t=a.y1,n=a.x2,h=a.y2,i=a.x3,l=a.y3,u=n-s,d=h-t,f=i-s,v=l-t,m=u*(s+n)+d*(t+h),g=f*(s+i)+v*(t+l),y=2*(u*(l-h)-d*(i-n)),T,C;if(Math.abs(y)<1e-6){var E=Math.min(s,n,i),z=Math.min(t,h,l);T=(Math.max(s,n,i)-E)*.5,C=(Math.max(t,h,l)-z)*.5,r.x=E+T,r.y=z+C,r.radius=Math.sqrt(T*T+C*C)}else r.x=(v*m-d*g)/y,r.y=(u*g-f*m)/y,T=r.x-s,C=r.y-t,r.radius=Math.sqrt(T*T+C*C);return r};c.exports=p},74422:(c,x,e)=>{var o=e(16483),p=function(a){return new o(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};c.exports=p},10690:c=>{var x=function(e,o,p){var a=e.x3-e.x1,r=e.y3-e.y1,s=e.x2-e.x1,t=e.y2-e.y1,n=o-e.x1,h=p-e.y1,i=a*a+r*r,l=a*s+r*t,u=a*n+r*h,d=s*s+t*t,f=s*n+t*h,v=i*d-l*l,m=v===0?0:1/v,g=(d*u-l*f)*m,y=(i*f-l*u)*m;return g>=0&&y>=0&&g+y<1};c.exports=x},48653:c=>{var x=function(e,o,p,a){p===void 0&&(p=!1),a===void 0&&(a=[]);for(var r=e.x3-e.x1,s=e.y3-e.y1,t=e.x2-e.x1,n=e.y2-e.y1,h=r*r+s*s,i=r*t+s*n,l=t*t+n*n,u=h*l-i*i,d=u===0?0:1/u,f,v,m,g,y,T,C=e.x1,E=e.y1,z=0;z<o.length&&(m=o[z].x-C,g=o[z].y-E,y=r*m+s*g,T=t*m+n*g,f=(l*y-i*T)*d,v=(h*T-i*y)*d,!(f>=0&&v>=0&&f+v<1&&(a.push({x:o[z].x,y:o[z].y}),p)));z++);return a};c.exports=x},96006:(c,x,e)=>{var o=e(10690),p=function(a,r){return o(a,r.x,r.y)};c.exports=p},71326:c=>{var x=function(e,o){return o.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};c.exports=x},71694:c=>{var x=function(e,o){return o===void 0&&(o=[]),o.push({x:e.x1,y:e.y1}),o.push({x:e.x2,y:e.y2}),o.push({x:e.x3,y:e.y3}),o};c.exports=x},33522:c=>{var x=function(e,o){return e.x1===o.x1&&e.y1===o.y1&&e.x2===o.x2&&e.y2===o.y2&&e.x3===o.x3&&e.y3===o.y3};c.exports=x},20437:(c,x,e)=>{var o=e(2141),p=e(35001),a=function(r,s,t){t===void 0&&(t=new o);var n=r.getLineA(),h=r.getLineB(),i=r.getLineC();if(s<=0||s>=1)return t.x=n.x1,t.y=n.y1,t;var l=p(n),u=p(h),d=p(i),f=l+u+d,v=f*s,m=0;return v<l?(m=v/l,t.x=n.x1+(n.x2-n.x1)*m,t.y=n.y1+(n.y2-n.y1)*m):v>l+u?(v-=l+u,m=v/d,t.x=i.x1+(i.x2-i.x1)*m,t.y=i.y1+(i.y2-i.y1)*m):(v-=l,m=v/u,t.x=h.x1+(h.x2-h.x1)*m,t.y=h.y1+(h.y2-h.y1)*m),t};c.exports=a},80672:(c,x,e)=>{var o=e(35001),p=e(2141),a=function(r,s,t,n){n===void 0&&(n=[]);var h=r.getLineA(),i=r.getLineB(),l=r.getLineC(),u=o(h),d=o(i),f=o(l),v=u+d+f;!s&&t>0&&(s=v/t);for(var m=0;m<s;m++){var g=v*(m/s),y=0,T=new p;g<u?(y=g/u,T.x=h.x1+(h.x2-h.x1)*y,T.y=h.y1+(h.y2-h.y1)*y):g>u+d?(g-=u+d,y=g/f,T.x=l.x1+(l.x2-l.x1)*y,T.y=l.y1+(l.y2-l.y1)*y):(g-=u,y=g/d,T.x=i.x1+(i.x2-i.x1)*y,T.y=i.y1+(i.y2-i.y1)*y),n.push(T)}return n};c.exports=a},39757:(c,x,e)=>{var o=e(2141);function p(r,s,t,n){var h=r-t,i=s-n,l=h*h+i*i;return Math.sqrt(l)}var a=function(r,s){s===void 0&&(s=new o);var t=r.x1,n=r.y1,h=r.x2,i=r.y2,l=r.x3,u=r.y3,d=p(l,u,h,i),f=p(t,n,l,u),v=p(h,i,t,n),m=d+f+v;return s.x=(t*d+h*f+l*v)/m,s.y=(n*d+i*f+u*v)/m,s};c.exports=a},13584:c=>{var x=function(e,o,p){return e.x1+=o,e.y1+=p,e.x2+=o,e.y2+=p,e.x3+=o,e.y3+=p,e};c.exports=x},1376:(c,x,e)=>{var o=e(35001),p=function(a){var r=a.getLineA(),s=a.getLineB(),t=a.getLineC();return o(r)+o(s)+o(t)};c.exports=p},90260:(c,x,e)=>{var o=e(2141),p=function(a,r){r===void 0&&(r=new o);var s=a.x2-a.x1,t=a.y2-a.y1,n=a.x3-a.x1,h=a.y3-a.y1,i=Math.random(),l=Math.random();return i+l>=1&&(i=1-i,l=1-l),r.x=a.x1+(s*i+n*l),r.y=a.y1+(t*i+h*l),r};c.exports=p},52172:(c,x,e)=>{var o=e(99614),p=e(39757),a=function(r,s){var t=p(r);return o(r,t.x,t.y,s)};c.exports=a},49907:(c,x,e)=>{var o=e(99614),p=function(a,r,s){return o(a,r.x,r.y,s)};c.exports=p},99614:c=>{var x=function(e,o,p,a){var r=Math.cos(a),s=Math.sin(a),t=e.x1-o,n=e.y1-p;return e.x1=t*r-n*s+o,e.y1=t*s+n*r+p,t=e.x2-o,n=e.y2-p,e.x2=t*r-n*s+o,e.y2=t*s+n*r+p,t=e.x3-o,n=e.y3-p,e.x3=t*r-n*s+o,e.y3=t*s+n*r+p,e};c.exports=x},16483:(c,x,e)=>{var o=e(83419),p=e(10690),a=e(20437),r=e(80672),s=e(23777),t=e(23031),n=e(90260),h=new o({initialize:function(l,u,d,f,v,m){l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),m===void 0&&(m=0),this.type=s.TRIANGLE,this.x1=l,this.y1=u,this.x2=d,this.y2=f,this.x3=v,this.y3=m},contains:function(i,l){return p(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return r(this,i,l,u)},getRandomPoint:function(i){return n(this,i)},setTo:function(i,l,u,d,f,v){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),v===void 0&&(v=0),this.x1=i,this.y1=l,this.x2=u,this.y2=d,this.x3=f,this.y3=v,this},getLineA:function(i){return i===void 0&&(i=new t),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new t),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new t),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1<=this.x2&&this.x1<=this.x3?l=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1>=this.x2&&this.x1>=this.x3?l=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1<=this.y2&&this.y1<=this.y3?l=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1>=this.y2&&this.y1>=this.y3?l=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}}});c.exports=h},84435:(c,x,e)=>{var o=e(16483);o.Area=e(41658),o.BuildEquilateral=e(39208),o.BuildFromPolygon=e(39545),o.BuildRight=e(90301),o.CenterOn=e(23707),o.Centroid=e(97523),o.CircumCenter=e(24951),o.CircumCircle=e(85614),o.Clone=e(74422),o.Contains=e(10690),o.ContainsArray=e(48653),o.ContainsPoint=e(96006),o.CopyFrom=e(71326),o.Decompose=e(71694),o.Equals=e(33522),o.GetPoint=e(20437),o.GetPoints=e(80672),o.InCenter=e(39757),o.Perimeter=e(1376),o.Offset=e(13584),o.Random=e(90260),o.Rotate=e(52172),o.RotateAroundPoint=e(49907),o.RotateAroundXY=e(99614),c.exports=o},74457:c=>{var x=function(e,o,p){return{gameObject:e,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};c.exports=x},84409:c=>{var x=function(e,o){return function(p,a,r,s){var t=e.getPixelAlpha(a,r,s.texture.key,s.frame.name);return t&&t>=o}};c.exports=x},7003:(c,x,e)=>{var o=e(83419),p=e(93301),a=e(50792),r=e(8214),s=e(8443),t=e(78970),n=e(85098),h=e(42515),i=e(36210),l=e(61340),u=e(85955),d=new o({initialize:function(v,m){this.game=v,this.scaleManager,this.canvas,this.config=m,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=m.inputKeyboard?new t(this):null,this.mouse=m.inputMouse?new n(this):null,this.touch=m.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=m.inputActivePointers;for(var g=0;g<=this.pointersTotal;g++){var y=new h(this,g);y.smoothFactor=m.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=m.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new l,this._tempMatrix2=new l,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],v.events.once(s.BOOT,this.boot,this)},boot:function(){var f=this.game,v=f.events;this.canvas=f.canvas,this.scaleManager=f.scale,this.events.emit(r.MANAGER_BOOT),v.on(s.PRE_RENDER,this.preRender,this),v.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(f){this.isOver=!0,this.events.emit(r.GAME_OVER,f)},setCanvasOut:function(f){this.isOver=!1,this.events.emit(r.GAME_OUT,f)},preRender:function(){var f=this.game.loop.now,v=this.game.loop.delta,m=this.game.scene.getScenes(!0,!0);this.time=f,this.events.emit(r.MANAGER_UPDATE);for(var g=0;g<m.length;g++){var y=m[g];if(y.sys.input&&y.sys.input.updatePoll(f,v)&&this.globalTopOnly)return}},setDefaultCursor:function(f){this.defaultCursor=f,this.canvas.style.cursor!==f&&(this.canvas.style.cursor=f)},setCursor:function(f){f.cursor&&(this.canvas.style.cursor=f.cursor)},resetCursor:function(f,v){(v||f&&f.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(f){f===void 0&&(f=1);var v=[];this.pointersTotal+f>10&&(f=10-this.pointersTotal);for(var m=0;m<f;m++){var g=this.pointers.length,y=new h(this,g);y.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(y),this.pointersTotal++,v.push(y)}return v},updateInputPlugins:function(f,v){var m=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var g=0;g<m.length;g++){var y=m[g];if(y.sys.input){var T=y.sys.input.update(f,v);if(T&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(!C.active){C.touchstart(y,f),this.activePointer=C,m.push(C);break}}this.updateInputPlugins(p.TOUCH_START,m)},onTouchMove:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(C.active&&C.identifier===y.identifier){var E=document.elementFromPoint(y.clientX,y.clientY),z=E===this.canvas;!this.isOver&&z?this.setCanvasOver(f):this.isOver&&!z&&this.setCanvasOut(f),this.isOver&&(C.touchmove(y,f),this.activePointer=C,m.push(C));break}}this.updateInputPlugins(p.TOUCH_MOVE,m)},onTouchEnd:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(C.active&&C.identifier===y.identifier){C.touchend(y,f),m.push(C);break}}this.updateInputPlugins(p.TOUCH_END,m)},onTouchCancel:function(f){for(var v=this.pointers,m=[],g=0;g<f.changedTouches.length;g++)for(var y=f.changedTouches[g],T=1;T<v.length;T++){var C=v[T];if(C.active&&C.identifier===y.identifier){C.touchcancel(y,f),m.push(C);break}}this.updateInputPlugins(p.TOUCH_CANCEL,m)},onMouseDown:function(f){var v=this.mousePointer;v.down(f),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(f){var v=this.mousePointer;v.move(f),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(f){var v=this.mousePointer;v.up(f),v.updateMotion(),this.activePointer=v,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(f){var v=this.mousePointer;v.wheel(f),this.activePointer=v,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(f){var v=this.mouse.locked;this.mousePointer.locked=v,this.events.emit(r.POINTERLOCK_CHANGE,f,v)},inputCandidate:function(f,v){var m=f.input;if(!m||!m.enabled||!f.willRender(v))return!1;var g=!0,y=f.parentContainer;if(y)do{if(!y.willRender(v)){g=!1;break}y=y.parentContainer}while(y);return g},hitTest:function(f,v,m,g){g===void 0&&(g=this._tempHitTest);var y=this._tempPoint,T=m.scrollX,C=m.scrollY;g.length=0;var E=f.x,z=f.y;m.getWorldPoint(E,z,y),f.worldX=y.x,f.worldY=y.y;for(var D={x:0,y:0},A=this._tempMatrix,L=this._tempMatrix2,b=0;b<v.length;b++){var F=v[b];if(this.inputCandidate(F,m)){var V=y.x+T*F.scrollFactorX-T,B=y.y+C*F.scrollFactorY-C;F.parentContainer?(F.getWorldTransformMatrix(A,L),A.applyInverse(V,B,D)):u(V,B,F.x,F.y,F.rotation,F.scaleX,F.scaleY,D),this.pointWithinHitArea(F,D.x,D.y)&&g.push(F)}}return g},pointWithinHitArea:function(f,v,m){v+=f.displayOriginX,m+=f.displayOriginY;var g=f.input;return g&&g.hitAreaCallback(g.hitArea,v,m,f)?(g.localX=v,g.localY=m,!0):!1},pointWithinInteractiveObject:function(f,v,m){return f.hitArea?(v+=f.gameObject.displayOriginX,m+=f.gameObject.displayOriginY,f.localX=v,f.localY=m,f.hitAreaCallback(f.hitArea,v,m,f)):!1},transformPointer:function(f,v,m,g){var y=f.position,T=f.prevPosition;T.x=y.x,T.y=y.y;var C=this.scaleManager.transformX(v),E=this.scaleManager.transformY(m),z=f.smoothFactor;!g||z===0?(y.x=C,y.y=E):(y.x=C*z+T.x*(1-z),y.y=E*z+T.y*(1-z))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var f=0;f<this.pointers.length;f++)this.pointers[f].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});c.exports=d},48205:(c,x,e)=>{var o=e(96503),p=e(87902),a=e(83419),r=e(93301),s=e(74457),t=e(84409),n=e(20339),h=e(8497),i=e(81154),l=e(8214),u=e(50792),d=e(95540),f=e(23777),v=e(89639),m=e(41212),g=e(37277),y=e(87841),T=e(37303),C=e(44594),E=e(16483),z=e(10690),D=new a({Extends:u,initialize:function(L){u.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,v.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var b={cancelled:!1};this._eventContainer={stopPropagation:function(){b.cancelled=!0}},this._eventData=b,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(C.BOOT,this.boot,this),L.sys.events.on(C.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(C.DESTROY,this.destroy,this),this.pluginEvents.emit(l.BOOT)},start:function(){var A=this.systems.events;A.on(C.TRANSITION_START,this.transitionIn,this),A.on(C.TRANSITION_OUT,this.transitionOut,this),A.on(C.TRANSITION_COMPLETE,this.transitionComplete,this),A.on(C.PRE_UPDATE,this.preUpdate,this),A.once(C.SHUTDOWN,this.shutdown,this),this.manager.events.on(l.GAME_OUT,this.onGameOut,this),this.manager.events.on(l.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(l.START)},onGameOver:function(A){this.isActive()&&this.emit(l.GAME_OVER,A.timeStamp,A)},onGameOut:function(A){this.isActive()&&this.emit(l.GAME_OUT,A.timeStamp,A)},preUpdate:function(){this.pluginEvents.emit(l.PRE_UPDATE);var A=this._pendingRemoval,L=this._pendingInsertion,b=A.length,F=L.length;if(!(b===0&&F===0)){for(var V=this._list,B=0;B<b;B++){var N=A[B],U=V.indexOf(N);U>-1&&(V.splice(U,1),this.clear(N,!0))}this._pendingRemoval.length=0,this._list=V.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(A){this.manager&&this.manager.setCursor(A)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(A,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(l.UPDATE,A,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var b,F=this.manager,V=F.pointers;for(b=0;b<V.length;b++)V[b].updateMotion();if(this._list.length===0)return!1;var B=this.pollRate;if(B===-1)return!1;if(B>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var N=!1;for(b=0;b<V.length;b++){var U=0,I=V[b];this._tempZones=[],this._temp=this.hitTestPointer(I),this.sortGameObjects(this._temp,I),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),U+=this.processOverOutEvents(I),this.getDragState(I)===2&&this.processDragThresholdEvent(I,A),U>0&&(N=!0)}return N},update:function(A,L){if(!this.isActive())return!1;for(var b=!1,F=0;F<L.length;F++){var V=0,B=L[F];switch(this._tempZones=[],this._temp=this.hitTestPointer(B),this.sortGameObjects(this._temp,B),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),A){case r.MOUSE_DOWN:V+=this.processDragDownEvent(B),V+=this.processDownEvents(B),V+=this.processOverOutEvents(B);break;case r.MOUSE_UP:V+=this.processDragUpEvent(B),V+=this.processUpEvents(B),V+=this.processOverOutEvents(B);break;case r.TOUCH_START:V+=this.processDragDownEvent(B),V+=this.processDownEvents(B),V+=this.processOverEvents(B);break;case r.TOUCH_END:case r.TOUCH_CANCEL:V+=this.processDragUpEvent(B),V+=this.processUpEvents(B),V+=this.processOutEvents(B);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:V+=this.processDragMoveEvent(B),V+=this.processMoveEvents(B),V+=this.processOverOutEvents(B);break;case r.MOUSE_WHEEL:V+=this.processWheelEvent(B);break}V>0&&(b=!0)}return this._updatedThisFrame=!0,b},clear:function(A,L){L===void 0&&(L=!1),this.disable(A);var b=A.input;b&&(this.removeDebug(A),this.manager.resetCursor(b),b.gameObject=void 0,b.target=void 0,b.hitArea=void 0,b.hitAreaCallback=void 0,b.callbackContext=void 0,A.input=null),L||this.queueForRemoval(A);var F=this._draggable.indexOf(A);return F>-1&&this._draggable.splice(F,1),A},disable:function(A,L){L===void 0&&(L=!1);var b=A.input;b&&(b.enabled=!1,b.dragState=0);for(var F=this._drag,V=this._over,B=this.manager,N=0,U;N<B.pointers.length;N++)U=F[N].indexOf(A),U>-1&&F[N].splice(U,1),U=V[N].indexOf(A),U>-1&&V[N].splice(U,1);return L&&this.resetCursor(),this},enable:function(A,L,b,F){return F===void 0&&(F=!1),A.input?A.input.enabled=!0:this.setHitArea(A,L,b),A.input&&F&&!A.input.dropZone&&(A.input.dropZone=F),this},hitTestPointer:function(A){for(var L=this.cameras.getCamerasBelowPointer(A),b=0;b<L.length;b++){for(var F=L[b],V=this.manager.hitTest(A,this._list,F),B=0;B<V.length;B++){var N=V[B];N.input.dropZone&&this._tempZones.push(N)}if(V.length>0)return A.camera=F,V}return A.camera=L[0],[]},processDownEvents:function(A){var L=0,b=this._temp,F=this._eventData,V=this._eventContainer;F.cancelled=!1;for(var B=0;B<b.length;B++){var N=b[B];if(!(!N.input||!N.input.enabled)&&(L++,N.emit(l.GAMEOBJECT_POINTER_DOWN,A,N.input.localX,N.input.localY,V),F.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(l.GAMEOBJECT_DOWN,A,N,V),F.cancelled||!this.isActive())))break}return!F.cancelled&&this.isActive()&&(A.downElement===this.manager.game.canvas?this.emit(l.POINTER_DOWN,A,b):this.emit(l.POINTER_DOWN_OUTSIDE,A)),L},getDragState:function(A){return this._dragState[A.id]},setDragState:function(A,L){this._dragState[A.id]=L},processDragThresholdEvent:function(A,L){var b=!1,F=this.dragTimeThreshold,V=this.dragDistanceThreshold;if((V>0&&n(A.x,A.y,A.downX,A.downY)>=V||F>0&&L>=A.downTime+F)&&(b=!0),b)return this.setDragState(A,3),this.processDragStartList(A)},processDragStartList:function(A){if(this.getDragState(A)!==3)return 0;var L=this._drag[A.id];L.length>1&&(L=L.slice(0));for(var b=0;b<L.length;b++){var F=L[b],V=F.input;V.dragState=2,V.dragStartX=F.x,V.dragStartY=F.y,V.dragStartXGlobal=A.worldX,V.dragStartYGlobal=A.worldY,V.dragStartCamera=A.camera,V.dragX=V.dragStartXGlobal-V.dragStartX,V.dragY=V.dragStartYGlobal-V.dragStartY,F.emit(l.GAMEOBJECT_DRAG_START,A,V.dragX,V.dragY),this.emit(l.DRAG_START,A,F)}return this.setDragState(A,4),L.length},processDragDownEvent:function(A){var L=this._temp;if(this._draggable.length===0||L.length===0||!A.primaryDown||this.getDragState(A)!==0)return 0;this.setDragState(A,1);for(var b=[],F=0;F<L.length;F++){var V=L[F];V.input.draggable&&V.input.dragState===0&&b.push(V)}return b.length===0?(this.setDragState(A,0),0):(b.length>1&&(this.sortGameObjects(b,A),this.topOnly&&b.splice(1)),this._drag[A.id]=b,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(A,3),this.processDragStartList(A)):(this.setDragState(A,2),0))},processDragMoveEvent:function(A){if(this.getDragState(A)===2&&this.processDragThresholdEvent(A,this.manager.game.loop.now),this.getDragState(A)!==4)return 0;var L=this._tempZones,b=this._drag[A.id];b.length>1&&(b=b.slice(0));for(var F=0;F<b.length;F++){var V=b[F],B=V.input,N=B.target;if(N){var U=L.indexOf(N);U===0?(V.emit(l.GAMEOBJECT_DRAG_OVER,A,N),this.emit(l.DRAG_OVER,A,V,N)):U>0?(V.emit(l.GAMEOBJECT_DRAG_LEAVE,A,N),this.emit(l.DRAG_LEAVE,A,V,N),B.target=L[0],N=B.target,V.emit(l.GAMEOBJECT_DRAG_ENTER,A,N),this.emit(l.DRAG_ENTER,A,V,N)):(V.emit(l.GAMEOBJECT_DRAG_LEAVE,A,N),this.emit(l.DRAG_LEAVE,A,V,N),L[0]?(B.target=L[0],N=B.target,V.emit(l.GAMEOBJECT_DRAG_ENTER,A,N),this.emit(l.DRAG_ENTER,A,V,N)):B.target=null)}else!N&&L[0]&&(B.target=L[0],N=B.target,V.emit(l.GAMEOBJECT_DRAG_ENTER,A,N),this.emit(l.DRAG_ENTER,A,V,N));var I,H,O=A.positionToCamera(B.dragStartCamera);if(!V.parentContainer)I=O.x-B.dragX,H=O.y-B.dragY;else{var R=O.x-B.dragStartXGlobal,Y=O.y-B.dragStartYGlobal,G=V.getParentRotation(),k=R*Math.cos(G)+Y*Math.sin(G),W=Y*Math.cos(G)-R*Math.sin(G);k*=1/V.parentContainer.scaleX,W*=1/V.parentContainer.scaleY,I=k+B.dragStartX,H=W+B.dragStartY}V.emit(l.GAMEOBJECT_DRAG,A,I,H),this.emit(l.DRAG,A,V,I,H)}return b.length},processDragUpEvent:function(A){var L=this._drag[A.id];L.length>1&&(L=L.slice(0));for(var b=0;b<L.length;b++){var F=L[b],V=F.input;if(V&&V.dragState===2){V.dragState=0,V.dragX=V.localX-F.displayOriginX,V.dragY=V.localY-F.displayOriginY,V.dragStartCamera=null;var B=!1,N=V.target;N&&(F.emit(l.GAMEOBJECT_DROP,A,N),this.emit(l.DROP,A,F,N),V.target=null,B=!0),F.input&&F.input.enabled&&(F.emit(l.GAMEOBJECT_DRAG_END,A,V.dragX,V.dragY,B),this.emit(l.DRAG_END,A,F,B))}}return this.setDragState(A,0),L.splice(0),0},processMoveEvents:function(A){var L=0,b=this._temp,F=this._eventData,V=this._eventContainer;F.cancelled=!1;for(var B=0;B<b.length;B++){var N=b[B];if(!(!N.input||!N.input.enabled)&&(L++,N.emit(l.GAMEOBJECT_POINTER_MOVE,A,N.input.localX,N.input.localY,V),F.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(l.GAMEOBJECT_MOVE,A,N,V),F.cancelled||!this.isActive()||this.topOnly)))break}return!F.cancelled&&this.isActive()&&this.emit(l.POINTER_MOVE,A,b),L},processWheelEvent:function(A){var L=0,b=this._temp,F=this._eventData,V=this._eventContainer;F.cancelled=!1;for(var B=A.deltaX,N=A.deltaY,U=A.deltaZ,I=0;I<b.length;I++){var H=b[I];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(l.GAMEOBJECT_POINTER_WHEEL,A,B,N,U,V),F.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(l.GAMEOBJECT_WHEEL,A,H,B,N,U,V),F.cancelled||!this.isActive())))break}return!F.cancelled&&this.isActive()&&this.emit(l.POINTER_WHEEL,A,b,B,N,U),L},processOverEvents:function(A){var L=this._temp,b=0,F=L.length,V=[];if(F>0){var B=this.manager,N=this._eventData,U=this._eventContainer;N.cancelled=!1;for(var I=0;I<F;I++){var H=L[I];if(!(!H.input||!H.input.enabled)&&(V.push(H),B.setCursor(H.input),H.emit(l.GAMEOBJECT_POINTER_OVER,A,H.input.localX,H.input.localY,U),b++,N.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,A,H,U),N.cancelled||!this.isActive())))break}!N.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,A,V)}return this._over[A.id]=V,b},processOutEvents:function(A){var L=this._over[A.id],b=0,F=L.length;if(F>0){var V=this.manager,B=this._eventData,N=this._eventContainer;B.cancelled=!1,this.sortGameObjects(L,A);for(var U=0;U<F;U++){var I=L[U];if(I=L[U],!(!I.input||!I.input.enabled)&&(V.resetCursor(I.input),I.emit(l.GAMEOBJECT_POINTER_OUT,A,N),b++,B.cancelled||!this.isActive()||I.input&&I.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,A,I,N),B.cancelled||!this.isActive())))break}!B.cancelled&&this.isActive()&&this.emit(l.POINTER_OUT,A,L),this._over[A.id]=[]}return b},processOverOutEvents:function(A){var L=this._temp,b,F,V=[],B=[],N=[],U=this._over[A.id],I=this._drag[A.id],H=this.manager;for(b=0;b<U.length;b++)F=U[b],L.indexOf(F)===-1&&I.indexOf(F)===-1?V.push(F):N.push(F);for(b=0;b<L.length;b++)F=L[b],U.indexOf(F)===-1&&B.push(F);var O=V.length,R=0,Y=this._eventData,G=this._eventContainer;if(Y.cancelled=!1,O>0){for(this.sortGameObjects(V,A),b=0;b<O&&(F=V[b],!(!(!F.input||!F.input.enabled)&&(H.resetCursor(F.input),F.emit(l.GAMEOBJECT_POINTER_OUT,A,G),R++,Y.cancelled||!this.isActive()||F.input&&F.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,A,F,G),Y.cancelled||!this.isActive()))));b++);(!Y.cancelled||this.isActive())&&this.emit(l.POINTER_OUT,A,V)}if(O=B.length,Y.cancelled=!1,O>0){for(this.sortGameObjects(B,A),b=0;b<O&&(F=B[b],!(!(!F.input||!F.input.enabled)&&(H.setCursor(F.input),F.emit(l.GAMEOBJECT_POINTER_OVER,A,F.input.localX,F.input.localY,G),R++,Y.cancelled||!this.isActive()||F.input&&F.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,A,F,G),Y.cancelled||!this.isActive()))));b++);!Y.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,A,B)}return U=N.concat(B),this._over[A.id]=this.sortGameObjects(U,A),R},processUpEvents:function(A){var L=this._temp,b=this._eventData,F=this._eventContainer;b.cancelled=!1;for(var V=0;V<L.length;V++){var B=L[V];if(!(!B.input||!B.input.enabled)&&(B.emit(l.GAMEOBJECT_POINTER_UP,A,B.input.localX,B.input.localY,F),b.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(l.GAMEOBJECT_UP,A,B,F),b.cancelled||!this.isActive())))break}return!b.cancelled&&this.isActive()&&(A.upElement===this.manager.game.canvas?this.emit(l.POINTER_UP,A,L):this.emit(l.POINTER_UP_OUTSIDE,A)),L.length},forceDownState:function(A,L){this.forceState(A,L,l.GAMEOBJECT_POINTER_DOWN,l.GAMEOBJECT_DOWN,!1)},forceUpState:function(A,L){this.forceState(A,L,l.GAMEOBJECT_POINTER_UP,l.GAMEOBJECT_UP,!1)},forceOverState:function(A,L){this.forceState(A,L,l.GAMEOBJECT_POINTER_OVER,l.GAMEOBJECT_OVER,!0)},forceOutState:function(A,L){this.forceState(A,L,l.GAMEOBJECT_POINTER_OUT,l.GAMEOBJECT_OUT,!1)},forceState:function(A,L,b,F,V){var B=this._eventData,N=this._eventContainer;B.cancelled=!1,L.input&&L.input.enabled&&(L.emit(b,A,L.input.localX,L.input.localY,N),V&&this.setCursor(L.input),!B.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(F,A,L,N))},queueForInsertion:function(A){return this._pendingInsertion.indexOf(A)===-1&&this._list.indexOf(A)===-1&&this._pendingInsertion.push(A),this},queueForRemoval:function(A){return this._pendingRemoval.push(A),this},setDraggable:function(A,L){L===void 0&&(L=!0),Array.isArray(A)||(A=[A]);for(var b=0;b<A.length;b++){var F=A[b];F.input.draggable=L;var V=this._draggable.indexOf(F);L&&V===-1?this._draggable.push(F):!L&&V>-1&&this._draggable.splice(V,1)}return this},makePixelPerfect:function(A){A===void 0&&(A=1);var L=this.systems.textures;return t(L,A)},setHitArea:function(A,L,b){if(L===void 0)return this.setHitAreaFromTexture(A);Array.isArray(A)||(A=[A]);var F=!1,V=!1,B=!1,N=!1,U=!1,I=!0;if(m(L)&&Object.keys(L).length){var H=L,O=A.some(function(W){return W.hasOwnProperty("faces")});if(!O){L=d(H,"hitArea",null),b=d(H,"hitAreaCallback",null),U=d(H,"pixelPerfect",!1);var R=d(H,"alphaTolerance",1);U&&(L={},b=this.makePixelPerfect(R))}F=d(H,"draggable",!1),V=d(H,"dropZone",!1),B=d(H,"cursor",!1),N=d(H,"useHandCursor",!1),(!L||!b)&&(this.setHitAreaFromTexture(A),I=!1)}else typeof L=="function"&&!b&&(b=L,L={});for(var Y=0;Y<A.length;Y++){var G=A[Y];if(U&&G.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var k=G.input?G.input:s(G,L,b);k.customHitArea=I,k.dropZone=V,k.cursor=N?"pointer":B,G.input=k,F&&this.setDraggable(G),this.queueForInsertion(G)}return this},setHitAreaCircle:function(A,L,b,F,V){V===void 0&&(V=p);var B=new o(L,b,F);return this.setHitArea(A,B,V)},setHitAreaEllipse:function(A,L,b,F,V,B){B===void 0&&(B=i);var N=new h(L,b,F,V);return this.setHitArea(A,N,B)},setHitAreaFromTexture:function(A,L){L===void 0&&(L=T),Array.isArray(A)||(A=[A]);for(var b=0;b<A.length;b++){var F=A[b],V=F.frame,B=0,N=0;if(F.width?(B=F.width,N=F.height):V&&(B=V.realWidth,N=V.realHeight),F.type==="Container"&&(B===0||N===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}B!==0&&N!==0&&(F.input=s(F,new y(0,0,B,N),L),this.queueForInsertion(F))}return this},setHitAreaRectangle:function(A,L,b,F,V,B){B===void 0&&(B=T);var N=new y(L,b,F,V);return this.setHitArea(A,N,B)},setHitAreaTriangle:function(A,L,b,F,V,B,N,U){U===void 0&&(U=z);var I=new E(L,b,F,V,B,N);return this.setHitArea(A,I,U)},enableDebug:function(A,L){L===void 0&&(L=65280);var b=A.input;if(!b||!b.hitArea)return this;var F=b.hitArea,V=F.type,B=b.hitAreaDebug,N=this.systems.add,U=this.systems.updateList;B&&(U.remove(B),B.destroy(),B=null);var I=0,H=0;switch(V){case f.CIRCLE:B=N.arc(0,0,F.radius),I=F.x-F.radius,H=F.y-F.radius;break;case f.ELLIPSE:B=N.ellipse(0,0,F.width,F.height),I=F.x-F.width/2,H=F.y-F.height/2;break;case f.LINE:B=N.line(0,0,F.x1,F.y1,F.x2,F.y2);break;case f.POLYGON:B=N.polygon(0,0,F.points);break;case f.RECTANGLE:B=N.rectangle(0,0,F.width,F.height),I=F.x,H=F.y;break;case f.TRIANGLE:B=N.triangle(0,0,F.x1,F.y1,F.x2,F.y2,F.x3,F.y3);break}return B&&(B.isFilled=!1,B.strokeColor=L,B.preUpdate=function(){B.setVisible(A.visible),B.setStrokeStyle(1/A.scale,B.strokeColor),B.setDisplayOrigin(A.displayOriginX,A.displayOriginY);var O=A.x,R=A.y,Y=A.rotation,G=A.scaleX,k=A.scaleY;if(A.parentContainer){var W=A.getWorldTransformMatrix();O=W.tx,R=W.ty,Y=W.rotation,G=W.scaleX,k=W.scaleY}B.setRotation(Y),B.setScale(G,k),B.setPosition(O+I*G,R+H*k),B.setScrollFactor(A.scrollFactorX,A.scrollFactorY),B.setDepth(A.depth)},U.add(B),b.hitAreaDebug=B),this},removeDebug:function(A){var L=A.input;if(L&&L.hitAreaDebug){var b=L.hitAreaDebug;b.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(A){return this.pollRate=A,this._pollTimer=0,this},setGlobalTopOnly:function(A){return this.manager.globalTopOnly=A,this},setTopOnly:function(A){return this.topOnly=A,this},sortGameObjects:function(A,L){if(A.length<2||!L.camera)return A;var b=L.camera.renderList;return A.sort(function(F,V){var B=Math.max(b.indexOf(F),0),N=Math.max(b.indexOf(V),0);return N-B})},sortDropZones:function(A){return A.length<2?A:(this.scene.sys.depthSort(),A.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(A,L){if(!A.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(A);if(A.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-A.parentContainer.getIndex(A);if(A.parentContainer===L)return-1;if(L.parentContainer===A)return 1;for(var b=A.getIndexList(),F=L.getIndexList(),V=Math.min(b.length,F.length),B=0;B<V;B++){var N=b[B],U=F[B];if(N!==U)return U-N}return F.length-b.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(A){return this.manager.addPointer(A)},setDefaultCursor:function(A){return this.manager.setDefaultCursor(A),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(l.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var A=0;A<10;A++)this._drag[A]=[],this._over[A]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var b=this.systems.events;b.off(C.TRANSITION_START,this.transitionIn,this),b.off(C.TRANSITION_OUT,this.transitionOut,this),b.off(C.TRANSITION_COMPLETE,this.transitionComplete,this),b.off(C.PRE_UPDATE,this.preUpdate,this),L.events.off(l.GAME_OUT,this.onGameOut,this),L.events.off(l.GAME_OVER,this.onGameOver,this),b.off(C.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var A=this.manager.pointers,L=0;L<A.length;L++)A[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(l.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(C.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});g.register("InputPlugin",D,"input"),c.exports=D},89639:(c,x,e)=>{var o=e(35154),p={},a={};a.register=function(r,s,t,n,h){p[r]={plugin:s,mapping:t,settingsKey:n,configKey:h}},a.getPlugin=function(r){return p[r]},a.install=function(r){var s=r.scene.sys,t=s.settings.input,n=s.game.config;for(var h in p){var i=p[h].plugin,l=p[h].mapping,u=p[h].settingsKey,d=p[h].configKey;o(t,u,n[d])&&(r[l]=new i(r))}},a.remove=function(r){p.hasOwnProperty(r)&&delete p[r]},c.exports=a},42515:(c,x,e)=>{var o=e(31040),p=e(83419),a=e(20339),r=e(43855),s=e(47235),t=e(26099),n=e(25892),h=new p({initialize:function(l,u){this.manager=l,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new t,this.prevPosition=new t,this.midPoint=new t(-1,-1),this.velocity=new t,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var l=i.getWorldPoint(this.x,this.y);return this.worldX=l.x,this.worldY=l.y,this},positionToCamera:function(i,l){return i.getWorldPoint(this.x,this.y,l)},updateMotion:function(){var i=this.position.x,l=this.position.y,u=this.midPoint.x,d=this.midPoint.y;if(!(i===u&&l===d)){var f=s(this.motionFactor,u,i),v=s(this.motionFactor,d,l);r(f,i,.1)&&(f=i),r(v,l,.1)&&(v=l),this.midPoint.set(f,v);var m=i-f,g=l-v;this.velocity.set(m,g),this.angle=o(f,v,i,l),this.distance=Math.sqrt(m*m+g*g)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),n.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,l){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=l,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=l.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,l){this.event=l,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=l.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,l){i===void 0&&(i=10),l===void 0&&(l=[]);for(var u=this.prevPosition.x,d=this.prevPosition.y,f=this.position.x,v=this.position.y,m=0;m<i;m++){var g=1/i*m;l[m]={x:s(g,u,f),y:s(g,d,v)}}return l},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});c.exports=h},93301:c=>{var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};c.exports=x},7179:c=>{c.exports="boot"},85375:c=>{c.exports="destroy"},39843:c=>{c.exports="dragend"},23388:c=>{c.exports="dragenter"},16133:c=>{c.exports="drag"},27829:c=>{c.exports="dragleave"},53904:c=>{c.exports="dragover"},56058:c=>{c.exports="dragstart"},2642:c=>{c.exports="drop"},88171:c=>{c.exports="gameobjectdown"},36147:c=>{c.exports="dragend"},71692:c=>{c.exports="dragenter"},96149:c=>{c.exports="drag"},81285:c=>{c.exports="dragleave"},74048:c=>{c.exports="dragover"},21322:c=>{c.exports="dragstart"},49378:c=>{c.exports="drop"},86754:c=>{c.exports="gameobjectmove"},86433:c=>{c.exports="gameobjectout"},60709:c=>{c.exports="gameobjectover"},24081:c=>{c.exports="pointerdown"},11172:c=>{c.exports="pointermove"},18907:c=>{c.exports="pointerout"},95579:c=>{c.exports="pointerover"},35368:c=>{c.exports="pointerup"},26972:c=>{c.exports="wheel"},47078:c=>{c.exports="gameobjectup"},73802:c=>{c.exports="gameobjectwheel"},56718:c=>{c.exports="gameout"},25936:c=>{c.exports="gameover"},27503:c=>{c.exports="boot"},50852:c=>{c.exports="process"},96438:c=>{c.exports="update"},59152:c=>{c.exports="pointerlockchange"},47777:c=>{c.exports="pointerdown"},27957:c=>{c.exports="pointerdownoutside"},19444:c=>{c.exports="pointermove"},54251:c=>{c.exports="pointerout"},18667:c=>{c.exports="pointerover"},27192:c=>{c.exports="pointerup"},24652:c=>{c.exports="pointerupoutside"},45132:c=>{c.exports="wheel"},44512:c=>{c.exports="preupdate"},15757:c=>{c.exports="shutdown"},41637:c=>{c.exports="start"},93802:c=>{c.exports="update"},8214:(c,x,e)=>{c.exports={BOOT:e(7179),DESTROY:e(85375),DRAG_END:e(39843),DRAG_ENTER:e(23388),DRAG:e(16133),DRAG_LEAVE:e(27829),DRAG_OVER:e(53904),DRAG_START:e(56058),DROP:e(2642),GAME_OUT:e(56718),GAME_OVER:e(25936),GAMEOBJECT_DOWN:e(88171),GAMEOBJECT_DRAG_END:e(36147),GAMEOBJECT_DRAG_ENTER:e(71692),GAMEOBJECT_DRAG:e(96149),GAMEOBJECT_DRAG_LEAVE:e(81285),GAMEOBJECT_DRAG_OVER:e(74048),GAMEOBJECT_DRAG_START:e(21322),GAMEOBJECT_DROP:e(49378),GAMEOBJECT_MOVE:e(86754),GAMEOBJECT_OUT:e(86433),GAMEOBJECT_OVER:e(60709),GAMEOBJECT_POINTER_DOWN:e(24081),GAMEOBJECT_POINTER_MOVE:e(11172),GAMEOBJECT_POINTER_OUT:e(18907),GAMEOBJECT_POINTER_OVER:e(95579),GAMEOBJECT_POINTER_UP:e(35368),GAMEOBJECT_POINTER_WHEEL:e(26972),GAMEOBJECT_UP:e(47078),GAMEOBJECT_WHEEL:e(73802),MANAGER_BOOT:e(27503),MANAGER_PROCESS:e(50852),MANAGER_UPDATE:e(96438),POINTER_DOWN:e(47777),POINTER_DOWN_OUTSIDE:e(27957),POINTER_MOVE:e(19444),POINTER_OUT:e(54251),POINTER_OVER:e(18667),POINTER_UP:e(27192),POINTER_UP_OUTSIDE:e(24652),POINTER_WHEEL:e(45132),POINTERLOCK_CHANGE:e(59152),PRE_UPDATE:e(44512),SHUTDOWN:e(15757),START:e(41637),UPDATE:e(93802)}},97421:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s){this.pad=r,this.events=r.events,this.index=s,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});c.exports=p},28884:(c,x,e)=>{var o=e(83419),p=e(92734),a=new o({initialize:function(s,t){this.pad=s,this.events=s.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var s=this.pad,t=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,s,this,r),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,t,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,s,this,r),this.pad.emit(p.GAMEPAD_BUTTON_UP,t,r,this))},destroy:function(){this.pad=null,this.events=null}});c.exports=a},99125:(c,x,e)=>{var o=e(97421),p=e(28884),a=e(83419),r=e(50792),s=e(26099),t=new a({Extends:r,initialize:function(h,i){r.call(this),this.manager=h,this.pad=i,this.id=i.id,this.index=i.index;for(var l=[],u=0;u<i.buttons.length;u++)l.push(new p(this,u));this.buttons=l;var d=[];for(u=0;u<i.axes.length;u++)d.push(new o(this,u));this.axes=d,this.vibration=i.vibrationActuator;var f={value:0,pressed:!1};this._LCLeft=l[14]?l[14]:f,this._LCRight=l[15]?l[15]:f,this._LCTop=l[12]?l[12]:f,this._LCBottom=l[13]?l[13]:f,this._RCLeft=l[2]?l[2]:f,this._RCRight=l[1]?l[1]:f,this._RCTop=l[3]?l[3]:f,this._RCBottom=l[0]?l[0]:f,this._FBLeftTop=l[4]?l[4]:f,this._FBLeftBottom=l[6]?l[6]:f,this._FBRightTop=l[5]?l[5]:f,this._FBRightBottom=l[7]?l[7]:f;var v={value:0};this._HAxisLeft=d[0]?d[0]:v,this._VAxisLeft=d[1]?d[1]:v,this._HAxisRight=d[2]?d[2]:v,this._VAxisRight=d[3]?d[3]:v,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(n){return this.axes[n].getValue()},setAxisThreshold:function(n){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=n},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(n){return this.buttons[n].value},isButtonDown:function(n){return this.buttons[n].pressed},update:function(n){if(!(n.timestamp<this._created)){var h,i=this.buttons,l=n.buttons,u=i.length;for(h=0;h<u;h++)i[h].update(l[h].value);var d=this.axes,f=n.axes;for(u=d.length,h=0;h<u;h++)d[h].update(f[h]);u>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),u>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var n;for(n=0;n<this.buttons.length;n++)this.buttons[n].destroy();for(n=0;n<this.axes.length;n++)this.axes[n].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});c.exports=t},56654:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(92734),r=e(99125),s=e(35154),t=e(89639),n=e(8214),h=new o({Extends:p,initialize:function(l){p.call(this),this.scene=l.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=l,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,l.pluginEvents.once(n.BOOT,this.boot,this),l.pluginEvents.on(n.START,this.start,this)},boot:function(){var i=this.scene.sys.game,l=this.settings.input,u=i.config;this.enabled=s(l,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=s(l,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,l=this.target,u=function(d){d.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(d))};this.onGamepadHandler=u,l.addEventListener("gamepadconnected",u,!1),l.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(n.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(n.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var l=this.gamepads,u=0;u<i.length;u++){var d=i[u];if(d){var f=d.id,v=d.index,m=l[v];if(m)m.id!==f?(m.destroy(),l[v]=new r(this,d)):m.update(d);else{var g=new r(this,d);l[v]=g,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=g):this._pad3=g:this._pad2=g:this._pad1=g}}}},getAll:function(){for(var i=[],l=this.gamepads,u=0;u<l.length;u++)l[u]&&i.push(l[u]);return i},getPad:function(i){for(var l=this.gamepads,u=0;u<l.length;u++)if(l[u]&&l[u].index===i)return l[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var l=this.queue.splice(0,i),u=0;u<i;u++){var d=l[u],f=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(a.CONNECTED,f,d):d.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,f,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});t.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),c.exports=h},89651:c=>{c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:c=>{c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:c=>{c.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(c,x,e)=>{c.exports={DUALSHOCK_4:e(65294),SNES_USB:e(89651),XBOX_360:e(90089)}},46008:c=>{c.exports="down"},7629:c=>{c.exports="up"},42206:c=>{c.exports="connected"},86544:c=>{c.exports="disconnected"},94784:c=>{c.exports="down"},14325:c=>{c.exports="up"},92734:(c,x,e)=>{c.exports={BUTTON_DOWN:e(46008),BUTTON_UP:e(7629),CONNECTED:e(42206),DISCONNECTED:e(86544),GAMEPAD_BUTTON_DOWN:e(94784),GAMEPAD_BUTTON_UP:e(14325)}},48646:(c,x,e)=>{c.exports={Axis:e(97421),Button:e(28884),Events:e(92734),Gamepad:e(99125),GamepadPlugin:e(56654),Configs:e(64894)}},14350:(c,x,e)=>{var o=e(93301),p=e(79291),a={CreatePixelPerfectHandler:e(84409),CreateInteractiveObject:e(74457),Events:e(8214),Gamepad:e(48646),InputManager:e(7003),InputPlugin:e(48205),InputPluginCache:e(89639),Keyboard:e(51442),Mouse:e(87078),Pointer:e(42515),Touch:e(95618)};a=p(!1,a,o),c.exports=a},78970:(c,x,e)=>{var o=e(72905),p=e(83419),a=e(8443),r=e(8214),s=e(46032),t=e(29747),n=new p({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=t,this.onKeyUp=t,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(l){if(!(l.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(l),h.manager.events.emit(r.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!u&&h.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}},this.onKeyUp=function(l){if(!(l.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(l),h.manager.events.emit(r.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!u&&h.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,l=0;l<h.length;l++){var u=h[l];typeof u=="string"&&(u=s[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,l=0;l<h.length;l++){var u=h[l];typeof u=="string"&&(u=s[u.toUpperCase()]),o(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});c.exports=n},28846:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(95922),r=e(8443),s=e(35154),t=e(8214),n=e(89639),h=e(30472),i=e(46032),l=e(87960),u=e(74600),d=e(44594),f=e(56583),v=new o({Extends:p,initialize:function(g){p.call(this),this.game=g.systems.game,this.scene=g.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=g,this.manager=g.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,g.pluginEvents.once(t.BOOT,this.boot,this),g.pluginEvents.on(t.START,this.start,this)},boot:function(){var m=this.settings.input;this.enabled=s(m,"keyboard",!0);var g=s(m,"keyboard.capture",null);g&&this.addCaptures(g),this.sceneInputPlugin.pluginEvents.once(t.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(t.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(t.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(m){return this.manager.addCapture(m),this},removeCapture:function(m){return this.manager.removeCapture(m),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(m,g,y){g===void 0&&(g=!0),y===void 0&&(y=!1);var T={};if(typeof m=="string"){m=m.split(",");for(var C=0;C<m.length;C++){var E=m[C].trim();E&&(T[E]=this.addKey(E,g,y))}}else for(var z in m)T[z]=this.addKey(m[z],g,y);return T},addKey:function(m,g,y){g===void 0&&(g=!0),y===void 0&&(y=!1);var T=this.keys;if(m instanceof h){var C=T.indexOf(m);return C>-1?T[C]=m:T[m.keyCode]=m,g&&this.addCapture(m.keyCode),m.setEmitOnRepeat(y),m}return typeof m=="string"&&(m=i[m.toUpperCase()]),T[m]||(T[m]=new h(this,m),g&&this.addCapture(m),T[m].setEmitOnRepeat(y)),T[m]},removeKey:function(m,g,y){g===void 0&&(g=!1),y===void 0&&(y=!1);var T=this.keys,C;if(m instanceof h){var E=T.indexOf(m);E>-1&&(C=this.keys[E],this.keys[E]=void 0)}else typeof m=="string"&&(m=i[m.toUpperCase()]);return T[m]&&(C=T[m],T[m]=void 0),C&&(C.plugin=null,y&&this.removeCapture(C.keyCode),g&&C.destroy()),this},removeAllKeys:function(m,g){m===void 0&&(m=!1),g===void 0&&(g=!1);for(var y=this.keys,T=0;T<y.length;T++){var C=y[T];C&&(y[T]=void 0,g&&this.removeCapture(C.keyCode),m&&C.destroy())}return this},createCombo:function(m,g){return new l(this,m,g)},checkDown:function(m,g){if(g===void 0&&(g=0),this.enabled&&m.isDown){var y=f(this.time-m.timeDown,g);if(y>m._tick)return m._tick=y,!0}return!1},update:function(){var m=this.manager.queue,g=m.length;if(!(!this.isActive()||g===0))for(var y=this.keys,T=0;T<g;T++){var C=m[T],E=C.keyCode,z=y[E],D=!1;C.cancelled===void 0&&(C.cancelled=0,C.stopImmediatePropagation=function(){C.cancelled=1},C.stopPropagation=function(){C.cancelled=-1}),C.cancelled!==-1&&(E===this.prevCode&&C.timeStamp===this.prevTime&&C.type===this.prevType||(this.prevCode=E,this.prevTime=C.timeStamp,this.prevType=C.type,C.type==="keydown"?(z&&(D=z.isDown,z.onDown(C)),!C.cancelled&&(!z||!D)&&(u[E]&&this.emit(a.KEY_DOWN+u[E],C),C.cancelled||this.emit(a.ANY_KEY_DOWN,C))):(z&&z.onUp(C),C.cancelled||(u[E]&&this.emit(a.KEY_UP+u[E],C),C.cancelled||this.emit(a.ANY_KEY_UP,C))),C.cancelled===1&&(C.cancelled=0)))}},resetKeys:function(){for(var m=this.keys,g=0;g<m.length;g++)m[g]&&m[g].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(t.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var m=this.keys,g=0;g<m.length;g++)m[g]&&m[g].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});n.register("KeyboardPlugin",v,"keyboard","keyboard","inputKeyboard"),c.exports=v},66970:c=>{var x=function(e,o){return o.timeLastMatched=e.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};c.exports=x},87960:(c,x,e)=>{var o=e(83419),p=e(95922),a=e(95540),r=e(68769),s=e(92803),t=new o({initialize:function(h,i,l){if(l===void 0&&(l={}),i.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var d=i[u];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(l,"resetOnWrongKey",!0),this.maxKeyDelay=a(l,"maxKeyDelay",0),this.resetOnMatch=a(l,"resetOnMatch",!1),this.deleteOnMatch=a(l,"deleteOnMatch",!1);var f=this,v=function(m){if(!(f.matched||!f.enabled)){var g=r(m,f);g&&(f.manager.emit(p.COMBO_MATCH,f,m),f.resetOnMatch?s(f):f.deleteOnMatch&&f.destroy())}};this.onKeyDown=v,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});c.exports=t},68769:(c,x,e)=>{var o=e(66970),p=function(a,r){if(r.matched)return!0;var s=!1,t=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var n=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=n&&(t=!0,s=o(a,r))}else t=!0,s=o(a,r);return!t&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),s&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),s};c.exports=p},92803:c=>{var x=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};c.exports=x},92612:c=>{c.exports="keydown"},23345:c=>{c.exports="keyup"},21957:c=>{c.exports="keycombomatch"},44743:c=>{c.exports="down"},3771:c=>{c.exports="keydown-"},46358:c=>{c.exports="keyup-"},75674:c=>{c.exports="up"},95922:(c,x,e)=>{c.exports={ANY_KEY_DOWN:e(92612),ANY_KEY_UP:e(23345),COMBO_MATCH:e(21957),DOWN:e(44743),KEY_DOWN:e(3771),KEY_UP:e(46358),UP:e(75674)}},51442:(c,x,e)=>{c.exports={Events:e(95922),KeyboardManager:e(78970),KeyboardPlugin:e(28846),Key:e(30472),KeyCodes:e(46032),KeyCombo:e(87960),AdvanceKeyCombo:e(66970),ProcessKeyCombo:e(68769),ResetKeyCombo:e(92803),JustDown:e(90229),JustUp:e(38796),DownDuration:e(37015),UpDuration:e(41170)}},37015:c=>{var x=function(e,o){o===void 0&&(o=50);var p=e.plugin.game.loop.time-e.timeDown;return e.isDown&&p<o};c.exports=x},90229:c=>{var x=function(e){return e._justDown?(e._justDown=!1,!0):!1};c.exports=x},38796:c=>{var x=function(e){return e._justUp?(e._justUp=!1,!0):!1};c.exports=x},30472:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(95922),r=new o({Extends:p,initialize:function(t,n){p.call(this),this.plugin=t,this.keyCode=n,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,s))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});c.exports=r},46032:c=>{var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};c.exports=x},74600:(c,x,e)=>{var o=e(46032),p={};for(var a in o)p[o[a]]=a;c.exports=p},41170:c=>{var x=function(e,o){o===void 0&&(o=50);var p=e.plugin.game.loop.time-e.timeUp;return e.isUp&&p<o};c.exports=x},85098:(c,x,e)=>{var o=e(83419),p=e(89357),a=e(8214),r=e(29747),s=new o({initialize:function(n){this.manager=n,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,n.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.passive=t.inputMousePassive,this.preventDefaultDown=t.inputMousePreventDefaultDown,this.preventDefaultUp=t.inputMousePreventDefaultUp,this.preventDefaultMove=t.inputMousePreventDefaultMove,this.preventDefaultWheel=t.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var t=this.target;if(t){var n=this,h=this.manager,i=h.canvas,l=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseMove(d),n.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){l&&window.focus(),!d.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseDown(d),n.preventDefaultDown&&d.target===i&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&h&&h.enabled&&d.target!==i&&h.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onMouseUp(d),n.preventDefaultUp&&d.target===i&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&n.enabled&&h&&h.enabled&&d.target!==i&&h.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&h.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&n.enabled&&h&&h.enabled&&h.onMouseWheel(d),n.preventDefaultWheel&&d.target===i&&d.preventDefault()};var u={passive:!0};if(t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("mouseup",this.onMouseUp),t.addEventListener("mouseover",this.onMouseOver,u),t.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?t.addEventListener("wheel",this.onMouseWheel,{passive:!1}):t.addEventListener("wheel",this.onMouseWheel,u),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(d){var f=n.target;n.locked=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f,h.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mouseover",this.onMouseOver),t.removeEventListener("mouseout",this.onMouseOut),window&&(t=this.isTop?window.top:window,t.removeEventListener("mousedown",this.onMouseDownWindow),t.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=s},87078:(c,x,e)=>{c.exports={MouseManager:e(85098)}},36210:(c,x,e)=>{var o=e(83419),p=e(8214),a=e(29747),r=new o({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,t.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this.target;if(s){var t=this,n=this.manager,h=n.canvas,i=window&&window.focus&&n.game.config.autoFocus;this.onTouchMove=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchMove(f),t.capture&&f.cancelable&&f.preventDefault())},this.onTouchStart=function(f){i&&window.focus(),!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchStart(f),t.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchStartWindow=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&f.target!==h&&n.onTouchStart(f)},this.onTouchEnd=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchEnd(f),t.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchEndWindow=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&f.target!==h&&n.onTouchEnd(f)},this.onTouchCancel=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onTouchCancel(f),t.capture&&f.preventDefault())},this.onTouchCancelWindow=function(f){!f.defaultPrevented&&t.enabled&&n&&n.enabled&&n.onTouchCancel(f)};var l=this.capture,u={passive:!0},d={passive:!1};if(s.addEventListener("touchstart",this.onTouchStart,l?d:u),s.addEventListener("touchmove",this.onTouchMove,l?d:u),s.addEventListener("touchend",this.onTouchEnd,l?d:u),s.addEventListener("touchcancel",this.onTouchCancel,l?d:u),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),window&&(s=this.isTop?window.top:window,s.removeEventListener("touchstart",this.onTouchStartWindow),s.removeEventListener("touchend",this.onTouchEndWindow),s.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});c.exports=r},95618:(c,x,e)=>{c.exports={TouchManager:e(36210)}},41299:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(54899),r=e(95540),s=e(98356),t=e(3374),n=e(84376),h=e(92638),i=new o({initialize:function(u,d){if(this.loader=u,this.cache=r(d,"cache",!1),this.type=r(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(d,"key",!1);var f=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+f),!this.key)throw new Error("Invalid File key: "+this.key);var v=r(d,"url");v===void 0?v=u.path+f+"."+r(d,"extension",""):typeof v=="string"&&!v.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(v=u.path+v),this.url=v,this.src="",this.xhrSettings=h(r(d,"responseType",void 0)),r(d,"xhrSettings",!1)&&(this.xhrSettings=t(this.xhrSettings,r(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof v=="string"&&v.indexOf("data:")===0,this.retryAttempts=r(d,"maxRetries",u.maxRetries)},setLink:function(l){this.linkFile=l,l.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=s(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=n(this,this.loader.xhr)}},onLoad:function(l,u){var d=l.responseURL&&this.loader.localSchemes.some(function(m){return l.responseURL.indexOf(m)===0}),f=d&&u.target.status===0,v=!(u.target&&u.target.status!==200)||f;l.readyState===4&&l.status>=400&&l.status<=599&&(v=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,v)},onBase64Load:function(l){this.xhrLoader=l,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(l){l.lengthComputable&&(this.bytesLoaded=l.loaded,this.bytesTotal=l.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(l){if(this.state!==p.FILE_PENDING_DESTROY){l===void 0&&(l=this.data);var u=this.key,d=this.type;this.loader.emit(a.FILE_COMPLETE,u,d,l),this.loader.emit(a.FILE_KEY_COMPLETE+d+"-"+u,u,d,l),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(l,u,d){if(typeof URL=="function")l.src=URL.createObjectURL(u);else{var f=new FileReader;f.onload=function(){l.removeAttribute("crossOrigin"),l.src="data:"+(u.type||d)+";base64,"+f.result.split(",")[1]},f.onerror=l.onerror,f.readAsDataURL(u)}},i.revokeObjectURL=function(l){typeof URL=="function"&&URL.revokeObjectURL(l.src)},c.exports=i},74099:c=>{var x={},e={install:function(o){for(var p in x)o[p]=x[p]},register:function(o,p){x[o]=p},destroy:function(){x={}}};c.exports=e},98356:c=>{var x=function(e,o){return e.url?e.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?e.url:o+e.url:!1};c.exports=x},74261:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(35072),r=e(50792),s=e(54899),t=e(74099),n=e(95540),h=e(35154),i=e(41212),l=e(37277),u=e(44594),d=e(92638),f=new o({Extends:r,initialize:function(m){r.call(this);var g=m.sys.game.config,y=m.sys.settings.loader;this.scene=m,this.systems=m.sys,this.cacheManager=m.sys.cache,this.textureManager=m.sys.textures,this.sceneManager=m.sys.game.scene,t.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(n(y,"baseURL",g.loaderBaseURL)),this.setPath(n(y,"path",g.loaderPath)),this.setPrefix(n(y,"prefix",g.loaderPrefix)),this.maxParallelDownloads=n(y,"maxParallelDownloads",g.loaderMaxParallelDownloads),this.xhr=d(n(y,"responseType",g.loaderResponseType),n(y,"async",g.loaderAsync),n(y,"user",g.loaderUser),n(y,"password",g.loaderPassword),n(y,"timeout",g.loaderTimeout),n(y,"withCredentials",g.loaderWithCredentials)),this.crossOrigin=n(y,"crossOrigin",g.loaderCrossOrigin),this.imageLoadType=n(y,"imageLoadType",g.loaderImageLoadType),this.localSchemes=n(y,"localScheme",g.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=n(y,"maxRetries",g.loaderMaxRetries),m.sys.events.once(u.BOOT,this.boot,this),m.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++){var g=v[m];this.keyExists(g)||(this.list.set(g),this.emit(s.ADD,g.key,g.type,this,g),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var m=v.hasCacheConflict();return m||this.list.iterate(function(g){if(g.type===v.type&&g.key===v.key)return m=!0,!1}),!m&&this.isLoading()&&(this.inflight.iterate(function(g){if(g.type===v.type&&g.key===v.key)return m=!0,!1}),this.queue.iterate(function(g){if(g.type===v.type&&g.key===v.key)return m=!0,!1})),m},addPack:function(v,m){if(typeof m=="string"){var g=h(v,m);g&&(v={packKey:g})}var y=0,T=this.baseURL,C=this.path,E=this.prefix;for(var z in v)if(Object.prototype.hasOwnProperty.call(v,z)){var D=v[z],A=n(D,"baseURL",T),L=n(D,"path",C),b=n(D,"prefix",E),F=n(D,"files",null),V=n(D,"defaultType","void");if(Array.isArray(F)){this.setBaseURL(A),this.setPath(L),this.setPrefix(b);for(var B=0;B<F.length;B++){var N=F[B],U=N.hasOwnProperty("type")?N.type:V;this[U]&&(this[U](N),y++)}}}return this.setBaseURL(T),this.setPath(C),this.setPrefix(E),y>0},removePack:function(v,m){var g=this.systems.anims,y=this.cacheManager,T=this.textureManager,C={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},E;if(i(v))E=v;else if(E=y.json.get(v),!E){console.warn("Asset Pack not found in JSON cache:",v);return}m&&(E={_:E[m]});for(var z in E){var D=E[z],A=n(D,"prefix",""),L=n(D,"files"),b=n(D,"defaultType");if(Array.isArray(L))for(var F=0;F<L.length;F++){var V=L[F],B=V.hasOwnProperty("type")?V.type:b;if(!B){console.warn("No type:",V);continue}var N=A+V.key;if(B==="animation"&&g.remove(N),!((B==="aseprite"||B==="atlas"||B==="atlasXML"||B==="htmlTexture"||B==="image"||B==="multiatlas"||B==="spritesheet"||B==="svg"||B==="texture"||B==="unityAtlas")&&(T.remove(N),!C[B]))){if(B==="pack"){this.removePack(N,V.dataKey);continue}if(B==="spine"){var U=y.custom.spine.get(N);if(!U)continue;var I=U.prefix===void 0?"":U.prefix;y.custom.spine.remove(N);var H=y.custom.spineTextures.get(N);if(!H)continue;y.custom.spineTextures.remove(N);for(var O=0;O<H.pages.length;O++){var R=H.pages[O],Y=I+R.name,G=N+":"+Y;T.exists(G)?T.remove(G):T.remove(Y)}}var k=C[B];if(k!==null){if(!k){console.warn("Unknown type:",B);continue}var W=y[k];W.remove(N)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===p.FILE_POPULATED||v.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,m){this.inflight&&(this.inflight.delete(v),this.updateProgress(),m?(this.totalComplete++,this.queue.set(v),this.emit(s.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(s.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===p.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===p.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,m){return this.save(JSON.stringify(v),m)},save:function(v,m,g){m===void 0&&(m="file.json"),g===void 0&&(g="application/json");var y=new Blob([v],{type:g}),T=URL.createObjectURL(y),C=document.createElement("a");return C.download=m,C.textContent="Download "+m,C.href=T,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,m=this.systems.settings.loader;this.setBaseURL(n(m,"baseURL",v.loaderBaseURL)),this.setPath(n(m,"path",v.loaderPath)),this.setPrefix(n(m,"prefix",v.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",f,"load"),c.exports=f},3374:(c,x,e)=>{var o=e(79291),p=e(92638),a=function(r,s){var t=r===void 0?p():o({},r);if(s)for(var n in s)s[n]!==void 0&&(t[n]=s[n]);return t};c.exports=a},26430:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(54899),r=new o({initialize:function(t,n,h,i){var l=[];i.forEach(function(f){f&&l.push(f)}),this.loader=t,this.type=n,this.key=h;var u=this.key;t.prefix&&t.prefix!==""&&(this.key=t.prefix+u),this.multiKeyIndex=t.multiKeyIndex++,this.files=l,this.state=p.FILE_PENDING,this.complete=!1,this.pending=l.length,this.failed=0,this.config={},this.baseURL=t.baseURL,this.path=t.path,this.prefix=t.prefix;for(var d=0;d<l.length;d++)l[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var t=this.files.indexOf(s);t!==-1&&this.pending--},onFileFailed:function(s){var t=this.files.indexOf(s);t!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,s.type,s.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var s=this.key,t=this.type;this.loader.emit(a.FILE_COMPLETE,s,t),this.loader.emit(a.FILE_KEY_COMPLETE+t+"-"+s,s,t),this.loader.flagForRemoval(this);for(var n=0;n<this.files.length;n++)this.files[n].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});c.exports=r},84376:(c,x,e)=>{var o=e(3374),p=function(a,r){var s=o(r,a.xhrSettings);if(a.base64){var t=a.url.split(";base64,").pop()||a.url.split(",").pop(),n={responseText:atob(t)};a.onBase64Load(n);return}var h=new XMLHttpRequest;if(h.open("GET",a.src,s.async,s.user,s.password),h.responseType=a.xhrSettings.responseType,h.timeout=s.timeout,s.headers)for(var i in s.headers)h.setRequestHeader(i,s.headers[i]);return s.header&&s.headerValue&&h.setRequestHeader(s.header,s.headerValue),s.requestedWith&&h.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&h.overrideMimeType(s.overrideMimeType),s.withCredentials&&(h.withCredentials=!0),h.onload=a.onLoad.bind(a,h),h.onerror=a.onError.bind(a,h),h.onprogress=a.onProgress.bind(a),h.ontimeout=a.onError.bind(a,h),h.send(),h};c.exports=p},92638:c=>{var x=function(e,o,p,a,r,s){return e===void 0&&(e=""),o===void 0&&(o=!0),p===void 0&&(p=""),a===void 0&&(a=""),r===void 0&&(r=0),s===void 0&&(s=!1),{responseType:e,async:o,user:p,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}};c.exports=x},23906:c=>{var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};c.exports=x},42155:c=>{c.exports="addfile"},38991:c=>{c.exports="complete"},27540:c=>{c.exports="filecomplete"},87464:c=>{c.exports="filecomplete-"},94486:c=>{c.exports="loaderror"},13035:c=>{c.exports="load"},38144:c=>{c.exports="fileprogress"},97520:c=>{c.exports="postprocess"},85595:c=>{c.exports="progress"},55680:c=>{c.exports="start"},54899:(c,x,e)=>{c.exports={ADD:e(42155),COMPLETE:e(38991),FILE_COMPLETE:e(27540),FILE_KEY_COMPLETE:e(87464),FILE_LOAD_ERROR:e(94486),FILE_LOAD:e(13035),FILE_PROGRESS:e(38144),POST_PROCESS:e(97520),PROGRESS:e(85595),START:e(55680)}},14135:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(518),r=e(54899),s=new o({Extends:a,initialize:function(n,h,i,l,u){a.call(this,n,h,i,l,u),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(t,n,h,i){if(Array.isArray(t))for(var l=0;l<t.length;l++)this.addFile(new s(this,t[l]));else this.addFile(new s(this,t,n,i,h));return this}),c.exports=s},76272:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(19550),s=e(41212),t=e(518),n=e(26430),h=new o({Extends:n,initialize:function(l,u,d,f,v,m){var g,y;if(s(u)){var T=u;u=a(T,"key"),g=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new t(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new r(l,u,d,v),y=new t(l,u,f,m);g.linkFile?n.call(this,l,"atlasjson",u,[g,y,g.linkFile]):n.call(this,l,"atlasjson",u,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),l.addToCache(),this.complete=!0}}});p.register("aseprite",function(i,l,u,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,l,u,d,f),this.addFile(v.files);return this}),c.exports=h},38734:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(19550),s=e(41212),t=e(518),n=e(26430),h=new o({Extends:n,initialize:function(l,u,d,f,v,m){var g,y;if(s(u)){var T=u;u=a(T,"key"),g=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new t(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","json"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new r(l,u,d,v),y=new t(l,u,f,m);g.linkFile?n.call(this,l,"atlasjson",u,[g,y,g.linkFile]):n.call(this,l,"atlasjson",u,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),this.complete=!0}}});p.register("atlas",function(i,l,u,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,l,u,d,f),this.addFile(v.files);return this}),c.exports=h},74599:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(19550),s=e(41212),t=e(26430),n=e(57318),h=new o({Extends:t,initialize:function(l,u,d,f,v,m){var g,y;if(s(u)){var T=u;u=a(T,"key"),g=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new n(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","xml"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new r(l,u,d,v),y=new n(l,u,f,m);g.linkFile?t.call(this,l,"atlasxml",u,[g,y,g.linkFile]):t.call(this,l,"atlasxml",u,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,l.data,u),this.complete=!0}}});p.register("atlasXML",function(i,l,u,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,l,u,d,f),this.addFile(v.files);return this}),c.exports=h},21097:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(89749),n=e(41212),h=new o({Extends:a,initialize:function(l,u,d,f,v){if(n(u)){var m=u;u=s(m,"key"),f=s(m,"xhrSettings"),v=s(m,"context",v)}var g={type:"audio",cache:l.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:u,url:d.url,xhrSettings:f,config:{context:v}};a.call(this,l,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(l){i.data=l,i.onProcessComplete()},function(l){console.error("Error decoding audio: "+i.key+" - ",l?l.message:null),i.onProcessError()}),this.config.context=null}});h.create=function(i,l,u,d,f){var v=i.systems.game,m=v.config.audio,g=v.device.audio;n(l)&&(u=s(l,"url",[]),d=s(l,"config",{}));var y=h.getAudioURL(v,u);return y?g.webAudio&&!m.disableWebAudio?new h(i,l,y,f,v.sound.context):new t(i,l,y,d):(console.warn('No audio URLs for "%s" can play on this device',l),null)},h.getAudioURL=function(i,l){Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var d=s(l[u],"url",l[u]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var f=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(f=s(l[u],"type",f?f[1]:"").toLowerCase(),i.device.audio[f])return{url:d,type:f}}return null},r.register("audio",function(i,l,u,d){var f=this.systems.game,v=f.config.audio,m=f.device.audio;if(v.noAudio||!m.webAudio&&!m.audioData)return this;var g;if(Array.isArray(i))for(var y=0;y<i.length;y++)g=h.create(this,i[y]),g&&this.addFile(g);else g=h.create(this,i,l,u,d),g&&this.addFile(g);return this}),c.exports=h},89524:(c,x,e)=>{var o=e(21097),p=e(83419),a=e(74099),r=e(95540),s=e(41212),t=e(518),n=e(26430),h=new p({Extends:n,initialize:function(l,u,d,f,v,m,g){if(s(u)){var y=u;u=r(y,"key"),d=r(y,"jsonURL"),f=r(y,"audioURL"),v=r(y,"audioConfig"),m=r(y,"audioXhrSettings"),g=r(y,"jsonXhrSettings")}var T;if(!f)T=new t(l,u,d,g),n.call(this,l,"audiosprite",u,[T]),this.config.resourceLoad=!0,this.config.audioConfig=v,this.config.audioXhrSettings=m;else{var C=o.create(l,u,f,v,m);C&&(T=new t(l,u,d,g),n.call(this,l,"audiosprite",u,[C,T]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,d=r(this.config,"audioConfig"),f=r(this.config,"audioXhrSettings"),v=o.create(this.loader,i.key,u,d,f);v&&(this.addToMultiFile(v),this.loader.addFile(v))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1];i.addToCache(),l.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,l,u,d,f,v){var m=this.systems.game,g=m.config.audio,y=m.device.audio;if(g&&g.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(i))for(var C=0;C<i.length;C++)T=new h(this,i[C]),T.files&&this.addFile(T.files);else T=new h(this,i,l,u,d,f,v),T.files&&this.addFile(T.files);return this})},85722:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d,f){var v="bin";if(t(l)){var m=l;l=s(m,"key"),u=s(m,"url"),d=s(m,"xhrSettings"),v=s(m,"extension",v),f=s(m,"dataType",f)}var g={type:"binary",cache:i.cacheManager.binary,extension:v,responseType:"arraybuffer",key:l,url:u,xhrSettings:d,config:{dataType:f}};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(h,i,l,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,u,l));return this}),c.exports=n},97025:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(19550),s=e(41212),t=e(26430),n=e(21859),h=e(57318),i=new o({Extends:t,initialize:function(u,d,f,v,m,g){var y,T;if(s(d)){var C=d;d=a(C,"key"),y=new r(u,{key:d,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new h(u,{key:d,url:a(C,"fontDataURL"),extension:a(C,"fontDataExtension","xml"),xhrSettings:a(C,"fontDataXhrSettings")})}else y=new r(u,d,f,m),T=new h(u,d,v,g);y.linkFile?t.call(this,u,"bitmapfont",d,[y,T,y.linkFile]):t.call(this,u,"bitmapfont",d,[y,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1];l.addToCache();var d=l.cache.get(l.key),f=n(u.data,l.cache.getFrame(l.key),0,0,d);this.loader.cacheManager.bitmapFont.add(l.key,{data:f,texture:l.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(l,u,d,f,v){var m;if(Array.isArray(l))for(var g=0;g<l.length;g++)m=new i(this,l[g]),this.addFile(m.files);else m=new i(this,l,u,d,f,v),this.addFile(m.files);return this}),c.exports=i},16024:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d){var f="css";if(t(l)){var v=l;l=s(v,"key"),u=s(v,"url"),d=s(v,"xhrSettings"),f=s(v,"extension",f)}var m={type:"script",cache:!1,extension:f,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,i,l));return this}),c.exports=n},69559:(c,x,e)=>{var o=e(38734),p=e(85722),a=e(83419),r=e(74099),s=e(95540),t=e(19550),n=e(41212),h=e(518),i=e(31403),l=e(46975),u=e(59327),d=e(26430),f=e(82038),v=e(55222),m=new a({Extends:d,initialize:function(y,T,C,E){if(C.multiAtlasURL){var z=new h(y,{key:T,url:C.multiAtlasURL,xhrSettings:E,config:C});d.call(this,y,"texture",T,[z])}else{var D=C.textureURL.substr(C.textureURL.length-3);C.type||(C.type=D.toLowerCase()==="ktx"?"KTX":"PVR");var A=new p(y,{key:T,url:C.textureURL,extension:D,xhrSettings:E,config:C});if(C.atlasURL){var L=new h(y,{key:T,url:C.atlasURL,xhrSettings:E,config:C});d.call(this,y,"texture",T,[A,L])}else d.call(this,y,"texture",T,[A])}this.config=C},onFileComplete:function(g){var y=this.files.indexOf(g);if(y!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(g.type==="json"&&g.data.hasOwnProperty("textures")){var T=g.data.textures,C=this.config,E=this.loader,z=E.baseURL,D=E.path,A=E.prefix,L=s(C,"multiBaseURL",this.baseURL),b=s(C,"multiPath",this.path),F=s(C,"prefix",this.prefix),V=s(C,"textureXhrSettings");L&&E.setBaseURL(L),b&&E.setPath(b),F&&E.setPrefix(F);for(var B=0;B<T.length;B++){var N=T[B].image,U="CMA"+this.multiKeyIndex+"_"+N,I=new p(E,U,N,V);if(this.addToMultiFile(I),E.addFile(I),T[B].normalMap){var H=new p(E,U,T[B].normalMap,V);H.type="normalMap",I.setLink(H),this.addToMultiFile(H),E.addFile(H)}}E.setBaseURL(z),E.setPath(D),E.setPrefix(A)}}},addToCache:function(){function g(L){console.warn('Compressed Texture Invalid: "'+z.key+'". '+L)}if(this.isReadyToProcess()){var y=this.config;if(y.multiAtlasURL)this.addMultiToCache();else{var T=this.loader.systems.renderer,C=this.loader.textureManager,E,z=this.files[0],D=this.files[1];if(y.type==="PVR"?E=f(z.data):y.type==="KTX"&&(E=i(z.data),E||g("KTX file contains unsupported format.")),E&&!v(E)&&(g("Texture dimensions failed verification. Check the texture format specifications for "+y.format+" 0x"+E.internalFormat.toString(16)+"."),E=null),E&&!T.supportsCompressedTexture(y.format,E.internalFormat)&&(g("Texture format "+y.format+" with internal format "+E.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),E=null),E){E.format=T.getCompressedTextureName(y.format,E.internalFormat);var A=D&&D.data?D.data:null;C.addCompressedTexture(z.key,E,A)}}this.complete=!0}},addMultiToCache:function(){for(var g=this.config,y=this.files[0],T=[],C=[],E=[],z=this.loader.systems.renderer,D=this.loader.textureManager,A,L=1;L<this.files.length;L++){var b=this.files[L];if(b.type!=="normalMap")for(var F=b.key.indexOf("_"),V=b.key.substr(F+1),B=b.data,N=0;N<y.data.textures.length;N++){var U=y.data.textures[N];if(U.image===V){g.type==="PVR"?A=f(B):g.type==="KTX"&&(A=i(B)),A&&z.supportsCompressedTexture(g.format,A.internalFormat)&&(A.format=z.getCompressedTextureName(g.format,A.internalFormat),C.push(A),T.push(U),b.linkFile&&E.push(b.linkFile.data));break}}}E.length===0&&(E=void 0),D.addAtlasJSONArray(this.key,C,T,E),this.complete=!0}});r.register("texture",function(g,y,T){var C=this.systems.renderer,E=function(D,A,L,b){var F={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(n(A)){var V=A;A=s(V,"key"),L=s(V,"url"),b=s(V,"xhrSettings")}var B=!1;for(var N in L)if(C.supportsCompressedTexture(N)){var U=L[N];typeof U=="string"?F.textureURL=U:F=l(U,F),F.format=N.toUpperCase(),B=!0;break}if(!B)console.warn("No supported compressed texture format or IMG fallback",A);else if(F.format==="IMG"){var I,H;F.multiAtlasURL?(H=new u(D,A,F.multiAtlasURL,F.multiPath,F.multiBaseURL,b),I=H.files):F.atlasURL?(H=new o(D,A,F.textureURL,F.atlasURL,b),I=H.files):I=new t(D,A,F.textureURL,b),D.addFile(I)}else{var O=new m(D,A,F,b);D.addFile(O.files)}};if(Array.isArray(g))for(var z=0;z<g.length;z++)E(this,g[z]);else E(this,g,y,T);return this}),c.exports=m},87674:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(98356),n=e(41212),h=new o({Extends:a,initialize:function(l,u,d,f,v,m){var g="ttf";if(n(u)){var y=u;u=s(y,"key"),d=s(y,"url"),f=s(y,"format","truetype"),v=s(y,"descriptors",null),m=s(y,"xhrSettings"),g=s(y,"extension",g)}else f===void 0&&(f="truetype");var T={type:"font",cache:!1,extension:g,responseType:"text",key:u,url:d,xhrSettings:m};a.call(this,l,T),this.data={format:f,descriptors:v},this.state=p.FILE_POPULATED},onProcess:function(){this.state=p.FILE_PROCESSING,this.src=t(this,this.loader.baseURL);var i,l=this.key,u="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(l,u,this.data.descriptors):i=new FontFace(l,u);var d=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",u),d.onProcessComplete()})}});r.register("font",function(i,l,u,d,f){if(Array.isArray(i))for(var v=0;v<i.length;v++)this.addFile(new h(this,i[v]));else this.addFile(new h(this,i,l,u,d,f));return this}),c.exports=h},47931:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=e(73894),h=new o({Extends:a,initialize:function(l,u,d,f,v){var m="glsl";if(t(u)){var g=u;u=s(g,"key"),d=s(g,"url"),f=s(g,"shaderType","fragment"),v=s(g,"xhrSettings"),m=s(g,"extension",m)}else f===void 0&&(f="fragment");var y={type:"glsl",cache:l.cacheManager.shader,extension:m,responseType:"text",key:u,url:d,config:{shaderType:f},xhrSettings:v};a.call(this,l,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),l=this.extractBlock(i,0);if(l)for(;l;){var u=this.getShaderName(l.header),d=this.getShaderType(l.header),f=this.getShaderUniforms(l.header),v=l.shader;if(this.cache.has(u)){var m=this.cache.get(u);d==="fragment"?m.fragmentSrc=v:m.vertexSrc=v,m.uniforms||(m.uniforms=f)}else d==="fragment"?this.cache.add(u,new n(u,v,"",f)):this.cache.add(u,new n(u,"",v,f));l=this.extractBlock(i,l.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new n(this.key,this.data)):this.cache.add(this.key,new n(this.key,"",this.data))},getShaderName:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var l={},u=0;u<i.length;u++){var d=i[u].trim();if(d.substring(0,8)==="uniform."){var f=d.indexOf(":");if(f){var v=d.substring(8,f);try{l[v]=JSON.parse(d.substring(f+1))}catch{console.warn("Invalid uniform JSON: "+v)}}}}return l},extractBlock:function(i,l){for(var u=-1,d=-1,f=-1,v=!1,m=!1,g=[],y=[],T=l;T<i.length;T++){var C=i[T].trim();if(C==="---")if(u===-1)u=T,v=!0;else if(v)d=T,v=!1,m=!0;else{m=!1;break}else v?g.push(C):m&&(y.push(C),f=T)}return!v&&d!==-1?{header:g,shader:y.join(`
`),offset:f}:null}});r.register("glsl",function(i,l,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,l,u,d));return this}),c.exports=h},89749:(c,x,e)=>{var o=e(83419),p=e(54899),a=e(41299),r=e(95540),s=e(98356),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d){if(t(l)){var f=l;l=r(f,"key"),d=r(f,"config",d)}var v={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:l,url:u.url,config:d};a.call(this,i,v),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var i=this.data[h];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var i=h.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<h;i++){var l=new Audio;l.dataset||(l.dataset={}),l.dataset.name=this.key+("0"+i).slice(-2),l.dataset.used="false",this.locked?l.dataset.locked="true":(l.dataset.locked="false",l.preload="auto",l.oncanplaythrough=this.onProgress.bind(this),l.onerror=this.onError.bind(this)),this.data.push(l)}for(i=0;i<this.data.length;i++)l=this.data[i],l.src=s(this,this.loader.baseURL),this.locked||l.load();this.locked&&setTimeout(this.onLoad.bind(this))}});c.exports=n},88470:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d){var f="html";if(t(l)){var v=l;l=s(v,"key"),u=s(v,"url"),d=s(v,"xhrSettings"),f=s(v,"extension",f)}var m={type:"text",cache:i.cacheManager.html,extension:f,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,i,l));return this}),c.exports=n},14643:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d,f,v){d===void 0&&(d=512),f===void 0&&(f=512);var m="html";if(t(l)){var g=l;l=s(g,"key"),u=s(g,"url"),v=s(g,"xhrSettings"),m=s(g,"extension",m),d=s(g,"width",d),f=s(g,"height",f)}var y={type:"html",cache:i.textureManager,extension:m,responseType:"text",key:l,url:u,xhrSettings:v,config:{width:d,height:f}};a.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING;var h=this.config.width,i=this.config.height,l=[];l.push('<svg width="'+h+'px" height="'+i+'px" viewBox="0 0 '+h+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),l.push('<foreignObject width="100%" height="100%">'),l.push('<body xmlns="http://www.w3.org/1999/xhtml">'),l.push(this.xhrLoader.responseText),l.push("</body>"),l.push("</foreignObject>"),l.push("</svg>");var u=[l.join(`
`)],d=this;try{var f=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=p.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(d.data),d.onProcessError()},a.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(h,i,l,u,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,l,u,d));return this}),c.exports=n},19550:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=e(98356),h=new o({Extends:a,initialize:function i(l,u,d,f,v){var m="png",g;if(t(u)){var y=u;u=s(y,"key"),d=s(y,"url"),g=s(y,"normalMap"),f=s(y,"xhrSettings"),m=s(y,"extension",m),v=s(y,"frameConfig")}Array.isArray(d)&&(g=d[1],d=d[0]);var T={type:"image",cache:l.textureManager,extension:m,responseType:"blob",key:u,url:d,xhrSettings:f,config:v};if(a.call(this,l,T),g){var C=new i(l,this.key,g,f,v);C.type="normalMap",this.setLink(C),l.addFile(C)}this.useImageElementLoad=l.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=p.FILE_PROCESSING,i===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=p.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=p.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),c.exports=h},518:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(35154),n=e(41212),h=new o({Extends:a,initialize:function(l,u,d,f,v){var m="json";if(n(u)){var g=u;u=s(g,"key"),d=s(g,"url"),f=s(g,"xhrSettings"),m=s(g,"extension",m),v=s(g,"dataKey",v)}var y={type:"json",cache:l.cacheManager.json,extension:m,responseType:"text",key:u,url:d,xhrSettings:f,config:v};a.call(this,l,y),n(d)&&(v?this.data=t(d,v):this.data=d,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var l=this.config;typeof l=="string"?this.data=t(i,l,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,l,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,l,d,u));return this}),c.exports=h},59327:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(19550),s=e(41212),t=e(518),n=e(26430),h=new o({Extends:n,initialize:function(l,u,d,f,v,m,g){if(s(u)){var y=u;u=a(y,"key"),a(y,"url",!1)?d=a(y,"url"):d=a(y,"atlasURL"),m=a(y,"xhrSettings"),f=a(y,"path"),v=a(y,"baseURL"),g=a(y,"textureXhrSettings")}var T=new t(l,u,d,m);n.call(this,l,"multiatlas",u,[T]),this.config.path=f,this.config.baseURL=v,this.config.textureXhrSettings=g},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,d=this.config,f=this.loader,v=f.baseURL,m=f.path,g=f.prefix,y=a(d,"baseURL",this.baseURL),T=a(d,"path",this.path),C=a(d,"prefix",this.prefix),E=a(d,"textureXhrSettings");f.setBaseURL(y),f.setPath(T),f.setPrefix(C);for(var z=0;z<u.length;z++){var D=u[z].image,A="MA"+this.multiKeyIndex+"_"+D,L=new r(f,A,D,E);if(this.addToMultiFile(L),f.addFile(L),u[z].normalMap){var b=new r(f,A,u[z].normalMap,E);b.type="normalMap",L.setLink(b),this.addToMultiFile(b),f.addFile(b)}}f.setBaseURL(v),f.setPath(m),f.setPrefix(g)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],l=[],u=[],d=[],f=1;f<this.files.length;f++){var v=this.files[f];if(v.type!=="normalMap")for(var m=v.key.indexOf("_"),g=v.key.substr(m+1),y=v.data,T=0;T<i.data.textures.length;T++){var C=i.data.textures[T];if(C.image===g){u.push(y),l.push(C),v.linkFile&&d.push(v.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,l,d),this.complete=!0}}});p.register("multiatlas",function(i,l,u,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,l,u,d,f),this.addFile(v.files);return this}),c.exports=h},99297:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(41212),s=e(26430),t=e(34328),n=new o({Extends:s,initialize:function(i,l,u,d){var f="js",v=[];if(r(l)){var m=l;l=a(m,"key"),u=a(m,"url"),d=a(m,"xhrSettings"),f=a(m,"extension",f)}Array.isArray(u)||(u=[u]);for(var g=0;g<u.length;g++){var y=new t(i,{key:l+"_"+g.toString(),url:u[g],extension:f,xhrSettings:d});y.onProcess=function(){this.onProcessComplete()},v.push(y)}s.call(this,i,"scripts",l,v)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var i=this.files[h];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});p.register("scripts",function(h,i,l){var u;if(Array.isArray(h))for(var d=0;d<h.length;d++)u=new n(this,h[d]),this.addFile(u.files);else u=new n(this,h,i,l),this.addFile(u.files);return this}),c.exports=n},41846:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(41212),s=e(26430),t=e(85048),n=e(61485),h=e(78776),i=new o({Extends:s,initialize:function(u,d,f,v,m,g){var y,T,C=u.cacheManager.obj;if(r(d)){var E=d;d=a(E,"key"),y=new h(u,{key:d,type:"obj",cache:C,url:a(E,"url"),extension:a(E,"extension","obj"),xhrSettings:a(E,"xhrSettings"),config:{flipUV:a(E,"flipUV",m)}}),v=a(E,"matURL"),v&&(T=new h(u,{key:d,type:"mat",cache:C,url:v,extension:a(E,"matExtension","mat"),xhrSettings:a(E,"xhrSettings")}))}else y=new h(u,{key:d,url:f,type:"obj",cache:C,extension:"obj",xhrSettings:g,config:{flipUV:m}}),v&&(T=new h(u,{key:d,url:v,type:"mat",cache:C,extension:"mat",xhrSettings:g}));s.call(this,u,"obj",d,[y,T])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1],d=t(l.data,l.config.flipUV);u&&(d.materials=n(u.data)),l.cache.add(l.key,d),this.complete=!0}}});p.register("obj",function(l,u,d,f,v){var m;if(Array.isArray(l))for(var g=0;g<l.length;g++)m=new i(this,l[g]),this.addFile(m.files);else m=new i(this,l,u,d,f,v),this.addFile(m.files);return this}),c.exports=i},58610:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(74099),r=e(518),s=new o({Extends:r,initialize:function(n,h,i,l,u){r.call(this,n,h,i,l,u),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var t={};t[this.config]=this.data,this.data=t}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(t,n,h,i){if(Array.isArray(t))for(var l=0;l<t.length;l++)this.addFile(new s(this,t[l]));else this.addFile(new s(this,t,n,i,h));return this}),c.exports=s},48988:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d,f,v){var m="js";if(t(l)){var g=l;l=s(g,"key"),u=s(g,"url"),v=s(g,"xhrSettings"),m=s(g,"extension",m),d=s(g,"start"),f=s(g,"mapping")}var y={type:"plugin",cache:!1,extension:m,responseType:"text",key:l,url:u,xhrSettings:v,config:{start:d,mapping:f}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,l=s(i,"start",!1),u=s(i,"mapping",null);if(this.state===p.FILE_POPULATED)h.install(this.key,this.data,l,u);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=h.install(this.key,window[this.key],l,u);(l||u)&&(this.loader.systems[u]=d,this.loader.scene[u]=d)}this.onProcessComplete()}});r.register("plugin",function(h,i,l,u,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,l,u,d));return this}),c.exports=n},67397:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d,f){var v="svg";if(t(l)){var m=l;l=s(m,"key"),u=s(m,"url"),d=s(m,"svgConfig",{}),f=s(m,"xhrSettings"),v=s(m,"extension",v)}var g={type:"svg",cache:i.textureManager,extension:v,responseType:"text",key:l,url:u,xhrSettings:f,config:{width:s(d,"width"),height:s(d,"height"),scale:s(d,"scale")}};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING;var h=this.xhrLoader.responseText,i=[h],l=this.config.width,u=this.config.height,d=this.config.scale;e:if(l&&u||d){var f=null,v=new DOMParser;f=v.parseFromString(h,"text/xml");var m=f.getElementsByTagName("svg")[0],g=m.hasAttribute("viewBox"),y=parseFloat(m.getAttribute("width")),T=parseFloat(m.getAttribute("height"));if(!g&&y&&T)m.setAttribute("viewBox","0  0 "+y+" "+T);else if(g&&!y&&!T){var C=m.getAttribute("viewBox").split(/\s+|,/);y=C[2],T=C[3]}if(d)if(y&&T)l=y*d,u=T*d;else break e;m.setAttribute("width",l.toString()+"px"),m.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(m)]}try{var E=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var z=this,D=!1;this.data.onload=function(){D||a.revokeObjectURL(z.data),z.onProcessComplete()},this.data.onerror=function(){D?z.onProcessError():(D=!0,a.revokeObjectURL(z.data),z.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(h,i,l,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,l,u));return this}),c.exports=n},88423:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d){var f="js";if(t(l)){var v=l;l=s(v,"key"),u=s(v,"url"),d=s(v,"xhrSettings"),f=s(v,"extension",f)}var m={type:"text",extension:f,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,m)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(h)),this.complete=!0}});r.register("sceneFile",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,i,l));return this}),c.exports=n},56812:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d,f,v){var m="js";if(t(l)){var g=l;l=s(g,"key"),u=s(g,"url"),v=s(g,"xhrSettings"),m=s(g,"extension",m),d=s(g,"systemKey"),f=s(g,"sceneKey")}var y={type:"scenePlugin",cache:!1,extension:m,responseType:"text",key:l,url:u,xhrSettings:v,config:{systemKey:d,sceneKey:f}};a.call(this,i,y),typeof u=="function"&&(this.data=u,this.state=p.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,l=this.key,u=s(i,"systemKey",l),d=s(i,"sceneKey",l);this.state===p.FILE_POPULATED?h.installScenePlugin(u,this.data,d,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(u,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(h,i,l,u,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new n(this,h[f]));else this.addFile(new n(this,h,i,l,u,d));return this}),c.exports=n},34328:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d,f){var v="js";if(t(l)){var m=l;l=s(m,"key"),u=s(m,"url"),d=s(m,"type","script"),f=s(m,"xhrSettings"),v=s(m,"extension",v)}else d===void 0&&(d="script");var g={type:d,cache:!1,extension:v,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(h,i,l,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new n(this,h[d]));else this.addFile(new n(this,h,i,l,u));return this}),c.exports=n},85035:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(74099),r=e(19550),s=new o({Extends:r,initialize:function(n,h,i,l,u){r.call(this,n,h,i,u,l),this.type="spritesheet"},addToCache:function(){var t=this.linkFile;t?t.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,t.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,t.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(t,n,h,i){if(Array.isArray(t))for(var l=0;l<t.length;l++)this.addFile(new s(this,t[l]));else this.addFile(new s(this,t,n,h,i));return this}),c.exports=s},78776:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=new o({Extends:a,initialize:function(i,l,u,d){var f="text",v="txt",m=i.cacheManager.text;if(t(l)){var g=l;l=s(g,"key"),u=s(g,"url"),d=s(g,"xhrSettings"),v=s(g,"extension",v),f=s(g,"type",f),m=s(g,"cache",m)}var y={type:f,cache:m,extension:v,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,y)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new n(this,h[u]));else this.addFile(new n(this,h,i,l));return this}),c.exports=n},49477:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=e(80341),h=new o({Extends:a,initialize:function(l,u,d,f){var v="csv";if(t(u)){var m=u;u=s(m,"key"),d=s(m,"url"),f=s(m,"xhrSettings"),v=s(m,"extension",v)}var g={type:"tilemapCSV",cache:l.cacheManager.tilemap,extension:v,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,l,g),this.tilemapFormat=n.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),c.exports=h},40807:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(518),r=e(80341),s=new o({Extends:a,initialize:function(n,h,i,l){a.call(this,n,h,i,l),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var t={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,t)}});p.register("tilemapImpact",function(t,n,h){if(Array.isArray(t))for(var i=0;i<t.length;i++)this.addFile(new s(this,t[i]));else this.addFile(new s(this,t,n,h));return this}),c.exports=s},56775:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(518),r=e(80341),s=new o({Extends:a,initialize:function(n,h,i,l){a.call(this,n,h,i,l),this.type="tilemapJSON",this.cache=n.cacheManager.tilemap},addToCache:function(){var t={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,t)}});p.register("tilemapTiledJSON",function(t,n,h){if(Array.isArray(t))for(var i=0;i<t.length;i++)this.addFile(new s(this,t[i]));else this.addFile(new s(this,t,n,h));return this}),c.exports=s},25771:(c,x,e)=>{var o=e(83419),p=e(74099),a=e(95540),r=e(19550),s=e(41212),t=e(26430),n=e(78776),h=new o({Extends:t,initialize:function(l,u,d,f,v,m){var g,y;if(s(u)){var T=u;u=a(T,"key"),g=new r(l,{key:u,url:a(T,"textureURL"),extension:a(T,"textureExtension","png"),normalMap:a(T,"normalMap"),xhrSettings:a(T,"textureXhrSettings")}),y=new n(l,{key:u,url:a(T,"atlasURL"),extension:a(T,"atlasExtension","txt"),xhrSettings:a(T,"atlasXhrSettings")})}else g=new r(l,u,d,v),y=new n(l,u,f,m);g.linkFile?t.call(this,l,"unityatlas",u,[g,y,g.linkFile]):t.call(this,l,"unityatlas",u,[g,y])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,l.data,u),this.complete=!0}}});p.register("unityAtlas",function(i,l,u,d,f){var v;if(Array.isArray(i))for(var m=0;m<i.length;m++)v=new h(this,i[m]),this.addFile(v.files);else v=new h(this,i,l,u,d,f),this.addFile(v.files);return this}),c.exports=h},33720:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(98356),t=e(95540),n=e(41212),h=new o({Extends:a,initialize:function(l,u,d,f){if(f===void 0&&(f=!1),n(u)){var v=u;u=t(v,"key"),d=t(v,"url",[]),f=t(v,"noAudio",!1)}var m=l.systems.game.device.video.getVideoURL(d);m||console.warn("VideoFile: No supported format for "+u);var g={type:"video",cache:l.cacheManager.video,extension:m.type,key:u,url:m.url,config:{noAudio:f}};a.call(this,l,g)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=s(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),c.exports=h},57318:(c,x,e)=>{var o=e(83419),p=e(23906),a=e(41299),r=e(74099),s=e(95540),t=e(41212),n=e(56836),h=new o({Extends:a,initialize:function(l,u,d,f){var v="xml";if(t(u)){var m=u;u=s(m,"key"),d=s(m,"url"),f=s(m,"xhrSettings"),v=s(m,"extension",v)}var g={type:"xml",cache:l.cacheManager.xml,extension:v,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,l,g)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=n(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),c.exports=h},64589:(c,x,e)=>{c.exports={AnimationJSONFile:e(14135),AsepriteFile:e(76272),AtlasJSONFile:e(38734),AtlasXMLFile:e(74599),AudioFile:e(21097),AudioSpriteFile:e(89524),BinaryFile:e(85722),BitmapFontFile:e(97025),CompressedTextureFile:e(69559),CSSFile:e(16024),FontFile:e(87674),GLSLFile:e(47931),HTML5AudioFile:e(89749),HTMLFile:e(88470),HTMLTextureFile:e(14643),ImageFile:e(19550),JSONFile:e(518),MultiAtlasFile:e(59327),MultiScriptFile:e(99297),OBJFile:e(41846),PackFile:e(58610),PluginFile:e(48988),SceneFile:e(88423),ScenePluginFile:e(56812),ScriptFile:e(34328),SpriteSheetFile:e(85035),SVGFile:e(67397),TextFile:e(78776),TilemapCSVFile:e(49477),TilemapImpactFile:e(40807),TilemapJSONFile:e(56775),UnityAtlasFile:e(25771),VideoFile:e(33720),XMLFile:e(57318)}},57777:(c,x,e)=>{var o=e(23906),p=e(79291),a={Events:e(54899),FileTypes:e(64589),File:e(41299),FileTypesManager:e(74099),GetURL:e(98356),LoaderPlugin:e(74261),MergeXHRSettings:e(3374),MultiFile:e(26430),XHRLoader:e(84376),XHRSettings:e(92638)};a=p(!1,a,o),c.exports=a},53307:c=>{var x=function(e){for(var o=0,p=0;p<e.length;p++)o+=+e[p];return o/e.length};c.exports=x},85710:(c,x,e)=>{var o=e(6411),p=function(a,r){return o(a)/o(r)/o(a-r)};c.exports=p},30976:c=>{var x=function(e,o){return Math.floor(Math.random()*(o-e+1)+e)};c.exports=x},87842:c=>{var x=function(e,o,p,a,r){var s=(a-o)*.5,t=(r-p)*.5,n=e*e,h=e*n;return(2*p-2*a+s+t)*h+(-3*p+3*a-2*s-t)*n+s*e+p};c.exports=x},26302:c=>{var x=function(e,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var a=Math.pow(p,-o);return Math.ceil(e*a)/a};c.exports=x},45319:c=>{var x=function(e,o,p){return Math.max(o,Math.min(p,e))};c.exports=x},39506:(c,x,e)=>{var o=e(36383),p=function(a){return a*o.DEG_TO_RAD};c.exports=p},61241:c=>{var x=function(e,o){return Math.abs(e-o)};c.exports=x},38857:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(37867),r=e(29747),s=new a,t=new p({initialize:function n(h,i,l,u){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=n.DefaultOrder),this._x=h,this._y=i,this._z=l,this._order=u,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback(this)}},set:function(n,h,i,l){return l===void 0&&(l=this._order),this._x=n,this._y=h,this._z=i,this._order=l,this.onChangeCallback(this),this},copy:function(n){return this.set(n.x,n.y,n.z,n.order)},setFromQuaternion:function(n,h,i){return h===void 0&&(h=this._order),i===void 0&&(i=!1),s.fromQuat(n),this.setFromRotationMatrix(s,h,i)},setFromRotationMatrix:function(n,h,i){h===void 0&&(h=this._order),i===void 0&&(i=!1);var l=n.val,u=l[0],d=l[4],f=l[8],v=l[1],m=l[5],g=l[9],y=l[2],T=l[6],C=l[10],E=0,z=0,D=0,A=.99999;switch(h){case"XYZ":{z=Math.asin(o(f,-1,1)),Math.abs(f)<A?(E=Math.atan2(-g,C),D=Math.atan2(-d,u)):E=Math.atan2(T,m);break}case"YXZ":{E=Math.asin(-o(g,-1,1)),Math.abs(g)<A?(z=Math.atan2(f,C),D=Math.atan2(v,m)):z=Math.atan2(-y,u);break}case"ZXY":{E=Math.asin(o(T,-1,1)),Math.abs(T)<A?(z=Math.atan2(-y,C),D=Math.atan2(-d,m)):D=Math.atan2(v,u);break}case"ZYX":{z=Math.asin(-o(y,-1,1)),Math.abs(y)<A?(E=Math.atan2(T,C),D=Math.atan2(v,u)):D=Math.atan2(-d,m);break}case"YZX":{D=Math.asin(o(v,-1,1)),Math.abs(v)<A?(E=Math.atan2(-g,m),z=Math.atan2(-y,u)):z=Math.atan2(f,C);break}case"XZY":{D=Math.asin(-o(d,-1,1)),Math.abs(d)<A?(E=Math.atan2(T,m),z=Math.atan2(f,u)):E=Math.atan2(-g,C);break}}return this._x=E,this._y=z,this._z=D,this._order=h,i&&this.onChangeCallback(this),this}});t.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],t.DefaultOrder="XYZ",c.exports=t},6411:c=>{var x=function(e){if(e===0)return 1;for(var o=e;--e;)o*=e;return o};c.exports=x},99472:c=>{var x=function(e,o){return Math.random()*(o-e)+e};c.exports=x},77623:c=>{var x=function(e,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var a=Math.pow(p,-o);return Math.floor(e*a)/a};c.exports=x},62945:(c,x,e)=>{var o=e(45319),p=function(a,r,s){return a=o(a,0,1),(s-r)*a+r};c.exports=p},38265:c=>{var x=function(e,o){return e/o/1e3};c.exports=x},78702:c=>{var x=function(e){return e==parseFloat(e)?!(e%2):void 0};c.exports=x},94883:c=>{var x=function(e){return e===parseFloat(e)?!(e%2):void 0};c.exports=x},28915:c=>{var x=function(e,o,p){return(o-e)*p+e};c.exports=x},94908:c=>{var x=function(e,o,p){return p===void 0&&(p=0),e.clone().lerp(o,p)};c.exports=x},94434:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new p(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,s=a.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this},fromMat4:function(a){var r=a.val,s=this.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[4],s[4]=r[5],s[5]=r[6],s[6]=r[8],s[7]=r[9],s[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],s=a[2],t=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=s,a[7]=t,this},invert:function(){var a=this.val,r=a[0],s=a[1],t=a[2],n=a[3],h=a[4],i=a[5],l=a[6],u=a[7],d=a[8],f=d*h-i*u,v=-d*n+i*l,m=u*n-h*l,g=r*f+s*v+t*m;return g?(g=1/g,a[0]=f*g,a[1]=(-d*s+t*u)*g,a[2]=(i*s-t*h)*g,a[3]=v*g,a[4]=(d*r-t*l)*g,a[5]=(-i*r+t*n)*g,a[6]=m*g,a[7]=(-u*r+s*l)*g,a[8]=(h*r-s*n)*g,this):null},adjoint:function(){var a=this.val,r=a[0],s=a[1],t=a[2],n=a[3],h=a[4],i=a[5],l=a[6],u=a[7],d=a[8];return a[0]=h*d-i*u,a[1]=t*u-s*d,a[2]=s*i-t*h,a[3]=i*l-n*d,a[4]=r*d-t*l,a[5]=t*n-r*i,a[6]=n*u-h*l,a[7]=s*l-r*u,a[8]=r*h-s*n,this},determinant:function(){var a=this.val,r=a[0],s=a[1],t=a[2],n=a[3],h=a[4],i=a[5],l=a[6],u=a[7],d=a[8];return r*(d*h-i*u)+s*(-d*n+i*l)+t*(u*n-h*l)},multiply:function(a){var r=this.val,s=r[0],t=r[1],n=r[2],h=r[3],i=r[4],l=r[5],u=r[6],d=r[7],f=r[8],v=a.val,m=v[0],g=v[1],y=v[2],T=v[3],C=v[4],E=v[5],z=v[6],D=v[7],A=v[8];return r[0]=m*s+g*h+y*u,r[1]=m*t+g*i+y*d,r[2]=m*n+g*l+y*f,r[3]=T*s+C*h+E*u,r[4]=T*t+C*i+E*d,r[5]=T*n+C*l+E*f,r[6]=z*s+D*h+A*u,r[7]=z*t+D*i+A*d,r[8]=z*n+D*l+A*f,this},translate:function(a){var r=this.val,s=a.x,t=a.y;return r[6]=s*r[0]+t*r[3]+r[6],r[7]=s*r[1]+t*r[4]+r[7],r[8]=s*r[2]+t*r[5]+r[8],this},rotate:function(a){var r=this.val,s=r[0],t=r[1],n=r[2],h=r[3],i=r[4],l=r[5],u=Math.sin(a),d=Math.cos(a);return r[0]=d*s+u*h,r[1]=d*t+u*i,r[2]=d*n+u*l,r[3]=d*h-u*s,r[4]=d*i-u*t,r[5]=d*l-u*n,this},scale:function(a){var r=this.val,s=a.x,t=a.y;return r[0]=s*r[0],r[1]=s*r[1],r[2]=s*r[2],r[3]=t*r[3],r[4]=t*r[4],r[5]=t*r[5],this},fromQuat:function(a){var r=a.x,s=a.y,t=a.z,n=a.w,h=r+r,i=s+s,l=t+t,u=r*h,d=r*i,f=r*l,v=s*i,m=s*l,g=t*l,y=n*h,T=n*i,C=n*l,E=this.val;return E[0]=1-(v+g),E[3]=d+C,E[6]=f-T,E[1]=d-C,E[4]=1-(u+g),E[7]=m+y,E[2]=f+T,E[5]=m-y,E[8]=1-(u+v),this},normalFromMat4:function(a){var r=a.val,s=this.val,t=r[0],n=r[1],h=r[2],i=r[3],l=r[4],u=r[5],d=r[6],f=r[7],v=r[8],m=r[9],g=r[10],y=r[11],T=r[12],C=r[13],E=r[14],z=r[15],D=t*u-n*l,A=t*d-h*l,L=t*f-i*l,b=n*d-h*u,F=n*f-i*u,V=h*f-i*d,B=v*C-m*T,N=v*E-g*T,U=v*z-y*T,I=m*E-g*C,H=m*z-y*C,O=g*z-y*E,R=D*O-A*H+L*I+b*U-F*N+V*B;return R?(R=1/R,s[0]=(u*O-d*H+f*I)*R,s[1]=(d*U-l*O-f*N)*R,s[2]=(l*H-u*U+f*B)*R,s[3]=(h*H-n*O-i*I)*R,s[4]=(t*O-h*U+i*N)*R,s[5]=(n*U-t*H-i*B)*R,s[6]=(C*V-E*F+z*b)*R,s[7]=(E*L-T*V-z*A)*R,s[8]=(T*F-C*L+z*D)*R,this):null}});c.exports=p},37867:(c,x,e)=>{var o=e(83419),p=e(25836),a=1e-6,r=new o({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new r(this)},set:function(l){return this.copy(l)},setValues:function(l,u,d,f,v,m,g,y,T,C,E,z,D,A,L,b){var F=this.val;return F[0]=l,F[1]=u,F[2]=d,F[3]=f,F[4]=v,F[5]=m,F[6]=g,F[7]=y,F[8]=T,F[9]=C,F[10]=E,F[11]=z,F[12]=D,F[13]=A,F[14]=L,F[15]=b,this},copy:function(l){var u=l.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(l){return this.setValues(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(l,u,d){var f=s.fromQuat(d),v=f.val,m=u.x,g=u.y,y=u.z;return this.setValues(v[0]*m,v[1]*m,v[2]*m,0,v[4]*g,v[5]*g,v[6]*g,0,v[8]*y,v[9]*y,v[10]*y,0,l.x,l.y,l.z,1)},xyz:function(l,u,d){this.identity();var f=this.val;return f[12]=l,f[13]=u,f[14]=d,this},scaling:function(l,u,d){this.zero();var f=this.val;return f[0]=l,f[5]=u,f[10]=d,f[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var l=this.val,u=l[1],d=l[2],f=l[3],v=l[6],m=l[7],g=l[11];return l[1]=l[4],l[2]=l[8],l[3]=l[12],l[4]=u,l[6]=l[9],l[7]=l[13],l[8]=d,l[9]=v,l[11]=l[14],l[12]=f,l[13]=m,l[14]=g,this},getInverse:function(l){return this.copy(l),this.invert()},invert:function(){var l=this.val,u=l[0],d=l[1],f=l[2],v=l[3],m=l[4],g=l[5],y=l[6],T=l[7],C=l[8],E=l[9],z=l[10],D=l[11],A=l[12],L=l[13],b=l[14],F=l[15],V=u*g-d*m,B=u*y-f*m,N=u*T-v*m,U=d*y-f*g,I=d*T-v*g,H=f*T-v*y,O=C*L-E*A,R=C*b-z*A,Y=C*F-D*A,G=E*b-z*L,k=E*F-D*L,W=z*F-D*b,X=V*W-B*k+N*G+U*Y-I*R+H*O;return X?(X=1/X,this.setValues((g*W-y*k+T*G)*X,(f*k-d*W-v*G)*X,(L*H-b*I+F*U)*X,(z*I-E*H-D*U)*X,(y*Y-m*W-T*R)*X,(u*W-f*Y+v*R)*X,(b*N-A*H-F*B)*X,(C*H-z*N+D*B)*X,(m*k-g*Y+T*O)*X,(d*Y-u*k-v*O)*X,(A*I-L*N+F*V)*X,(E*N-C*I-D*V)*X,(g*R-m*G-y*O)*X,(u*G-d*R+f*O)*X,(L*B-A*U-b*V)*X,(C*U-E*B+z*V)*X)):this},adjoint:function(){var l=this.val,u=l[0],d=l[1],f=l[2],v=l[3],m=l[4],g=l[5],y=l[6],T=l[7],C=l[8],E=l[9],z=l[10],D=l[11],A=l[12],L=l[13],b=l[14],F=l[15];return this.setValues(g*(z*F-D*b)-E*(y*F-T*b)+L*(y*D-T*z),-(d*(z*F-D*b)-E*(f*F-v*b)+L*(f*D-v*z)),d*(y*F-T*b)-g*(f*F-v*b)+L*(f*T-v*y),-(d*(y*D-T*z)-g*(f*D-v*z)+E*(f*T-v*y)),-(m*(z*F-D*b)-C*(y*F-T*b)+A*(y*D-T*z)),u*(z*F-D*b)-C*(f*F-v*b)+A*(f*D-v*z),-(u*(y*F-T*b)-m*(f*F-v*b)+A*(f*T-v*y)),u*(y*D-T*z)-m*(f*D-v*z)+C*(f*T-v*y),m*(E*F-D*L)-C*(g*F-T*L)+A*(g*D-T*E),-(u*(E*F-D*L)-C*(d*F-v*L)+A*(d*D-v*E)),u*(g*F-T*L)-m*(d*F-v*L)+A*(d*T-v*g),-(u*(g*D-T*E)-m*(d*D-v*E)+C*(d*T-v*g)),-(m*(E*b-z*L)-C*(g*b-y*L)+A*(g*z-y*E)),u*(E*b-z*L)-C*(d*b-f*L)+A*(d*z-f*E),-(u*(g*b-y*L)-m*(d*b-f*L)+A*(d*y-f*g)),u*(g*z-y*E)-m*(d*z-f*E)+C*(d*y-f*g))},determinant:function(){var l=this.val,u=l[0],d=l[1],f=l[2],v=l[3],m=l[4],g=l[5],y=l[6],T=l[7],C=l[8],E=l[9],z=l[10],D=l[11],A=l[12],L=l[13],b=l[14],F=l[15],V=u*g-d*m,B=u*y-f*m,N=u*T-v*m,U=d*y-f*g,I=d*T-v*g,H=f*T-v*y,O=C*L-E*A,R=C*b-z*A,Y=C*F-D*A,G=E*b-z*L,k=E*F-D*L,W=z*F-D*b;return V*W-B*k+N*G+U*Y-I*R+H*O},multiply:function(l){var u=this.val,d=u[0],f=u[1],v=u[2],m=u[3],g=u[4],y=u[5],T=u[6],C=u[7],E=u[8],z=u[9],D=u[10],A=u[11],L=u[12],b=u[13],F=u[14],V=u[15],B=l.val,N=B[0],U=B[1],I=B[2],H=B[3];return u[0]=N*d+U*g+I*E+H*L,u[1]=N*f+U*y+I*z+H*b,u[2]=N*v+U*T+I*D+H*F,u[3]=N*m+U*C+I*A+H*V,N=B[4],U=B[5],I=B[6],H=B[7],u[4]=N*d+U*g+I*E+H*L,u[5]=N*f+U*y+I*z+H*b,u[6]=N*v+U*T+I*D+H*F,u[7]=N*m+U*C+I*A+H*V,N=B[8],U=B[9],I=B[10],H=B[11],u[8]=N*d+U*g+I*E+H*L,u[9]=N*f+U*y+I*z+H*b,u[10]=N*v+U*T+I*D+H*F,u[11]=N*m+U*C+I*A+H*V,N=B[12],U=B[13],I=B[14],H=B[15],u[12]=N*d+U*g+I*E+H*L,u[13]=N*f+U*y+I*z+H*b,u[14]=N*v+U*T+I*D+H*F,u[15]=N*m+U*C+I*A+H*V,this},multiplyLocal:function(l){var u=this.val,d=l.val;return this.setValues(u[0]*d[0]+u[1]*d[4]+u[2]*d[8]+u[3]*d[12],u[0]*d[1]+u[1]*d[5]+u[2]*d[9]+u[3]*d[13],u[0]*d[2]+u[1]*d[6]+u[2]*d[10]+u[3]*d[14],u[0]*d[3]+u[1]*d[7]+u[2]*d[11]+u[3]*d[15],u[4]*d[0]+u[5]*d[4]+u[6]*d[8]+u[7]*d[12],u[4]*d[1]+u[5]*d[5]+u[6]*d[9]+u[7]*d[13],u[4]*d[2]+u[5]*d[6]+u[6]*d[10]+u[7]*d[14],u[4]*d[3]+u[5]*d[7]+u[6]*d[11]+u[7]*d[15],u[8]*d[0]+u[9]*d[4]+u[10]*d[8]+u[11]*d[12],u[8]*d[1]+u[9]*d[5]+u[10]*d[9]+u[11]*d[13],u[8]*d[2]+u[9]*d[6]+u[10]*d[10]+u[11]*d[14],u[8]*d[3]+u[9]*d[7]+u[10]*d[11]+u[11]*d[15],u[12]*d[0]+u[13]*d[4]+u[14]*d[8]+u[15]*d[12],u[12]*d[1]+u[13]*d[5]+u[14]*d[9]+u[15]*d[13],u[12]*d[2]+u[13]*d[6]+u[14]*d[10]+u[15]*d[14],u[12]*d[3]+u[13]*d[7]+u[14]*d[11]+u[15]*d[15])},premultiply:function(l){return this.multiplyMatrices(l,this)},multiplyMatrices:function(l,u){var d=l.val,f=u.val,v=d[0],m=d[4],g=d[8],y=d[12],T=d[1],C=d[5],E=d[9],z=d[13],D=d[2],A=d[6],L=d[10],b=d[14],F=d[3],V=d[7],B=d[11],N=d[15],U=f[0],I=f[4],H=f[8],O=f[12],R=f[1],Y=f[5],G=f[9],k=f[13],W=f[2],X=f[6],j=f[10],K=f[14],$=f[3],Z=f[7],J=f[11],Q=f[15];return this.setValues(v*U+m*R+g*W+y*$,T*U+C*R+E*W+z*$,D*U+A*R+L*W+b*$,F*U+V*R+B*W+N*$,v*I+m*Y+g*X+y*Z,T*I+C*Y+E*X+z*Z,D*I+A*Y+L*X+b*Z,F*I+V*Y+B*X+N*Z,v*H+m*G+g*j+y*J,T*H+C*G+E*j+z*J,D*H+A*G+L*j+b*J,F*H+V*G+B*j+N*J,v*O+m*k+g*K+y*Q,T*O+C*k+E*K+z*Q,D*O+A*k+L*K+b*Q,F*O+V*k+B*K+N*Q)},translate:function(l){return this.translateXYZ(l.x,l.y,l.z)},translateXYZ:function(l,u,d){var f=this.val;return f[12]=f[0]*l+f[4]*u+f[8]*d+f[12],f[13]=f[1]*l+f[5]*u+f[9]*d+f[13],f[14]=f[2]*l+f[6]*u+f[10]*d+f[14],f[15]=f[3]*l+f[7]*u+f[11]*d+f[15],this},scale:function(l){return this.scaleXYZ(l.x,l.y,l.z)},scaleXYZ:function(l,u,d){var f=this.val;return f[0]=f[0]*l,f[1]=f[1]*l,f[2]=f[2]*l,f[3]=f[3]*l,f[4]=f[4]*u,f[5]=f[5]*u,f[6]=f[6]*u,f[7]=f[7]*u,f[8]=f[8]*d,f[9]=f[9]*d,f[10]=f[10]*d,f[11]=f[11]*d,this},makeRotationAxis:function(l,u){var d=Math.cos(u),f=Math.sin(u),v=1-d,m=l.x,g=l.y,y=l.z,T=v*m,C=v*g;return this.setValues(T*m+d,T*g-f*y,T*y+f*g,0,T*g+f*y,C*g+d,C*y-f*m,0,T*y-f*g,C*y+f*m,v*y*y+d,0,0,0,0,1)},rotate:function(l,u){var d=this.val,f=u.x,v=u.y,m=u.z,g=Math.sqrt(f*f+v*v+m*m);if(Math.abs(g)<a)return this;g=1/g,f*=g,v*=g,m*=g;var y=Math.sin(l),T=Math.cos(l),C=1-T,E=d[0],z=d[1],D=d[2],A=d[3],L=d[4],b=d[5],F=d[6],V=d[7],B=d[8],N=d[9],U=d[10],I=d[11],H=d[12],O=d[13],R=d[14],Y=d[15],G=f*f*C+T,k=v*f*C+m*y,W=m*f*C-v*y,X=f*v*C-m*y,j=v*v*C+T,K=m*v*C+f*y,$=f*m*C+v*y,Z=v*m*C-f*y,J=m*m*C+T;return this.setValues(E*G+L*k+B*W,z*G+b*k+N*W,D*G+F*k+U*W,A*G+V*k+I*W,E*X+L*j+B*K,z*X+b*j+N*K,D*X+F*j+U*K,A*X+V*j+I*K,E*$+L*Z+B*J,z*$+b*Z+N*J,D*$+F*Z+U*J,A*$+V*Z+I*J,H,O,R,Y)},rotateX:function(l){var u=this.val,d=Math.sin(l),f=Math.cos(l),v=u[4],m=u[5],g=u[6],y=u[7],T=u[8],C=u[9],E=u[10],z=u[11];return u[4]=v*f+T*d,u[5]=m*f+C*d,u[6]=g*f+E*d,u[7]=y*f+z*d,u[8]=T*f-v*d,u[9]=C*f-m*d,u[10]=E*f-g*d,u[11]=z*f-y*d,this},rotateY:function(l){var u=this.val,d=Math.sin(l),f=Math.cos(l),v=u[0],m=u[1],g=u[2],y=u[3],T=u[8],C=u[9],E=u[10],z=u[11];return u[0]=v*f-T*d,u[1]=m*f-C*d,u[2]=g*f-E*d,u[3]=y*f-z*d,u[8]=v*d+T*f,u[9]=m*d+C*f,u[10]=g*d+E*f,u[11]=y*d+z*f,this},rotateZ:function(l){var u=this.val,d=Math.sin(l),f=Math.cos(l),v=u[0],m=u[1],g=u[2],y=u[3],T=u[4],C=u[5],E=u[6],z=u[7];return u[0]=v*f+T*d,u[1]=m*f+C*d,u[2]=g*f+E*d,u[3]=y*f+z*d,u[4]=T*f-v*d,u[5]=C*f-m*d,u[6]=E*f-g*d,u[7]=z*f-y*d,this},fromRotationTranslation:function(l,u){var d=l.x,f=l.y,v=l.z,m=l.w,g=d+d,y=f+f,T=v+v,C=d*g,E=d*y,z=d*T,D=f*y,A=f*T,L=v*T,b=m*g,F=m*y,V=m*T;return this.setValues(1-(D+L),E+V,z-F,0,E-V,1-(C+L),A+b,0,z+F,A-b,1-(C+D),0,u.x,u.y,u.z,1)},fromQuat:function(l){var u=l.x,d=l.y,f=l.z,v=l.w,m=u+u,g=d+d,y=f+f,T=u*m,C=u*g,E=u*y,z=d*g,D=d*y,A=f*y,L=v*m,b=v*g,F=v*y;return this.setValues(1-(z+A),C+F,E-b,0,C-F,1-(T+A),D+L,0,E+b,D-L,1-(T+z),0,0,0,0,1)},frustum:function(l,u,d,f,v,m){var g=1/(u-l),y=1/(f-d),T=1/(v-m);return this.setValues(v*2*g,0,0,0,0,v*2*y,0,0,(u+l)*g,(f+d)*y,(m+v)*T,-1,0,0,m*v*2*T,0)},perspective:function(l,u,d,f){var v=1/Math.tan(l/2),m=1/(d-f);return this.setValues(v/u,0,0,0,0,v,0,0,0,0,(f+d)*m,-1,0,0,2*f*d*m,0)},perspectiveLH:function(l,u,d,f){return this.setValues(2*d/l,0,0,0,0,2*d/u,0,0,0,0,-f/(d-f),1,0,0,d*f/(d-f),0)},ortho:function(l,u,d,f,v,m){var g=l-u,y=d-f,T=v-m;return g=g===0?g:1/g,y=y===0?y:1/y,T=T===0?T:1/T,this.setValues(-2*g,0,0,0,0,-2*y,0,0,0,0,2*T,0,(l+u)*g,(f+d)*y,(m+v)*T,1)},lookAtRH:function(l,u,d){var f=this.val;return i.subVectors(l,u),i.lengthSq()===0&&(i.z=1),i.normalize(),n.crossVectors(d,i),n.lengthSq()===0&&(Math.abs(d.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(d,i)),n.normalize(),h.crossVectors(i,n),f[0]=n.x,f[1]=n.y,f[2]=n.z,f[4]=h.x,f[5]=h.y,f[6]=h.z,f[8]=i.x,f[9]=i.y,f[10]=i.z,this},lookAt:function(l,u,d){var f=l.x,v=l.y,m=l.z,g=d.x,y=d.y,T=d.z,C=u.x,E=u.y,z=u.z;if(Math.abs(f-C)<a&&Math.abs(v-E)<a&&Math.abs(m-z)<a)return this.identity();var D=f-C,A=v-E,L=m-z,b=1/Math.sqrt(D*D+A*A+L*L);D*=b,A*=b,L*=b;var F=y*L-T*A,V=T*D-g*L,B=g*A-y*D;b=Math.sqrt(F*F+V*V+B*B),b?(b=1/b,F*=b,V*=b,B*=b):(F=0,V=0,B=0);var N=A*B-L*V,U=L*F-D*B,I=D*V-A*F;return b=Math.sqrt(N*N+U*U+I*I),b?(b=1/b,N*=b,U*=b,I*=b):(N=0,U=0,I=0),this.setValues(F,N,D,0,V,U,A,0,B,I,L,0,-(F*f+V*v+B*m),-(N*f+U*v+I*m),-(D*f+A*v+L*m),1)},yawPitchRoll:function(l,u,d){this.zero(),s.zero(),t.zero();var f=this.val,v=s.val,m=t.val,g=Math.sin(d),y=Math.cos(d);return f[10]=1,f[15]=1,f[0]=y,f[1]=g,f[4]=-g,f[5]=y,g=Math.sin(u),y=Math.cos(u),v[0]=1,v[15]=1,v[5]=y,v[10]=y,v[9]=-g,v[6]=g,g=Math.sin(l),y=Math.cos(l),m[5]=1,m[15]=1,m[0]=y,m[2]=-g,m[8]=g,m[10]=y,this.multiplyLocal(s),this.multiplyLocal(t),this},setWorldMatrix:function(l,u,d,f,v){return this.yawPitchRoll(l.y,l.x,l.z),s.scaling(d.x,d.y,d.z),t.xyz(u.x,u.y,u.z),this.multiplyLocal(s),this.multiplyLocal(t),f&&this.multiplyLocal(f),v&&this.multiplyLocal(v),this},multiplyToMat4:function(l,u){var d=this.val,f=l.val,v=d[0],m=d[1],g=d[2],y=d[3],T=d[4],C=d[5],E=d[6],z=d[7],D=d[8],A=d[9],L=d[10],b=d[11],F=d[12],V=d[13],B=d[14],N=d[15],U=f[0],I=f[1],H=f[2],O=f[3],R=f[4],Y=f[5],G=f[6],k=f[7],W=f[8],X=f[9],j=f[10],K=f[11],$=f[12],Z=f[13],J=f[14],Q=f[15];return u.setValues(U*v+I*T+H*D+O*F,I*m+I*C+H*A+O*V,H*g+I*E+H*L+O*B,O*y+I*z+H*b+O*N,R*v+Y*T+G*D+k*F,R*m+Y*C+G*A+k*V,R*g+Y*E+G*L+k*B,R*y+Y*z+G*b+k*N,W*v+X*T+j*D+K*F,W*m+X*C+j*A+K*V,W*g+X*E+j*L+K*B,W*y+X*z+j*b+K*N,$*v+Z*T+J*D+Q*F,$*m+Z*C+J*A+Q*V,$*g+Z*E+J*L+Q*B,$*y+Z*z+J*b+Q*N)},fromRotationXYTranslation:function(l,u,d){var f=u.x,v=u.y,m=u.z,g=Math.sin(l.x),y=Math.cos(l.x),T=Math.sin(l.y),C=Math.cos(l.y),E=f,z=v,D=m,A=-g,L=0-A*T,b=0-y*T,F=A*C,V=y*C;return d||(E=C*f+T*m,z=L*f+y*v+F*m,D=b*f+g*v+V*m),this.setValues(C,L,b,0,0,y,g,0,T,F,V,0,E,z,D,1)},getMaxScaleOnAxis:function(){var l=this.val,u=l[0]*l[0]+l[1]*l[1]+l[2]*l[2],d=l[4]*l[4]+l[5]*l[5]+l[6]*l[6],f=l[8]*l[8]+l[9]*l[9]+l[10]*l[10];return Math.sqrt(Math.max(u,d,f))}}),s=new r,t=new r,n=new p,h=new p,i=new p;c.exports=r},86883:c=>{var x=function(e,o,p){return Math.min(e+o,p)};c.exports=x},50040:c=>{var x=function(e){var o=e.length;if(o===0)return 0;e.sort(function(a,r){return a-r});var p=Math.floor(o/2);return o%2===0?(e[p]+e[p-1])/2:e[p]};c.exports=x},37204:c=>{var x=function(e,o,p){return Math.max(e-o,p)};c.exports=x},65201:c=>{var x=function(e,o,p,a){p===void 0&&(p=o+1);var r=(e-o)/(p-o);return r>1?a!==void 0?(r=(a-e)/(a-p),r<0&&(r=0)):r=1:r<0&&(r=0),r};c.exports=x},15746:(c,x,e)=>{var o=e(83419),p=e(94434),a=e(29747),r=e(25836),s=1e-6,t=new Int8Array([1,2,0]),n=new Float32Array([0,0,0]),h=new r(1,0,0),i=new r(0,1,0),l=new r,u=new p,d=new o({initialize:function(v,m,g,y){this.onChangeCallback=a,this.set(v,m,g,y)},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f,this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,v,m,g,y){return y===void 0&&(y=!0),typeof f=="object"?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=v||0,this._z=m||0,this._w=g||0),y&&this.onChangeCallback(this),this},add:function(f){return this._x+=f.x,this._y+=f.y,this._z+=f.z,this._w+=f.w,this.onChangeCallback(this),this},subtract:function(f){return this._x-=f.x,this._y-=f.y,this._z-=f.z,this._w-=f.w,this.onChangeCallback(this),this},scale:function(f){return this._x*=f,this._y*=f,this._z*=f,this._w*=f,this.onChangeCallback(this),this},length:function(){var f=this.x,v=this.y,m=this.z,g=this.w;return Math.sqrt(f*f+v*v+m*m+g*g)},lengthSq:function(){var f=this.x,v=this.y,m=this.z,g=this.w;return f*f+v*v+m*m+g*g},normalize:function(){var f=this.x,v=this.y,m=this.z,g=this.w,y=f*f+v*v+m*m+g*g;return y>0&&(y=1/Math.sqrt(y),this._x=f*y,this._y=v*y,this._z=m*y,this._w=g*y),this.onChangeCallback(this),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,v){v===void 0&&(v=0);var m=this.x,g=this.y,y=this.z,T=this.w;return this.set(m+v*(f.x-m),g+v*(f.y-g),y+v*(f.z-y),T+v*(f.w-T))},rotationTo:function(f,v){var m=f.x*v.x+f.y*v.y+f.z*v.z;return m<-.999999?(l.copy(h).cross(f).length()<s&&l.copy(i).cross(f),l.normalize(),this.setAxisAngle(l,Math.PI)):m>.999999?this.set(0,0,0,1):(l.copy(f).cross(v),this._x=l.x,this._y=l.y,this._z=l.z,this._w=1+m,this.normalize())},setAxes:function(f,v,m){var g=u.val;return g[0]=v.x,g[3]=v.y,g[6]=v.z,g[1]=m.x,g[4]=m.y,g[7]=m.z,g[2]=-f.x,g[5]=-f.y,g[8]=-f.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,v){v=v*.5;var m=Math.sin(v);return this.set(m*f.x,m*f.y,m*f.z,Math.cos(v))},multiply:function(f){var v=this.x,m=this.y,g=this.z,y=this.w,T=f.x,C=f.y,E=f.z,z=f.w;return this.set(v*z+y*T+m*E-g*C,m*z+y*C+g*T-v*E,g*z+y*E+v*C-m*T,y*z-v*T-m*C-g*E)},slerp:function(f,v){var m=this.x,g=this.y,y=this.z,T=this.w,C=f.x,E=f.y,z=f.z,D=f.w,A=m*C+g*E+y*z+T*D;A<0&&(A=-A,C=-C,E=-E,z=-z,D=-D);var L=1-v,b=v;if(1-A>s){var F=Math.acos(A),V=Math.sin(F);L=Math.sin((1-v)*F)/V,b=Math.sin(v*F)/V}return this.set(L*m+b*C,L*g+b*E,L*y+b*z,L*T+b*D)},invert:function(){var f=this.x,v=this.y,m=this.z,g=this.w,y=f*f+v*v+m*m+g*g,T=y?1/y:0;return this.set(-f*T,-v*T,-m*T,g*T)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(f){f*=.5;var v=this.x,m=this.y,g=this.z,y=this.w,T=Math.sin(f),C=Math.cos(f);return this.set(v*C+y*T,m*C+g*T,g*C-m*T,y*C-v*T)},rotateY:function(f){f*=.5;var v=this.x,m=this.y,g=this.z,y=this.w,T=Math.sin(f),C=Math.cos(f);return this.set(v*C-g*T,m*C+y*T,g*C+v*T,y*C-m*T)},rotateZ:function(f){f*=.5;var v=this.x,m=this.y,g=this.z,y=this.w,T=Math.sin(f),C=Math.cos(f);return this.set(v*C+m*T,m*C-v*T,g*C+y*T,y*C-g*T)},calculateW:function(){var f=this.x,v=this.y,m=this.z;return this.w=-Math.sqrt(1-f*f-v*v-m*m),this},setFromEuler:function(f,v){var m=f.x/2,g=f.y/2,y=f.z/2,T=Math.cos(m),C=Math.cos(g),E=Math.cos(y),z=Math.sin(m),D=Math.sin(g),A=Math.sin(y);switch(f.order){case"XYZ":{this.set(z*C*E+T*D*A,T*D*E-z*C*A,T*C*A+z*D*E,T*C*E-z*D*A,v);break}case"YXZ":{this.set(z*C*E+T*D*A,T*D*E-z*C*A,T*C*A-z*D*E,T*C*E+z*D*A,v);break}case"ZXY":{this.set(z*C*E-T*D*A,T*D*E+z*C*A,T*C*A+z*D*E,T*C*E-z*D*A,v);break}case"ZYX":{this.set(z*C*E-T*D*A,T*D*E+z*C*A,T*C*A-z*D*E,T*C*E+z*D*A,v);break}case"YZX":{this.set(z*C*E+T*D*A,T*D*E+z*C*A,T*C*A-z*D*E,T*C*E-z*D*A,v);break}case"XZY":{this.set(z*C*E-T*D*A,T*D*E-z*C*A,T*C*A+z*D*E,T*C*E+z*D*A,v);break}}return this},setFromRotationMatrix:function(f){var v=f.val,m=v[0],g=v[4],y=v[8],T=v[1],C=v[5],E=v[9],z=v[2],D=v[6],A=v[10],L=m+C+A,b;return L>0?(b=.5/Math.sqrt(L+1),this.set((D-E)*b,(y-z)*b,(T-g)*b,.25/b)):m>C&&m>A?(b=2*Math.sqrt(1+m-C-A),this.set(.25*b,(g+T)/b,(y+z)/b,(D-E)/b)):C>A?(b=2*Math.sqrt(1+C-m-A),this.set((g+T)/b,.25*b,(E+D)/b,(y-z)/b)):(b=2*Math.sqrt(1+A-m-C),this.set((y+z)/b,(E+D)/b,.25*b,(T-g)/b)),this},fromMat3:function(f){var v=f.val,m=v[0]+v[4]+v[8],g;if(m>0)g=Math.sqrt(m+1),this.w=.5*g,g=.5/g,this._x=(v[7]-v[5])*g,this._y=(v[2]-v[6])*g,this._z=(v[3]-v[1])*g;else{var y=0;v[4]>v[0]&&(y=1),v[8]>v[y*3+y]&&(y=2);var T=t[y],C=t[T];g=Math.sqrt(v[y*3+y]-v[T*3+T]-v[C*3+C]+1),n[y]=.5*g,g=.5/g,n[T]=(v[T*3+y]+v[y*3+T])*g,n[C]=(v[C*3+y]+v[y*3+C])*g,this._x=n[0],this._y=n[1],this._z=n[2],this._w=(v[C*3+T]-v[T*3+C])*g}return this.onChangeCallback(this),this}});c.exports=d},43396:(c,x,e)=>{var o=e(36383),p=function(a){return a*o.RAD_TO_DEG};c.exports=p},74362:c=>{var x=function(e,o){o===void 0&&(o=1);var p=Math.random()*2*Math.PI;return e.x=Math.cos(p)*o,e.y=Math.sin(p)*o,e};c.exports=x},60706:c=>{var x=function(e,o){o===void 0&&(o=1);var p=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*o;return e.x=Math.cos(p)*r,e.y=Math.sin(p)*r,e.z=a*o,e};c.exports=x},67421:c=>{var x=function(e,o){return o===void 0&&(o=1),e.x=(Math.random()*2-1)*o,e.y=(Math.random()*2-1)*o,e.z=(Math.random()*2-1)*o,e.w=(Math.random()*2-1)*o,e};c.exports=x},36305:c=>{var x=function(e,o){var p=e.x,a=e.y;return e.x=p*Math.cos(o)-a*Math.sin(o),e.y=p*Math.sin(o)+a*Math.cos(o),e};c.exports=x},11520:c=>{var x=function(e,o,p,a){var r=Math.cos(a),s=Math.sin(a),t=e.x-o,n=e.y-p;return e.x=t*r-n*s+o,e.y=t*s+n*r+p,e};c.exports=x},1163:c=>{var x=function(e,o,p,a,r){var s=a+Math.atan2(e.y-p,e.x-o);return e.x=o+r*Math.cos(s),e.y=p+r*Math.sin(s),e};c.exports=x},70336:c=>{var x=function(e,o,p,a,r){return e.x=o+r*Math.cos(a),e.y=p+r*Math.sin(a),e};c.exports=x},72678:(c,x,e)=>{var o=e(25836),p=e(37867),a=e(15746),r=new p,s=new a,t=new o,n=function(h,i,l){return s.setAxisAngle(i,l),r.fromRotationTranslation(s,t.set(0,0,0)),h.transformMat4(r)};c.exports=n},2284:c=>{var x=function(e){return e>0?Math.ceil(e):Math.floor(e)};c.exports=x},41013:c=>{var x=function(e,o,p){o===void 0&&(o=0),p===void 0&&(p=10);var a=Math.pow(p,-o);return Math.round(e*a)/a};c.exports=x},16922:c=>{var x=function(e,o,p,a){o===void 0&&(o=1),p===void 0&&(p=1),a===void 0&&(a=1),a*=Math.PI/e;for(var r=[],s=[],t=0;t<e;t++)p-=o*a,o+=p*a,r[t]=p,s[t]=o;return{sin:s,cos:r,length:e}};c.exports=x},7602:c=>{var x=function(e,o,p){return e<=o?0:e>=p?1:(e=(e-o)/(p-o),e*e*(3-2*e))};c.exports=x},54261:c=>{var x=function(e,o,p){return e=Math.max(0,Math.min(1,(e-o)/(p-o))),e*e*e*(e*(e*6-15)+10)};c.exports=x},44408:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t){t===void 0&&(t=new o);var n=0,h=0,i=r*s;return a>0&&a<=i&&(a>r-1?(h=Math.floor(a/r),n=a-h*r):n=a),t.set(n,h)};c.exports=p},85955:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n,h,i,l){l===void 0&&(l=new o);var u=Math.sin(n),d=Math.cos(n),f=d*h,v=u*h,m=-u*i,g=d*i,y=1/(f*g+m*-v);return l.x=g*y*a+-m*y*r+(t*m-s*g)*y,l.y=f*y*r+-v*y*a+(-t*f+s*v)*y,l};c.exports=p},26099:(c,x,e)=>{var o=e(83419),p=e(43855),a=new o({initialize:function(s,t){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(t===void 0&&(t=s),this.x=s||0,this.y=t||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,s){return s===void 0&&(s=r),this.x=r,this.y=s,this},setTo:function(r,s){return this.set(r,s)},setToPolar:function(r,s){return s==null&&(s=1),this.x=Math.cos(r)*s,this.y=Math.sin(r)*s,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,s){return p(this.x,r.x,s)&&p(this.y,r.y,s)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var s=r.x-this.x,t=r.y-this.y;return Math.sqrt(s*s+t*t)},distanceSq:function(r){var s=r.x-this.x,t=r.y-this.y;return s*s+t*t},length:function(){var r=this.x,s=this.y;return Math.sqrt(r*r+s*s)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,s=this.y;return r*r+s*s},normalize:function(){var r=this.x,s=this.y,t=r*r+s*s;return t>0&&(t=1/Math.sqrt(t),this.x=r*t,this.y=s*t),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,s){s===void 0&&(s=0);var t=this.x,n=this.y;return this.x=t+s*(r.x-t),this.y=n+s*(r.y-n),this},transformMat3:function(r){var s=this.x,t=this.y,n=r.val;return this.x=n[0]*s+n[3]*t+n[6],this.y=n[1]*s+n[4]*t+n[7],this},transformMat4:function(r){var s=this.x,t=this.y,n=r.val;return this.x=n[0]*s+n[4]*t+n[12],this.y=n[1]*s+n[5]*t+n[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var s=this.length();return s&&s>r&&this.scale(r/s),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var s=Math.cos(r),t=Math.sin(r);return this.set(s*this.x-t*this.y,t*this.x+s*this.y)},project:function(r){var s=this.dot(r)/r.dot(r);return this.copy(r).scale(s)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),c.exports=a},25836:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=s||0,this.z=t||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},subVectors:function(a,r){return this.x=a.x-r.x,this.y=a.y-r.y,this.z=a.z-r.z,this},crossVectors:function(a,r){var s=a.x,t=a.y,n=a.z,h=r.x,i=r.y,l=r.z;return this.x=t*l-n*i,this.y=n*h-s*l,this.z=s*i-t*h,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,s){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=s||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,s=a.y-this.y,t=a.z-this.z||0;return Math.sqrt(r*r+s*s+t*t)},distanceSq:function(a){var r=a.x-this.x,s=a.y-this.y,t=a.z-this.z||0;return r*r+s*s+t*t},length:function(){var a=this.x,r=this.y,s=this.z;return Math.sqrt(a*a+r*r+s*s)},lengthSq:function(){var a=this.x,r=this.y,s=this.z;return a*a+r*r+s*s},normalize:function(){var a=this.x,r=this.y,s=this.z,t=a*a+r*r+s*s;return t>0&&(t=1/Math.sqrt(t),this.x=a*t,this.y=r*t,this.z=s*t),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,s=this.y,t=this.z,n=a.x,h=a.y,i=a.z;return this.x=s*i-t*h,this.y=t*n-r*i,this.z=r*h-s*n,this},lerp:function(a,r){r===void 0&&(r=0);var s=this.x,t=this.y,n=this.z;return this.x=s+r*(a.x-s),this.y=t+r*(a.y-t),this.z=n+r*(a.z-n),this},applyMatrix3:function(a){var r=this.x,s=this.y,t=this.z,n=a.val;return this.x=n[0]*r+n[3]*s+n[6]*t,this.y=n[1]*r+n[4]*s+n[7]*t,this.z=n[2]*r+n[5]*s+n[8]*t,this},applyMatrix4:function(a){var r=this.x,s=this.y,t=this.z,n=a.val,h=1/(n[3]*r+n[7]*s+n[11]*t+n[15]);return this.x=(n[0]*r+n[4]*s+n[8]*t+n[12])*h,this.y=(n[1]*r+n[5]*s+n[9]*t+n[13])*h,this.z=(n[2]*r+n[6]*s+n[10]*t+n[14])*h,this},transformMat3:function(a){var r=this.x,s=this.y,t=this.z,n=a.val;return this.x=r*n[0]+s*n[3]+t*n[6],this.y=r*n[1]+s*n[4]+t*n[7],this.z=r*n[2]+s*n[5]+t*n[8],this},transformMat4:function(a){var r=this.x,s=this.y,t=this.z,n=a.val;return this.x=n[0]*r+n[4]*s+n[8]*t+n[12],this.y=n[1]*r+n[5]*s+n[9]*t+n[13],this.z=n[2]*r+n[6]*s+n[10]*t+n[14],this},transformCoordinates:function(a){var r=this.x,s=this.y,t=this.z,n=a.val,h=r*n[0]+s*n[4]+t*n[8]+n[12],i=r*n[1]+s*n[5]+t*n[9]+n[13],l=r*n[2]+s*n[6]+t*n[10]+n[14],u=r*n[3]+s*n[7]+t*n[11]+n[15];return this.x=h/u,this.y=i/u,this.z=l/u,this},transformQuat:function(a){var r=this.x,s=this.y,t=this.z,n=a.x,h=a.y,i=a.z,l=a.w,u=l*r+h*t-i*s,d=l*s+i*r-n*t,f=l*t+n*s-h*r,v=-n*r-h*s-i*t;return this.x=u*l+v*-n+d*-i-f*-h,this.y=d*l+v*-h+f*-n-u*-i,this.z=f*l+v*-i+u*-h-d*-n,this},project:function(a){var r=this.x,s=this.y,t=this.z,n=a.val,h=n[0],i=n[1],l=n[2],u=n[3],d=n[4],f=n[5],v=n[6],m=n[7],g=n[8],y=n[9],T=n[10],C=n[11],E=n[12],z=n[13],D=n[14],A=n[15],L=1/(r*u+s*m+t*C+A);return this.x=(r*h+s*d+t*g+E)*L,this.y=(r*i+s*f+t*y+z)*L,this.z=(r*l+s*v+t*T+D)*L,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var s=a.x,t=a.y,n=a.z,h=a.w,i=this.x-s,l=h-this.y-1-t,u=this.z;return this.x=2*i/n-1,this.y=2*l/h-1,this.z=2*u-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),c.exports=p},61369:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=s||0,this.z=t||0,this.w=n||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,s,t){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=s||0,this.w=t||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,s=this.z,t=this.w;return Math.sqrt(a*a+r*r+s*s+t*t)},lengthSq:function(){var a=this.x,r=this.y,s=this.z,t=this.w;return a*a+r*r+s*s+t*t},normalize:function(){var a=this.x,r=this.y,s=this.z,t=this.w,n=a*a+r*r+s*s+t*t;return n>0&&(n=1/Math.sqrt(n),this.x=a*n,this.y=r*n,this.z=s*n,this.w=t*n),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var s=this.x,t=this.y,n=this.z,h=this.w;return this.x=s+r*(a.x-s),this.y=t+r*(a.y-t),this.z=n+r*(a.z-n),this.w=h+r*(a.w-h),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,s=a.y-this.y,t=a.z-this.z||0,n=a.w-this.w||0;return Math.sqrt(r*r+s*s+t*t+n*n)},distanceSq:function(a){var r=a.x-this.x,s=a.y-this.y,t=a.z-this.z||0,n=a.w-this.w||0;return r*r+s*s+t*t+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,s=this.y,t=this.z,n=this.w,h=a.val;return this.x=h[0]*r+h[4]*s+h[8]*t+h[12]*n,this.y=h[1]*r+h[5]*s+h[9]*t+h[13]*n,this.z=h[2]*r+h[6]*s+h[10]*t+h[14]*n,this.w=h[3]*r+h[7]*s+h[11]*t+h[15]*n,this},transformQuat:function(a){var r=this.x,s=this.y,t=this.z,n=a.x,h=a.y,i=a.z,l=a.w,u=l*r+h*t-i*s,d=l*s+i*r-n*t,f=l*t+n*s-h*r,v=-n*r-h*s-i*t;return this.x=u*l+v*-n+d*-i-f*-h,this.y=d*l+v*-h+f*-n-u*-i,this.z=f*l+v*-i+u*-h-d*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,c.exports=p},60417:c=>{var x=function(e,o,p){return Math.abs(e-o)<=p};c.exports=x},15994:c=>{var x=function(e,o,p){var a=p-o;return o+((e-o)%a+a)%a};c.exports=x},31040:c=>{var x=function(e,o,p,a){return Math.atan2(a-o,p-e)};c.exports=x},55495:c=>{var x=function(e,o){return Math.atan2(o.y-e.y,o.x-e.x)};c.exports=x},128:c=>{var x=function(e,o){return Math.atan2(o.x-e.x,o.y-e.y)};c.exports=x},41273:c=>{var x=function(e,o,p,a){return Math.atan2(p-e,a-o)};c.exports=x},1432:(c,x,e)=>{var o=e(36383),p=function(a){return a>Math.PI&&(a-=o.PI2),Math.abs(((a+o.TAU)%o.PI2-o.PI2)%o.PI2)};c.exports=p},12407:c=>{var x=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};c.exports=x},53993:(c,x,e)=>{var o=e(99472),p=function(){return o(-Math.PI,Math.PI)};c.exports=p},86564:(c,x,e)=>{var o=e(99472),p=function(){return o(-180,180)};c.exports=p},90154:(c,x,e)=>{var o=e(12407),p=function(a){return o(a+Math.PI)};c.exports=p},48736:(c,x,e)=>{var o=e(36383),p=function(a,r,s){return s===void 0&&(s=.05),a===r||(Math.abs(r-a)<=s||Math.abs(r-a)>=o.PI2-s?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=o.PI2:r-=o.PI2),r>a?a+=s:r<a&&(a-=s))),a};c.exports=p},61430:c=>{var x=function(e,o){var p=o-e;if(p===0)return 0;var a=Math.floor((p- -180)/360);return p-a*360};c.exports=x},86554:(c,x,e)=>{var o=e(15994),p=function(a){return o(a,-Math.PI,Math.PI)};c.exports=p},30954:(c,x,e)=>{var o=e(15994),p=function(a){return o(a,-180,180)};c.exports=p},25588:(c,x,e)=>{c.exports={Between:e(31040),BetweenPoints:e(55495),BetweenPointsY:e(128),BetweenY:e(41273),CounterClockwise:e(1432),Normalize:e(12407),Random:e(53993),RandomDegrees:e(86564),Reverse:e(90154),RotateTo:e(48736),ShortestBetween:e(61430),Wrap:e(86554),WrapDegrees:e(30954)}},36383:c=>{var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};c.exports=x},20339:c=>{var x=function(e,o,p,a){var r=e-p,s=o-a;return Math.sqrt(r*r+s*s)};c.exports=x},52816:c=>{var x=function(e,o){var p=e.x-o.x,a=e.y-o.y;return Math.sqrt(p*p+a*a)};c.exports=x},64559:c=>{var x=function(e,o){var p=e.x-o.x,a=e.y-o.y;return p*p+a*a};c.exports=x},82340:c=>{var x=function(e,o,p,a){return Math.max(Math.abs(e-p),Math.abs(o-a))};c.exports=x},14390:c=>{var x=function(e,o,p,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(p-e,r)+Math.pow(a-o,r))};c.exports=x},2243:c=>{var x=function(e,o,p,a){return Math.abs(e-p)+Math.abs(o-a)};c.exports=x},89774:c=>{var x=function(e,o,p,a){var r=e-p,s=o-a;return r*r+s*s};c.exports=x},50994:(c,x,e)=>{c.exports={Between:e(20339),BetweenPoints:e(52816),BetweenPointsSquared:e(64559),Chebyshev:e(82340),Power:e(14390),Snake:e(2243),Squared:e(89774)}},62640:(c,x,e)=>{var o=e(54178),p=e(41521),a=e(79980),r=e(85433),s=e(99140),t=e(48857),n=e(81596),h=e(59133),i=e(98516),l=e(35248),u=e(82500),d=e(49752);c.exports={Power0:n,Power1:h.Out,Power2:r.Out,Power3:i.Out,Power4:l.Out,Linear:n,Quad:h.Out,Cubic:r.Out,Quart:i.Out,Quint:l.Out,Sine:u.Out,Expo:t.Out,Circ:a.Out,Elastic:s.Out,Back:o.Out,Bounce:p.Out,Stepped:d,"Quad.easeIn":h.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":l.In,"Sine.easeIn":u.In,"Expo.easeIn":t.In,"Circ.easeIn":a.In,"Elastic.easeIn":s.In,"Back.easeIn":o.In,"Bounce.easeIn":p.In,"Quad.easeOut":h.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":l.Out,"Sine.easeOut":u.Out,"Expo.easeOut":t.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":s.Out,"Back.easeOut":o.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":l.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":t.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":p.InOut}},1639:c=>{var x=function(e,o){return o===void 0&&(o=1.70158),e*e*((o+1)*e-o)};c.exports=x},50099:c=>{var x=function(e,o){o===void 0&&(o=1.70158);var p=o*1.525;return(e*=2)<1?.5*(e*e*((p+1)*e-p)):.5*((e-=2)*e*((p+1)*e+p)+2)};c.exports=x},41286:c=>{var x=function(e,o){return o===void 0&&(o=1.70158),--e*e*((o+1)*e+o)+1};c.exports=x},54178:(c,x,e)=>{c.exports={In:e(1639),Out:e(41286),InOut:e(50099)}},59590:c=>{var x=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};c.exports=x},41788:c=>{var x=function(e){var o=!1;return e<.5?(e=1-e*2,o=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,o?(1-e)*.5:e*.5+.5};c.exports=x},69905:c=>{var x=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};c.exports=x},41521:(c,x,e)=>{c.exports={In:e(59590),Out:e(69905),InOut:e(41788)}},91861:c=>{var x=function(e){return 1-Math.sqrt(1-e*e)};c.exports=x},4177:c=>{var x=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};c.exports=x},57512:c=>{var x=function(e){return Math.sqrt(1- --e*e)};c.exports=x},79980:(c,x,e)=>{c.exports={In:e(91861),Out:e(57512),InOut:e(4177)}},51150:c=>{var x=function(e){return e*e*e};c.exports=x},82820:c=>{var x=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};c.exports=x},35033:c=>{var x=function(e){return--e*e*e+1};c.exports=x},85433:(c,x,e)=>{c.exports={In:e(51150),Out:e(35033),InOut:e(82820)}},69965:c=>{var x=function(e,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),e===0)return 0;if(e===1)return 1;var a=p/4;return o<1?o=1:a=p*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/p))};c.exports=x},50665:c=>{var x=function(e,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),e===0)return 0;if(e===1)return 1;var a=p/4;return o<1?o=1:a=p*Math.asin(1/o)/(2*Math.PI),(e*=2)<1?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/p)):o*Math.pow(2,-10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/p)*.5+1};c.exports=x},7744:c=>{var x=function(e,o,p){if(o===void 0&&(o=.1),p===void 0&&(p=.1),e===0)return 0;if(e===1)return 1;var a=p/4;return o<1?o=1:a=p*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*e)*Math.sin((e-a)*(2*Math.PI)/p)+1};c.exports=x},99140:(c,x,e)=>{c.exports={In:e(69965),Out:e(7744),InOut:e(50665)}},24590:c=>{var x=function(e){return Math.pow(2,10*(e-1))-.001};c.exports=x},87844:c=>{var x=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};c.exports=x},89433:c=>{var x=function(e){return 1-Math.pow(2,-10*e)};c.exports=x},48857:(c,x,e)=>{c.exports={In:e(24590),Out:e(89433),InOut:e(87844)}},48820:(c,x,e)=>{c.exports={Back:e(54178),Bounce:e(41521),Circular:e(79980),Cubic:e(85433),Elastic:e(99140),Expo:e(48857),Linear:e(81596),Quadratic:e(59133),Quartic:e(98516),Quintic:e(35248),Sine:e(82500),Stepped:e(49752)}},7147:c=>{var x=function(e){return e};c.exports=x},81596:(c,x,e)=>{c.exports=e(7147)},34826:c=>{var x=function(e){return e*e};c.exports=x},20544:c=>{var x=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};c.exports=x},92029:c=>{var x=function(e){return e*(2-e)};c.exports=x},59133:(c,x,e)=>{c.exports={In:e(34826),Out:e(92029),InOut:e(20544)}},64413:c=>{var x=function(e){return e*e*e*e};c.exports=x},78137:c=>{var x=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};c.exports=x},45840:c=>{var x=function(e){return 1- --e*e*e*e};c.exports=x},98516:(c,x,e)=>{c.exports={In:e(64413),Out:e(45840),InOut:e(78137)}},87745:c=>{var x=function(e){return e*e*e*e*e};c.exports=x},16509:c=>{var x=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};c.exports=x},17868:c=>{var x=function(e){return--e*e*e*e*e+1};c.exports=x},35248:(c,x,e)=>{c.exports={In:e(87745),Out:e(17868),InOut:e(16509)}},80461:c=>{var x=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};c.exports=x},34025:c=>{var x=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};c.exports=x},52768:c=>{var x=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};c.exports=x},82500:(c,x,e)=>{c.exports={In:e(80461),Out:e(52768),InOut:e(34025)}},72251:c=>{var x=function(e,o){return o===void 0&&(o=1),e<=0?0:e>=1?1:((o*e|0)+1)*(1/o)};c.exports=x},49752:(c,x,e)=>{c.exports=e(72251)},75698:c=>{var x=function(e,o){return o===void 0&&(o=1e-4),Math.ceil(e-o)};c.exports=x},43855:c=>{var x=function(e,o,p){return p===void 0&&(p=1e-4),Math.abs(e-o)<p};c.exports=x},25777:c=>{var x=function(e,o){return o===void 0&&(o=1e-4),Math.floor(e+o)};c.exports=x},5470:c=>{var x=function(e,o,p){return p===void 0&&(p=1e-4),e>o-p};c.exports=x},94977:c=>{var x=function(e,o,p){return p===void 0&&(p=1e-4),e<o+p};c.exports=x},48379:(c,x,e)=>{c.exports={Ceil:e(75698),Equal:e(43855),Floor:e(25777),GreaterThan:e(5470),LessThan:e(94977)}},75508:(c,x,e)=>{var o=e(36383),p=e(79291),a={Angle:e(25588),Distance:e(50994),Easing:e(48820),Fuzzy:e(48379),Interpolation:e(38289),Pow2:e(49001),Snap:e(73697),RandomDataGenerator:e(28453),Average:e(53307),Bernstein:e(85710),Between:e(30976),CatmullRom:e(87842),CeilTo:e(26302),Clamp:e(45319),DegToRad:e(39506),Difference:e(61241),Euler:e(38857),Factorial:e(6411),FloatBetween:e(99472),FloorTo:e(77623),FromPercent:e(62945),GetSpeed:e(38265),IsEven:e(78702),IsEvenStrict:e(94883),Linear:e(28915),LinearXY:e(94908),MaxAdd:e(86883),Median:e(50040),MinSub:e(37204),Percent:e(65201),RadToDeg:e(43396),RandomXY:e(74362),RandomXYZ:e(60706),RandomXYZW:e(67421),Rotate:e(36305),RotateAround:e(11520),RotateAroundDistance:e(1163),RotateTo:e(70336),RoundAwayFromZero:e(2284),RoundTo:e(41013),SinCosTableGenerator:e(16922),SmootherStep:e(54261),SmoothStep:e(7602),ToXY:e(44408),TransformXY:e(85955),Within:e(60417),Wrap:e(15994),Vector2:e(26099),Vector3:e(25836),Vector4:e(61369),Matrix3:e(94434),Matrix4:e(37867),Quaternion:e(15746),RotateVec3:e(72678)};a=p(!1,a,o),c.exports=a},89318:(c,x,e)=>{var o=e(85710),p=function(a,r){for(var s=0,t=a.length-1,n=0;n<=t;n++)s+=Math.pow(1-r,t-n)*Math.pow(r,n)*a[n]*o(t,n);return s};c.exports=p},77259:(c,x,e)=>{var o=e(87842),p=function(a,r){var s=a.length-1,t=s*r,n=Math.floor(t);return a[0]===a[s]?(r<0&&(n=Math.floor(t=s*(1+r))),o(t-n,a[(n-1+s)%s],a[n],a[(n+1)%s],a[(n+2)%s])):r<0?a[0]-(o(-t,a[0],a[0],a[1],a[1])-a[0]):r>1?a[s]-(o(t-s,a[s],a[s],a[s-1],a[s-1])-a[s]):o(t-n,a[n?n-1:0],a[n],a[s<n+1?s:n+1],a[s<n+2?s:n+2])};c.exports=p},36316:c=>{function x(r,s){var t=1-r;return t*t*t*s}function e(r,s){var t=1-r;return 3*t*t*r*s}function o(r,s){return 3*(1-r)*r*r*s}function p(r,s){return r*r*r*s}var a=function(r,s,t,n,h){return x(r,s)+e(r,t)+o(r,n)+p(r,h)};c.exports=a},28392:(c,x,e)=>{var o=e(28915),p=function(a,r){var s=a.length-1,t=s*r,n=Math.floor(t);return r<0?o(a[0],a[1],t):r>1?o(a[s],a[s-1],s-t):o(a[n],a[n+1>s?s:n+1],t-n)};c.exports=p},32112:c=>{function x(a,r){var s=1-a;return s*s*r}function e(a,r){return 2*(1-a)*a*r}function o(a,r){return a*a*r}var p=function(a,r,s,t){return x(a,r)+e(a,s)+o(a,t)};c.exports=p},47235:(c,x,e)=>{var o=e(7602),p=function(a,r,s){return r+(s-r)*o(a,0,1)};c.exports=p},50178:(c,x,e)=>{var o=e(54261),p=function(a,r,s){return r+(s-r)*o(a,0,1)};c.exports=p},38289:(c,x,e)=>{c.exports={Bezier:e(89318),CatmullRom:e(77259),CubicBezier:e(36316),Linear:e(28392),QuadraticBezier:e(32112),SmoothStep:e(47235),SmootherStep:e(50178)}},98439:c=>{var x=function(e){var o=Math.log(e)/.6931471805599453;return 1<<Math.ceil(o)};c.exports=x},50030:c=>{var x=function(e,o){return e>0&&(e&e-1)===0&&o>0&&(o&o-1)===0};c.exports=x},81230:c=>{var x=function(e){return e>0&&(e&e-1)===0};c.exports=x},49001:(c,x,e)=>{c.exports={GetNext:e(98439),IsSize:e(50030),IsValue:e(81230)}},28453:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,s=this.n;a=a.toString();for(var t=0;t<a.length;t++)s+=a.charCodeAt(t),r=.02519603282416938*s,s=r>>>0,r-=s,r*=s,s=r>>>0,r-=s,s+=r*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var s=a[r];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,s=r;s>0;s--){var t=Math.floor(this.frac()*(s+1)),n=a[t];a[t]=a[s],a[s]=n}return a}});c.exports=p},63448:c=>{var x=function(e,o,p,a){return p===void 0&&(p=0),o===0?e:(e-=p,e=o*Math.ceil(e/o),a?(p+e)/o:p+e)};c.exports=x},56583:c=>{var x=function(e,o,p,a){return p===void 0&&(p=0),o===0?e:(e-=p,e=o*Math.floor(e/o),a?(p+e)/o:p+e)};c.exports=x},77720:c=>{var x=function(e,o,p,a){return p===void 0&&(p=0),o===0?e:(e-=p,e=o*Math.round(e/o),a?(p+e)/o:p+e)};c.exports=x},73697:(c,x,e)=>{c.exports={Ceil:e(63448),Floor:e(56583),To:e(77720)}},85454:(c,x,e)=>{e(63595);var o=e(8054),p=e(79291),a={Actions:e(61061),Animations:e(60421),BlendModes:e(10312),Cache:e(83388),Cameras:e(26638),Core:e(42857),Class:e(83419),Create:e(15822),Curves:e(25410),Data:e(44965),Display:e(27460),DOM:e(84902),Events:e(93055),FX:e(66064),Game:e(50127),GameObjects:e(77856),Geom:e(55738),Input:e(14350),Loader:e(57777),Math:e(75508),Physics:e(44563),Plugins:e(18922),Renderer:e(36909),Scale:e(93364),ScaleModes:e(29795),Scene:e(97482),Scenes:e(62194),Structs:e(41392),Textures:e(27458),Tilemaps:e(62501),Time:e(90291),Tweens:e(43066),Utils:e(91799)};a.Sound=e(23717),a=p(!1,a,o),c.exports=a,e.g.Phaser=a},71289:(c,x,e)=>{var o=e(83419),p=e(92209),a=e(88571),r=new o({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(t,n,h,i,l){a.call(this,t,n,h,i,l),this.body=null}});c.exports=r},86689:(c,x,e)=>{var o=e(83419),p=e(39506),a=e(20339),r=e(89774),s=e(66022),t=e(95540),n=e(46975),h=e(72441),i=e(47956),l=e(37277),u=e(44594),d=e(26099),f=e(82248),v=new o({initialize:function(g){this.scene=g,this.systems=g.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new s(this.world));var m=this.systems.events;t(this.config,"customUpdate",!1)||m.on(u.UPDATE,this.world.update,this.world),m.on(u.POST_UPDATE,this.world.postUpdate,this.world),m.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var m=this.systems.game.config.physics,g=this.systems.settings.physics,y=n(t(g,"arcade",{}),t(m,"arcade",{}));return y},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(m,g,y,T,C){return y===void 0&&(y=null),T===void 0&&(T=null),C===void 0&&(C=y),this.world.collideObjects(m,g,y,T,C,!0)},collide:function(m,g,y,T,C){return y===void 0&&(y=null),T===void 0&&(T=null),C===void 0&&(C=y),this.world.collideObjects(m,g,y,T,C,!1)},collideTiles:function(m,g,y,T,C){return this.world.collideTiles(m,g,y,T,C)},overlapTiles:function(m,g,y,T,C){return this.world.overlapTiles(m,g,y,T,C)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(m,g,y,T,C,E){T===void 0&&(T=60);var z=Math.atan2(y-m.y,g-m.x);return m.body.acceleration.setToPolar(z,T),C!==void 0&&E!==void 0&&m.body.maxVelocity.set(C,E),z},accelerateToObject:function(m,g,y,T,C){return this.accelerateTo(m,g.x,g.y,y,T,C)},closest:function(m,g){g||(g=this.world.bodies.entries);for(var y=Number.MAX_VALUE,T=null,C=m.x,E=m.y,z=g.length,D=0;D<z;D++){var A=g[D],L=A.body||A;if(!(m===A||m===L||m===L.gameObject||m===L.center)){var b=r(C,E,L.center.x,L.center.y);b<y&&(T=A,y=b)}}return T},furthest:function(m,g){g||(g=this.world.bodies.entries);for(var y=-1,T=null,C=m.x,E=m.y,z=g.length,D=0;D<z;D++){var A=g[D],L=A.body||A;if(!(m===A||m===L||m===L.gameObject||m===L.center)){var b=r(C,E,L.center.x,L.center.y);b>y&&(T=A,y=b)}}return T},moveTo:function(m,g,y,T,C){T===void 0&&(T=60),C===void 0&&(C=0);var E=Math.atan2(y-m.y,g-m.x);return C>0&&(T=a(m.x,m.y,g,y)/(C/1e3)),m.body.velocity.setToPolar(E,T),E},moveToObject:function(m,g,y,T){return this.moveTo(m,g.x,g.y,y,T)},velocityFromAngle:function(m,g,y){return g===void 0&&(g=60),y===void 0&&(y=new d),y.setToPolar(p(m),g)},velocityFromRotation:function(m,g,y){return g===void 0&&(g=60),y===void 0&&(y=new d),y.setToPolar(m,g)},overlapRect:function(m,g,y,T,C,E){return i(this.world,m,g,y,T,C,E)},overlapCirc:function(m,g,y,T,C){return h(this.world,m,g,y,T,C)},shutdown:function(){if(this.world){var m=this.systems.events;m.off(u.UPDATE,this.world.update,this.world),m.off(u.POST_UPDATE,this.world.postUpdate,this.world),m.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});l.register("ArcadePhysics",v,"arcadePhysics"),c.exports=v},13759:(c,x,e)=>{var o=e(83419),p=e(92209),a=e(68287),r=new o({Extends:a,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(t,n,h,i,l){a.call(this,t,n,h,i,l),this.body=null}});c.exports=r},37742:(c,x,e)=>{var o=e(83419),p=e(78389),a=e(37747),r=e(63012),s=e(43396),t=e(87841),n=e(37303),h=e(95829),i=e(26099),l=new o({Mixins:[p],initialize:function(d,f){var v=64,m=64,g={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},y=f!==void 0;y&&f.displayWidth&&(v=f.displayWidth,m=f.displayHeight),y||(f=g),this.world=d,this.gameObject=y?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=v,this.height=m,this.sourceWidth=v,this.sourceHeight=m,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(m/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new t,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,d=this.transform;if(u.parentContainer){var f=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=f.tx,d.y=f.ty,d.rotation=s(f.rotation),d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY}else d.x=u.x,d.y=u.y,d.rotation=u.angle,d.scaleX=u.scaleX,d.scaleY=u.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY;var v=!1;if(this.syncBounds){var m=u.getBounds(this._bounds);this.width=m.width,this.height=m.height,v=!0}else{var g=Math.abs(d.scaleX),y=Math.abs(d.scaleY);(this._sx!==g||this._sy!==y)&&(this.width=this.sourceWidth*g,this.height=this.sourceHeight*y,this._sx=g,this._sy=y,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var d=this.wasTouching,f=this.touching,v=this.blocked;u?h(!0,d):(d.none=f.none,d.up=f.up,d.down=f.down,d.left=f.left,d.right=f.right),h(!0,f),h(!0,v),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,d){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var f=this.position;this.prev.x=f.x,this.prev.y=f.y,this.prevFrame.x=f.x,this.prevFrame.y=f.y}u&&this.update(d)},update:function(u){var d=this.prev,f=this.position,v=this.velocity;if(d.set(f.x,f.y),!this.moves){this._dx=f.x-d.x,this._dy=f.y-d.y;return}if(this.directControl){var m=this.autoFrame;v.set((f.x-m.x)/u,(f.y-m.y)/u),this.world.updateMotion(this,u),this._dx=f.x-m.x,this._dy=f.y-m.y}else this.world.updateMotion(this,u),this.newVelocity.set(v.x*u,v.y*u),f.add(this.newVelocity),this._dx=f.x-d.x,this._dy=f.y-d.y;var g=v.x,y=v.y;if(this.updateCenter(),this.angle=Math.atan2(y,g),this.speed=Math.sqrt(g*g+y*y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var T=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,T.up,T.down,T.left,T.right)}},postUpdate:function(){var u=this.position,d=u.x-this.prevFrame.x,f=u.y-this.prevFrame.y,v=this.gameObject;if(this.moves){var m=this.deltaMax.x,g=this.deltaMax.y;m!==0&&d!==0&&(d<0&&d<-m?d=-m:d>0&&d>m&&(d=m)),g!==0&&f!==0&&(f<0&&f<-g?f=-g:f>0&&f>g&&(f=g)),v&&(v.x+=d,v.y+=f)}d<0?this.facing=a.FACING_LEFT:d>0&&(this.facing=a.FACING_RIGHT),f<0?this.facing=a.FACING_UP:f>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&v&&(v.angle+=this.deltaZ()),this._tx=d,this._ty=f,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,d=this.velocity,f=this.blocked,v=this.customBoundsRectangle,m=this.world.checkCollision,g=this.worldBounce?-this.worldBounce.x:-this.bounce.x,y=this.worldBounce?-this.worldBounce.y:-this.bounce.y,T=!1;return u.x<v.x&&m.left?(u.x=v.x,d.x*=g,f.left=!0,T=!0):this.right>v.right&&m.right&&(u.x=v.right-this.width,d.x*=g,f.right=!0,T=!0),u.y<v.y&&m.up?(u.y=v.y,d.y*=y,f.up=!0,T=!0):this.bottom>v.bottom&&m.down&&(u.y=v.bottom-this.height,d.y*=y,f.down=!0,T=!0),T&&(this.blocked.none=!1,this.updateCenter()),T},setOffset:function(u,d){return d===void 0&&(d=u),this.offset.set(u,d),this},setGameObject:function(u,d){return d===void 0&&(d=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=u,u.body&&(u.body=this),this.setSize(),this.world.add(this),this.enable=d,this},setSize:function(u,d,f){f===void 0&&(f=!0);var v=this.gameObject;if(v&&(!u&&v.frame&&(u=v.frame.realWidth),!d&&v.frame&&(d=v.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&v&&v.getCenter){var m=(v.width-u)/2,g=(v.height-d)/2;this.offset.set(m,g)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,d,f){return d===void 0&&(d=this.offset.x),f===void 0&&(f=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,f),this.updateCenter()):this.isCircle=!1,this},reset:function(u,d){this.stop();var f=this.gameObject;f&&(f.setPosition(u,d),this.rotation=f.angle,this.preRotation=f.angle);var v=this.position;f&&f.getTopLeft?f.getTopLeft(v):v.set(u,d),this.prev.copy(v),this.prevFrame.copy(v),this.autoFrame.copy(v),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,d){if(!this.isCircle)return n(this,u,d);if(this.radius>0&&u>=this.left&&u<=this.right&&d>=this.top&&d<=this.bottom){var f=(this.center.x-u)*(this.center.x-u),v=(this.center.y-d)*(this.center.y-d);return f+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var d=this.position,f=d.x+this.halfWidth,v=d.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(f,v,this.width/2):(this.checkCollision.up&&u.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&u.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&u.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&u.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(f,v,f+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,d,f,v){u===void 0&&(u=!0),this.collideWorldBounds=u;var m=d!==void 0,g=f!==void 0;return(m||g)&&(this.worldBounce||(this.worldBounce=new i),m&&(this.worldBounce.x=d),g&&(this.worldBounce.y=f)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(u,d){return this.velocity.set(u,d),u=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(u*u+d*d),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,d){return this.maxVelocity.set(u,d),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,d){return this.slideFactor.set(u,d),this},setBounce:function(u,d){return this.bounce.set(u,d),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,d){return this.acceleration.set(u,d),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,d){return this.drag.set(u,d),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,d){return this.gravity.set(u,d),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,d){return this.friction.set(u,d),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,d,f,v){this.x+=u,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var m=this.blocked;f&&(m.left=!0,m.none=!1),v&&(m.right=!0,m.none=!1)},processY:function(u,d,f,v){this.y+=u,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var m=this.blocked;f&&(m.up=!0,m.none=!1),v&&(m.down=!0,m.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=l},79342:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t,n,h,i,l){this.world=r,this.name="",this.active=!0,this.overlapOnly=s,this.object1=t,this.object2=n,this.collideCallback=h,this.processCallback=i,this.callbackContext=l},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});c.exports=p},66022:(c,x,e)=>{var o=e(71289),p=e(13759),a=e(37742),r=e(83419),s=e(37747),t=e(60758),n=e(72624),h=e(71464),i=new r({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(l,u,d,f,v){return this.world.addCollider(l,u,d,f,v)},overlap:function(l,u,d,f,v){return this.world.addOverlap(l,u,d,f,v)},existing:function(l,u){var d=u?s.STATIC_BODY:s.DYNAMIC_BODY;return this.world.enableBody(l,d),l},staticImage:function(l,u,d,f){var v=new o(this.scene,l,u,d,f);return this.sys.displayList.add(v),this.world.enableBody(v,s.STATIC_BODY),v},image:function(l,u,d,f){var v=new o(this.scene,l,u,d,f);return this.sys.displayList.add(v),this.world.enableBody(v,s.DYNAMIC_BODY),v},staticSprite:function(l,u,d,f){var v=new p(this.scene,l,u,d,f);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,s.STATIC_BODY),v},sprite:function(l,u,d,f){var v=new p(this.scene,l,u,d,f);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,s.DYNAMIC_BODY),v},staticGroup:function(l,u){return this.sys.updateList.add(new h(this.world,this.world.scene,l,u))},group:function(l,u){return this.sys.updateList.add(new t(this.world,this.world.scene,l,u))},body:function(l,u,d,f){var v=new a(this.world);return v.position.set(l,u),d&&f&&v.setSize(d,f),this.world.add(v,s.DYNAMIC_BODY),v},staticBody:function(l,u,d,f){var v=new n(this.world);return v.position.set(l,u),d&&f&&v.setSize(d,f),this.world.add(v,s.STATIC_BODY),v},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=i},79599:c=>{var x=function(e){var o=0;if(!Array.isArray(e))o=e;else for(var p=0;p<e.length;p++)o|=e[p];return o};c.exports=x},64897:(c,x,e)=>{var o=e(37747),p=function(a,r,s,t){var n=0,h=a.deltaAbsX()+r.deltaAbsX()+t;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(n=a.right-r.x,n>h&&!s||a.checkCollision.right===!1||r.checkCollision.left===!1?n=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===o.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(n=a.x-r.width-r.x,-n>h&&!s||a.checkCollision.left===!1||r.checkCollision.right===!1?n=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===o.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=n,r.overlapX=n,n};c.exports=p},45170:(c,x,e)=>{var o=e(37747),p=function(a,r,s,t){var n=0,h=a.deltaAbsY()+r.deltaAbsY()+t;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(n=a.bottom-r.y,n>h&&!s||a.checkCollision.down===!1||r.checkCollision.up===!1?n=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===o.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(n=a.y-r.bottom,-n>h&&!s||a.checkCollision.up===!1||r.checkCollision.down===!1?n=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===o.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===o.STATIC_BODY&&!s&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=n,r.overlapY=n,n};c.exports=p},60758:(c,x,e)=>{var o=e(13759),p=e(83419),a=e(78389),r=e(37747),s=e(95540),t=e(26479),n=e(41212),h=new p({Extends:t,Mixins:[a],initialize:function(l,u,d,f){if(!d&&!f)f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){var v=this;d.forEach(function(m){m.internalCreateCallback=v.createCallbackHandler,m.internalRemoveCallback=v.removeCallbackHandler,m.classType=s(m,"classType",o)}),f=null}else f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=l,f&&(f.classType=s(f,"classType",o)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:s(f,"collideWorldBounds",!1),setBoundsRectangle:s(f,"customBoundsRectangle",null),setAccelerationX:s(f,"accelerationX",0),setAccelerationY:s(f,"accelerationY",0),setAllowDrag:s(f,"allowDrag",!0),setAllowGravity:s(f,"allowGravity",!0),setAllowRotation:s(f,"allowRotation",!0),setDamping:s(f,"useDamping",!1),setBounceX:s(f,"bounceX",0),setBounceY:s(f,"bounceY",0),setDragX:s(f,"dragX",0),setDragY:s(f,"dragY",0),setEnable:s(f,"enable",!0),setGravityX:s(f,"gravityX",0),setGravityY:s(f,"gravityY",0),setFrictionX:s(f,"frictionX",0),setFrictionY:s(f,"frictionY",0),setMaxSpeed:s(f,"maxSpeed",-1),setMaxVelocityX:s(f,"maxVelocityX",1e4),setMaxVelocityY:s(f,"maxVelocityY",1e4),setVelocityX:s(f,"velocityX",0),setVelocityY:s(f,"velocityY",0),setAngularVelocity:s(f,"angularVelocity",0),setAngularAcceleration:s(f,"angularAcceleration",0),setAngularDrag:s(f,"angularDrag",0),setMass:s(f,"mass",1),setImmovable:s(f,"immovable",!1)},t.call(this,u,d,f),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var l=i.body;for(var u in this.defaults)l[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,l,u){u===void 0&&(u=0);for(var d=this.getChildren(),f=0;f<d.length;f++)d[f].body.velocity.set(i+f*u,l+f*u);return this},setVelocityX:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.x=i+d*l;return this},setVelocityY:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.y=i+d*l;return this}});c.exports=h},3017:c=>{var x,e,o,p,a,r,s,t,n,h,i,l,u,d,f,v,m,g=function(D,A,L){x=D,e=A;var b=x.velocity.x,F=e.velocity.x;return o=x.pushable,n=x._dx<0,h=x._dx>0,i=x._dx===0,f=Math.abs(x.right-e.x)<=Math.abs(e.right-x.x),s=F-b*x.bounce.x,p=e.pushable,l=e._dx<0,u=e._dx>0,d=e._dx===0,v=!f,t=b-F*e.bounce.x,m=Math.abs(L),y()},y=function(){return h&&f&&e.blocked.right?(x.processX(-m,s,!1,!0),1):n&&v&&e.blocked.left?(x.processX(m,s,!0),1):u&&v&&x.blocked.right?(e.processX(-m,t,!1,!0),2):l&&f&&x.blocked.left?(e.processX(m,t,!0),2):0},T=function(){var D=x.velocity.x,A=e.velocity.x,L=Math.sqrt(A*A*e.mass/x.mass)*(A>0?1:-1),b=Math.sqrt(D*D*x.mass/e.mass)*(D>0?1:-1),F=(L+b)*.5;return L-=F,b-=F,a=F+L*x.bounce.x,r=F+b*e.bounce.x,n&&v?C(0):l&&f?C(1):h&&f?C(2):u&&v?C(3):!1},C=function(D){if(o&&p)m*=.5,D===0||D===3?(x.processX(m,a),e.processX(-m,r)):(x.processX(-m,a),e.processX(m,r));else if(o&&!p)D===0||D===3?x.processX(m,s,!0):x.processX(-m,s,!1,!0);else if(!o&&p)D===0||D===3?e.processX(-m,t,!1,!0):e.processX(m,t,!0);else{var A=m*.5;D===0?d?(x.processX(m,0,!0),e.processX(0,null,!1,!0)):u?(x.processX(A,0,!0),e.processX(-A,0,!1,!0)):(x.processX(A,e.velocity.x,!0),e.processX(-A,null,!1,!0)):D===1?i?(x.processX(0,null,!1,!0),e.processX(m,0,!0)):h?(x.processX(-A,0,!1,!0),e.processX(A,0,!0)):(x.processX(-A,null,!1,!0),e.processX(A,x.velocity.x,!0)):D===2?d?(x.processX(-m,0,!1,!0),e.processX(0,null,!0)):l?(x.processX(-A,0,!1,!0),e.processX(A,0,!0)):(x.processX(-A,e.velocity.x,!1,!0),e.processX(A,null,!0)):D===3&&(i?(x.processX(0,null,!0),e.processX(-m,0,!1,!0)):n?(x.processX(A,0,!0),e.processX(-A,0,!1,!0)):(x.processX(A,e.velocity.y,!0),e.processX(-A,null,!1,!0)))}return!0},E=function(D){if(D===1?e.velocity.x=0:f?e.processX(m,t,!0):e.processX(-m,t,!1,!0),x.moves){var A=x.directControl?x.y-x.autoFrame.y:x.y-x.prev.y;e.y+=A*x.friction.y,e._dy=e.y-e.prev.y}},z=function(D){if(D===2?x.velocity.x=0:v?x.processX(m,s,!0):x.processX(-m,s,!1,!0),e.moves){var A=e.directControl?e.y-e.autoFrame.y:e.y-e.prev.y;x.y+=A*e.friction.y,x._dy=x.y-x.prev.y}};c.exports={BlockCheck:y,Check:T,Set:g,Run:C,RunImmovableBody1:E,RunImmovableBody2:z}},47962:c=>{var x,e,o,p,a,r,s,t,n,h,i,l,u,d,f,v,m,g=function(D,A,L){x=D,e=A;var b=x.velocity.y,F=e.velocity.y;return o=x.pushable,n=x._dy<0,h=x._dy>0,i=x._dy===0,f=Math.abs(x.bottom-e.y)<=Math.abs(e.bottom-x.y),s=F-b*x.bounce.y,p=e.pushable,l=e._dy<0,u=e._dy>0,d=e._dy===0,v=!f,t=b-F*e.bounce.y,m=Math.abs(L),y()},y=function(){return h&&f&&e.blocked.down?(x.processY(-m,s,!1,!0),1):n&&v&&e.blocked.up?(x.processY(m,s,!0),1):u&&v&&x.blocked.down?(e.processY(-m,t,!1,!0),2):l&&f&&x.blocked.up?(e.processY(m,t,!0),2):0},T=function(){var D=x.velocity.y,A=e.velocity.y,L=Math.sqrt(A*A*e.mass/x.mass)*(A>0?1:-1),b=Math.sqrt(D*D*x.mass/e.mass)*(D>0?1:-1),F=(L+b)*.5;return L-=F,b-=F,a=F+L*x.bounce.y,r=F+b*e.bounce.y,n&&v?C(0):l&&f?C(1):h&&f?C(2):u&&v?C(3):!1},C=function(D){if(o&&p)m*=.5,D===0||D===3?(x.processY(m,a),e.processY(-m,r)):(x.processY(-m,a),e.processY(m,r));else if(o&&!p)D===0||D===3?x.processY(m,s,!0):x.processY(-m,s,!1,!0);else if(!o&&p)D===0||D===3?e.processY(-m,t,!1,!0):e.processY(m,t,!0);else{var A=m*.5;D===0?d?(x.processY(m,0,!0),e.processY(0,null,!1,!0)):u?(x.processY(A,0,!0),e.processY(-A,0,!1,!0)):(x.processY(A,e.velocity.y,!0),e.processY(-A,null,!1,!0)):D===1?i?(x.processY(0,null,!1,!0),e.processY(m,0,!0)):h?(x.processY(-A,0,!1,!0),e.processY(A,0,!0)):(x.processY(-A,null,!1,!0),e.processY(A,x.velocity.y,!0)):D===2?d?(x.processY(-m,0,!1,!0),e.processY(0,null,!0)):l?(x.processY(-A,0,!1,!0),e.processY(A,0,!0)):(x.processY(-A,e.velocity.y,!1,!0),e.processY(A,null,!0)):D===3&&(i?(x.processY(0,null,!0),e.processY(-m,0,!1,!0)):n?(x.processY(A,0,!0),e.processY(-A,0,!1,!0)):(x.processY(A,e.velocity.y,!0),e.processY(-A,null,!1,!0)))}return!0},E=function(D){if(D===1?e.velocity.y=0:f?e.processY(m,t,!0):e.processY(-m,t,!1,!0),x.moves){var A=x.directControl?x.x-x.autoFrame.x:x.x-x.prev.x;e.x+=A*x.friction.x,e._dx=e.x-e.prev.x}},z=function(D){if(D===2?x.velocity.y=0:v?x.processY(m,s,!0):x.processY(-m,s,!1,!0),e.moves){var A=e.directControl?e.x-e.autoFrame.x:e.x-e.prev.x;x.x+=A*e.friction.x,x._dx=x.x-x.prev.x}};c.exports={BlockCheck:y,Check:T,Set:g,Run:C,RunImmovableBody1:E,RunImmovableBody2:z}},14087:(c,x,e)=>{var o=e(64897),p=e(3017),a=function(r,s,t,n,h){h===void 0&&(h=o(r,s,t,n));var i=r.immovable,l=s.immovable;if(t||h===0||i&&l||r.customSeparateX||s.customSeparateX)return h!==0||r.embedded&&s.embedded;var u=p.Set(r,s,h);return!i&&!l?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):l&&p.RunImmovableBody2(u),!0)};c.exports=a},89936:(c,x,e)=>{var o=e(45170),p=e(47962),a=function(r,s,t,n,h){h===void 0&&(h=o(r,s,t,n));var i=r.immovable,l=s.immovable;if(t||h===0||i&&l||r.customSeparateY||s.customSeparateY)return h!==0||r.embedded&&s.embedded;var u=p.Set(r,s,h);return!i&&!l?u>0?!0:p.Check():(i?p.RunImmovableBody1(u):l&&p.RunImmovableBody2(u),!0)};c.exports=a},95829:c=>{var x=function(e,o){return o===void 0&&(o={}),o.none=e,o.up=!1,o.down=!1,o.left=!1,o.right=!1,e||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};c.exports=x},72624:(c,x,e)=>{var o=e(87902),p=e(83419),a=e(78389),r=e(37747),s=e(37303),t=e(95829),n=e(26099),h=new p({Mixins:[a],initialize:function(l,u){var d=64,f=64,v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},m=u!==void 0;m&&u.displayWidth&&(d=u.displayWidth,f=u.displayHeight),m||(u=v),this.world=l,this.gameObject=m?u:void 0,this.isBody=!0,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(u.x-d*u.originX,u.y-f*u.originY),this.width=d,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=t(!1),this.touching=t(!0),this.wasTouching=t(!0),this.blocked=t(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,l){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,l){return l===void 0&&(l=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,l,u){u===void 0&&(u=!0);var d=this.gameObject;if(d&&d.frame&&(i||(i=d.frame.realWidth),l||(l=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=l,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(l/2),u&&d&&d.getCenter){var f=d.displayWidth/2,v=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,l,u){return l===void 0&&(l=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,l){var u=this.gameObject;i===void 0&&(i=u.x),l===void 0&&(l=u.y),this.world.staticTree.remove(this),u.setPosition(i,l),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,l){return this.isCircle?o(this,i,l):s(this,i,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var l=this.position,u=l.x+this.halfWidth,d=l.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,d,this.width/2):i.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});c.exports=h},71464:(c,x,e)=>{var o=e(13759),p=e(83419),a=e(78389),r=e(37747),s=e(95540),t=e(26479),n=e(41212),h=new p({Extends:t,Mixins:[a],initialize:function(l,u,d,f){!d&&!f?f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:n(d)?(f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler,f.createMultipleCallback=this.createMultipleCallbackHandler,f.classType=s(f,"classType",o)):Array.isArray(d)&&n(d[0])?(f=d,d=null,f.forEach(function(v){v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=s(v,"classType",o)})):f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=l,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,t.call(this,u,d,f),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,l=0;l<i.length;l++)i[l].body.reset();return this}});c.exports=h},82248:(c,x,e)=>{var o=e(55495),p=e(37742),a=e(45319),r=e(83419),s=e(79342),t=e(37747),n=e(20339),h=e(52816),i=e(50792),l=e(63012),u=e(43855),d=e(5470),f=e(94977),v=e(64897),m=e(45170),g=e(96523),y=e(35154),T=e(36383),C=e(25774),E=e(96602),z=e(87841),D=e(59542),A=e(40012),L=e(14087),b=e(89936),F=e(35072),V=e(72624),B=e(2483),N=e(61340),U=e(26099),I=e(15994),H=new r({Extends:i,initialize:function(R,Y){i.call(this),this.scene=R,this.bodies=new F,this.staticBodies=new F,this.pendingDestroy=new F,this.colliders=new C,this.gravity=new U(y(Y,"gravity.x",0),y(Y,"gravity.y",0)),this.bounds=new z(y(Y,"x",0),y(Y,"y",0),y(Y,"width",R.sys.scale.width),y(Y,"height",R.sys.scale.height)),this.checkCollision={up:y(Y,"checkCollision.up",!0),down:y(Y,"checkCollision.down",!0),left:y(Y,"checkCollision.left",!0),right:y(Y,"checkCollision.right",!0)},this.fps=y(Y,"fps",60),this.fixedStep=y(Y,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(Y,"timeScale",1),this.OVERLAP_BIAS=y(Y,"overlapBias",4),this.TILE_BIAS=y(Y,"tileBias",16),this.forceX=y(Y,"forceX",!1),this.isPaused=y(Y,"isPaused",!1),this._total=0,this.drawDebug=y(Y,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(Y,"debugShowBody",!0),debugShowStaticBody:y(Y,"debugShowStaticBody",!0),debugShowVelocity:y(Y,"debugShowVelocity",!0),bodyDebugColor:y(Y,"debugBodyColor",16711935),staticBodyDebugColor:y(Y,"debugStaticBodyColor",255),velocityDebugColor:y(Y,"debugVelocityColor",65280)},this.maxEntries=y(Y,"maxEntries",16),this.useTree=y(Y,"useTree",!0),this.tree=new D(this.maxEntries),this.staticTree=new D(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new N,this._tempMatrix2=new N,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,R){R===void 0&&(R=t.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var Y=0;Y<O.length;Y++){var G=O[Y];if(G.isParent)for(var k=G.getChildren(),W=0;W<k.length;W++){var X=k[W];X.isParent?this.enable(X,R):this.enableBody(X,R)}else this.enableBody(G,R)}},enableBody:function(O,R){return R===void 0&&(R=t.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(R===t.DYNAMIC_BODY?O.body=new p(this,O):R===t.STATIC_BODY&&(O.body=new V(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===t.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===t.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var R=0;R<O.length;R++){var Y=O[R];if(Y.isParent)for(var G=Y.getChildren(),k=0;k<G.length;k++){var W=G[k];W.isParent?this.disable(W):this.disableBody(W.body)}else this.disableBody(Y.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===t.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===t.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,R,Y,G,k,W,X,j){return this.bounds.setTo(O,R,Y,G),k!==void 0&&this.setBoundsCollision(k,W,X,j),this},setBoundsCollision:function(O,R,Y,G){return O===void 0&&(O=!0),R===void 0&&(R=!0),Y===void 0&&(Y=!0),G===void 0&&(G=!0),this.checkCollision.left=O,this.checkCollision.right=R,this.checkCollision.up=Y,this.checkCollision.down=G,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(O,R,Y,G,k){Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y);var W=new s(this,!1,O,R,Y,G,k);return this.colliders.add(W),W},addOverlap:function(O,R,Y,G,k){Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y);var W=new s(this,!0,O,R,Y,G,k);return this.colliders.add(W),W},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,R){if(!(this.isPaused||this.bodies.size===0)){var Y,G=this._frameTime,k=this._frameTimeMS*this.timeScale;this._elapsed+=R;var W,X=this.bodies.entries,j=this._elapsed>=k;for(this.fixedStep||(G=R*.001,j=!0,this._elapsed=0),Y=0;Y<X.length;Y++)W=X[Y],W.enable&&W.preUpdate(j,G);if(j){this._elapsed-=k,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(X));var K=this.colliders.update();for(Y=0;Y<K.length;Y++){var $=K[Y];$.active&&$.update()}this.emit(l.WORLD_STEP,G)}for(;this._elapsed>=k;)this._elapsed-=k,this.step(G)}},step:function(O){var R,Y,G=this.bodies.entries,k=G.length;for(R=0;R<k;R++)Y=G[R],Y.enable&&Y.update(O);this.useTree&&(this.tree.clear(),this.tree.load(G));var W=this.colliders.update();for(R=0;R<W.length;R++){var X=W[R];X.active&&X.update()}this.emit(l.WORLD_STEP,O),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var O,R,Y=this.bodies.entries,G=Y.length,k=this.bodies,W=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<G;O++)R=Y[O],R.enable&&R.postUpdate();if(this.drawDebug){var X=this.debugGraphic;for(X.clear(),O=0;O<G;O++)R=Y[O],R.willDrawDebug()&&R.drawDebug(X);for(Y=W.entries,G=Y.length,O=0;O<G;O++)R=Y[O],R.willDrawDebug()&&R.drawDebug(X)}var j=this.pendingDestroy;if(j.size>0){var K=this.tree,$=this.staticTree;for(Y=j.entries,G=Y.length,O=0;O<G;O++)R=Y[O],R.physicsType===t.DYNAMIC_BODY?(K.remove(R),k.delete(R)):R.physicsType===t.STATIC_BODY&&($.remove(R),W.delete(R)),R.world=void 0,R.gameObject=void 0;j.clear()}},updateMotion:function(O,R){O.allowRotation&&this.computeAngularVelocity(O,R),this.computeVelocity(O,R)},computeAngularVelocity:function(O,R){var Y=O.angularVelocity,G=O.angularAcceleration,k=O.angularDrag,W=O.maxAngular;G?Y+=G*R:O.allowDrag&&k&&(k*=R,d(Y-k,0,.1)?Y-=k:f(Y+k,0,.1)?Y+=k:Y=0),Y=a(Y,-W,W);var X=Y-O.angularVelocity;O.angularVelocity+=X,O.rotation+=O.angularVelocity*R},computeVelocity:function(O,R){var Y=O.velocity.x,G=O.acceleration.x,k=O.drag.x,W=O.maxVelocity.x,X=O.velocity.y,j=O.acceleration.y,K=O.drag.y,$=O.maxVelocity.y,Z=O.speed,J=O.maxSpeed,Q=O.allowDrag,_=O.useDamping;O.allowGravity&&(Y+=(this.gravity.x+O.gravity.x)*R,X+=(this.gravity.y+O.gravity.y)*R),G?Y+=G*R:Q&&k&&(_?(k=Math.pow(k,R),Y*=k,Z=Math.sqrt(Y*Y+X*X),u(Z,0,.001)&&(Y=0)):(k*=R,d(Y-k,0,.01)?Y-=k:f(Y+k,0,.01)?Y+=k:Y=0)),j?X+=j*R:Q&&K&&(_?(K=Math.pow(K,R),X*=K,Z=Math.sqrt(Y*Y+X*X),u(Z,0,.001)&&(X=0)):(K*=R,d(X-K,0,.01)?X-=K:f(X+K,0,.01)?X+=K:X=0)),Y=a(Y,-W,W),X=a(X,-$,$),O.velocity.set(Y,X),J>-1&&O.velocity.length()>J&&(O.velocity.normalize().scale(J),Z=J),O.speed=Z},separate:function(O,R,Y,G,k){var W,X,j=!1,K=!0;if(!O.enable||!R.enable||O.checkCollision.none||R.checkCollision.none||!this.intersects(O,R)||Y&&Y.call(G,O.gameObject||O,R.gameObject||R)===!1)return j;if(O.isCircle||R.isCircle){var $=this.separateCircle(O,R,k);$.result?(j=!0,K=!1):(W=$.x,X=$.y,K=!0)}if(K){var Z=!1,J=!1,Q=this.OVERLAP_BIAS;k?(Z=L(O,R,k,Q,W),J=b(O,R,k,Q,X)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(Z=L(O,R,k,Q,W),this.intersects(O,R)&&(J=b(O,R,k,Q,X))):(J=b(O,R,k,Q,X),this.intersects(O,R)&&(Z=L(O,R,k,Q,W))),j=Z||J}return j&&(k?(O.onOverlap||R.onOverlap)&&this.emit(l.OVERLAP,O.gameObject,R.gameObject,O,R):(O.onCollide||R.onCollide)&&this.emit(l.COLLIDE,O.gameObject,R.gameObject,O,R)),j},separateCircle:function(O,R,Y){v(O,R,!1,0),m(O,R,!1,0);var G=O.isCircle,k=R.isCircle,W=O.center,X=R.center,j=O.immovable,K=R.immovable,$=O.velocity,Z=R.velocity,J=0,Q=!0;if(G!==k){Q=!1;var _=W.x,ae=W.y,oe=O.halfWidth,le=R.position.x,q=R.position.y,ie=R.right,ne=R.bottom;k&&(_=X.x,ae=X.y,oe=R.halfWidth,le=O.position.x,q=O.position.y,ie=O.right,ne=O.bottom),ae<q?_<le?J=n(_,ae,le,q)-oe:_>ie&&(J=n(_,ae,ie,q)-oe):ae>ne&&(_<le?J=n(_,ae,le,ne)-oe:_>ie&&(J=n(_,ae,ie,ne)-oe)),J*=-1}else J=O.halfWidth+R.halfWidth-h(W,X);O.overlapR=J,R.overlapR=J;var fe=o(W,X),Te=(J+T.EPSILON)*Math.cos(fe),Ie=(J+T.EPSILON)*Math.sin(fe),xe={overlap:J,result:!1,x:Te,y:Ie};if(Y&&(!Q||Q&&J!==0))return xe.result=!0,xe;if(!Q&&J===0||j&&K||O.customSeparateX||R.customSeparateX)return xe.x=void 0,xe.y=void 0,xe;var ye=!O.pushable&&!R.pushable;if(Q){var Ne=W.x-X.x,tt=W.y-X.y,Ee=Math.sqrt(Math.pow(Ne,2)+Math.pow(tt,2)),Ue=(X.x-W.x)/Ee||0,je=(X.y-W.y)/Ee||0,lt=2*($.x*Ue+$.y*je-Z.x*Ue-Z.y*je)/(O.mass+R.mass);(j||K||!O.pushable||!R.pushable)&&(lt*=2),!j&&O.pushable&&($.x=$.x-lt/O.mass*Ue,$.y=$.y-lt/O.mass*je,$.multiply(O.bounce)),!K&&R.pushable&&(Z.x=Z.x+lt/R.mass*Ue,Z.y=Z.y+lt/R.mass*je,Z.multiply(R.bounce)),!j&&!K&&(Te*=.5,Ie*=.5),!j||O.pushable||ye?(O.x-=Te,O.y-=Ie,O.updateCenter()):(!K||R.pushable||ye)&&(R.x+=Te,R.y+=Ie,R.updateCenter()),xe.result=!0}else!j||O.pushable||ye?(O.x-=Te,O.y-=Ie,O.updateCenter()):(!K||R.pushable||ye)&&(R.x+=Te,R.y+=Ie,R.updateCenter()),xe.x=void 0,xe.y=void 0;return xe},intersects:function(O,R){return O===R?!1:!O.isCircle&&!R.isCircle?!(O.right<=R.left||O.bottom<=R.top||O.left>=R.right||O.top>=R.bottom):O.isCircle?R.isCircle?h(O.center,R.center)<=O.halfWidth+R.halfWidth:this.circleBodyIntersects(O,R):this.circleBodyIntersects(R,O)},circleBodyIntersects:function(O,R){var Y=a(O.center.x,R.left,R.right),G=a(O.center.y,R.top,R.bottom),k=(O.center.x-Y)*(O.center.x-Y),W=(O.center.y-G)*(O.center.y-G);return k+W<=O.halfWidth*O.halfWidth},overlap:function(O,R,Y,G,k){return Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y),this.collideObjects(O,R,Y,G,k,!0)},collide:function(O,R,Y,G,k){return Y===void 0&&(Y=null),G===void 0&&(G=null),k===void 0&&(k=Y),this.collideObjects(O,R,Y,G,k,!1)},collideObjects:function(O,R,Y,G,k,W){var X,j;O.isParent&&(O.physicsType===void 0||R===void 0||O===R)&&(O=O.children.entries),R&&R.isParent&&R.physicsType===void 0&&(R=R.children.entries);var K=Array.isArray(O),$=Array.isArray(R);if(this._total=0,!K&&!$)this.collideHandler(O,R,Y,G,k,W);else if(!K&&$)for(X=0;X<R.length;X++)this.collideHandler(O,R[X],Y,G,k,W);else if(K&&!$)if(R)for(X=0;X<O.length;X++)this.collideHandler(O[X],R,Y,G,k,W);else for(X=0;X<O.length;X++){var Z=O[X];for(j=X+1;j<O.length;j++)X!==j&&this.collideHandler(Z,O[j],Y,G,k,W)}else for(X=0;X<O.length;X++)for(j=0;j<R.length;j++)this.collideHandler(O[X],R[j],Y,G,k,W);return this._total>0},collideHandler:function(O,R,Y,G,k,W){if(R===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,Y,G,k,W);if(!O||!R)return!1;if(O.body||O.isBody){if(R.body||R.isBody)return this.collideSpriteVsSprite(O,R,Y,G,k,W);if(R.isParent)return this.collideSpriteVsGroup(O,R,Y,G,k,W);if(R.isTilemap)return this.collideSpriteVsTilemapLayer(O,R,Y,G,k,W)}else if(O.isParent){if(R.body||R.isBody)return this.collideSpriteVsGroup(R,O,Y,G,k,W);if(R.isParent)return this.collideGroupVsGroup(O,R,Y,G,k,W);if(R.isTilemap)return this.collideGroupVsTilemapLayer(O,R,Y,G,k,W)}else if(O.isTilemap){if(R.body||R.isBody)return this.collideSpriteVsTilemapLayer(R,O,Y,G,k,W);if(R.isParent)return this.collideGroupVsTilemapLayer(R,O,Y,G,k,W)}},canCollide:function(O,R){return O&&R&&(O.collisionMask&R.collisionCategory)!==0&&(R.collisionMask&O.collisionCategory)!==0},collideSpriteVsSprite:function(O,R,Y,G,k,W){var X=O.isBody?O:O.body,j=R.isBody?R:R.body;return this.canCollide(X,j)?(this.separate(X,j,G,k,W)&&(Y&&Y.call(k,O,R),this._total++),!0):!1},collideSpriteVsGroup:function(O,R,Y,G,k,W){var X=O.isBody?O:O.body;if(!(R.getLength()===0||!X||!X.enable||X.checkCollision.none||!this.canCollide(X,R))){var j,K,$;if(this.useTree||R.physicsType===t.STATIC_BODY){var Z=this.treeMinMax;Z.minX=X.left,Z.minY=X.top,Z.maxX=X.right,Z.maxY=X.bottom;var J=R.physicsType===t.DYNAMIC_BODY?this.tree.search(Z):this.staticTree.search(Z);for(K=J.length,j=0;j<K;j++)$=J[j],!(X===$||!$.enable||$.checkCollision.none||!R.contains($.gameObject))&&this.separate(X,$,G,k,W)&&(Y&&Y.call(k,X.gameObject,$.gameObject),this._total++)}else{var Q=R.getChildren(),_=R.children.entries.indexOf(O);for(K=Q.length,j=0;j<K;j++)$=Q[j].body,!(!$||j===_||!$.enable)&&this.separate(X,$,G,k,W)&&(Y&&Y.call(k,X.gameObject,$.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,R,Y,G,k,W){if(!this.canCollide(O,R))return!1;var X=O.getChildren();if(X.length===0)return!1;for(var j=!1,K=0;K<X.length;K++)(X[K].body||X[K].isBody)&&this.collideSpriteVsTilemapLayer(X[K],R,Y,G,k,W)&&(j=!0);return j},collideTiles:function(O,R,Y,G,k){return R.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,R,Y,G,k,!1,!1)},overlapTiles:function(O,R,Y,G,k){return R.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,R,Y,G,k,!0,!1)},collideSpriteVsTilemapLayer:function(O,R,Y,G,k,W){var X=O.isBody?O:O.body;if(!X.enable||X.checkCollision.none||!this.canCollide(X,R))return!1;var j=R.layer,K=X.x-j.tileWidth*R.scaleX,$=X.y-j.tileHeight*R.scaleY,Z=X.width+j.tileWidth*R.scaleX,J=X.height+j.tileHeight*R.scaleY,Q=W?null:this.tileFilterOptions,_=g(K,$,Z,J,Q,R.scene.cameras.main,R.layer);return _.length===0?!1:this.collideSpriteVsTilesHandler(O,_,Y,G,k,W,!0)},collideSpriteVsTilesHandler:function(O,R,Y,G,k,W,X){for(var j=O.isBody?O:O.body,K,$={left:0,right:0,top:0,bottom:0},Z,J=!1,Q=0;Q<R.length;Q++){K=R[Q],Z=K.tilemapLayer;var _=Z.tileToWorldXY(K.x,K.y);$.left=_.x,$.top=_.y,$.right=$.left+K.width*Z.scaleX,$.bottom=$.top+K.height*Z.scaleY,B($,j)&&(!G||G.call(k,O,K))&&E(K,O)&&(W||A(Q,j,K,$,Z,this.TILE_BIAS,X))&&(this._total++,J=!0,Y&&Y.call(k,O,K),W&&j.onOverlap?this.emit(l.TILE_OVERLAP,O,K,j):j.onCollide&&this.emit(l.TILE_COLLIDE,O,K,j))}return J},collideGroupVsGroup:function(O,R,Y,G,k,W){if(!(O.getLength()===0||R.getLength()===0||!this.canCollide(O,R)))for(var X=O.getChildren(),j=0;j<X.length;j++)this.collideSpriteVsGroup(X[j],R,Y,G,k,W)},wrap:function(O,R){O.body?this.wrapObject(O,R):O.getChildren?this.wrapArray(O.getChildren(),R):Array.isArray(O)?this.wrapArray(O,R):this.wrapObject(O,R)},wrapArray:function(O,R){for(var Y=0;Y<O.length;Y++)this.wrapObject(O[Y],R)},wrapObject:function(O,R){R===void 0&&(R=0),O.x=I(O.x,this.bounds.left-R,this.bounds.right+R),O.y=I(O.y,this.bounds.top-R,this.bounds.bottom+R)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});c.exports=H},1093:c=>{var x={setAcceleration:function(e,o){return this.body.acceleration.set(e,o),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};c.exports=x},59023:c=>{var x={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};c.exports=x},62069:c=>{var x={setBounce:function(e,o){return this.body.bounce.set(e,o),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,o,p,a){return this.body.setCollideWorldBounds(e,o,p,a),this}};c.exports=x},78389:(c,x,e)=>{var o=e(79599),p={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=o(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=2147483647,this}};c.exports=p},87118:c=>{var x={setDebug:function(e,o,p){return this.debugShowBody=e,this.debugShowVelocity=o,this.debugBodyColor=p,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};c.exports=x},52819:c=>{var x={setDrag:function(e,o){return this.body.drag.set(e,o),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};c.exports=x},4074:c=>{var x={setDirectControl:function(e){return this.body.setDirectControl(e),this},enableBody:function(e,o,p,a,r){return e&&this.body.reset(o,p),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,o){return e===void 0&&(e=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};c.exports=x},40831:c=>{var x={setFriction:function(e,o){return this.body.friction.set(e,o),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};c.exports=x},26775:c=>{var x={setGravity:function(e,o){return this.body.gravity.set(e,o),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};c.exports=x},9437:c=>{var x={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};c.exports=x},30621:c=>{var x={setMass:function(e){return this.body.mass=e,this}};c.exports=x},72441:(c,x,e)=>{var o=e(47956),p=e(96503),a=e(2044),r=e(81491),s=function(t,n,h,i,l,u){var d=o(t,n-i,h-i,2*i,2*i,l,u);if(d.length===0)return d;for(var f=new p(n,h,i),v=new p,m=[],g=0;g<d.length;g++){var y=d[g];y.isCircle?(v.setTo(y.center.x,y.center.y,y.halfWidth),a(f,v)&&m.push(y)):r(f,y)&&m.push(y)}return m};c.exports=s},47956:c=>{var x=function(e,o,p,a,r,s,t){s===void 0&&(s=!0),t===void 0&&(t=!1);var n=[],h=[],i=e.treeMinMax;if(i.minX=o,i.minY=p,i.maxX=o+a,i.maxY=p+r,t&&(h=e.staticTree.search(i)),s&&e.useTree)n=e.tree.search(i);else if(s){var l=e.bodies,u={position:{x:o,y:p},left:o,top:p,right:o+a,bottom:p+r,isCircle:!1},d=e.intersects;l.iterate(function(f){d(f,u)&&n.push(f)})}return h.concat(n)};c.exports=x},62121:c=>{var x={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};c.exports=x},29384:c=>{var x={setOffset:function(e,o){return this.body.setOffset(e,o),this},setSize:function(e,o,p){return this.body.setSize(e,o,p),this},setBodySize:function(e,o,p){return this.body.setSize(e,o,p),this},setCircle:function(e,o,p){return this.body.setCircle(e,o,p),this}};c.exports=x},15098:c=>{var x={setVelocity:function(e,o){return this.body.setVelocity(e,o),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,o){return this.body.maxVelocity.set(e,o),this}};c.exports=x},92209:(c,x,e)=>{c.exports={Acceleration:e(1093),Angular:e(59023),Bounce:e(62069),Collision:e(78389),Debug:e(87118),Drag:e(52819),Enable:e(4074),Friction:e(40831),Gravity:e(26775),Immovable:e(9437),Mass:e(30621),OverlapCirc:e(72441),OverlapRect:e(47956),Pushable:e(62121),Size:e(29384),Velocity:e(15098)}},37747:c=>{var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};c.exports=x},20009:c=>{c.exports="collide"},36768:c=>{c.exports="overlap"},60473:c=>{c.exports="pause"},89954:c=>{c.exports="resume"},61804:c=>{c.exports="tilecollide"},7161:c=>{c.exports="tileoverlap"},34689:c=>{c.exports="worldbounds"},16006:c=>{c.exports="worldstep"},63012:(c,x,e)=>{c.exports={COLLIDE:e(20009),OVERLAP:e(36768),PAUSE:e(60473),RESUME:e(89954),TILE_COLLIDE:e(61804),TILE_OVERLAP:e(7161),WORLD_BOUNDS:e(34689),WORLD_STEP:e(16006)}},27064:(c,x,e)=>{var o=e(37747),p=e(79291),a={ArcadePhysics:e(86689),Body:e(37742),Collider:e(79342),Components:e(92209),Events:e(63012),Factory:e(66022),GetCollidesWith:e(79599),GetOverlapX:e(64897),GetOverlapY:e(45170),SeparateX:e(14087),SeparateY:e(89936),Group:e(60758),Image:e(71289),Sprite:e(13759),StaticBody:e(72624),StaticGroup:e(71464),Tilemap:e(55173),World:e(82248)};a=p(!1,a,o),c.exports=a},96602:c=>{var x=function(e,o){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,o,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,o,e):!0};c.exports=x},36294:c=>{var x=function(e,o){o<0?(e.blocked.none=!1,e.blocked.left=!0):o>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=o,e.updateCenter(),e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};c.exports=x},67013:c=>{var x=function(e,o){o<0?(e.blocked.none=!1,e.blocked.up=!0):o>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=o,e.updateCenter(),e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};c.exports=x},40012:(c,x,e)=>{var o=e(21329),p=e(53442),a=e(2483),r=function(s,t,n,h,i,l,u){var d=h.left,f=h.top,v=h.right,m=h.bottom,g=n.faceLeft||n.faceRight,y=n.faceTop||n.faceBottom;if(u||(g=!0,y=!0),!g&&!y)return!1;var T=0,C=0,E=0,z=1;if(t.deltaAbsX()>t.deltaAbsY()?E=-1:t.deltaAbsX()<t.deltaAbsY()&&(z=-1),t.deltaX()!==0&&t.deltaY()!==0&&g&&y&&(E=Math.min(Math.abs(t.position.x-v),Math.abs(t.right-d)),z=Math.min(Math.abs(t.position.y-m),Math.abs(t.bottom-f))),E<z){if(g&&(T=o(t,n,d,v,l,u),T!==0&&!a(h,t)))return!0;y&&(C=p(t,n,f,m,l,u))}else{if(y&&(C=p(t,n,f,m,l,u),C!==0&&!a(h,t)))return!0;g&&(T=o(t,n,d,v,l,u))}return T!==0||C!==0};c.exports=r},21329:(c,x,e)=>{var o=e(36294),p=function(a,r,s,t,n,h){var i=0,l=r.faceLeft,u=r.faceRight,d=r.collideLeft,f=r.collideRight;return h||(l=!0,u=!0,d=!0,f=!0),a.deltaX()<0&&f&&a.checkCollision.left?u&&a.x<t&&(i=a.x-t,i<-n&&(i=0)):a.deltaX()>0&&d&&a.checkCollision.right&&l&&a.right>s&&(i=a.right-s,i>n&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:o(a,i)),i};c.exports=p},53442:(c,x,e)=>{var o=e(67013),p=function(a,r,s,t,n,h){var i=0,l=r.faceTop,u=r.faceBottom,d=r.collideUp,f=r.collideDown;return h||(l=!0,u=!0,d=!0,f=!0),a.deltaY()<0&&f&&a.checkCollision.up?u&&a.y<t&&(i=a.y-t,i<-n&&(i=0)):a.deltaY()>0&&d&&a.checkCollision.down&&l&&a.bottom>s&&(i=a.bottom-s,i>n&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:o(a,i)),i};c.exports=p},2483:c=>{var x=function(e,o){return!(o.right<=e.left||o.bottom<=e.top||o.position.x>=e.right||o.position.y>=e.bottom)};c.exports=x},55173:(c,x,e)=>{var o={ProcessTileCallbacks:e(96602),ProcessTileSeparationX:e(36294),ProcessTileSeparationY:e(67013),SeparateTile:e(40012),TileCheckX:e(21329),TileCheckY:e(53442),TileIntersectsBody:e(2483)};c.exports=o},44563:(c,x,e)=>{c.exports={Arcade:e(27064),Matter:e(3875)}},68174:(c,x,e)=>{var o=e(83419),p=e(26099),a=new o({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,t=this.centerDiff,n=r.bounds.max.x-r.bounds.min.x,h=r.bounds.max.y-r.bounds.min.y,i=n*r.centerOfMass.x,l=h*r.centerOfMass.y;return s.set(n/2,h/2),t.set(i-s.x,l-s.y),!0},getTopLeft:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s+n.x+h.x,t+n.y+h.y)}return!1},getTopCenter:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s+h.x,t+n.y+h.y)}return!1},getTopRight:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s-(n.x-h.x),t+n.y+h.y)}return!1},getLeftCenter:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s+n.x+h.x,t+h.y)}return!1},getCenter:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.centerDiff;return new p(s+n.x,t+n.y)}return!1},getRightCenter:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s-(n.x-h.x),t+h.y)}return!1},getBottomLeft:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s+n.x+h.x,t-(n.y-h.y))}return!1},getBottomCenter:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s+h.x,t-(n.y-h.y))}return!1},getBottomRight:function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),this.parseBody(r)){var n=this.boundsCenter,h=this.centerDiff;return new p(s-(n.x-h.x),t-(n.y-h.y))}return!1}});c.exports=a},19933:(c,x,e)=>{var o=e(6790);o.Body=e(22562),o.Composite=e(69351),o.World=e(4372),o.Collision=e(52284),o.Detector=e(81388),o.Pairs=e(99561),o.Pair=e(4506),o.Query=e(73296),o.Resolver=e(66272),o.Constraint=e(48140),o.Common=e(53402),o.Engine=e(48413),o.Events=e(35810),o.Sleeping=e(53614),o.Plugin=e(73832),o.Bodies=e(66280),o.Composites=e(74116),o.Axes=e(66615),o.Bounds=e(15647),o.Svg=e(74058),o.Vector=e(31725),o.Vertices=e(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,c.exports=o},28137:(c,x,e)=>{var o=e(66280),p=e(83419),a=e(74116),r=e(48140),s=e(74058),t=e(75803),n=e(23181),h=e(34803),i=e(73834),l=e(19496),u=e(85791),d=e(98713),f=e(41598),v=new p({initialize:function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},rectangle:function(m,g,y,T,C){var E=o.rectangle(m,g,y,T,C);return this.world.add(E),E},trapezoid:function(m,g,y,T,C,E){var z=o.trapezoid(m,g,y,T,C,E);return this.world.add(z),z},circle:function(m,g,y,T,C){var E=o.circle(m,g,y,T,C);return this.world.add(E),E},polygon:function(m,g,y,T,C){var E=o.polygon(m,g,y,T,C);return this.world.add(E),E},fromVertices:function(m,g,y,T,C,E,z){typeof y=="string"&&(y=f.fromPath(y));var D=o.fromVertices(m,g,y,T,C,E,z);return this.world.add(D),D},fromPhysicsEditor:function(m,g,y,T,C){C===void 0&&(C=!0);var E=l.parseBody(m,g,y,T);return C&&!this.world.has(E)&&this.world.add(E),E},fromSVG:function(m,g,y,T,C,E){T===void 0&&(T=1),C===void 0&&(C={}),E===void 0&&(E=!0);for(var z=y.getElementsByTagName("path"),D=[],A=0;A<z.length;A++){var L=s.pathToVertices(z[A],30);T!==1&&f.scale(L,T,T),D.push(L)}var b=o.fromVertices(m,g,D,C);return E&&this.world.add(b),b},fromJSON:function(m,g,y,T,C){T===void 0&&(T={}),C===void 0&&(C=!0);var E=u.parseBody(m,g,y,T);return E&&C&&this.world.add(E),E},imageStack:function(m,g,y,T,C,E,z,D,A){z===void 0&&(z=0),D===void 0&&(D=0),A===void 0&&(A={});var L=this.world,b=this.sys.displayList;A.addToWorld=!1;var F=a.stack(y,T,C,E,z,D,function(V,B){var N=new n(L,V,B,m,g,A);return b.add(N),N.body});return L.add(F),F},stack:function(m,g,y,T,C,E,z){var D=a.stack(m,g,y,T,C,E,z);return this.world.add(D),D},pyramid:function(m,g,y,T,C,E,z){var D=a.pyramid(m,g,y,T,C,E,z);return this.world.add(D),D},chain:function(m,g,y,T,C,E){return a.chain(m,g,y,T,C,E)},mesh:function(m,g,y,T,C){return a.mesh(m,g,y,T,C)},newtonsCradle:function(m,g,y,T,C){var E=a.newtonsCradle(m,g,y,T,C);return this.world.add(E),E},car:function(m,g,y,T,C){var E=a.car(m,g,y,T,C);return this.world.add(E),E},softBody:function(m,g,y,T,C,E,z,D,A,L){var b=a.softBody(m,g,y,T,C,E,z,D,A,L);return this.world.add(b),b},joint:function(m,g,y,T,C){return this.constraint(m,g,y,T,C)},spring:function(m,g,y,T,C){return this.constraint(m,g,y,T,C)},constraint:function(m,g,y,T,C){T===void 0&&(T=1),C===void 0&&(C={}),C.bodyA=m.type==="body"?m:m.body,C.bodyB=g.type==="body"?g:g.body,isNaN(y)||(C.length=y),C.stiffness=T;var E=r.create(C);return this.world.add(E),E},worldConstraint:function(m,g,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyB=m.type==="body"?m:m.body,isNaN(g)||(T.length=g),T.stiffness=y;var C=r.create(T);return this.world.add(C),C},mouseSpring:function(m){return this.pointerConstraint(m)},pointerConstraint:function(m){m===void 0&&(m={}),m.hasOwnProperty("render")||(m.render={visible:!1});var g=new d(this.scene,this.world,m);return this.world.add(g.constraint),g},image:function(m,g,y,T,C){var E=new n(this.world,m,g,y,T,C);return this.sys.displayList.add(E),E},tileBody:function(m,g){return new i(this.world,m,g)},sprite:function(m,g,y,T,C){var E=new h(this.world,m,g,y,T,C);return this.sys.displayList.add(E),this.sys.updateList.add(E),E},gameObject:function(m,g,y){return t(this.world,m,g,y)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});c.exports=v},75803:(c,x,e)=>{var o=e(31884),p=e(95540),a=e(26099);function r(t){return!!t.get&&typeof t.get=="function"||!!t.set&&typeof t.set=="function"}var s=function(t,n,h,i){h===void 0&&(h={}),i===void 0&&(i=!0);var l=n.x,u=n.y;n.body={temp:!0,position:{x:l,y:u}};var d=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(d.forEach(function(v){for(var m in v)r(v[m])?Object.defineProperty(n,m,{get:v[m].get,set:v[m].set}):Object.defineProperty(n,m,{value:v[m]})}),n.world=t,n._tempVec2=new a(l,u),h.hasOwnProperty("type")&&h.type==="body")n.setExistingBody(h,i);else{var f=p(h,"shape",null);f||(f="rectangle"),h.addToWorld=i,n.setBody(f,h)}return n};c.exports=s},23181:(c,x,e)=>{var o=e(83419),p=e(31884),a=e(95643),r=e(95540),s=e(88571),t=e(72699),n=e(26099),h=new o({Extends:s,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,t],initialize:function(l,u,d,f,v,m){a.call(this,l.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,v),this.setSizeToFrame(),this.setOrigin(),this.world=l,this._tempVec2=new n(u,d);var g=r(m,"shape",null);g?this.setBody(g,m):this.setRectangle(this.width,this.height,m),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=h},42045:(c,x,e)=>{var o=e(60461),p=e(66615),a=e(66280),r=e(22562),s=e(68174),t=e(15647),n=e(83419),h=e(52284),i=e(53402),l=e(69351),u=e(74116),d=e(48140),f=e(81388),v=e(20339),m=e(28137),g=e(95540),y=e(35154),T=e(46975),C=e(4506),E=e(99561),z=e(37277),D=e(73296),A=e(66272),L=e(44594),b=e(74058),F=e(31725),V=e(41598),B=e(68243);i.setDecomp(e(55973));var N=new n({initialize:function(I){this.scene=I,this.systems=I.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=l,this.collision=h,this.detector=f,this.pair=C,this.pairs=E,this.query=D,this.resolver=A,this.constraint=d,this.bodies=a,this.composites=u,this.axes=p,this.bounds=t,this.svg=b,this.vector=F,this.vertices=V,this.verts=V,this._tempVec2=F.create(),A._restingThresh=y(this.config,"restingThresh",4),A._restingThreshTangent=y(this.config,"restingThreshTangent",6),A._positionDampen=y(this.config,"positionDampen",.9),A._positionWarming=y(this.config,"positionWarming",.8),A._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),I.sys.events.once(L.BOOT,this.boot,this),I.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new B(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new s,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new B(this.scene,this.config),this.add=new m(this.world));var U=this.systems.events;U.on(L.UPDATE,this.world.update,this.world),U.on(L.POST_UPDATE,this.world.postUpdate,this.world),U.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,I=this.systems.settings.physics,H=T(g(I,"matter",{}),g(U,"matter",{}));return H},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,I){this.world.step(U,I)},containsPoint:function(U,I,H){U=this.getMatterBodies(U);var O=F.create(I,H),R=D.point(U,O);return R.length>0},intersectPoint:function(U,I,H){H=this.getMatterBodies(H);var O=F.create(U,I),R=[],Y=D.point(H,O);return Y.forEach(function(G){R.indexOf(G)===-1&&R.push(G)}),R},intersectRect:function(U,I,H,O,R,Y){R===void 0&&(R=!1),Y=this.getMatterBodies(Y);var G={min:{x:U,y:I},max:{x:U+H,y:I+O}},k=[],W=D.region(Y,G,R);return W.forEach(function(X){k.indexOf(X)===-1&&k.push(X)}),k},intersectRay:function(U,I,H,O,R,Y){R===void 0&&(R=1),Y=this.getMatterBodies(Y);for(var G=[],k=D.ray(Y,F.create(U,I),F.create(H,O),R),W=0;W<k.length;W++)G.push(k[W].body);return G},intersectBody:function(U,I){I=this.getMatterBodies(I);for(var H=[],O=D.collides(U,I),R=0;R<O.length;R++){var Y=O[R];Y.bodyA===U?H.push(Y.bodyB):H.push(Y.bodyA)}return H},overlap:function(U,I,H,O,R){H===void 0&&(H=null),O===void 0&&(O=null),R===void 0&&(R=H),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),I=this.getMatterBodies(I);for(var Y=!1,G=0;G<U.length;G++)for(var k=U[G],W=D.collides(k,I),X=0;X<W.length;X++){var j=W[X],K=j.bodyA.id===k.id?j.bodyB:j.bodyA;if(!O||O.call(R,k,K,j)){if(Y=!0,H)H.call(R,k,K,j);else if(!O)return!0}}return Y},setCollisionCategory:function(U,I){return U=this.getMatterBodies(U),U.forEach(function(H){H.collisionFilter.category=I}),this},setCollisionGroup:function(U,I){return U=this.getMatterBodies(U),U.forEach(function(H){H.collisionFilter.group=I}),this},setCollidesWith:function(U,I){U=this.getMatterBodies(U);var H=0;if(!Array.isArray(I))H=I;else for(var O=0;O<I.length;O++)H|=I[O];return U.forEach(function(R){R.collisionFilter.mask=H}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var I=[],H=0;H<U.length;H++){var O=U[H].hasOwnProperty("body")?U[H].body:U[H];I.push(O)}return I},setVelocity:function(U,I,H){U=this.getMatterBodies(U);var O=this._tempVec2;return O.x=I,O.y=H,U.forEach(function(R){r.setVelocity(R,O)}),this},setVelocityX:function(U,I){U=this.getMatterBodies(U);var H=this._tempVec2;return H.x=I,U.forEach(function(O){H.y=O.velocity.y,r.setVelocity(O,H)}),this},setVelocityY:function(U,I){U=this.getMatterBodies(U);var H=this._tempVec2;return H.y=I,U.forEach(function(O){H.x=O.velocity.x,r.setVelocity(O,H)}),this},setAngularVelocity:function(U,I){return U=this.getMatterBodies(U),U.forEach(function(H){r.setAngularVelocity(H,I)}),this},applyForce:function(U,I){U=this.getMatterBodies(U);var H=this._tempVec2;return U.forEach(function(O){H.x=O.position.x,H.y=O.position.y,r.applyForce(O,H,I)}),this},applyForceFromPosition:function(U,I,H,O){U=this.getMatterBodies(U);var R=this._tempVec2;return U.forEach(function(Y){O===void 0&&(O=Y.angle),R.x=H*Math.cos(O),R.y=H*Math.sin(O),r.applyForce(Y,I,R)}),this},applyForceFromAngle:function(U,I,H){U=this.getMatterBodies(U);var O=this._tempVec2;return U.forEach(function(R){H===void 0&&(H=R.angle),O.x=I*Math.cos(H),O.y=I*Math.sin(H),r.applyForce(R,{x:R.position.x,y:R.position.y},O)}),this},getConstraintLength:function(U){var I=U.pointA.x,H=U.pointA.y,O=U.pointB.x,R=U.pointB.y;return U.bodyA&&(I+=U.bodyA.position.x,H+=U.bodyA.position.y),U.bodyB&&(O+=U.bodyB.position.x,R+=U.bodyB.position.y),v(I,H,O,R)},alignBody:function(U,I,H,O){U=U.hasOwnProperty("body")?U.body:U;var R;switch(O){case o.TOP_LEFT:case o.LEFT_TOP:R=this.bodyBounds.getTopLeft(U,I,H);break;case o.TOP_CENTER:R=this.bodyBounds.getTopCenter(U,I,H);break;case o.TOP_RIGHT:case o.RIGHT_TOP:R=this.bodyBounds.getTopRight(U,I,H);break;case o.LEFT_CENTER:R=this.bodyBounds.getLeftCenter(U,I,H);break;case o.CENTER:R=this.bodyBounds.getCenter(U,I,H);break;case o.RIGHT_CENTER:R=this.bodyBounds.getRightCenter(U,I,H);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:R=this.bodyBounds.getBottomLeft(U,I,H);break;case o.BOTTOM_CENTER:R=this.bodyBounds.getBottomCenter(U,I,H);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:R=this.bodyBounds.getBottomRight(U,I,H);break}return R&&r.setPosition(U,R),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off(L.UPDATE,this.world.update,this.world),U.off(L.POST_UPDATE,this.world.postUpdate,this.world)),U.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});z.register("MatterPhysics",N,"matterPhysics"),c.exports=N},34803:(c,x,e)=>{var o=e(9674),p=e(83419),a=e(31884),r=e(95643),s=e(95540),t=e(72699),n=e(68287),h=e(26099),i=new p({Extends:n,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,t],initialize:function(u,d,f,v,m,g){r.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(v,m),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new h(d,f);var y=s(g,"shape",null);y?this.setBody(y,g):this.setRectangle(this.width,this.height,g),this.setPosition(d,f),this.initPipeline(),this.initPostPipeline(!0)}});c.exports=i},73834:(c,x,e)=>{var o=e(66280),p=e(22562),a=e(83419),r=e(31884),s=e(62644),t=e(50792),n=e(95540),h=e(97022),i=e(41598),l=new a({Extends:t,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(d,f,v){t.call(this),this.tile=f,this.world=d,f.physics.matterBody&&f.physics.matterBody.destroy(),f.physics.matterBody=this;var m=n(v,"body",null),g=n(v,"addToWorld",!0);if(m)this.setBody(m,g);else{var y=f.getCollisionGroup(),T=n(y,"objects",[]);T.length>0?this.setFromTileCollision(v):this.setFromTileRectangle(v)}if(f.flipX||f.flipY){var C={x:f.getCenterX(),y:f.getCenterY()},E=f.flipX?-1:1,z=f.flipY?-1:1;p.scale(m,E,z,C)}},setFromTileRectangle:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);var d=this.tile.getBounds(),f=d.x+d.width/2,v=d.y+d.height/2,m=o.rectangle(f,v,d.width,d.height,u);return this.setBody(m,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,f=this.tile.tilemapLayer.scaleY,v=this.tile.getLeft(),m=this.tile.getTop(),g=this.tile.getCollisionGroup(),y=n(g,"objects",[]),T=[],C=0;C<y.length;C++){var E=y[C],z=v+E.x*d,D=m+E.y*f,A=E.width*d,L=E.height*f,b=null;if(E.rectangle)b=o.rectangle(z+A/2,D+L/2,A,L,u);else if(E.ellipse)b=o.circle(z+A/2,D+L/2,A/2,u);else if(E.polygon||E.polyline){var F=E.polygon?E.polygon:E.polyline,V=F.map(function(I){return{x:I.x*d,y:I.y*f}}),B=i.create(V),N=i.centre(B);z+=N.x,D+=N.y,b=o.fromVertices(z,D,B,u)}b&&T.push(b)}if(T.length===1)this.setBody(T[0],u.addToWorld);else if(T.length>1){var U=s(u);U.parts=T,this.setBody(p.create(U),U.addToWorld)}return this},setBody:function(u,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});c.exports=l},19496:(c,x,e)=>{var o=e(66280),p=e(22562),a=e(53402),r=e(95540),s=e(41598),t={parseBody:function(n,h,i,l){l===void 0&&(l={});for(var u=r(i,"fixtures",[]),d=[],f=0;f<u.length;f++)for(var v=this.parseFixture(u[f]),m=0;m<v.length;m++)d.push(v[m]);var g=a.clone(i,!0);a.extend(g,l,!0),delete g.fixtures,delete g.type;var y=p.create(g);return p.setParts(y,d),p.setPosition(y,{x:n,y:h}),y},parseFixture:function(n){var h=a.extend({},!1,n);delete h.circle,delete h.vertices;var i;if(n.circle){var l=r(n.circle,"x"),u=r(n.circle,"y"),d=r(n.circle,"radius");i=[o.circle(l,u,d,h)]}else n.vertices&&(i=this.parseVertices(n.vertices,h));return i},parseVertices:function(n,h){h===void 0&&(h={});for(var i=[],l=0;l<n.length;l++)s.clockwiseSort(n[l]),i.push(p.create(a.extend({position:s.centre(n[l]),vertices:n[l]},h)));return o.flagCoincidentParts(i)}};c.exports=t},85791:(c,x,e)=>{var o=e(66280),p=e(22562),a={parseBody:function(r,s,t,n){n===void 0&&(n={});var h,i=t.vertices;if(i.length===1)n.vertices=i[0],h=p.create(n),o.flagCoincidentParts(h.parts);else{for(var l=[],u=0;u<i.length;u++){var d=p.create({vertices:i[u]});l.push(d)}o.flagCoincidentParts(l),n.parts=l,h=p.create(n)}return h.label=t.label,p.setPosition(h,{x:r,y:s}),h}};c.exports=a},98713:(c,x,e)=>{var o=e(15647),p=e(83419),a=e(69351),r=e(48140),s=e(81388),t=e(1121),n=e(8214),h=e(46975),i=e(53614),l=e(26099),u=e(41598),d=new p({initialize:function(v,m,g){g===void 0&&(g={});var y={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=v,this.world=m,this.camera=null,this.pointer=null,this.active=!0,this.position=new l,this.body=null,this.part=null,this.constraint=r.create(h(g,y)),this.world.on(t.BEFORE_UPDATE,this.update,this),v.sys.input.on(n.POINTER_DOWN,this.onDown,this),v.sys.input.on(n.POINTER_UP,this.onUp,this)},onDown:function(f){this.pointer||(this.pointer=f,this.camera=f.camera)},onUp:function(f){f===this.pointer&&(this.pointer=null)},getBody:function(f){var v=this.position,m=this.constraint;this.camera.getWorldPoint(f.x,f.y,v);for(var g=a.allBodies(this.world.localWorld),y=0;y<g.length;y++){var T=g[y];if(!T.ignorePointer&&o.contains(T.bounds,v)&&s.canCollide(T.collisionFilter,m.collisionFilter)&&this.hitTestBody(T,v))return this.world.emit(t.DRAG_START,T,this.part,this),!0}return!1},hitTestBody:function(f,v){for(var m=this.constraint,g=f.parts.length,y=g>1?1:0,T=y;T<g;T++){var C=f.parts[T];if(u.contains(C.vertices,v))return m.pointA=v,m.pointB={x:v.x-f.position.x,y:v.y-f.position.y},m.bodyB=f,m.angleB=f.angle,i.set(f,!1),this.part=C,this.body=f,!0}return!1},update:function(){var f=this.pointer,v=this.body;if(!this.active||!f){v&&this.stopDrag();return}if(!f.isDown&&v){this.stopDrag();return}else if(f.isDown){if(!this.camera||!v&&!this.getBody(f))return;v=this.body;var m=this.position,g=this.constraint;this.camera.getWorldPoint(f.x,f.y,m),g.pointA.x=m.x,g.pointA.y=m.y,i.set(v,!1),this.world.emit(t.DRAG,v,this)}},stopDrag:function(){var f=this.body,v=this.constraint;v.bodyB=null,v.pointB=null,this.pointer=null,this.body=null,this.part=null,f&&this.world.emit(t.DRAG_END,f,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(t.BEFORE_UPDATE,this.update),this.scene.sys.input.off(n.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(n.POINTER_UP,this.onUp,this)}});c.exports=d},68243:(c,x,e)=>{var o=e(66280),p=e(22562),a=e(83419),r=e(53402),s=e(69351),t=e(48413),n=e(50792),h=e(1121),i=e(95540),l=e(35154),u=e(22562),d=e(35810),f=e(73834),v=e(4372),m=e(13037),g=e(31725),y=new a({Extends:n,initialize:function(C,E){n.call(this),this.scene=C,this.engine=t.create(E),this.localWorld=this.engine.world;var z=l(E,"gravity",null);z?this.setGravity(z.x,z.y,z.scale):z===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=l(E,"enabled",!0),this.getDelta=l(E,"getDelta",this.update60Hz);var D=i(E,"runner",{}),A=i(D,"fps",!1),L=i(D,"fps",60),b=i(D,"delta",1e3/L),F=i(D,"deltaMin",1e3/L),V=i(D,"deltaMax",1e3/(L*.5));A||(L=1e3/b),this.runner={fps:L,deltaSampleSize:i(D,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:i(D,"isFixed",!1),delta:b,deltaMin:F,deltaMax:V},this.autoUpdate=l(E,"autoUpdate",!0);var B=l(E,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:i(B,"showAxes",!1),showAngleIndicator:i(B,"showAngleIndicator",!1),angleColor:i(B,"angleColor",15208787),showBroadphase:i(B,"showBroadphase",!1),broadphaseColor:i(B,"broadphaseColor",16757760),showBounds:i(B,"showBounds",!1),boundsColor:i(B,"boundsColor",16777215),showVelocity:i(B,"showVelocity",!1),velocityColor:i(B,"velocityColor",44783),showCollisions:i(B,"showCollisions",!1),collisionColor:i(B,"collisionColor",16094476),showSeparations:i(B,"showSeparations",!1),separationColor:i(B,"separationColor",16753920),showBody:i(B,"showBody",!0),showStaticBody:i(B,"showStaticBody",!0),showInternalEdges:i(B,"showInternalEdges",!1),renderFill:i(B,"renderFill",!1),renderLine:i(B,"renderLine",!0),fillColor:i(B,"fillColor",1075465),fillOpacity:i(B,"fillOpacity",1),lineColor:i(B,"lineColor",2678297),lineOpacity:i(B,"lineOpacity",1),lineThickness:i(B,"lineThickness",1),staticFillColor:i(B,"staticFillColor",857979),staticLineColor:i(B,"staticLineColor",1255396),showSleeping:i(B,"showSleeping",!1),staticBodySleepOpacity:i(B,"staticBodySleepOpacity",.7),sleepFillColor:i(B,"sleepFillColor",4605510),sleepLineColor:i(B,"sleepLineColor",10066585),showSensors:i(B,"showSensors",!0),sensorFillColor:i(B,"sensorFillColor",857979),sensorLineColor:i(B,"sensorLineColor",1255396),showPositions:i(B,"showPositions",!0),positionSize:i(B,"positionSize",4),positionColor:i(B,"positionColor",14697178),showJoint:i(B,"showJoint",!0),jointColor:i(B,"jointColor",14737474),jointLineOpacity:i(B,"jointLineOpacity",1),jointLineThickness:i(B,"jointLineThickness",2),pinSize:i(B,"pinSize",4),pinColor:i(B,"pinColor",4382944),springColor:i(B,"springColor",14697184),anchorColor:i(B,"anchorColor",15724527),anchorSize:i(B,"anchorSize",4),showConvexHulls:i(B,"showConvexHulls",!1),hullColor:i(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(E,"setBounds",!1)){var N=E.setBounds;if(typeof N=="boolean")this.setBounds();else{var U=i(N,"x",0),I=i(N,"y",0),H=i(N,"width",C.sys.scale.width),O=i(N,"height",C.sys.scale.height),R=i(N,"thickness",64),Y=i(N,"left",!0),G=i(N,"right",!0),k=i(N,"top",!0),W=i(N,"bottom",!0);this.setBounds(U,I,H,O,R,Y,G,k,W)}}},setCompositeRenderStyle:function(T){var C=T.bodies,E=T.constraints,z=T.composites,D,A,L;for(D=0;D<C.length;D++)A=C[D],L=A.render,this.setBodyRenderStyle(A,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(D=0;D<E.length;D++)A=E[D],L=A.render,this.setConstraintRenderStyle(A,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(D=0;D<z.length;D++)A=z[D],this.setCompositeRenderStyle(A);return this},setBodyRenderStyle:function(T,C,E,z,D,A){var L=T.render,b=this.debugConfig;return L?(C==null&&(C=T.isStatic?b.staticLineColor:b.lineColor),E==null&&(E=b.lineOpacity),z==null&&(z=b.lineThickness),D==null&&(D=T.isStatic?b.staticFillColor:b.fillColor),A==null&&(A=b.fillOpacity),C!==!1&&(L.lineColor=C),E!==!1&&(L.lineOpacity=E),z!==!1&&(L.lineThickness=z),D!==!1&&(L.fillColor=D),A!==!1&&(L.fillOpacity=A),this):this},setConstraintRenderStyle:function(T,C,E,z,D,A,L){var b=T.render,F=this.debugConfig;if(!b)return this;if(C==null){var V=b.type;V==="line"?C=F.jointColor:V==="pin"?C=F.pinColor:V==="spring"&&(C=F.springColor)}return E==null&&(E=F.jointLineOpacity),z==null&&(z=F.jointLineThickness),D==null&&(D=F.pinSize),A==null&&(A=F.anchorColor),L==null&&(L=F.anchorSize),C!==!1&&(b.lineColor=C),E!==!1&&(b.lineOpacity=E),z!==!1&&(b.lineThickness=z),D!==!1&&(b.pinSize=D),A!==!1&&(b.anchorColor=A),L!==!1&&(b.anchorSize=L),this},setEventsProxy:function(){var T=this,C=this.engine,E=this.localWorld;this.drawDebug&&(d.on(E,"compositeModified",function(z){T.setCompositeRenderStyle(z)}),d.on(E,"beforeAdd",function(z){for(var D=[].concat(z.object),A=0;A<D.length;A++){var L=D[A],b=L.render;L.type==="body"?T.setBodyRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity):L.type==="composite"?T.setCompositeRenderStyle(L):L.type==="constraint"&&T.setConstraintRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize)}})),d.on(E,"beforeAdd",function(z){T.emit(h.BEFORE_ADD,z)}),d.on(E,"afterAdd",function(z){T.emit(h.AFTER_ADD,z)}),d.on(E,"beforeRemove",function(z){T.emit(h.BEFORE_REMOVE,z)}),d.on(E,"afterRemove",function(z){T.emit(h.AFTER_REMOVE,z)}),d.on(C,"beforeUpdate",function(z){T.emit(h.BEFORE_UPDATE,z)}),d.on(C,"afterUpdate",function(z){T.emit(h.AFTER_UPDATE,z)}),d.on(C,"collisionStart",function(z){var D=z.pairs,A,L;D.length>0&&D.map(function(b){A=b.bodyA,L=b.bodyB,A.gameObject&&A.gameObject.emit("collide",A,L,b),L.gameObject&&L.gameObject.emit("collide",L,A,b),d.trigger(A,"onCollide",{pair:b}),d.trigger(L,"onCollide",{pair:b}),A.onCollideCallback&&A.onCollideCallback(b),L.onCollideCallback&&L.onCollideCallback(b),A.onCollideWith[L.id]&&A.onCollideWith[L.id](L,b),L.onCollideWith[A.id]&&L.onCollideWith[A.id](A,b)}),T.emit(h.COLLISION_START,z,A,L)}),d.on(C,"collisionActive",function(z){var D=z.pairs,A,L;D.length>0&&D.map(function(b){A=b.bodyA,L=b.bodyB,A.gameObject&&A.gameObject.emit("collideActive",A,L,b),L.gameObject&&L.gameObject.emit("collideActive",L,A,b),d.trigger(A,"onCollideActive",{pair:b}),d.trigger(L,"onCollideActive",{pair:b}),A.onCollideActiveCallback&&A.onCollideActiveCallback(b),L.onCollideActiveCallback&&L.onCollideActiveCallback(b)}),T.emit(h.COLLISION_ACTIVE,z,A,L)}),d.on(C,"collisionEnd",function(z){var D=z.pairs,A,L;D.length>0&&D.map(function(b){A=b.bodyA,L=b.bodyB,A.gameObject&&A.gameObject.emit("collideEnd",A,L,b),L.gameObject&&L.gameObject.emit("collideEnd",L,A,b),d.trigger(A,"onCollideEnd",{pair:b}),d.trigger(L,"onCollideEnd",{pair:b}),A.onCollideEndCallback&&A.onCollideEndCallback(b),L.onCollideEndCallback&&L.onCollideEndCallback(b)}),T.emit(h.COLLISION_END,z,A,L)})},setBounds:function(T,C,E,z,D,A,L,b,F){return T===void 0&&(T=0),C===void 0&&(C=0),E===void 0&&(E=this.scene.sys.scale.width),z===void 0&&(z=this.scene.sys.scale.height),D===void 0&&(D=64),A===void 0&&(A=!0),L===void 0&&(L=!0),b===void 0&&(b=!0),F===void 0&&(F=!0),this.updateWall(A,"left",T-D,C-D,D,z+D*2),this.updateWall(L,"right",T+E,C-D,D,z+D*2),this.updateWall(b,"top",T,C-D,E,D),this.updateWall(F,"bottom",T,C+z,E,D),this},updateWall:function(T,C,E,z,D,A){var L=this.walls[C];T?(L&&v.remove(this.localWorld,L),E+=D/2,z+=A/2,this.walls[C]=this.create(E,z,D,A,{isStatic:!0,friction:0,frictionStatic:0})):(L&&v.remove(this.localWorld,L),this.walls[C]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,C,E){return T===void 0&&(T=0),C===void 0&&(C=1),E===void 0&&(E=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=E,this},create:function(T,C,E,z,D){var A=o.rectangle(T,C,E,z,D);return v.add(this.localWorld,A),A},add:function(T){return v.add(this.localWorld,T),this},remove:function(T,C){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++){var z=T[E],D=z.body?z.body:z;s.remove(this.localWorld,D,C)}return this},removeConstraint:function(T,C){return s.remove(this.localWorld,T,C),this},convertTilemapLayer:function(T,C){var E=T.layer,z=T.getTilesWithin(0,0,E.width,E.height,{isColliding:!0});return this.convertTiles(z,C),this},convertTiles:function(T,C){if(T.length===0)return this;for(var E=0;E<T.length;E++)new f(this,T[E],C);return this},nextGroup:function(T){return u.nextGroup(T)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=r.now(),this.emit(h.RESUME),this},update:function(T){if(!(!this.enabled||!this.autoUpdate)){var C=this.engine,E=this.runner,z=r.now(),D=E.delta,A=0,L=T-E.timeLastTick;if((!L||!E.timeLastTick||L>Math.max(m._maxFrameDelta,E.maxFrameTime))&&(L=E.frameDelta||m._frameDeltaFallback),E.frameDeltaSmoothing){E.frameDeltaHistory.push(L),E.frameDeltaHistory=E.frameDeltaHistory.slice(-E.frameDeltaHistorySize);var b=E.frameDeltaHistory.slice(0).sort(),F=E.frameDeltaHistory.slice(b.length*m._smoothingLowerBound,b.length*m._smoothingUpperBound),V=m._mean(F);L=V||L}E.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),E.frameDelta=L,E.timeLastTick=T,E.timeBuffer+=E.frameDelta,E.timeBuffer=r.clamp(E.timeBuffer,0,E.frameDelta+D*m._timeBufferMargin),E.lastUpdatesDeferred=0;for(var B=E.maxUpdates||Math.ceil(E.maxFrameTime/D),N=r.now();D>0&&E.timeBuffer>=D*m._timeBufferMargin;){t.update(C,D),E.timeBuffer-=D,A+=1;var U=r.now()-z,I=r.now()-N,H=U+m._elapsedNextEstimate*I/A;if(A>=B||H>E.maxFrameTime){E.lastUpdatesDeferred=Math.round(Math.max(0,E.timeBuffer/D-m._timeBufferMargin));break}}}},step:function(T){t.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var C=T.hasOwnProperty("body")?T.body:T;return s.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,C=this.engine,E=this.debugGraphic,z=s.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,E,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(z,E,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(z),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(z,E,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(z,E,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(C.pairs.list,E,T.separationColor),T.showCollisions&&this.renderCollisions(C.pairs.list,E,T.collisionColor)}},renderGrid:function(T,C,E,z){C.lineStyle(1,E,z);for(var D=r.keys(T.buckets),A=0;A<D.length;A++){var L=D[A];if(!(T.buckets[L].length<2)){var b=L.split(/C|R/);C.strokeRect(parseInt(b[1],10)*T.bucketWidth,parseInt(b[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,C,E){C.lineStyle(1,E,1);for(var z=0;z<T.length;z++){var D=T[z];if(D.isActive){var A=D.collision,L=A.bodyA,b=A.bodyB,F=L.position,V=b.position,B=A.penetration,N=!L.isStatic&&!b.isStatic?4:1;b.isStatic&&(N=0),C.lineBetween(V.x,V.y,V.x-B.x*N,V.y-B.y*N),N=!L.isStatic&&!b.isStatic?4:1,L.isStatic&&(N=0),C.lineBetween(F.x,F.y,F.x-B.x*N,F.y-B.y*N)}}return this},renderCollisions:function(T,C,E){C.lineStyle(1,E,.5),C.fillStyle(E,1);var z,D;for(z=0;z<T.length;z++)if(D=T[z],!!D.isActive)for(var A=0;A<D.contactCount;A++){var L=D.contacts[A],b=L.vertex;b&&C.fillRect(b.x-2,b.y-2,5,5)}for(z=0;z<T.length;z++)if(D=T[z],!!D.isActive){var F=D.collision,V=D.contacts;if(D.contactCount>0){var B=V[0].vertex.x,N=V[0].vertex.y;D.contactCount===2&&(B=(V[0].vertex.x+V[1].vertex.x)/2,N=(V[0].vertex.y+V[1].vertex.y)/2),F.bodyB===F.supports[0].body||F.bodyA.isStatic?C.lineBetween(B-F.normal.x*8,N-F.normal.y*8,B,N):C.lineBetween(B+F.normal.x*8,N+F.normal.y*8,B,N)}}return this},renderBodyBounds:function(T,C,E,z){C.lineStyle(1,E,z);for(var D=0;D<T.length;D++){var A=T[D];if(A.render.visible){var L=A.bounds;if(L)C.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var b=A.parts,F=b.length>1?1:0;F<b.length;F++){var V=b[F];C.strokeRect(V.bounds.min.x,V.bounds.min.y,V.bounds.max.x-V.bounds.min.x,V.bounds.max.y-V.bounds.min.y)}}}return this},renderBodyAxes:function(T,C,E,z,D){C.lineStyle(1,z,D);for(var A=0;A<T.length;A++){var L=T[A],b=L.parts;if(L.render.visible){var F,V,B;if(E)for(V=b.length>1?1:0;V<b.length;V++)for(F=b[V],B=0;B<F.axes.length;B++){var N=F.axes[B];C.lineBetween(F.position.x,F.position.y,F.position.x+N.x*20,F.position.y+N.y*20)}else for(V=b.length>1?1:0;V<b.length;V++)for(F=b[V],B=0;B<F.axes.length;B++)C.lineBetween(F.position.x,F.position.y,(F.vertices[0].x+F.vertices[F.vertices.length-1].x)/2,(F.vertices[0].y+F.vertices[F.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,C,E,z,D){C.lineStyle(D,E,z);for(var A=0;A<T.length;A++){var L=T[A];L.render.visible&&C.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(T){for(var C=this.debugGraphic,E=this.debugConfig,z=E.showBody,D=E.showStaticBody,A=E.showSleeping,L=E.showInternalEdges,b=E.showConvexHulls,F=E.renderFill,V=E.renderLine,B=E.staticBodySleepOpacity,N=E.sleepFillColor,U=E.sleepLineColor,I=E.hullColor,H=0;H<T.length;H++){var O=T[H];if(O.render.visible&&!(!D&&O.isStatic||!z&&!O.isStatic)){var R=O.render.lineColor,Y=O.render.lineOpacity,G=O.render.lineThickness,k=O.render.fillColor,W=O.render.fillOpacity;A&&O.isSleeping&&(O.isStatic?(Y*=B,W*=B):(R=U,k=N)),F||(k=null),V||(R=null),this.renderBody(O,C,L,R,Y,G,k,W);var X=O.parts.length;b&&X>1&&this.renderConvexHull(O,C,I,G)}}},renderBody:function(T,C,E,z,D,A,L,b){z===void 0&&(z=null),D===void 0&&(D=null),A===void 0&&(A=1),L===void 0&&(L=null),b===void 0&&(b=null);for(var F=this.debugConfig,V=F.sensorFillColor,B=F.sensorLineColor,N=T.parts,U=N.length,I=U>1?1:0;I<U;I++){var H=N[I],O=H.render,R=O.opacity;if(!(!O.visible||R===0||H.isSensor&&!F.showSensors)){var Y=H.circleRadius;if(C.beginPath(),H.isSensor?(L!==null&&C.fillStyle(V,b*R),z!==null&&C.lineStyle(A,B,D*R)):(L!==null&&C.fillStyle(L,b*R),z!==null&&C.lineStyle(A,z,D*R)),Y)C.arc(H.position.x,H.position.y,Y,0,2*Math.PI);else{var G=H.vertices,k=G.length;C.moveTo(G[0].x,G[0].y);for(var W=1;W<k;W++){var X=G[W];if(!G[W-1].isInternal||E?C.lineTo(X.x,X.y):C.moveTo(X.x,X.y),W<k&&X.isInternal&&!E){var j=(W+1)%k;C.moveTo(G[j].x,G[j].y)}}C.closePath()}L!==null&&C.fillPath(),z!==null&&C.strokePath()}}if(F.showPositions&&!T.isStatic){var K=T.position.x,$=T.position.y,Z=Math.ceil(F.positionSize/2);C.fillStyle(F.positionColor,1),C.fillRect(K-Z,$-Z,F.positionSize,F.positionSize)}return this},renderConvexHull:function(T,C,E,z){z===void 0&&(z=1);var D=T.parts,A=D.length;if(A>1){var L=T.vertices;C.lineStyle(z,E),C.beginPath(),C.moveTo(L[0].x,L[0].y);for(var b=1;b<L.length;b++)C.lineTo(L[b].x,L[b].y);C.lineTo(L[0].x,L[0].y),C.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,C=s.allConstraints(this.localWorld),E=0;E<C.length;E++){var z=C[E].render,D=z.lineColor,A=z.lineOpacity,L=z.lineThickness,b=z.pinSize,F=z.anchorColor,V=z.anchorSize;this.renderConstraint(C[E],T,D,A,L,b,F,V)}},renderConstraint:function(T,C,E,z,D,A,L,b){var F=T.render;if(!F.visible||!T.pointA||!T.pointB)return this;C.lineStyle(D,E,z);var V=T.bodyA,B=T.bodyB,N,U;if(V?N=g.add(V.position,T.pointA):N=T.pointA,F.type==="pin")C.strokeCircle(N.x,N.y,A);else{if(B?U=g.add(B.position,T.pointB):U=T.pointB,C.beginPath(),C.moveTo(N.x,N.y),F.type==="spring")for(var I=g.sub(U,N),H=g.perp(g.normalise(I)),O=Math.ceil(r.clamp(T.length/5,12,20)),R,Y=1;Y<O;Y+=1)R=Y%2===0?1:-1,C.lineTo(N.x+I.x*(Y/O)+H.x*R*4,N.y+I.y*(Y/O)+H.y*R*4);C.lineTo(U.x,U.y)}return C.strokePath(),F.anchors&&b>0&&(C.fillStyle(L),C.fillCircle(N.x,N.y,b),C.fillCircle(U.x,U.y,b)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),t.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});c.exports=y},70410:c=>{var x={setBounce:function(e){return this.body.restitution=e,this}};c.exports=x},66968:c=>{var x={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var o=0;if(!Array.isArray(e))o=e;else for(var p=0;p<e.length;p++)o|=e[p];return this.body.collisionFilter.mask=o,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,o){Array.isArray(e)||(e=[e]);for(var p=0;p<e.length;p++){var a=e[p].hasOwnProperty("body")?e[p].body:e[p];this.body.setOnCollideWith(a,o)}return this}};c.exports=x},51607:(c,x,e)=>{var o=e(22562),p={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return o.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};c.exports=p},5436:c=>{var x={setFriction:function(e,o,p){return this.body.friction=e,o!==void 0&&(this.body.frictionAir=o),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};c.exports=x},39858:c=>{var x={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};c.exports=x},37302:(c,x,e)=>{var o=e(22562),p=e(26099),a={setMass:function(r){return o.setMass(this.body,r),this},setDensity:function(r){return o.setDensity(this.body,r),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};c.exports=a},39132:c=>{var x={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};c.exports=x},57772:(c,x,e)=>{var o=e(66280),p=e(22562),a=e(43855),r=e(95540),s=e(19496),t=e(85791),n=e(41598),h={setRectangle:function(i,l,u){return this.setBody({type:"rectangle",width:i,height:l},u)},setCircle:function(i,l){return this.setBody({type:"circle",radius:i},l)},setPolygon:function(i,l,u){return this.setBody({type:"polygon",sides:l,radius:i},u)},setTrapezoid:function(i,l,u,d){return this.setBody({type:"trapezoid",width:i,height:l,slope:u},d)},setExistingBody:function(i,l){l===void 0&&(l=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var d=this;if(i.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},l&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var f=i.render.sprite.xOffset,v=i.render.sprite.yOffset,m=i.centerOfMass.x,g=i.centerOfMass.y;if(a(m,.5)&&a(g,.5))this.setOrigin(f+.5,v+.5);else{var y=i.centerOffset.x,T=i.centerOffset.y;this.setOrigin(f+y/this.displayWidth,v+T/this.displayHeight)}}return this},setBody:function(i,l){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var d=r(i,"type","rectangle"),f=r(i,"x",this._tempVec2.x),v=r(i,"y",this._tempVec2.y),m=r(i,"width",this.width),g=r(i,"height",this.height);switch(d){case"rectangle":u=o.rectangle(f,v,m,g,l);break;case"circle":var y=r(i,"radius",Math.max(m,g)/2),T=r(i,"maxSides",25);u=o.circle(f,v,y,l,T);break;case"trapezoid":var C=r(i,"slope",.5);u=o.trapezoid(f,v,m,g,C,l);break;case"polygon":var E=r(i,"sides",5),z=r(i,"radius",Math.max(m,g)/2);u=o.polygon(f,v,E,z,l);break;case"fromVertices":case"fromVerts":var D=r(i,"verts",null);if(D)if(typeof D=="string"&&(D=n.fromPath(D)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,D),u=this.body;else{var A=r(i,"flagInternal",!1),L=r(i,"removeCollinear",.01),b=r(i,"minimumArea",10);u=o.fromVertices(f,v,D,l,A,L,b)}break;case"fromPhysicsEditor":u=s.parseBody(f,v,i,l);break;case"fromPhysicsTracer":u=t.parseBody(f,v,i,l);break}return u&&this.setExistingBody(u,i.addToWorld),this}};c.exports=h},38083:(c,x,e)=>{var o=e(1121),p=e(53614),a=e(35810),r={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,t){return this.setSleepStartEvent(s),this.setSleepEndEvent(t),this},setSleepStartEvent:function(s){if(s){var t=this.world;a.on(this.body,"sleepStart",function(n){t.emit(o.SLEEP_START,n,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var t=this.world;a.on(this.body,"sleepEnd",function(n){t.emit(o.SLEEP_END,n,this)})}else a.off(this.body,"sleepEnd");return this}};c.exports=r},90556:(c,x,e)=>{var o=e(22562),p={setStatic:function(a){return o.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};c.exports=p},85436:(c,x,e)=>{var o=e(22562),p=e(36383),a=e(86554),r=e(30954),s=4,t={x:{get:function(){return this.body.position.x},set:function(n){this._tempVec2.set(n,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(n){this._tempVec2.set(this.x,n),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(n){var h=1/this._scaleX,i=1/this._scaleY;this._scaleX=n,this._scaleX===0?this.renderFlags&=~s:this.renderFlags|=s,o.scale(this.body,h,i),o.scale(this.body,n,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(n){var h=1/this._scaleX,i=1/this._scaleY;this._scaleY=n,this._scaleY===0?this.renderFlags&=~s:this.renderFlags|=s,o.scale(this.body,h,i),o.scale(this.body,this._scaleX,n)}},angle:{get:function(){return r(this.body.angle*p.RAD_TO_DEG)},set:function(n){this.rotation=r(n)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(n){this._rotation=a(n),o.setAngle(this.body,this._rotation)}},setPosition:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this._tempVec2.set(n,h),o.setPosition(this.body,this._tempVec2),this},setRotation:function(n){return n===void 0&&(n=0),this._rotation=a(n),o.setAngle(this.body,n),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,o.setAngle(this.body,this.rotation),this},setScale:function(n,h,i){n===void 0&&(n=1),h===void 0&&(h=n);var l=1/this._scaleX,u=1/this._scaleY;return this._scaleX=n,this._scaleY=h,o.scale(this.body,l,u,i),o.scale(this.body,n,h,i),this}};c.exports=t},42081:(c,x,e)=>{var o=e(22562),p={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(a){return o.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(a){return o.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};c.exports=p},31884:(c,x,e)=>{c.exports={Bounce:e(70410),Collision:e(66968),Force:e(51607),Friction:e(5436),Gravity:e(39858),Mass:e(37302),Sensor:e(39132),SetBody:e(57772),Sleep:e(38083),Static:e(90556),Transform:e(85436),Velocity:e(42081)}},85608:c=>{c.exports="afteradd"},1213:c=>{c.exports="afterremove"},25968:c=>{c.exports="afterupdate"},67205:c=>{c.exports="beforeadd"},39438:c=>{c.exports="beforeremove"},44823:c=>{c.exports="beforeupdate"},92593:c=>{c.exports="collisionactive"},60128:c=>{c.exports="collisionend"},76861:c=>{c.exports="collisionstart"},92362:c=>{c.exports="dragend"},76408:c=>{c.exports="drag"},93971:c=>{c.exports="dragstart"},5656:c=>{c.exports="pause"},47861:c=>{c.exports="resume"},79099:c=>{c.exports="sleepend"},35906:c=>{c.exports="sleepstart"},1121:(c,x,e)=>{c.exports={AFTER_ADD:e(85608),AFTER_REMOVE:e(1213),AFTER_UPDATE:e(25968),BEFORE_ADD:e(67205),BEFORE_REMOVE:e(39438),BEFORE_UPDATE:e(44823),COLLISION_ACTIVE:e(92593),COLLISION_END:e(60128),COLLISION_START:e(76861),DRAG_END:e(92362),DRAG:e(76408),DRAG_START:e(93971),PAUSE:e(5656),RESUME:e(47861),SLEEP_END:e(79099),SLEEP_START:e(35906)}},3875:(c,x,e)=>{c.exports={BodyBounds:e(68174),Components:e(31884),Events:e(1121),Factory:e(28137),MatterGameObject:e(75803),Image:e(23181),Matter:e(19933),MatterPhysics:e(42045),PolyDecomp:e(55973),Sprite:e(34803),TileBody:e(73834),PhysicsEditorParser:e(19496),PhysicsJSONParser:e(85791),PointerConstraint:e(98713),World:e(68243)}},22562:(c,x,e)=>{var o={};c.exports=o;var p=e(41598),a=e(31725),r=e(53614),s=e(53402),t=e(15647),n=e(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(i){var l={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=p.centre(i.vertices):i.hasOwnProperty("vertices")||(l.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=s.extend(l,i);return h(u,i),u.setOnCollideWith=function(d,f){return f?this.onCollideWith[d.id]=f:delete this.onCollideWith[d.id],this},u},o.nextGroup=function(i){return i?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var h=function(i,l){if(l=l||{},o.set(i,{bounds:i.bounds||t.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),p.rotate(i.vertices,i.angle,i.position),n.rotate(i.axes,i.angle),t.update(i.bounds,i.vertices,i.velocity),o.set(i,{axes:l.axes||i.axes,area:l.area||i.area,mass:l.mass||i.mass,inertia:l.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,d=i.centerOfMass,f=i.centerOffset,v=u.max.x-u.min.x,m=u.max.y-u.min.y;d.x=-(u.min.x-i.position.x)/v,d.y=-(u.min.y-i.position.y)/m,f.x=v*d.x,f.y=m*d.y}};o.set=function(i,l,u){var d;typeof l=="string"&&(d=l,l={},l[d]=u);for(d in l)if(Object.prototype.hasOwnProperty.call(l,d))switch(u=l[d],d){case"isStatic":o.setStatic(i,u);break;case"isSleeping":r.set(i,u);break;case"mass":o.setMass(i,u);break;case"density":o.setDensity(i,u);break;case"inertia":o.setInertia(i,u);break;case"vertices":o.setVertices(i,u);break;case"position":o.setPosition(i,u);break;case"angle":o.setAngle(i,u);break;case"velocity":o.setVelocity(i,u);break;case"angularVelocity":o.setAngularVelocity(i,u);break;case"speed":o.setSpeed(i,u);break;case"angularSpeed":o.setAngularSpeed(i,u);break;case"parts":o.setParts(i,u);break;case"centre":o.setCentre(i,u);break;default:i[d]=u}},o.setStatic=function(i,l){for(var u=0;u<i.parts.length;u++){var d=i.parts[u];l?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=l}},o.setMass=function(i,l){var u=i.inertia/(i.mass/6);i.inertia=u*(l/6),i.inverseInertia=1/i.inertia,i.mass=l,i.inverseMass=1/i.mass,i.density=i.mass/i.area},o.setDensity=function(i,l){o.setMass(i,l*i.area),i.density=l},o.setInertia=function(i,l){i.inertia=l,i.inverseInertia=1/i.inertia},o.setVertices=function(i,l){l[0].body===i?i.vertices=l:i.vertices=p.create(l,i),i.axes=n.fromVertices(i.vertices),i.area=p.area(i.vertices),o.setMass(i,i.density*i.area);var u=p.centre(i.vertices);p.translate(i.vertices,u,-1),o.setInertia(i,o._inertiaScale*p.inertia(i.vertices,i.mass)),p.translate(i.vertices,i.position),t.update(i.bounds,i.vertices,i.velocity)},o.setParts=function(i,l,u){var d;for(l=l.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<l.length;d++){var f=l[d];f!==i&&(f.parent=i,i.parts.push(f))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var v=[];for(d=0;d<l.length;d++)v=v.concat(l[d].vertices);p.clockwiseSort(v);var m=p.hull(v),g=p.centre(m);o.setVertices(i,m),p.translate(i.vertices,g)}var y=o._totalProperties(i),T=y.centre.x,C=y.centre.y,E=i.bounds,z=i.centerOfMass,D=i.centerOffset;t.update(E,i.vertices,i.velocity),z.x=-(E.min.x-T)/(E.max.x-E.min.x),z.y=-(E.min.y-C)/(E.max.y-E.min.y),D.x=T,D.y=C,i.area=y.area,i.parent=i,i.position.x=T,i.position.y=C,i.positionPrev.x=T,i.positionPrev.y=C,o.setMass(i,y.mass),o.setInertia(i,y.inertia),o.setPosition(i,y.centre)}},o.setCentre=function(i,l,u){u?(i.positionPrev.x+=l.x,i.positionPrev.y+=l.y,i.position.x+=l.x,i.position.y+=l.y):(i.positionPrev.x=l.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=l.y-(i.position.y-i.positionPrev.y),i.position.x=l.x,i.position.y=l.y)},o.setPosition=function(i,l,u){var d=a.sub(l,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=a.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var f=0;f<i.parts.length;f++){var v=i.parts[f];v.position.x+=d.x,v.position.y+=d.y,p.translate(v.vertices,d),t.update(v.bounds,v.vertices,i.velocity)}},o.setAngle=function(i,l,u){var d=l-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var f=0;f<i.parts.length;f++){var v=i.parts[f];v.angle+=d,p.rotate(v.vertices,d,i.position),n.rotate(v.axes,d),t.update(v.bounds,v.vertices,i.velocity),f>0&&a.rotateAbout(v.position,d,i.position,v.position)}},o.setVelocity=function(i,l){var u=i.deltaTime/o._baseDelta;i.positionPrev.x=i.position.x-l.x*u,i.positionPrev.y=i.position.y-l.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=a.magnitude(i.velocity)},o.getVelocity=function(i){var l=o._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*l,y:(i.position.y-i.positionPrev.y)*l}},o.getSpeed=function(i){return a.magnitude(o.getVelocity(i))},o.setSpeed=function(i,l){o.setVelocity(i,a.mult(a.normalise(o.getVelocity(i)),l))},o.setAngularVelocity=function(i,l){var u=i.deltaTime/o._baseDelta;i.anglePrev=i.angle-l*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},o.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*o._baseDelta/i.deltaTime},o.getAngularSpeed=function(i){return Math.abs(o.getAngularVelocity(i))},o.setAngularSpeed=function(i,l){o.setAngularVelocity(i,s.sign(o.getAngularVelocity(i))*l)},o.translate=function(i,l,u){o.setPosition(i,a.add(i.position,l),u)},o.rotate=function(i,l,u,d){if(!u)o.setAngle(i,i.angle+l,d);else{var f=Math.cos(l),v=Math.sin(l),m=i.position.x-u.x,g=i.position.y-u.y;o.setPosition(i,{x:u.x+(m*f-g*v),y:u.y+(m*v+g*f)},d),o.setAngle(i,i.angle+l,d)}},o.scale=function(i,l,u,d){var f=0,v=0;d=d||i.position;for(var m=i.inertia===1/0,g=0;g<i.parts.length;g++){var y=i.parts[g];y.scale.x=l,y.scale.y=u,p.scale(y.vertices,l,u,d),y.axes=n.fromVertices(y.vertices),y.area=p.area(y.vertices),o.setMass(y,i.density*y.area),p.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),o.setInertia(y,o._inertiaScale*p.inertia(y.vertices,y.mass)),p.translate(y.vertices,{x:y.position.x,y:y.position.y}),g>0&&(f+=y.area,v+=y.inertia),y.position.x=d.x+(y.position.x-d.x)*l,y.position.y=d.y+(y.position.y-d.y)*u,t.update(y.bounds,y.vertices,i.velocity)}i.parts.length>1&&(i.area=f,i.isStatic||(o.setMass(i,i.density*f),o.setInertia(i,v))),i.circleRadius&&(l===u?i.circleRadius*=l:i.circleRadius=null),m&&o.setInertia(i,1/0)},o.update=function(i,l){l=(typeof l<"u"?l:16.666666666666668)*i.timeScale;var u=l*l,d=o._timeCorrection?l/(i.deltaTime||l):1,f=1-i.frictionAir*(l/s._baseDelta),v=(i.position.x-i.positionPrev.x)*d,m=(i.position.y-i.positionPrev.y)*d;i.velocity.x=v*f+i.force.x/i.mass*u,i.velocity.y=m*f+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=l,i.angularVelocity=(i.angle-i.anglePrev)*f*d+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var g=0;g<i.parts.length;g++){var y=i.parts[g];p.translate(y.vertices,i.velocity),g>0&&(y.position.x+=i.velocity.x,y.position.y+=i.velocity.y),i.angularVelocity!==0&&(p.rotate(y.vertices,i.angularVelocity,i.position),n.rotate(y.axes,i.angularVelocity),g>0&&a.rotateAbout(y.position,i.angularVelocity,i.position,y.position)),t.update(y.bounds,y.vertices,i.velocity)}},o.updateVelocities=function(i){var l=o._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*l,u.y=(i.position.y-i.positionPrev.y)*l,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*l,i.angularSpeed=Math.abs(i.angularVelocity)},o.applyForce=function(i,l,u){var d={x:l.x-i.position.x,y:l.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=d.x*u.y-d.y*u.x},o._totalProperties=function(i){for(var l={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var d=i.parts[u],f=d.mass!==1/0?d.mass:1;l.mass+=f,l.area+=d.area,l.inertia+=d.inertia,l.centre=a.add(l.centre,a.mult(d.position,f))}return l.centre=a.div(l.centre,l.mass),l},o.wrap=function(i,l){var u=t.wrap(i.bounds,l);return u&&o.translate(i,u),u}})()},69351:(c,x,e)=>{var o={};c.exports=o;var p=e(35810),a=e(53402),r=e(15647),s=e(22562);(function(){o.create=function(t){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},o.setModified=function(t,n,h,i){if(p.trigger(t,"compositeModified",t),t.isModified=n,n&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),h&&t.parent&&o.setModified(t.parent,n,h,i),i)for(var l=0;l<t.composites.length;l++){var u=t.composites[l];o.setModified(u,n,h,i)}},o.add=function(t,n){var h=[].concat(n);p.trigger(t,"beforeAdd",{object:n});for(var i=0;i<h.length;i++){var l=h[i];switch(l.type){case"body":if(l.parent!==l){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(t,l);break;case"constraint":o.addConstraint(t,l);break;case"composite":o.addComposite(t,l);break;case"mouseConstraint":o.addConstraint(t,l.constraint);break}}return p.trigger(t,"afterAdd",{object:n}),t},o.remove=function(t,n,h){var i=[].concat(n);p.trigger(t,"beforeRemove",{object:n});for(var l=0;l<i.length;l++){var u=i[l];switch(u.type){case"body":o.removeBody(t,u,h);break;case"constraint":o.removeConstraint(t,u,h);break;case"composite":o.removeComposite(t,u,h);break;case"mouseConstraint":o.removeConstraint(t,u.constraint);break}}return p.trigger(t,"afterRemove",{object:n}),t},o.addComposite=function(t,n){return t.composites.push(n),n.parent=t,o.setModified(t,!0,!0,!1),t},o.removeComposite=function(t,n,h){var i=a.indexOf(t.composites,n);if(i!==-1){var l=o.allBodies(n);o.removeCompositeAt(t,i);for(var u=0;u<l.length;u++)l[u].sleepCounter=0}if(h)for(var u=0;u<t.composites.length;u++)o.removeComposite(t.composites[u],n,!0);return t},o.removeCompositeAt=function(t,n){return t.composites.splice(n,1),o.setModified(t,!0,!0,!1),t},o.addBody=function(t,n){return t.bodies.push(n),o.setModified(t,!0,!0,!1),t},o.removeBody=function(t,n,h){var i=a.indexOf(t.bodies,n);if(i!==-1&&(o.removeBodyAt(t,i),n.sleepCounter=0),h)for(var l=0;l<t.composites.length;l++)o.removeBody(t.composites[l],n,!0);return t},o.removeBodyAt=function(t,n){return t.bodies.splice(n,1),o.setModified(t,!0,!0,!1),t},o.addConstraint=function(t,n){return t.constraints.push(n),o.setModified(t,!0,!0,!1),t},o.removeConstraint=function(t,n,h){var i=a.indexOf(t.constraints,n);if(i!==-1&&o.removeConstraintAt(t,i),h)for(var l=0;l<t.composites.length;l++)o.removeConstraint(t.composites[l],n,!0);return t},o.removeConstraintAt=function(t,n){return t.constraints.splice(n,1),o.setModified(t,!0,!0,!1),t},o.clear=function(t,n,h){if(h)for(var i=0;i<t.composites.length;i++)o.clear(t.composites[i],n,!0);return n?t.bodies=t.bodies.filter(function(l){return l.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,o.setModified(t,!0,!0,!1),t},o.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var n=[].concat(t.bodies),h=0;h<t.composites.length;h++)n=n.concat(o.allBodies(t.composites[h]));return t.cache&&(t.cache.allBodies=n),n},o.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var n=[].concat(t.constraints),h=0;h<t.composites.length;h++)n=n.concat(o.allConstraints(t.composites[h]));return t.cache&&(t.cache.allConstraints=n),n},o.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var n=[].concat(t.composites),h=0;h<t.composites.length;h++)n=n.concat(o.allComposites(t.composites[h]));return t.cache&&(t.cache.allComposites=n),n},o.get=function(t,n,h){var i,l;switch(h){case"body":i=o.allBodies(t);break;case"constraint":i=o.allConstraints(t);break;case"composite":i=o.allComposites(t).concat(t);break}return i?(l=i.filter(function(u){return u.id.toString()===n.toString()}),l.length===0?null:l[0]):null},o.move=function(t,n,h){return o.remove(t,n),o.add(h,n),t},o.rebase=function(t){for(var n=o.allBodies(t).concat(o.allConstraints(t)).concat(o.allComposites(t)),h=0;h<n.length;h++)n[h].id=a.nextId();return t},o.translate=function(t,n,h){for(var i=h?o.allBodies(t):t.bodies,l=0;l<i.length;l++)s.translate(i[l],n);return t},o.rotate=function(t,n,h,i){for(var l=Math.cos(n),u=Math.sin(n),d=i?o.allBodies(t):t.bodies,f=0;f<d.length;f++){var v=d[f],m=v.position.x-h.x,g=v.position.y-h.y;s.setPosition(v,{x:h.x+(m*l-g*u),y:h.y+(m*u+g*l)}),s.rotate(v,n)}return t},o.scale=function(t,n,h,i,l){for(var u=l?o.allBodies(t):t.bodies,d=0;d<u.length;d++){var f=u[d],v=f.position.x-i.x,m=f.position.y-i.y;s.setPosition(f,{x:i.x+v*n,y:i.y+m*h}),s.scale(f,n,h)}return t},o.bounds=function(t){for(var n=o.allBodies(t),h=[],i=0;i<n.length;i+=1){var l=n[i];h.push(l.bounds.min,l.bounds.max)}return r.create(h)},o.wrap=function(t,n){var h=r.wrap(o.bounds(t),n);return h&&o.translate(t,h),h}})()},4372:(c,x,e)=>{var o={};c.exports=o;var p=e(69351);(function(){o.create=p.create,o.add=p.add,o.remove=p.remove,o.clear=p.clear,o.addComposite=p.addComposite,o.addBody=p.addBody,o.addConstraint=p.addConstraint})()},52284:(c,x,e)=>{var o={};c.exports=o;var p=e(41598),a=e(4506);(function(){var r=[],s={overlap:0,axis:null},t={overlap:0,axis:null};o.create=function(n,h){return{pair:null,collided:!1,bodyA:n,bodyB:h,parentA:n.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(n,h,i){if(o._overlapAxes(s,n.vertices,h.vertices,n.axes),s.overlap<=0||(o._overlapAxes(t,h.vertices,n.vertices,h.axes),t.overlap<=0))return null;var l=i&&i.table[a.id(n,h)],u;l?u=l.collision:(u=o.create(n,h),u.collided=!0,u.bodyA=n.id<h.id?n:h,u.bodyB=n.id<h.id?h:n,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),n=u.bodyA,h=u.bodyB;var d;s.overlap<t.overlap?d=s:d=t;var f=u.normal,v=u.tangent,m=u.penetration,g=u.supports,y=d.overlap,T=d.axis,C=T.x,E=T.y,z=h.position.x-n.position.x,D=h.position.y-n.position.y;C*z+E*D>=0&&(C=-C,E=-E),f.x=C,f.y=E,v.x=-E,v.y=C,m.x=C*y,m.y=E*y,u.depth=y;var A=o._findSupports(n,h,f,1),L=0;if(p.contains(n.vertices,A[0])&&(g[L++]=A[0]),p.contains(n.vertices,A[1])&&(g[L++]=A[1]),L<2){var b=o._findSupports(h,n,f,-1);p.contains(h.vertices,b[0])&&(g[L++]=b[0]),L<2&&p.contains(h.vertices,b[1])&&(g[L++]=b[1])}return L===0&&(g[L++]=A[0]),u.supportCount=L,u},o._overlapAxes=function(n,h,i,l){var u=h.length,d=i.length,f=h[0].x,v=h[0].y,m=i[0].x,g=i[0].y,y=l.length,T=Number.MAX_VALUE,C=0,E,z,D,A,L,b;for(L=0;L<y;L++){var F=l[L],V=F.x,B=F.y,N=f*V+v*B,U=m*V+g*B,I=N,H=U;for(b=1;b<u;b+=1)A=h[b].x*V+h[b].y*B,A>I?I=A:A<N&&(N=A);for(b=1;b<d;b+=1)A=i[b].x*V+i[b].y*B,A>H?H=A:A<U&&(U=A);if(z=I-U,D=H-N,E=z<D?z:D,E<T&&(T=E,C=L,E<=0))break}n.axis=l[C],n.overlap=T},o._findSupports=function(n,h,i,l){var u=h.vertices,d=u.length,f=n.position.x,v=n.position.y,m=i.x*l,g=i.y*l,y=u[0],T=y,C=m*(f-T.x)+g*(v-T.y),E,z,D;for(D=1;D<d;D+=1)T=u[D],z=m*(f-T.x)+g*(v-T.y),z<C&&(C=z,y=T);return E=u[(d+y.index-1)%d],C=m*(f-E.x)+g*(v-E.y),T=u[(y.index+1)%d],m*(f-T.x)+g*(v-T.y)<C?(r[0]=y,r[1]=T,r):(r[0]=y,r[1]=E,r)}})()},43424:c=>{var x={};c.exports=x,function(){x.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},81388:(c,x,e)=>{var o={};c.exports=o;var p=e(53402),a=e(52284);(function(){o.create=function(r){var s={bodies:[],collisions:[],pairs:null};return p.extend(s,r)},o.setBodies=function(r,s){r.bodies=s.slice(0)},o.clear=function(r){r.bodies=[],r.collisions=[]},o.collisions=function(r){var s=r.pairs,t=r.bodies,n=t.length,h=o.canCollide,i=a.collides,l=r.collisions,u=0,d,f;for(t.sort(o._compareBoundsX),d=0;d<n;d++){var v=t[d],m=v.bounds,g=v.bounds.max.x,y=v.bounds.max.y,T=v.bounds.min.y,C=v.isStatic||v.isSleeping,E=v.parts.length,z=E===1;for(f=d+1;f<n;f++){var D=t[f],A=D.bounds;if(A.min.x>g)break;if(!(y<A.min.y||T>A.max.y)&&!(C&&(D.isStatic||D.isSleeping))&&h(v.collisionFilter,D.collisionFilter)){var L=D.parts.length;if(z&&L===1){var b=i(v,D,s);b&&(l[u++]=b)}else for(var F=E>1?1:0,V=L>1?1:0,B=F;B<E;B++)for(var N=v.parts[B],m=N.bounds,U=V;U<L;U++){var I=D.parts[U],A=I.bounds;if(!(m.min.x>A.max.x||m.max.x<A.min.x||m.max.y<A.min.y||m.min.y>A.max.y)){var b=i(N,I,s);b&&(l[u++]=b)}}}}}return l.length!==u&&(l.length=u),l},o.canCollide=function(r,s){return r.group===s.group&&r.group!==0?r.group>0:(r.mask&s.category)!==0&&(s.mask&r.category)!==0},o._compareBoundsX=function(r,s){return r.bounds.min.x-s.bounds.min.x}})()},4506:(c,x,e)=>{var o={};c.exports=o;var p=e(43424);(function(){o.create=function(a,r){var s=a.bodyA,t=a.bodyB,n={id:o.id(s,t),bodyA:s,bodyB:t,collision:a,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:s.isSensor||t.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(n,a,r),n},o.update=function(a,r,s){var t=r.supports,n=r.supportCount,h=a.contacts,i=r.parentA,l=r.parentB;a.isActive=!0,a.timeUpdated=s,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+l.inverseMass,a.friction=i.friction<l.friction?i.friction:l.friction,a.frictionStatic=i.frictionStatic>l.frictionStatic?i.frictionStatic:l.frictionStatic,a.restitution=i.restitution>l.restitution?i.restitution:l.restitution,a.slop=i.slop>l.slop?i.slop:l.slop,a.contactCount=n,r.pair=a;var u=t[0],d=h[0],f=t[1],v=h[1];(v.vertex===u||d.vertex===f)&&(h[1]=d,h[0]=d=v,v=h[1]),d.vertex=u,v.vertex=f},o.setActive=function(a,r,s){r?(a.isActive=!0,a.timeUpdated=s):(a.isActive=!1,a.contactCount=0)},o.id=function(a,r){return a.id<r.id?a.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+a.id.toString(36)}})()},99561:(c,x,e)=>{var o={};c.exports=o;var p=e(4506),a=e(53402);(function(){o.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},o.update=function(r,s,t){var n=p.update,h=p.create,i=p.setActive,l=r.table,u=r.list,d=u.length,f=d,v=r.collisionStart,m=r.collisionEnd,g=r.collisionActive,y=s.length,T=0,C=0,E=0,z,D,A;for(A=0;A<y;A++)z=s[A],D=z.pair,D?(D.isActive&&(g[E++]=D),n(D,z,t)):(D=h(z,t),l[D.id]=D,v[T++]=D,u[f++]=D);for(f=0,d=u.length,A=0;A<d;A++)D=u[A],D.timeUpdated>=t?u[f++]=D:(i(D,!1,t),D.collision.bodyA.sleepCounter>0&&D.collision.bodyB.sleepCounter>0?u[f++]=D:(m[C++]=D,delete l[D.id]));u.length!==f&&(u.length=f),v.length!==T&&(v.length=T),m.length!==C&&(m.length=C),g.length!==E&&(g.length=E)},o.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(c,x,e)=>{var o={};c.exports=o;var p=e(31725),a=e(52284),r=e(15647),s=e(66280),t=e(41598);(function(){o.collides=function(n,h){for(var i=[],l=h.length,u=n.bounds,d=a.collides,f=r.overlaps,v=0;v<l;v++){var m=h[v],g=m.parts.length,y=g===1?0:1;if(n!==m&&f(m.bounds,u))for(var T=y;T<g;T++){var C=m.parts[T];if(f(C.bounds,u)){var E=d(C,n);if(E){i.push(E);break}}}}return i},o.ray=function(n,h,i,l){l=l||1e-100;for(var u=p.angle(h,i),d=p.magnitude(p.sub(h,i)),f=(i.x+h.x)*.5,v=(i.y+h.y)*.5,m=s.rectangle(f,v,d,l,{angle:u}),g=o.collides(m,n),y=0;y<g.length;y+=1){var T=g[y];T.body=T.bodyB=T.bodyA}return g},o.region=function(n,h,i){for(var l=[],u=0;u<n.length;u++){var d=n[u],f=r.overlaps(d.bounds,h);(f&&!i||!f&&i)&&l.push(d)}return l},o.point=function(n,h){for(var i=[],l=0;l<n.length;l++){var u=n[l];if(r.contains(u.bounds,h))for(var d=u.parts.length===1?0:1;d<u.parts.length;d++){var f=u.parts[d];if(r.contains(f.bounds,h)&&t.contains(f.vertices,h)){i.push(u);break}}}return i}})()},66272:(c,x,e)=>{var o={};c.exports=o;var p=e(41598),a=e(53402),r=e(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(s){var t,n,h,i=s.length;for(t=0;t<i;t++)n=s[t],n.isActive&&(h=n.contactCount,n.collision.parentA.totalContacts+=h,n.collision.parentB.totalContacts+=h)},o.solvePosition=function(s,t,n){var h,i,l,u,d,f,v,m,g=o._positionDampen*(n||1),y=a.clamp(t/a._baseDelta,0,1),T=s.length;for(h=0;h<T;h++)i=s[h],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,d=l.parentB,f=l.normal,i.separation=l.depth+f.x*(d.positionImpulse.x-u.positionImpulse.x)+f.y*(d.positionImpulse.y-u.positionImpulse.y));for(h=0;h<T;h++)i=s[h],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,d=l.parentB,f=l.normal,m=i.separation-i.slop*y,(u.isStatic||d.isStatic)&&(m*=2),u.isStatic||u.isSleeping||(v=g/u.totalContacts,u.positionImpulse.x+=f.x*m*v,u.positionImpulse.y+=f.y*m*v),d.isStatic||d.isSleeping||(v=g/d.totalContacts,d.positionImpulse.x-=f.x*m*v,d.positionImpulse.y-=f.y*m*v))},o.postSolvePosition=function(s){for(var t=o._positionWarming,n=s.length,h=p.translate,i=r.update,l=0;l<n;l++){var u=s[l],d=u.positionImpulse,f=d.x,v=d.y,m=u.velocity;if(u.totalContacts=0,f!==0||v!==0){for(var g=0;g<u.parts.length;g++){var y=u.parts[g];h(y.vertices,d),i(y.bounds,y.vertices,m),y.position.x+=f,y.position.y+=v}u.positionPrev.x+=f,u.positionPrev.y+=v,f*m.x+v*m.y<0?(d.x=0,d.y=0):(d.x*=t,d.y*=t)}}},o.preSolveVelocity=function(s){var t=s.length,n,h;for(n=0;n<t;n++){var i=s[n];if(!(!i.isActive||i.isSensor)){var l=i.contacts,u=i.contactCount,d=i.collision,f=d.parentA,v=d.parentB,m=d.normal,g=d.tangent;for(h=0;h<u;h++){var y=l[h],T=y.vertex,C=y.normalImpulse,E=y.tangentImpulse;if(C!==0||E!==0){var z=m.x*C+g.x*E,D=m.y*C+g.y*E;f.isStatic||f.isSleeping||(f.positionPrev.x+=z*f.inverseMass,f.positionPrev.y+=D*f.inverseMass,f.anglePrev+=f.inverseInertia*((T.x-f.position.x)*D-(T.y-f.position.y)*z)),v.isStatic||v.isSleeping||(v.positionPrev.x-=z*v.inverseMass,v.positionPrev.y-=D*v.inverseMass,v.anglePrev-=v.inverseInertia*((T.x-v.position.x)*D-(T.y-v.position.y)*z))}}}}},o.solveVelocity=function(s,t){var n=t/a._baseDelta,h=n*n,i=h*n,l=-o._restingThresh*n,u=o._restingThreshTangent,d=o._frictionNormalMultiplier*n,f=o._frictionMaxStatic,v=s.length,m,g,y,T;for(y=0;y<v;y++){var C=s[y];if(!(!C.isActive||C.isSensor)){var E=C.collision,z=E.parentA,D=E.parentB,A=E.normal.x,L=E.normal.y,b=E.tangent.x,F=E.tangent.y,V=C.inverseMass,B=C.friction*C.frictionStatic*d,N=C.contacts,U=C.contactCount,I=1/U,H=z.position.x-z.positionPrev.x,O=z.position.y-z.positionPrev.y,R=z.angle-z.anglePrev,Y=D.position.x-D.positionPrev.x,G=D.position.y-D.positionPrev.y,k=D.angle-D.anglePrev;for(T=0;T<U;T++){var W=N[T],X=W.vertex,j=X.x-z.position.x,K=X.y-z.position.y,$=X.x-D.position.x,Z=X.y-D.position.y,J=H-K*R,Q=O+j*R,_=Y-Z*k,ae=G+$*k,oe=J-_,le=Q-ae,q=A*oe+L*le,ie=b*oe+F*le,ne=C.separation+q,fe=Math.min(ne,1);fe=ne<0?0:fe;var Te=fe*B;ie<-Te||ie>Te?(g=ie>0?ie:-ie,m=C.friction*(ie>0?1:-1)*i,m<-g?m=-g:m>g&&(m=g)):(m=ie,g=f);var Ie=j*L-K*A,xe=$*L-Z*A,ye=I/(V+z.inverseInertia*Ie*Ie+D.inverseInertia*xe*xe),Ne=(1+C.restitution)*q*ye;if(m*=ye,q<l)W.normalImpulse=0;else{var tt=W.normalImpulse;W.normalImpulse+=Ne,W.normalImpulse>0&&(W.normalImpulse=0),Ne=W.normalImpulse-tt}if(ie<-u||ie>u)W.tangentImpulse=0;else{var Ee=W.tangentImpulse;W.tangentImpulse+=m,W.tangentImpulse<-g&&(W.tangentImpulse=-g),W.tangentImpulse>g&&(W.tangentImpulse=g),m=W.tangentImpulse-Ee}var Ue=A*Ne+b*m,je=L*Ne+F*m;z.isStatic||z.isSleeping||(z.positionPrev.x+=Ue*z.inverseMass,z.positionPrev.y+=je*z.inverseMass,z.anglePrev+=(j*je-K*Ue)*z.inverseInertia),D.isStatic||D.isSleeping||(D.positionPrev.x-=Ue*D.inverseMass,D.positionPrev.y-=je*D.inverseMass,D.anglePrev-=($*je-Z*Ue)*D.inverseInertia)}}}}})()},48140:(c,x,e)=>{var o={};c.exports=o;var p=e(41598),a=e(31725),r=e(53614),s=e(15647),t=e(66615),n=e(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(h){var i=h;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var l=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,d=a.magnitude(a.sub(l,u));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||n.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(f.type="pin",f.anchors=!1):i.stiffness<.9&&(f.type="spring"),i.render=n.extend(f,i.render),i},o.preSolveAll=function(h){for(var i=0;i<h.length;i+=1){var l=h[i],u=l.constraintImpulse;l.isStatic||u.x===0&&u.y===0&&u.angle===0||(l.position.x+=u.x,l.position.y+=u.y,l.angle+=u.angle)}},o.solveAll=function(h,i){for(var l=n.clamp(i/n._baseDelta,0,1),u=0;u<h.length;u+=1){var d=h[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(f||v)&&o.solve(h[u],l)}for(u=0;u<h.length;u+=1)d=h[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,v=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!f&&!v&&o.solve(h[u],l)},o.solve=function(h,i){var l=h.bodyA,u=h.bodyB,d=h.pointA,f=h.pointB;if(!(!l&&!u)){l&&!l.isStatic&&(a.rotate(d,l.angle-h.angleA,d),h.angleA=l.angle),u&&!u.isStatic&&(a.rotate(f,u.angle-h.angleB,f),h.angleB=u.angle);var v=d,m=f;if(l&&(v=a.add(l.position,d)),u&&(m=a.add(u.position,f)),!(!v||!m)){var g=a.sub(v,m),y=a.magnitude(g);y<o._minLength&&(y=o._minLength);var T=(y-h.length)/y,C=h.stiffness>=1||h.length===0,E=C?h.stiffness*i:h.stiffness*i*i,z=h.damping*i,D=a.mult(g,T*E),A=(l?l.inverseMass:0)+(u?u.inverseMass:0),L=(l?l.inverseInertia:0)+(u?u.inverseInertia:0),b=A+L,F,V,B,N,U;if(z>0){var I=a.create();B=a.div(g,y),U=a.sub(u&&a.sub(u.position,u.positionPrev)||I,l&&a.sub(l.position,l.positionPrev)||I),N=a.dot(B,U)}l&&!l.isStatic&&(V=l.inverseMass/A,l.constraintImpulse.x-=D.x*V,l.constraintImpulse.y-=D.y*V,l.position.x-=D.x*V,l.position.y-=D.y*V,z>0&&(l.positionPrev.x-=z*B.x*N*V,l.positionPrev.y-=z*B.y*N*V),F=a.cross(d,D)/b*o._torqueDampen*l.inverseInertia*(1-h.angularStiffness),l.constraintImpulse.angle-=F,l.angle-=F),u&&!u.isStatic&&(V=u.inverseMass/A,u.constraintImpulse.x+=D.x*V,u.constraintImpulse.y+=D.y*V,u.position.x+=D.x*V,u.position.y+=D.y*V,z>0&&(u.positionPrev.x+=z*B.x*N*V,u.positionPrev.y+=z*B.y*N*V),F=a.cross(f,D)/b*o._torqueDampen*u.inverseInertia*(1-h.angularStiffness),u.constraintImpulse.angle+=F,u.angle+=F)}}},o.postSolveAll=function(h){for(var i=0;i<h.length;i++){var l=h[i],u=l.constraintImpulse;if(!(l.isStatic||u.x===0&&u.y===0&&u.angle===0)){r.set(l,!1);for(var d=0;d<l.parts.length;d++){var f=l.parts[d];p.translate(f.vertices,u),d>0&&(f.position.x+=u.x,f.position.y+=u.y),u.angle!==0&&(p.rotate(f.vertices,u.angle,l.position),t.rotate(f.axes,u.angle),d>0&&a.rotateAbout(f.position,u.angle,l.position,f.position)),s.update(f.bounds,f.vertices,l.velocity)}u.angle*=o._warming,u.x*=o._warming,u.y*=o._warming}}},o.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},o.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},o.currentLength=function(h){var i=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),l=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),u=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),d=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),f=i-u,v=l-d;return Math.sqrt(f*f+v*v)}})()},53402:(c,x,e)=>{var o={};c.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(a,r){var s,t,n;typeof r=="boolean"?(s=2,n=r):(s=1,n=!0);for(var h=s;h<arguments.length;h++){var i=arguments[h];if(i)for(var l in i)n&&i[l]&&i[l].constructor===Object&&(!a[l]||a[l].constructor===Object)?(a[l]=a[l]||{},o.extend(a[l],n,i[l])):a[l]=i[l]}return a},o.clone=function(a,r){return o.extend({},r,a)},o.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var s in a)r.push(s);return r},o.values=function(a){var r=[];if(Object.keys){for(var s=Object.keys(a),t=0;t<s.length;t++)r.push(a[s[t]]);return r}for(var n in a)r.push(a[n]);return r},o.get=function(a,r,s,t){r=r.split(".").slice(s,t);for(var n=0;n<r.length;n+=1)a=a[r[n]];return a},o.set=function(a,r,s,t,n){var h=r.split(".").slice(t,n);return o.get(a,r,0,-1)[h[h.length-1]]=s,s},o.shuffle=function(a){for(var r=a.length-1;r>0;r--){var s=Math.floor(o.random()*(r+1)),t=a[r];a[r]=a[s],a[s]=t}return a},o.choose=function(a){return a[Math.floor(o.random()*a.length)]},o.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},o.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},o.isFunction=function(a){return typeof a=="function"},o.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},o.isString=function(a){return toString.call(a)==="[object String]"},o.clamp=function(a,r,s){return a<r?r:a>s?s:a},o.sign=function(a){return a<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+p()*(r-a)};var p=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[a]||(o.warn(a),o._warnedOnce[a]=!0)},o.deprecated=function(a,r,s){a[r]=o.chain(function(){o.warnOnce("\u{1F505} deprecated \u{1F505}",s)},a[r])},o.nextId=function(){return o._nextId++},o.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var s=0;s<a.length;s++)if(a[s]===r)return s;return-1},o.map=function(a,r){if(a.map)return a.map(r);for(var s=[],t=0;t<a.length;t+=1)s.push(r(a[t]));return s},o.topologicalSort=function(a){var r=[],s=[],t=[];for(var n in a)!s[n]&&!t[n]&&o._topologicalSort(n,s,t,a,r);return r},o._topologicalSort=function(a,r,s,t,n){var h=t[a]||[];s[a]=!0;for(var i=0;i<h.length;i+=1){var l=h[i];s[l]||r[l]||o._topologicalSort(l,r,s,t,n)}s[a]=!1,r[a]=!0,n.push(a)},o.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var s=arguments[r];s._chained?a.push.apply(a,s._chained):a.push(s)}var t=function(){for(var n,h=new Array(arguments.length),i=0,l=arguments.length;i<l;i++)h[i]=arguments[i];for(i=0;i<a.length;i+=1){var u=a[i].apply(n,h);typeof u<"u"&&(n=u)}return n};return t._chained=a,t},o.chainPathBefore=function(a,r,s){return o.set(a,r,o.chain(s,o.get(a,r)))},o.chainPathAfter=function(a,r,s){return o.set(a,r,o.chain(o.get(a,r),s))},o.setDecomp=function(a){o._decomp=a},o.getDecomp=function(){var a=o._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof e.g<"u"&&(a=e.g.decomp)}catch{a=null}return a}}()},48413:(c,x,e)=>{var o={};c.exports=o;var p=e(53614),a=e(66272),r=e(81388),s=e(99561),t=e(35810),n=e(69351),h=e(48140),i=e(53402),l=e(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(u){u=u||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},f=i.extend(d,u);return f.world=u.world||n.create({label:"World"}),f.pairs=u.pairs||s.create(),f.detector=u.detector||r.create(),f.detector.pairs=f.pairs,f.grid={buckets:[]},f.world.gravity=f.gravity,f.broadphase=f.grid,f.metrics={},f},o.update=function(u,d){var f=i.now(),v=u.world,m=u.detector,g=u.pairs,y=u.timing,T=y.timestamp,C;d>o._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:i._baseDelta,d*=y.timeScale,y.timestamp+=d,y.lastDelta=d;var E={timestamp:y.timestamp,delta:d};t.trigger(u,"beforeUpdate",E);var z=n.allBodies(v),D=n.allConstraints(v),A=n.allComposites(v);for(v.isModified&&(r.setBodies(m,z),n.setModified(v,!1,!1,!0)),u.enableSleeping&&p.update(z,d),o._bodiesApplyGravity(z,u.gravity),o.wrap(z,A),o.attractors(z),d>0&&o._bodiesUpdate(z,d),t.trigger(u,"beforeSolve",E),h.preSolveAll(z),C=0;C<u.constraintIterations;C++)h.solveAll(D,d);h.postSolveAll(z);var L=r.collisions(m);s.update(g,L,T),u.enableSleeping&&p.afterCollisions(g.list),g.collisionStart.length>0&&t.trigger(u,"collisionStart",{pairs:g.collisionStart,timestamp:y.timestamp,delta:d});var b=i.clamp(20/u.positionIterations,0,1);for(a.preSolvePosition(g.list),C=0;C<u.positionIterations;C++)a.solvePosition(g.list,d,b);for(a.postSolvePosition(z),h.preSolveAll(z),C=0;C<u.constraintIterations;C++)h.solveAll(D,d);for(h.postSolveAll(z),a.preSolveVelocity(g.list),C=0;C<u.velocityIterations;C++)a.solveVelocity(g.list,d);return o._bodiesUpdateVelocities(z),g.collisionActive.length>0&&t.trigger(u,"collisionActive",{pairs:g.collisionActive,timestamp:y.timestamp,delta:d}),g.collisionEnd.length>0&&t.trigger(u,"collisionEnd",{pairs:g.collisionEnd,timestamp:y.timestamp,delta:d}),o._bodiesClearForces(z),t.trigger(u,"afterUpdate",E),u.timing.lastElapsed=i.now()-f,u},o.merge=function(u,d){if(i.extend(u,d),d.world){u.world=d.world,o.clear(u);for(var f=n.allBodies(u.world),v=0;v<f.length;v++){var m=f[v];p.set(m,!1),m.id=i.nextId()}}},o.clear=function(u){s.clear(u.pairs),r.clear(u.detector)},o._bodiesClearForces=function(u){for(var d=u.length,f=0;f<d;f++){var v=u[f];v.force.x=0,v.force.y=0,v.torque=0}},o._bodiesApplyGravity=function(u,d){var f=typeof d.scale<"u"?d.scale:.001,v=u.length;if(!(d.x===0&&d.y===0||f===0))for(var m=0;m<v;m++){var g=u[m];g.ignoreGravity||g.isStatic||g.isSleeping||(g.force.y+=g.mass*d.y*f,g.force.x+=g.mass*d.x*f)}},o._bodiesUpdate=function(u,d){for(var f=u.length,v=0;v<f;v++){var m=u[v];m.isStatic||m.isSleeping||l.update(m,d)}},o._bodiesUpdateVelocities=function(u){for(var d=u.length,f=0;f<d;f++)l.updateVelocities(u[f])},o.wrap=function(u,d){for(var f=0;f<u.length;f+=1){var v=u[f];v.wrapBounds!==null&&l.wrap(v,v.wrapBounds)}for(f=0;f<d.length;f+=1){var m=d[f];m.wrapBounds!==null&&n.wrap(m,m.wrapBounds)}},o.attractors=function(u){for(var d=0;d<u.length;d++){var f=u[d],v=f.attractors;if(v&&v.length>0)for(var m=0;m<u.length;m++){var g=u[m];if(d!==m)for(var y=0;y<v.length;y++){var T=v[y],C=T;i.isFunction(T)&&(C=T(f,g)),C&&l.applyForce(g,g.position,C)}}}}})()},35810:(c,x,e)=>{var o={};c.exports=o;var p=e(53402);(function(){o.on=function(a,r,s){for(var t=r.split(" "),n,h=0;h<t.length;h++)n=t[h],a.events=a.events||{},a.events[n]=a.events[n]||[],a.events[n].push(s);return s},o.off=function(a,r,s){if(!r){a.events={};return}typeof r=="function"&&(s=r,r=p.keys(a.events).join(" "));for(var t=r.split(" "),n=0;n<t.length;n++){var h=a.events[t[n]],i=[];if(s&&h)for(var l=0;l<h.length;l++)h[l]!==s&&i.push(h[l]);a.events[t[n]]=i}},o.trigger=function(a,r,s){var t,n,h,i,l=a.events;if(l&&p.keys(l).length>0){s||(s={}),t=r.split(" ");for(var u=0;u<t.length;u++)if(n=t[u],h=l[n],h){i=p.clone(s,!1),i.name=n,i.source=a;for(var d=0;d<h.length;d++)h[d].apply(a,[i])}}}})()},6790:(c,x,e)=>{var o={};c.exports=o;var p=e(73832),a=e(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){p.use(o,Array.prototype.slice.call(arguments))},o.before=function(r,s){return r=r.replace(/^Matter./,""),a.chainPathBefore(o,r,s)},o.after=function(r,s){return r=r.replace(/^Matter./,""),a.chainPathAfter(o,r,s)}})()},73832:(c,x,e)=>{var o={};c.exports=o;var p=e(53402);(function(){o._registry={},o.register=function(a){if(o.isPlugin(a)||p.warn("Plugin.register:",o.toString(a),"does not implement all required fields."),a.name in o._registry){var r=o._registry[a.name],s=o.versionParse(a.version).number,t=o.versionParse(r.version).number;s>t?(p.warn("Plugin.register:",o.toString(r),"was upgraded to",o.toString(a)),o._registry[a.name]=a):s<t?p.warn("Plugin.register:",o.toString(r),"can not be downgraded to",o.toString(a)):a!==r&&p.warn("Plugin.register:",o.toString(a),"is already registered to different plugin object")}else o._registry[a.name]=a;return a},o.resolve=function(a){return o._registry[o.dependencyParse(a).name]},o.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},o.isPlugin=function(a){return a&&a.name&&a.version&&a.install},o.isUsed=function(a,r){return a.used.indexOf(r)>-1},o.isFor=function(a,r){var s=a.for&&o.dependencyParse(a.for);return!a.for||r.name===s.name&&o.versionSatisfies(r.version,s.range)},o.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){p.warn("Plugin.use:",o.toString(a),"does not specify any dependencies to install.");return}for(var s=o.dependencies(a),t=p.topologicalSort(s),n=[],h=0;h<t.length;h+=1)if(t[h]!==a.name){var i=o.resolve(t[h]);if(!i){n.push("\u274C "+t[h]);continue}o.isUsed(a,i.name)||(o.isFor(i,a)||(p.warn("Plugin.use:",o.toString(i),"is for",i.for,"but installed on",o.toString(a)+"."),i._warned=!0),i.install?i.install(a):(p.warn("Plugin.use:",o.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(n.push("\u{1F536} "+o.toString(i)),delete i._warned):n.push("\u2705 "+o.toString(i)),a.used.push(i.name))}n.length>0&&!i.silent&&p.info(n.join("  "))},o.dependencies=function(a,r){var s=o.dependencyParse(a),t=s.name;if(r=r||{},!(t in r)){a=o.resolve(a)||a,r[t]=p.map(a.uses||[],function(h){o.isPlugin(h)&&o.register(h);var i=o.dependencyParse(h),l=o.resolve(h);return l&&!o.versionSatisfies(l.version,i.range)?(p.warn("Plugin.dependencies:",o.toString(l),"does not satisfy",o.toString(i),"used by",o.toString(s)+"."),l._warned=!0,a._warned=!0):l||(p.warn("Plugin.dependencies:",o.toString(h),"used by",o.toString(s),"could not be resolved."),a._warned=!0),i.name});for(var n=0;n<r[t].length;n+=1)o.dependencies(r[t][n],r);return r}},o.dependencyParse=function(a){if(p.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||p.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},o.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||p.warn("Plugin.versionParse:",a,"is not a valid version or range.");var s=r.exec(a),t=Number(s[4]),n=Number(s[5]),h=Number(s[6]);return{isRange:!!(s[1]||s[2]),version:s[3],range:a,operator:s[1]||s[2]||"",major:t,minor:n,patch:h,parts:[t,n,h],prerelease:s[7],number:t*1e8+n*1e4+h}},o.versionSatisfies=function(a,r){r=r||"*";var s=o.versionParse(r),t=o.versionParse(a);if(s.isRange){if(s.operator==="*"||a==="*")return!0;if(s.operator===">")return t.number>s.number;if(s.operator===">=")return t.number>=s.number;if(s.operator==="~")return t.major===s.major&&t.minor===s.minor&&t.patch>=s.patch;if(s.operator==="^")return s.major>0?t.major===s.major&&t.number>=s.number:s.minor>0?t.minor===s.minor&&t.patch>=s.patch:t.patch===s.patch}return a===r||a==="*"}})()},13037:(c,x,e)=>{var o={};c.exports=o;var p=e(35810),a=e(48413),r=e(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(t){var n={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},h=r.extend(n,t);return h.fps=0,h},o.run=function(t,n){return t.timeBuffer=o._frameDeltaFallback,function h(i){t.frameRequestId=o._onNextFrame(t,h),i&&t.enabled&&o.tick(t,n,i)}(),t},o.tick=function(t,n,h){var i=r.now(),l=t.delta,u=0,d=h-t.timeLastTick;if((!d||!t.timeLastTick||d>Math.max(o._maxFrameDelta,t.maxFrameTime))&&(d=t.frameDelta||o._frameDeltaFallback),t.frameDeltaSmoothing){t.frameDeltaHistory.push(d),t.frameDeltaHistory=t.frameDeltaHistory.slice(-t.frameDeltaHistorySize);var f=t.frameDeltaHistory.slice(0).sort(),v=t.frameDeltaHistory.slice(f.length*o._smoothingLowerBound,f.length*o._smoothingUpperBound),m=s(v);d=m||d}t.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),t.frameDelta=d,t.timeLastTick=h,t.timeBuffer+=t.frameDelta,t.timeBuffer=r.clamp(t.timeBuffer,0,t.frameDelta+l*o._timeBufferMargin),t.lastUpdatesDeferred=0;var g=t.maxUpdates||Math.ceil(t.maxFrameTime/l),y={timestamp:n.timing.timestamp};p.trigger(t,"beforeTick",y),p.trigger(t,"tick",y);for(var T=r.now();l>0&&t.timeBuffer>=l*o._timeBufferMargin;){p.trigger(t,"beforeUpdate",y),a.update(n,l),p.trigger(t,"afterUpdate",y),t.timeBuffer-=l,u+=1;var C=r.now()-i,E=r.now()-T,z=C+o._elapsedNextEstimate*E/u;if(u>=g||z>t.maxFrameTime){t.lastUpdatesDeferred=Math.round(Math.max(0,t.timeBuffer/l-o._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=u,p.trigger(t,"afterTick",y),t.frameDeltaHistory.length>=100&&(t.lastUpdatesDeferred&&Math.round(t.frameDelta/l)>g?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):t.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof t.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(t.deltaMin||t.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),t.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(t){o._cancelNextFrame(t)},o._onNextFrame=function(t,n){if(typeof window<"u"&&window.requestAnimationFrame)t.frameRequestId=window.requestAnimationFrame(n);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return t.frameRequestId},o._cancelNextFrame=function(t){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(t.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var s=function(t){for(var n=0,h=t.length,i=0;i<h;i+=1)n+=t[i];return n/h||0}})()},53614:(c,x,e)=>{var o={};c.exports=o;var p=e(22562),a=e(35810),r=e(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(s,t){for(var n=t/r._baseDelta,h=o._motionSleepThreshold,i=0;i<s.length;i++){var l=s[i],u=p.getSpeed(l),d=p.getAngularSpeed(l),f=u*u+d*d;if(l.force.x!==0||l.force.y!==0){o.set(l,!1);continue}var v=Math.min(l.motion,f),m=Math.max(l.motion,f);l.motion=o._minBias*v+(1-o._minBias)*m,l.sleepThreshold>0&&l.motion<h?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&o.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},o.afterCollisions=function(s){for(var t=o._motionSleepThreshold,n=0;n<s.length;n++){var h=s[n];if(h.isActive){var i=h.collision,l=i.bodyA.parent,u=i.bodyB.parent;if(!(l.isSleeping&&u.isSleeping||l.isStatic||u.isStatic)&&(l.isSleeping||u.isSleeping)){var d=l.isSleeping&&!l.isStatic?l:u,f=d===l?u:l;!d.isStatic&&f.motion>t&&o.set(d,!1)}}}},o.set=function(s,t){var n=s.isSleeping;t?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,n||a.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,n&&a.trigger(s,"sleepEnd"))}})()},66280:(c,x,e)=>{var o={};c.exports=o;var p=e(41598),a=e(53402),r=e(22562),s=e(15647),t=e(31725);(function(){o.rectangle=function(n,h,i,l,u){u=u||{};var d={label:"Rectangle Body",position:{x:n,y:h},vertices:p.fromPath("L 0 0 L "+i+" 0 L "+i+" "+l+" L 0 "+l)};if(u.chamfer){var f=u.chamfer;d.vertices=p.chamfer(d.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete u.chamfer}return r.create(a.extend({},d,u))},o.trapezoid=function(n,h,i,l,u,d){d=d||{},u>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),u*=.5;var f=(1-u*2)*i,v=i*u,m=v+f,g=m+v,y;u<.5?y="L 0 0 L "+v+" "+-l+" L "+m+" "+-l+" L "+g+" 0":y="L 0 0 L "+m+" "+-l+" L "+g+" 0";var T={label:"Trapezoid Body",position:{x:n,y:h},vertices:p.fromPath(y)};if(d.chamfer){var C=d.chamfer;T.vertices=p.chamfer(T.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete d.chamfer}return r.create(a.extend({},T,d))},o.circle=function(n,h,i,l,u){l=l||{};var d={label:"Circle Body",circleRadius:i};u=u||25;var f=Math.ceil(Math.max(10,Math.min(u,i)));return f%2===1&&(f+=1),o.polygon(n,h,f,i,a.extend({},d,l))},o.polygon=function(n,h,i,l,u){if(u=u||{},i<3)return o.circle(n,h,l,u);for(var d=2*Math.PI/i,f="",v=d*.5,m=0;m<i;m+=1){var g=v+m*d,y=Math.cos(g)*l,T=Math.sin(g)*l;f+="L "+y.toFixed(3)+" "+T.toFixed(3)+" "}var C={label:"Polygon Body",position:{x:n,y:h},vertices:p.fromPath(f)};if(u.chamfer){var E=u.chamfer;C.vertices=p.chamfer(C.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete u.chamfer}return r.create(a.extend({},C,u))},o.fromVertices=function(n,h,i,l,u,d,f,v){var m=a.getDecomp(),g,y,T,C,E,z,D,A,L,b,F;for(g=!!(m&&m.quickDecomp),l=l||{},T=[],u=typeof u<"u"?u:!1,d=typeof d<"u"?d:.01,f=typeof f<"u"?f:10,v=typeof v<"u"?v:.01,a.isArray(i[0])||(i=[i]),b=0;b<i.length;b+=1)if(z=i[b],C=p.isConvex(z),E=!C,E&&!g&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),C||!g)C?z=p.clockwiseSort(z):z=p.hull(z),T.push({position:{x:n,y:h},vertices:z});else{var V=z.map(function(W){return[W.x,W.y]});m.makeCCW(V),d!==!1&&m.removeCollinearPoints(V,d),v!==!1&&m.removeDuplicatePoints&&m.removeDuplicatePoints(V,v);var B=m.quickDecomp(V);for(D=0;D<B.length;D++){var N=B[D],U=N.map(function(W){return{x:W[0],y:W[1]}});f>0&&p.area(U)<f||T.push({position:p.centre(U),vertices:U})}}for(D=0;D<T.length;D++)T[D]=r.create(a.extend(T[D],l));if(u){var I=5;for(D=0;D<T.length;D++){var H=T[D];for(A=D+1;A<T.length;A++){var O=T[A];if(s.overlaps(H.bounds,O.bounds)){var R=H.vertices,Y=O.vertices;for(L=0;L<H.vertices.length;L++)for(F=0;F<O.vertices.length;F++){var G=t.magnitudeSquared(t.sub(R[(L+1)%R.length],Y[F])),k=t.magnitudeSquared(t.sub(R[L],Y[(F+1)%Y.length]));G<I&&k<I&&(R[L].isInternal=!0,Y[F].isInternal=!0)}}}}}return T.length>1?(y=r.create(a.extend({parts:T.slice(0)},l)),r.setPosition(y,{x:n,y:h}),y):T[0]},o.flagCoincidentParts=function(n,h){h===void 0&&(h=5);for(var i=0;i<n.length;i++)for(var l=n[i],u=i+1;u<n.length;u++){var d=n[u];if(s.overlaps(l.bounds,d.bounds))for(var f=l.vertices,v=d.vertices,m=0;m<l.vertices.length;m++)for(var g=0;g<d.vertices.length;g++){var y=t.magnitudeSquared(t.sub(f[(m+1)%f.length],v[g])),T=t.magnitudeSquared(t.sub(f[m],v[(g+1)%v.length]));y<h&&T<h&&(f[m].isInternal=!0,v[g].isInternal=!0)}}return n}})()},74116:(c,x,e)=>{var o={};c.exports=o;var p=e(69351),a=e(48140),r=e(53402),s=e(22562),t=e(66280);(function(){o.stack=function(n,h,i,l,u,d,f){for(var v=p.create({label:"Stack"}),m=n,g=h,y,T=0,C=0;C<l;C++){for(var E=0,z=0;z<i;z++){var D=f(m,g,z,C,y,T);if(D){var A=D.bounds.max.y-D.bounds.min.y,L=D.bounds.max.x-D.bounds.min.x;A>E&&(E=A),s.translate(D,{x:L*.5,y:A*.5}),m=D.bounds.max.x+u,p.addBody(v,D),y=D,T+=1}else m+=u}g+=E+d,m=n}return v},o.chain=function(n,h,i,l,u,d){for(var f=n.bodies,v=1;v<f.length;v++){var m=f[v-1],g=f[v],y=m.bounds.max.y-m.bounds.min.y,T=m.bounds.max.x-m.bounds.min.x,C=g.bounds.max.y-g.bounds.min.y,E=g.bounds.max.x-g.bounds.min.x,z={bodyA:m,pointA:{x:T*h,y:y*i},bodyB:g,pointB:{x:E*l,y:C*u}},D=r.extend(z,d);p.addConstraint(n,a.create(D))}return n.label+=" Chain",n},o.mesh=function(n,h,i,l,u){var d=n.bodies,f,v,m,g,y;for(f=0;f<i;f++){for(v=1;v<h;v++)m=d[v-1+f*h],g=d[v+f*h],p.addConstraint(n,a.create(r.extend({bodyA:m,bodyB:g},u)));if(f>0)for(v=0;v<h;v++)m=d[v+(f-1)*h],g=d[v+f*h],p.addConstraint(n,a.create(r.extend({bodyA:m,bodyB:g},u))),l&&v>0&&(y=d[v-1+(f-1)*h],p.addConstraint(n,a.create(r.extend({bodyA:y,bodyB:g},u)))),l&&v<h-1&&(y=d[v+1+(f-1)*h],p.addConstraint(n,a.create(r.extend({bodyA:y,bodyB:g},u))))}return n.label+=" Mesh",n},o.pyramid=function(n,h,i,l,u,d,f){return o.stack(n,h,i,l,u,d,function(v,m,g,y,T,C){var E=Math.min(l,Math.ceil(i/2)),z=T?T.bounds.max.x-T.bounds.min.x:0;if(!(y>E)){y=E-y;var D=y,A=i-1-y;if(!(g<D||g>A)){C===1&&s.translate(T,{x:(g+(i%2===1?1:-1))*z,y:0});var L=T?g*z:0;return f(n+L+g*u,m,g,y,T,C)}}})},o.newtonsCradle=function(n,h,i,l,u){for(var d=p.create({label:"Newtons Cradle"}),f=0;f<i;f++){var v=1.9,m=t.circle(n+f*(l*v),h+u,l,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),g=a.create({pointA:{x:n+f*(l*v),y:h},bodyB:m});p.addBody(d,m),p.addConstraint(d,g)}return d},o.car=function(n,h,i,l,u){var d=s.nextGroup(!0),f=20,v=-i*.5+f,m=i*.5-f,g=0,y=p.create({label:"Car"}),T=t.rectangle(n,h,i,l,{collisionFilter:{group:d},chamfer:{radius:l*.5},density:2e-4}),C=t.circle(n+v,h+g,u,{collisionFilter:{group:d},friction:.8}),E=t.circle(n+m,h+g,u,{collisionFilter:{group:d},friction:.8}),z=a.create({bodyB:T,pointB:{x:v,y:g},bodyA:C,stiffness:1,length:0}),D=a.create({bodyB:T,pointB:{x:m,y:g},bodyA:E,stiffness:1,length:0});return p.addBody(y,T),p.addBody(y,C),p.addBody(y,E),p.addConstraint(y,z),p.addConstraint(y,D),y},o.softBody=function(n,h,i,l,u,d,f,v,m,g){m=r.extend({inertia:1/0},m),g=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},g);var y=o.stack(n,h,i,l,u,d,function(T,C){return t.circle(T,C,v,m)});return o.mesh(y,i,l,f,g),y.label="Soft Body",y}})()},66615:(c,x,e)=>{var o={};c.exports=o;var p=e(31725),a=e(53402);(function(){o.fromVertices=function(r){for(var s={},t=0;t<r.length;t++){var n=(t+1)%r.length,h=p.normalise({x:r[n].y-r[t].y,y:r[t].x-r[n].x}),i=h.y===0?1/0:h.x/h.y;i=i.toFixed(3).toString(),s[i]=h}return a.values(s)},o.rotate=function(r,s){if(s!==0)for(var t=Math.cos(s),n=Math.sin(s),h=0;h<r.length;h++){var i=r[h],l;l=i.x*t-i.y*n,i.y=i.x*n+i.y*t,i.x=l}}})()},15647:c=>{var x={};c.exports=x,function(){x.create=function(e){var o={min:{x:0,y:0},max:{x:0,y:0}};return e&&x.update(o,e),o},x.update=function(e,o,p){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var a=0;a<o.length;a++){var r=o[a];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}p&&(p.x>0?e.max.x+=p.x:e.min.x+=p.x,p.y>0?e.max.y+=p.y:e.min.y+=p.y)},x.contains=function(e,o){return o.x>=e.min.x&&o.x<=e.max.x&&o.y>=e.min.y&&o.y<=e.max.y},x.overlaps=function(e,o){return e.min.x<=o.max.x&&e.max.x>=o.min.x&&e.max.y>=o.min.y&&e.min.y<=o.max.y},x.translate=function(e,o){e.min.x+=o.x,e.max.x+=o.x,e.min.y+=o.y,e.max.y+=o.y},x.shift=function(e,o){var p=e.max.x-e.min.x,a=e.max.y-e.min.y;e.min.x=o.x,e.max.x=o.x+p,e.min.y=o.y,e.max.y=o.y+a},x.wrap=function(e,o,p){var a=null,r=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(e.min.x>o.max.x?a=o.min.x-e.max.x:e.max.x<o.min.x&&(a=o.max.x-e.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(e.min.y>o.max.y?r=o.min.y-e.max.y:e.max.y<o.min.y&&(r=o.max.y-e.min.y)),a!==null||r!==null)return{x:a||0,y:r||0}}}()},74058:(c,x,e)=>{var o={};c.exports=o;var p=e(15647),a=e(53402);(function(){o.pathToVertices=function(r,s){typeof window<"u"&&!("SVGPathSeg"in window)&&a.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var t,n,h,i,l,u,d,f,v,m,g=[],y,T,C=0,E=0,z=0;s=s||15;var D=function(L,b,F){var V=F%2===1&&F>1;if(!v||L!=v.x||b!=v.y){v&&V?(y=v.x,T=v.y):(y=0,T=0);var B={x:y+L,y:T+b};(V||!v)&&(v=B),g.push(B),E=y+L,z=T+b}},A=function(L){var b=L.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":E=L.x,z=L.y;break;case"H":E=L.x;break;case"V":z=L.y;break}D(E,z,L.pathSegType)}};for(o._svgPathToAbsolute(r),h=r.getTotalLength(),u=[],t=0;t<r.pathSegList.numberOfItems;t+=1)u.push(r.pathSegList.getItem(t));for(d=u.concat();C<h;){if(m=r.getPathSegAtLength(C),l=u[m],l!=f){for(;d.length&&d[0]!=l;)A(d.shift());f=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":i=r.getPointAtLength(C),D(i.x,i.y,0);break}C+=s}for(t=0,n=d.length;t<n;++t)A(d[t]);return g},o._svgPathToAbsolute=function(r){for(var s,t,n,h,i,l,u=r.pathSegList,d=0,f=0,v=u.numberOfItems,m=0;m<v;++m){var g=u.getItem(m),y=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(y))"x"in g&&(d=g.x),"y"in g&&(f=g.y);else switch("x1"in g&&(n=d+g.x1),"x2"in g&&(i=d+g.x2),"y1"in g&&(h=f+g.y1),"y2"in g&&(l=f+g.y2),"x"in g&&(d+=g.x),"y"in g&&(f+=g.y),y){case"m":u.replaceItem(r.createSVGPathSegMovetoAbs(d,f),m);break;case"l":u.replaceItem(r.createSVGPathSegLinetoAbs(d,f),m);break;case"h":u.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(d),m);break;case"v":u.replaceItem(r.createSVGPathSegLinetoVerticalAbs(f),m);break;case"c":u.replaceItem(r.createSVGPathSegCurvetoCubicAbs(d,f,n,h,i,l),m);break;case"s":u.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(d,f,i,l),m);break;case"q":u.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(d,f,n,h),m);break;case"t":u.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(d,f),m);break;case"a":u.replaceItem(r.createSVGPathSegArcAbs(d,f,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),m);break;case"z":case"Z":d=s,f=t;break}(y=="M"||y=="m")&&(s=d,t=f)}}})()},31725:c=>{var x={};c.exports=x,function(){x.create=function(e,o){return{x:e||0,y:o||0}},x.clone=function(e){return{x:e.x,y:e.y}},x.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},x.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},x.rotate=function(e,o,p){var a=Math.cos(o),r=Math.sin(o);p||(p={});var s=e.x*a-e.y*r;return p.y=e.x*r+e.y*a,p.x=s,p},x.rotateAbout=function(e,o,p,a){var r=Math.cos(o),s=Math.sin(o);a||(a={});var t=p.x+((e.x-p.x)*r-(e.y-p.y)*s);return a.y=p.y+((e.x-p.x)*s+(e.y-p.y)*r),a.x=t,a},x.normalise=function(e){var o=x.magnitude(e);return o===0?{x:0,y:0}:{x:e.x/o,y:e.y/o}},x.dot=function(e,o){return e.x*o.x+e.y*o.y},x.cross=function(e,o){return e.x*o.y-e.y*o.x},x.cross3=function(e,o,p){return(o.x-e.x)*(p.y-e.y)-(o.y-e.y)*(p.x-e.x)},x.add=function(e,o,p){return p||(p={}),p.x=e.x+o.x,p.y=e.y+o.y,p},x.sub=function(e,o,p){return p||(p={}),p.x=e.x-o.x,p.y=e.y-o.y,p},x.mult=function(e,o){return{x:e.x*o,y:e.y*o}},x.div=function(e,o){return{x:e.x/o,y:e.y/o}},x.perp=function(e,o){return o=o===!0?-1:1,{x:o*-e.y,y:o*e.x}},x.neg=function(e){return{x:-e.x,y:-e.y}},x.angle=function(e,o){return Math.atan2(o.y-e.y,o.x-e.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(c,x,e)=>{var o={};c.exports=o;var p=e(31725),a=e(53402);(function(){o.create=function(r,s){for(var t=[],n=0;n<r.length;n++){var h=r[n],i={x:h.x,y:h.y,index:n,body:s,isInternal:!1};t.push(i)}return t},o.fromPath=function(r,s){var t=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,n=[];return r.replace(t,function(h,i,l){n.push({x:parseFloat(i),y:parseFloat(l)})}),o.create(n,s)},o.centre=function(r){for(var s=o.area(r,!0),t={x:0,y:0},n,h,i,l=0;l<r.length;l++)i=(l+1)%r.length,n=p.cross(r[l],r[i]),h=p.mult(p.add(r[l],r[i]),n),t=p.add(t,h);return p.div(t,6*s)},o.mean=function(r){for(var s={x:0,y:0},t=0;t<r.length;t++)s.x+=r[t].x,s.y+=r[t].y;return p.div(s,r.length)},o.area=function(r,s){for(var t=0,n=r.length-1,h=0;h<r.length;h++)t+=(r[n].x-r[h].x)*(r[n].y+r[h].y),n=h;return s?t/2:Math.abs(t)/2},o.inertia=function(r,s){for(var t=0,n=0,h=r,i,l,u=0;u<h.length;u++)l=(u+1)%h.length,i=Math.abs(p.cross(h[l],h[u])),t+=i*(p.dot(h[l],h[l])+p.dot(h[l],h[u])+p.dot(h[u],h[u])),n+=i;return s/6*(t/n)},o.translate=function(r,s,t){t=typeof t<"u"?t:1;var n=r.length,h=s.x*t,i=s.y*t,l;for(l=0;l<n;l++)r[l].x+=h,r[l].y+=i;return r},o.rotate=function(r,s,t){if(s!==0){var n=Math.cos(s),h=Math.sin(s),i=t.x,l=t.y,u=r.length,d,f,v,m;for(m=0;m<u;m++)d=r[m],f=d.x-i,v=d.y-l,d.x=i+(f*n-v*h),d.y=l+(f*h+v*n);return r}},o.contains=function(r,s){for(var t=s.x,n=s.y,h=r.length,i=r[h-1],l,u=0;u<h;u++){if(l=r[u],(t-i.x)*(l.y-i.y)+(n-i.y)*(i.x-l.x)>0)return!1;i=l}return!0},o.scale=function(r,s,t,n){if(s===1&&t===1)return r;n=n||o.centre(r);for(var h,i,l=0;l<r.length;l++)h=r[l],i=p.sub(h,n),r[l].x=n.x+i.x*s,r[l].y=n.y+i.y*t;return r},o.chamfer=function(r,s,t,n,h){typeof s=="number"?s=[s]:s=s||[8],t=typeof t<"u"?t:-1,n=n||2,h=h||14;for(var i=[],l=0;l<r.length;l++){var u=r[l-1>=0?l-1:r.length-1],d=r[l],f=r[(l+1)%r.length],v=s[l<s.length?l:s.length-1];if(v===0){i.push(d);continue}var m=p.normalise({x:d.y-u.y,y:u.x-d.x}),g=p.normalise({x:f.y-d.y,y:d.x-f.x}),y=Math.sqrt(2*Math.pow(v,2)),T=p.mult(a.clone(m),v),C=p.normalise(p.mult(p.add(m,g),.5)),E=p.sub(d,p.mult(C,y)),z=t;t===-1&&(z=Math.pow(v,.32)*1.75),z=a.clamp(z,n,h),z%2===1&&(z+=1);for(var D=Math.acos(p.dot(m,g)),A=D/z,L=0;L<z;L++)i.push(p.add(p.rotate(T,A*L),E))}return i},o.clockwiseSort=function(r){var s=o.mean(r);return r.sort(function(t,n){return p.angle(s,t)-p.angle(s,n)}),r},o.isConvex=function(r){var s=0,t=r.length,n,h,i,l;if(t<3)return null;for(n=0;n<t;n++)if(h=(n+1)%t,i=(n+2)%t,l=(r[h].x-r[n].x)*(r[i].y-r[h].y),l-=(r[h].y-r[n].y)*(r[i].x-r[h].x),l<0?s|=1:l>0&&(s|=2),s===3)return!1;return s!==0?!0:null},o.hull=function(r){var s=[],t=[],n,h;for(r=r.slice(0),r.sort(function(i,l){var u=i.x-l.x;return u!==0?u:i.y-l.y}),h=0;h<r.length;h+=1){for(n=r[h];t.length>=2&&p.cross3(t[t.length-2],t[t.length-1],n)<=0;)t.pop();t.push(n)}for(h=r.length-1;h>=0;h-=1){for(n=r[h];s.length>=2&&p.cross3(s[s.length-2],s[s.length-1],n)<=0;)s.pop();s.push(n)}return s.pop(),t.pop(),s.concat(t)}})()},55973:c=>{c.exports={decomp:D,quickDecomp:F,isSimple:L,removeCollinearPoints:V,removeDuplicatePoints:B,makeCCW:f};function x(I,H,O){O=O||0;var R=[0,0],Y,G,k,W,X,j,K;return Y=I[1][1]-I[0][1],G=I[0][0]-I[1][0],k=Y*I[0][0]+G*I[0][1],W=H[1][1]-H[0][1],X=H[0][0]-H[1][0],j=W*H[0][0]+X*H[0][1],K=Y*X-W*G,N(K,0,O)||(R[0]=(X*k-G*j)/K,R[1]=(Y*j-W*k)/K),R}function e(I,H,O,R){var Y=H[0]-I[0],G=H[1]-I[1],k=R[0]-O[0],W=R[1]-O[1];if(k*G-W*Y===0)return!1;var X=(Y*(O[1]-I[1])+G*(I[0]-O[0]))/(k*G-W*Y),j=(k*(I[1]-O[1])+W*(O[0]-I[0]))/(W*Y-k*G);return X>=0&&X<=1&&j>=0&&j<=1}function o(I,H,O){return(H[0]-I[0])*(O[1]-I[1])-(O[0]-I[0])*(H[1]-I[1])}function p(I,H,O){return o(I,H,O)>0}function a(I,H,O){return o(I,H,O)>=0}function r(I,H,O){return o(I,H,O)<0}function s(I,H,O){return o(I,H,O)<=0}var t=[],n=[];function h(I,H,O,R){if(R){var Y=t,G=n;Y[0]=H[0]-I[0],Y[1]=H[1]-I[1],G[0]=O[0]-H[0],G[1]=O[1]-H[1];var k=Y[0]*G[0]+Y[1]*G[1],W=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),X=Math.sqrt(G[0]*G[0]+G[1]*G[1]),j=Math.acos(k/(W*X));return j<R}else return o(I,H,O)===0}function i(I,H){var O=H[0]-I[0],R=H[1]-I[1];return O*O+R*R}function l(I,H){var O=I.length;return I[H<0?H%O+O:H%O]}function u(I){I.length=0}function d(I,H,O,R){for(var Y=O;Y<R;Y++)I.push(H[Y])}function f(I){for(var H=0,O=I,R=1;R<I.length;++R)(O[R][1]<O[H][1]||O[R][1]===O[H][1]&&O[R][0]>O[H][0])&&(H=R);return p(l(I,H-1),l(I,H),l(I,H+1))?!1:(v(I),!0)}function v(I){for(var H=[],O=I.length,R=0;R!==O;R++)H.push(I.pop());for(var R=0;R!==O;R++)I[R]=H[R]}function m(I,H){return r(l(I,H-1),l(I,H),l(I,H+1))}var g=[],y=[];function T(I,H,O){var R,Y,G=g,k=y;if(a(l(I,H+1),l(I,H),l(I,O))&&s(l(I,H-1),l(I,H),l(I,O)))return!1;Y=i(l(I,H),l(I,O));for(var W=0;W!==I.length;++W)if(!((W+1)%I.length===H||W===H)&&a(l(I,H),l(I,O),l(I,W+1))&&s(l(I,H),l(I,O),l(I,W))&&(G[0]=l(I,H),G[1]=l(I,O),k[0]=l(I,W),k[1]=l(I,W+1),R=x(G,k),i(l(I,H),R)<Y))return!1;return!0}function C(I,H,O){for(var R=0;R!==I.length;++R)if(!(R===H||R===O||(R+1)%I.length===H||(R+1)%I.length===O)&&e(l(I,H),l(I,O),l(I,R),l(I,R+1)))return!1;return!0}function E(I,H,O,R){var Y=R||[];if(u(Y),H<O)for(var G=H;G<=O;G++)Y.push(I[G]);else{for(var G=0;G<=O;G++)Y.push(I[G]);for(var G=H;G<I.length;G++)Y.push(I[G])}return Y}function z(I){for(var H=[],O=[],R=[],Y=[],G=Number.MAX_VALUE,k=0;k<I.length;++k)if(m(I,k)){for(var W=0;W<I.length;++W)if(T(I,k,W)){O=z(E(I,k,W,Y)),R=z(E(I,W,k,Y));for(var X=0;X<R.length;X++)O.push(R[X]);O.length<G&&(H=O,G=O.length,H.push([l(I,k),l(I,W)]))}}return H}function D(I){var H=z(I);return H.length>0?A(I,H):[I]}function A(I,H){if(H.length===0)return[I];if(H instanceof Array&&H.length&&H[0]instanceof Array&&H[0].length===2&&H[0][0]instanceof Array){for(var O=[I],R=0;R<H.length;R++)for(var Y=H[R],G=0;G<O.length;G++){var k=O[G],W=A(k,Y);if(W){O.splice(G,1),O.push(W[0],W[1]);break}}return O}else{var Y=H,R=I.indexOf(Y[0]),G=I.indexOf(Y[1]);return R!==-1&&G!==-1?[E(I,R,G),E(I,G,R)]:!1}}function L(I){var H=I,O;for(O=0;O<H.length-1;O++)for(var R=0;R<O-1;R++)if(e(H[O],H[O+1],H[R],H[R+1]))return!1;for(O=1;O<H.length-2;O++)if(e(H[0],H[H.length-1],H[O],H[O+1]))return!1;return!0}function b(I,H,O,R,Y){Y=Y||0;var G=H[1]-I[1],k=I[0]-H[0],W=G*I[0]+k*I[1],X=R[1]-O[1],j=O[0]-R[0],K=X*O[0]+j*O[1],$=G*j-X*k;return N($,0,Y)?[0,0]:[(j*W-k*K)/$,(G*K-X*W)/$]}function F(I,H,O,R,Y,G,k){G=G||100,k=k||0,Y=Y||25,H=typeof H<"u"?H:[],O=O||[],R=R||[];var W=[0,0],X=[0,0],j=[0,0],K=0,$=0,Z=0,J=0,Q=0,_=0,ae=0,oe=[],le=[],q=I,ie=I;if(ie.length<3)return H;if(k++,k>G)return console.warn("quickDecomp: max level ("+G+") reached."),H;for(var ne=0;ne<I.length;++ne)if(m(q,ne)){O.push(q[ne]),K=$=Number.MAX_VALUE;for(var fe=0;fe<I.length;++fe)p(l(q,ne-1),l(q,ne),l(q,fe))&&s(l(q,ne-1),l(q,ne),l(q,fe-1))&&(j=b(l(q,ne-1),l(q,ne),l(q,fe),l(q,fe-1)),r(l(q,ne+1),l(q,ne),j)&&(Z=i(q[ne],j),Z<$&&($=Z,X=j,_=fe))),p(l(q,ne+1),l(q,ne),l(q,fe+1))&&s(l(q,ne+1),l(q,ne),l(q,fe))&&(j=b(l(q,ne+1),l(q,ne),l(q,fe),l(q,fe+1)),p(l(q,ne-1),l(q,ne),j)&&(Z=i(q[ne],j),Z<K&&(K=Z,W=j,Q=fe)));if(_===(Q+1)%I.length)j[0]=(X[0]+W[0])/2,j[1]=(X[1]+W[1])/2,R.push(j),ne<Q?(d(oe,q,ne,Q+1),oe.push(j),le.push(j),_!==0&&d(le,q,_,q.length),d(le,q,0,ne+1)):(ne!==0&&d(oe,q,ne,q.length),d(oe,q,0,Q+1),oe.push(j),le.push(j),d(le,q,_,ne+1));else{if(_>Q&&(Q+=I.length),J=Number.MAX_VALUE,Q<_)return H;for(var fe=_;fe<=Q;++fe)a(l(q,ne-1),l(q,ne),l(q,fe))&&s(l(q,ne+1),l(q,ne),l(q,fe))&&(Z=i(l(q,ne),l(q,fe)),Z<J&&C(q,ne,fe)&&(J=Z,ae=fe%I.length));ne<ae?(d(oe,q,ne,ae+1),ae!==0&&d(le,q,ae,ie.length),d(le,q,0,ne+1)):(ne!==0&&d(oe,q,ne,ie.length),d(oe,q,0,ae+1),d(le,q,ae,ne+1))}return oe.length<le.length?(F(oe,H,O,R,Y,G,k),F(le,H,O,R,Y,G,k)):(F(le,H,O,R,Y,G,k),F(oe,H,O,R,Y,G,k)),H}return H.push(I),H}function V(I,H){for(var O=0,R=I.length-1;I.length>3&&R>=0;--R)h(l(I,R-1),l(I,R),l(I,R+1),H)&&(I.splice(R%I.length,1),O++);return O}function B(I,H){for(var O=I.length-1;O>=1;--O)for(var R=I[O],Y=O-1;Y>=0;--Y)if(U(R,I[Y],H)){I.splice(O,1);continue}}function N(I,H,O){return O=O||0,Math.abs(I-H)<=O}function U(I,H,O){return N(I[0],H[0],O)&&N(I[1],H[1],O)}},52018:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=p},42363:c=>{var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};c.exports=x},37277:c=>{var x={},e={},o={};o.register=function(p,a,r,s){s===void 0&&(s=!1),x[p]={plugin:a,mapping:r,custom:s}},o.registerCustom=function(p,a,r,s){e[p]={plugin:a,mapping:r,data:s}},o.hasCore=function(p){return x.hasOwnProperty(p)},o.hasCustom=function(p){return e.hasOwnProperty(p)},o.getCore=function(p){return x[p]},o.getCustom=function(p){return e[p]},o.getCustomClass=function(p){return e.hasOwnProperty(p)?e[p].plugin:null},o.remove=function(p){x.hasOwnProperty(p)&&delete x[p]},o.removeCustom=function(p){e.hasOwnProperty(p)&&delete e[p]},o.destroyCorePlugins=function(){for(var p in x)x.hasOwnProperty(p)&&delete x[p]},o.destroyCustomPlugins=function(){for(var p in e)e.hasOwnProperty(p)&&delete e[p]},c.exports=o},77332:(c,x,e)=>{var o=e(83419),p=e(8443),a=e(50792),r=e(74099),s=e(44603),t=e(39429),n=e(95540),h=e(37277),i=e(72905),l=new o({Extends:a,initialize:function(d){a.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted?this.boot():d.events.once(p.BOOT,this.boot,this)},boot:function(){var u,d,f,v,m,g,y,T=this.game.config,C=T.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),u=0;u<C.length;u++)d=C[u],f=n(d,"key",null),v=n(d,"plugin",null),m=n(d,"start",!1),g=n(d,"mapping",null),y=n(d,"data",null),f&&(v?this.install(f,v,m,g,y):console.warn("Missing `plugin` for key: "+f));for(C=T.installScenePlugins,C=C.concat(this._pendingScene),u=0;u<C.length;u++)d=C[u],f=n(d,"key",null),v=n(d,"plugin",null),g=n(d,"mapping",null),f&&(v?this.installScenePlugin(f,v,g):console.warn("Missing `plugin` for key: "+f));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(u,d,f){var v,m,g,y=this.game,T=u.scene,C=u.settings.map,E=u.settings.isBooted;for(v=0;v<d.length;v++)m=d[v],y[m]?(u[m]=y[m],C.hasOwnProperty(m)&&(T[C[m]]=u[m])):m==="game"&&C.hasOwnProperty(m)&&(T[C[m]]=y);for(var z=0;z<f.length;z++)for(g=f[z],v=0;v<g.length;v++)if(m=g[v],!!h.hasCore(m)){var D=h.getCore(m),A=D.mapping,L=new D.plugin(T,this,A);u[A]=L,D.custom?T[A]=L:C.hasOwnProperty(A)&&(T[C[A]]=L),E&&L.boot()}for(g=this.plugins,v=0;v<g.length;v++){var b=g[v];b.mapping&&(T[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,d,f,v,m){if(m===void 0&&(m=!1),typeof d!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(h.hasCore(u)||h.register(u,d,f,!0),this.scenePlugins.indexOf(u)===-1)this.scenePlugins.push(u);else if(!m&&h.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(v){var g=new d(v,this,u);v.sys[u]=g,f&&f!==""&&(v[f]=g),g.boot()}},install:function(u,d,f,v,m){if(f===void 0&&(f=!1),v===void 0&&(v=null),m===void 0&&(m=null),typeof d!="function")return console.warn("Invalid Plugin: "+u),null;if(h.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(v!==null&&(f=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:d,start:f,mapping:v,data:m});else if(h.registerCustom(u,d,v,m),f)return this.start(u);return null},getIndex:function(u){for(var d=this.plugins,f=0;f<d.length;f++){var v=d[f];if(v.key===u)return f}return-1},getEntry:function(u){var d=this.getIndex(u);if(d!==-1)return this.plugins[d]},isActive:function(u){var d=this.getEntry(u);return d&&d.active},start:function(u,d){d===void 0&&(d=u);var f=this.getEntry(d);return f&&!f.active?(f.active=!0,f.plugin.start()):f||(f=this.createEntry(u,d)),f?f.plugin:null},createEntry:function(u,d){var f=h.getCustom(u);if(f){var v=new f.plugin(this);f={key:d,plugin:v,active:!0,mapping:f.mapping,data:f.data},this.plugins.push(f),v.init(f.data),v.start()}return f},stop:function(u){var d=this.getEntry(u);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(u,d){d===void 0&&(d=!0);var f=this.getEntry(u);if(f)return f.plugin;var v=this.getClass(u);return v&&d?(f=this.createEntry(u,u),f?f.plugin:null):v||null},getClass:function(u){return h.getCustomClass(u)},removeGlobalPlugin:function(u){var d=this.getEntry(u);d&&i(this.plugins,d),h.removeCustom(u)},removeScenePlugin:function(u){i(this.scenePlugins,u),h.remove(u)},registerGameObject:function(u,d,f){return d&&t.register(u,d),f&&s.register(u,f),this},removeGameObject:function(u,d,f){return d===void 0&&(d=!0),f===void 0&&(f=!0),d&&t.remove(u),f&&s.remove(u),this},registerFileType:function(u,d,f){r.register(u,d),f&&f.sys.load&&(f.sys.load[u]=d)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});c.exports=l},45145:(c,x,e)=>{var o=e(52018),p=e(83419),a=e(44594),r=new p({Extends:o,initialize:function(t,n,h){o.call(this,n),this.scene=t,this.systems=t.sys,this.pluginKey=h,t.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});c.exports=r},18922:(c,x,e)=>{c.exports={BasePlugin:e(52018),DefaultPlugins:e(42363),PluginCache:e(37277),PluginManager:e(77332),ScenePlugin:e(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(c){let x=performance.now(),e=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-e.droppedVideoFrames,p=(a,r)=>{let s=this.getVideoPlaybackQuality(),t=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames;if(t>o){let n=this.mozFrameDelay||s.totalFrameDelay-e.totalFrameDelay||0,h=r-a;c(r,{presentationTime:r+n*1e3,expectedDisplayTime:r+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:t,processingDuration:n}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(n=>p(r,n))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(a=>p(x,a)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(c){cancelAnimationFrame(this._rvfcpolyfillmap[c]),delete this._rvfcpolyfillmap[c]})},10312:c=>{c.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:c=>{var x={DEFAULT:0,LINEAR:0,NEAREST:1};c.exports=x},68627:(c,x,e)=>{var o=e(19715),p=e(32880),a=e(83419),r=e(8054),s=e(50792),t=e(92503),n=e(56373),h=e(97480),i=e(69442),l=e(61340),u=new a({Extends:s,initialize:function(f){s.call(this);var v=f.config;this.config={clearBeforeRender:v.clearBeforeRender,backgroundColor:v.backgroundColor,antialias:v.antialias,roundPixels:v.roundPixels},this.game=f,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=f.canvas;var m={alpha:f.config.transparent,desynchronized:f.config.desynchronized,willReadFrequently:!1};this.gameContext=v.context?v.context:this.gameCanvas.getContext("2d",m),this.currentContext=this.gameContext,this.antialias=f.config.antialias,this.blendModes=n(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(i.READY,this.boot,this)},boot:function(){var d=this.game,f=d.scale.baseSize;this.width=f.width,this.height=f.height,this.isBooted=!0,d.scale.on(h.RESIZE,this.onResize,this),this.resize(f.width,f.height)},onResize:function(d,f){(f.width!==this.width||f.height!==this.height)&&this.resize(f.width,f.height)},resize:function(d,f){this.width=d,this.height=f,this.emit(t.RESIZE,d,f)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,f=this.config,v=this.width,m=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),this.emit(t.PRE_RENDER_CLEAR),f.clearBeforeRender&&(d.clearRect(0,0,v,m),f.transparent||(d.fillStyle=f.backgroundColor.rgba,d.fillRect(0,0,v,m))),d.save(),this.drawCount=0,this.emit(t.PRE_RENDER)},render:function(d,f,v){var m=f.length;this.emit(t.RENDER,d,v);var g=v.x,y=v.y,T=v.width,C=v.height,E=v.renderToTexture?v.context:d.sys.context;E.save(),this.game.scene.customViewports&&(E.beginPath(),E.rect(g,y,T,C),E.clip()),v.emit(o.PRE_RENDER,v),this.currentContext=E;var z=v.mask;z&&z.preRenderCanvas(this,null,v._maskCamera),v.transparent||(E.fillStyle=v.backgroundColor.rgba,E.fillRect(g,y,T,C)),E.globalAlpha=v.alpha,E.globalCompositeOperation="source-over",this.drawCount+=m,v.renderToTexture&&v.emit(o.PRE_RENDER,v),v.matrix.copyToContext(E);for(var D=0;D<m;D++){var A=f[D];A.mask&&A.mask.preRenderCanvas(this,A,v),A.renderCanvas(this,A,v),A.mask&&A.mask.postRenderCanvas(this,A,v)}E.setTransform(1,0,0,1,0,0),E.globalCompositeOperation="source-over",E.globalAlpha=1,v.flashEffect.postRenderCanvas(E),v.fadeEffect.postRenderCanvas(E),v.dirty=!1,z&&z.postRenderCanvas(this),E.restore(),v.renderToTexture&&(v.emit(o.POST_RENDER,v),v.renderToGame&&d.sys.context.drawImage(v.canvas,g,y)),v.emit(o.POST_RENDER,v)},postRender:function(){var d=this.gameContext;d.restore(),this.emit(t.POST_RENDER);var f=this.snapshotState;f.callback&&(p(this.gameCanvas,f),f.callback=null)},snapshotCanvas:function(d,f,v,m,g,y,T,C,E){v===void 0&&(v=!1),this.snapshotArea(m,g,y,T,f,C,E);var z=this.snapshotState;return z.getPixel=v,p(d,z),z.callback=null,this},snapshot:function(d,f,v){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,f,v)},snapshotArea:function(d,f,v,m,g,y,T){var C=this.snapshotState;return C.callback=g,C.type=y,C.encoder=T,C.getPixel=!1,C.x=d,C.y=f,C.width=Math.min(v,this.gameCanvas.width),C.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(d,f,v){return this.snapshotArea(d,f,1,1,v),this.snapshotState.getPixel=!0,this},batchSprite:function(d,f,v,m){var g=v.alpha*d.alpha;if(g!==0){var y=this.currentContext,T=this._tempMatrix1,C=this._tempMatrix2,E=f.canvasData,z=E.x,D=E.y,A=f.cutWidth,L=f.cutHeight,b=f.customPivot,F=f.source.resolution,V=d.displayOriginX,B=d.displayOriginY,N=-V+f.x,U=-B+f.y;if(d.isCropped){var I=d._crop;(I.flipX!==d.flipX||I.flipY!==d.flipY)&&f.updateCropUVs(I,d.flipX,d.flipY),A=I.cw,L=I.ch,z=I.cx,D=I.cy,N=-V+I.x,U=-B+I.y,d.flipX&&(N>=0?N=-(N+A):N<0&&(N=Math.abs(N)-A)),d.flipY&&(U>=0?U=-(U+L):U<0&&(U=Math.abs(U)-L))}var H=1,O=1;d.flipX&&(b||(N+=-f.realWidth+V*2),H=-1),d.flipY&&(b||(U+=-f.realHeight+B*2),O=-1);var R=d.x,Y=d.y;if(v.roundPixels&&(R=Math.floor(R),Y=Math.floor(Y)),C.applyITRS(R,Y,d.rotation,d.scaleX*H,d.scaleY*O),T.copyFrom(v.matrix),m?(T.multiplyWithOffset(m,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),C.e=R,C.f=Y):(C.e-=v.scrollX*d.scrollFactorX,C.f-=v.scrollY*d.scrollFactorY),T.multiply(C),v.renderRoundPixels&&(T.e=Math.floor(T.e+.5),T.f=Math.floor(T.f+.5)),y.save(),T.setToContext(y),y.globalCompositeOperation=this.blendModes[d.blendMode],y.globalAlpha=g,y.imageSmoothingEnabled=!f.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,v),A>0&&L>0){var G=A/F,k=L/F;v.roundPixels&&(N=Math.floor(N+.5),U=Math.floor(U+.5),G+=.5,k+=.5),y.drawImage(f.source.image,z,D,A,L,N,U,G,k)}d.mask&&d.mask.postRenderCanvas(this,d,v),y.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});c.exports=u},55830:(c,x,e)=>{c.exports={CanvasRenderer:e(68627),GetBlendModes:e(56373),SetTransform:e(20926)}},56373:(c,x,e)=>{var o=e(10312),p=e(89289),a=function(){var r=[],s=p.supportNewBlendModes,t="source-over";return r[o.NORMAL]=t,r[o.ADD]="lighter",r[o.MULTIPLY]=s?"multiply":t,r[o.SCREEN]=s?"screen":t,r[o.OVERLAY]=s?"overlay":t,r[o.DARKEN]=s?"darken":t,r[o.LIGHTEN]=s?"lighten":t,r[o.COLOR_DODGE]=s?"color-dodge":t,r[o.COLOR_BURN]=s?"color-burn":t,r[o.HARD_LIGHT]=s?"hard-light":t,r[o.SOFT_LIGHT]=s?"soft-light":t,r[o.DIFFERENCE]=s?"difference":t,r[o.EXCLUSION]=s?"exclusion":t,r[o.HUE]=s?"hue":t,r[o.SATURATION]=s?"saturation":t,r[o.COLOR]=s?"color":t,r[o.LUMINOSITY]=s?"luminosity":t,r[o.ERASE]="destination-out",r[o.SOURCE_IN]="source-in",r[o.SOURCE_OUT]="source-out",r[o.SOURCE_ATOP]="source-atop",r[o.DESTINATION_OVER]="destination-over",r[o.DESTINATION_IN]="destination-in",r[o.DESTINATION_OUT]="destination-out",r[o.DESTINATION_ATOP]="destination-atop",r[o.LIGHTER]="lighter",r[o.COPY]="copy",r[o.XOR]="xor",r};c.exports=a},20926:(c,x,e)=>{var o=e(91296),p=function(a,r,s,t,n){var h=t.alpha*s.alpha;if(h<=0)return!1;var i=o(s,t,n).calc;return r.globalCompositeOperation=a.blendModes[s.blendMode],r.globalAlpha=h,r.save(),i.setToContext(r),r.imageSmoothingEnabled=s.frame?!s.frame.source.scaleMode:a.antialias,!0};c.exports=p},63899:c=>{c.exports="losewebgl"},6119:c=>{c.exports="postrender"},48070:c=>{c.exports="prerender"},15640:c=>{c.exports="render"},8912:c=>{c.exports="resize"},87124:c=>{c.exports="restorewebgl"},92503:(c,x,e)=>{c.exports={LOSE_WEBGL:e(63899),POST_RENDER:e(6119),PRE_RENDER:e(48070),RENDER:e(15640),RESIZE:e(8912),RESTORE_WEBGL:e(87124)}},36909:(c,x,e)=>{c.exports={Events:e(92503),Snapshot:e(89966)},c.exports.Canvas=e(55830),c.exports.WebGL=e(4159)},32880:(c,x,e)=>{var o=e(27919),p=e(40987),a=e(95540),r=function(s,t){var n=a(t,"callback"),h=a(t,"type","image/png"),i=a(t,"encoder",.92),l=Math.abs(Math.round(a(t,"x",0))),u=Math.abs(Math.round(a(t,"y",0))),d=Math.floor(a(t,"width",s.width)),f=Math.floor(a(t,"height",s.height)),v=a(t,"getPixel",!1);if(v){var m=s.getContext("2d",{willReadFrequently:!1}),g=m.getImageData(l,u,1,1),y=g.data;n.call(null,new p(y[0],y[1],y[2],y[3]))}else if(l!==0||u!==0||d!==s.width||f!==s.height){var T=o.createWebGL(this,d,f),C=T.getContext("2d",{willReadFrequently:!0});d>0&&f>0&&C.drawImage(s,l,u,d,f,0,0,d,f);var E=new Image;E.onerror=function(){n.call(null),o.remove(T)},E.onload=function(){n.call(null,E),o.remove(T)},E.src=T.toDataURL(h,i)}else{var z=new Image;z.onerror=function(){n.call(null)},z.onload=function(){n.call(null,z)},z.src=s.toDataURL(h,i)}};c.exports=r},88815:(c,x,e)=>{var o=e(27919),p=e(40987),a=e(95540),r=function(s,t){var n=s,h=a(t,"callback"),i=a(t,"type","image/png"),l=a(t,"encoder",.92),u=Math.abs(Math.round(a(t,"x",0))),d=Math.abs(Math.round(a(t,"y",0))),f=a(t,"getPixel",!1),v=a(t,"isFramebuffer",!1),m=v?a(t,"bufferWidth",1):n.drawingBufferWidth,g=v?a(t,"bufferHeight",1):n.drawingBufferHeight;if(f){var y=new Uint8Array(4),T=v?d:g-d;n.readPixels(u,T,1,1,n.RGBA,n.UNSIGNED_BYTE,y),h.call(null,new p(y[0],y[1],y[2],y[3]))}else{var C=Math.floor(a(t,"width",m)),E=Math.floor(a(t,"height",g)),z=C*E*4,D=new Uint8Array(z);n.readPixels(u,g-d-E,C,E,n.RGBA,n.UNSIGNED_BYTE,D);for(var A=o.createWebGL(this,C,E),L=A.getContext("2d",{willReadFrequently:!0}),b=L.getImageData(0,0,C,E),F=b.data,V=0;V<E;V++)for(var B=0;B<C;B++){var N=((E-V-1)*C+B)*4,U=v?z-(V*C+(C-B))*4:(V*C+B)*4;F[U+0]=D[N+0],F[U+1]=D[N+1],F[U+2]=D[N+2],F[U+3]=D[N+3]}L.putImageData(b,0,0);var I=new Image;I.onerror=function(){h.call(null),o.remove(A)},I.onload=function(){h.call(null,I),o.remove(A)},I.src=A.toDataURL(i,l)}};c.exports=r},89966:(c,x,e)=>{c.exports={Canvas:e(32880),WebGL:e(88815)}},7530:(c,x,e)=>{var o=e(83419),p=e(36060),a=e(90330),r=e(82264),s=e(95540),t=e(32302),n=e(63448),h=e(31302),i=e(58918),l=e(14811),u=e(92651),d=e(96569),f=e(56527),v=e(57516),m=e(43439),g=e(81041),y=e(12385),T=e(7589),C=e(95428),E=e(72905),z=new o({initialize:function(A){this.game=A.game,this.renderer=A,this.classes=new a([[p.UTILITY_PIPELINE,T],[p.MULTI_PIPELINE,v],[p.BITMAPMASK_PIPELINE,h],[p.SINGLE_PIPELINE,y],[p.ROPE_PIPELINE,g],[p.LIGHT_PIPELINE,d],[p.POINTLIGHT_PIPELINE,m],[p.MOBILE_PIPELINE,f]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(D,A,L){var b=this.renderer,F=this.renderTargets;this.frameInc=Math.floor(s(D,"frameInc",32));var V=b.width,B=b.height,N=this.game.config.disablePreFX,U=this.game.config.disablePostFX;if(U||this.postPipelineClasses.setAll([[String(l.BARREL),i.Barrel],[String(l.BLOOM),i.Bloom],[String(l.BLUR),i.Blur],[String(l.BOKEH),i.Bokeh],[String(l.CIRCLE),i.Circle],[String(l.COLOR_MATRIX),i.ColorMatrix],[String(l.DISPLACEMENT),i.Displacement],[String(l.GLOW),i.Glow],[String(l.GRADIENT),i.Gradient],[String(l.PIXELATE),i.Pixelate],[String(l.SHADOW),i.Shadow],[String(l.SHINE),i.Shine],[String(l.VIGNETTE),i.Vignette],[String(l.WIPE),i.Wipe]]),!N){this.classes.set(p.FX_PIPELINE,u);for(var I=Math.min(V,B),H=Math.ceil(I/this.frameInc),O=1;O<H;O++){var R=O*this.frameInc;F.push(new t(b,R,R)),F.push(new t(b,R,R)),F.push(new t(b,R,R)),this.maxDimension=R}F.push(new t(b,V,B,1,0,!0,!0)),F.push(new t(b,V,B,1,0,!0,!0)),F.push(new t(b,V,B,1,0,!0,!0))}var Y,G,k=this,W=this.game;if(this.classes.each(function(j,K){Y=k.add(j,new K({game:W})),j===p.UTILITY_PIPELINE&&(k.UTILITY_PIPELINE=Y,k.fullFrame1=Y.fullFrame1,k.fullFrame2=Y.fullFrame2,k.halfFrame1=Y.halfFrame1,k.halfFrame2=Y.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),N||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),D)for(G in D){var X=D[G];Y=new X(W),Y.name=G,Y.isPostFX?this.postPipelineClasses.set(G,X):this.has(G)||(this.classes.set(G,X),this.add(G,Y))}this.default=this.get(A),L&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(D){var A=this.get(D);return A&&(this.default=A),A},add:function(D,A){if(A.isPostFX){console.warn(D+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,b=this.renderer;return L.has(D)?console.warn("Pipeline exists: "+D):(A.name=D,A.manager=this,L.set(D,A)),A.hasBooted||A.boot(),b.width!==0&&b.height!==0&&!A.isPreFX&&A.resize(b.width,b.height),A},addPostPipeline:function(D,A){this.postPipelineClasses.has(D)||this.postPipelineClasses.set(D,A)},flush:function(){this.current&&this.current.flush()},has:function(D){var A=this.pipelines;return typeof D=="string"?A.has(D):!!A.contains(D)},get:function(D){var A=this.pipelines;if(typeof D=="string")return A.get(D);if(A.contains(D))return D},getPostPipeline:function(D,A,L){var b=this.postPipelineClasses,F,V="",B=typeof D;if(B==="string"||B==="number"?(F=b.get(D),V=D):B==="function"?(b.contains(D)&&(F=D),V=D.name):B==="object"&&(F=b.get(D.name),V=D.name),F){var N=new F(this.game,L);return N.name=V,A&&(N.gameObject=A),this.postPipelineInstances.push(N),N}},removePostPipeline:function(D){E(this.postPipelineInstances,D)},remove:function(D,A,L){A===void 0&&(A=!0),L===void 0&&(L=!0),this.pipelines.delete(D),A&&this.classes.delete(D),L&&this.postPipelineClasses.delete(D)},set:function(D,A,L){if(!D.isPostFX)return this.isCurrent(D,L)||(this.flush(),this.current&&this.current.unbind(),this.current=D,D.bind(L)),D.updateProjectionMatrix(),D.onBind(A),D},preBatch:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=A.length-1;L>=0;L--){var b=A[L];b.active&&b.preBatch(D)}}},postBatch:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=0;L<A.length;L++){var b=A[L];b.active&&b.postBatch(D)}}},preBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=A.length-1;L>=0;L--){var b=A[L];b.active&&b.preBatch(D)}}},postBatchCamera:function(D){if(D.hasPostPipeline){this.flush();for(var A=D.postPipelines,L=0;L<A.length;L++){var b=A[L];b.active&&b.postBatch(D)}}},isCurrent:function(D,A){var L=this.renderer,b=this.current;return b&&!A&&(A=b.currentShader),!(b!==D||A.program!==L.currentProgram)},copyFrame:function(D,A,L,b,F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(D,A,L,b,F),this},copyToGame:function(D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(D),this},drawFrame:function(D,A,L,b){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(D,A,L,b),this},blendFrames:function(D,A,L,b,F){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(D,A,L,b,F),this},blendFramesAdditive:function(D,A,L,b,F){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(D,A,L,b,F),this},clearFrame:function(D,A){return this.UTILITY_PIPELINE.clearFrame(D,A),this},blitFrame:function(D,A,L,b,F,V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(D,A,L,b,F,V),this},copyFrameRect:function(D,A,L,b,F,V,B,N){return this.UTILITY_PIPELINE.copyFrameRect(D,A,L,b,F,V,B,N),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(D){return this.UTILITY_PIPELINE.bind(D)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(D,A){A.restoreContext()}),C(this.postPipelineInstances,function(D){D.restoreContext()})},rebind:function(D){D===void 0&&this.previous&&(D=this.previous);var A=this.renderer,L=A.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),A.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,A.width,A.height),A.currentProgram=null,A.setBlendMode(0,!0);var b=A.vaoExtension;b&&b.bindVertexArrayOES(null);var F=this.pipelines.entries;for(var V in F)F[V].glReset=!0;D&&(this.current=D,D.rebind())},clear:function(){var D=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,D.currentProgram=null,D.setBlendMode(0,!0);var A=D.vaoExtension;A&&A.bindVertexArrayOES(null)},getRenderTarget:function(D){var A=this.renderTargets,L=3;if(D>this.maxDimension)return this.targetIndex=A.length-L,A[this.targetIndex];var b=(n(D,this.frameInc,0,!0)-1)*L;return this.targetIndex=b,A[b]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});c.exports=z},32302:(c,x,e)=>{var o=e(83419),p=e(92503),a=new o({initialize:function(s,t,n,h,i,l,u,d,f){h===void 0&&(h=1),i===void 0&&(i=0),l===void 0&&(l=!0),u===void 0&&(u=!1),d===void 0&&(d=!0),f===void 0&&(f=!0),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=i,this.autoClear=l,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=f,this.init(t,n),u?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(r,s){var t=this.renderer;this.texture=t.createTextureFromSource(null,r,s,this.minFilter,this.forceClamp),this.framebuffer=t.createFramebuffer(r,s,this.texture,this.hasDepthBuffer),this.width=r,this.height=s},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,s){if(this.autoResize&&this.willResize(r,s)){var t=this.renderer;t.deleteFramebuffer(this.framebuffer),t.deleteTexture(this.texture),this.texture=t.createTextureFromSource(null,r,s,this.minFilter,this.forceClamp),this.framebuffer=t.createFramebuffer(r,s,this.texture,this.hasDepthBuffer),this.width=r,this.height=s}return this},willResize:function(r,s){return typeof r!="number"||typeof s!="number"?!1:(r=Math.round(r*this.scale),s=Math.round(s*this.scale),r=Math.max(r,1),s=Math.max(s,1),r!==this.width||s!==this.height)},bind:function(r,s,t){r===void 0&&(r=!1);var n=this.renderer;if(r&&n.flush(),s&&t&&this.resize(s,t),n.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}n.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(r,s,t,n){var h=this.renderer,i=h.gl;h.pushFramebuffer(this.framebuffer),r!==void 0&&s!==void 0&&t!==void 0&&n!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(r,s,t,n)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),h.popFramebuffer(),h.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var s=this.renderer;return r&&s.flush(),s.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(p.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});c.exports=a},70554:c=>{c.exports={getTintFromFloats:function(x,e,o,p){var a=(x*255|0)&255,r=(e*255|0)&255,s=(o*255|0)&255,t=(p*255|0)&255;return(t<<24|a<<16|r<<8|s)>>>0},getTintAppendFloatAlpha:function(x,e){var o=(e*255|0)&255;return(o<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,e){var o=(x>>16|0)&255,p=(x>>8|0)&255,a=(x|0)&255,r=(e*255|0)&255;return(r<<24|a<<16|p<<8|o)>>>0},getFloatsFromUintRGB:function(x){var e=(x>>16|0)&255,o=(x>>8|0)&255,p=(x|0)&255;return[e/255,o/255,p/255]},checkShaderMax:function(x,e){var o=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!e||e===-1?o:Math.min(o,e)},parseFragmentShaderMaxTextures:function(x,e){if(!x)return"";for(var o="",p=0;p<e;p++)p>0&&(o+=`
	else `),p<e-1&&(o+="if (outTexId < "+p+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",o+=`
	}`;return x=x.replace(/%count%/gi,e.toString()),x.replace(/%forloop%/gi,o)},setGlowQuality:function(x,e,o,p){return o===void 0&&(o=e.config.glowFXQuality),p===void 0&&(p=e.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/o/p).toFixed(7)),x=x.replace(/__DIST__/gi,p.toFixed(0)+".0"),x}}},29100:(c,x,e)=>{var o=e(83419),p=e(62644),a=e(50792),r=e(77085),s=e(95540),t=e(37867),n=e(92503),h=e(32302),i=e(70554),l=e(38683),u=new o({Extends:a,initialize:function(f){a.call(this);var v=f.game,m=v.renderer,g=m.gl;this.name=s(f,"name","WebGLPipeline"),this.game=v,this.renderer=m,this.manager,this.gl=g,this.view=v.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=s(f,"topology",g.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=s(f,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=f,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=s(f,"resizeUniform","")},boot:function(){var d,f=this.gl,v=this.config,m=this.renderer;this.isPostFX||(this.projectionMatrix=new t().identity());var g=this.renderTargets,y=s(v,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var T=m.width,C=m.height;if(typeof y=="number")for(d=0;d<y;d++)g.push(new h(m,T,C,1,0,!0));else if(Array.isArray(y))for(d=0;d<y.length;d++){var E=s(y[d],"scale",1),z=s(y[d],"minFilter",0),D=s(y[d],"autoClear",1),A=s(y[d],"autoResize",!1),L=s(y[d],"width",null),b=s(y[d],"height",L);L?g.push(new h(m,L,b,1,z,D,A)):g.push(new h(m,T,C,E,z,D,A))}g.length&&(this.currentRenderTarget=g[0]),this.setShadersFromConfig(v);var F=this.shaders,V=0;for(d=0;d<F.length;d++)F[d].vertexSize>V&&(V=F[d].vertexSize);var B=s(v,"batchSize",m.config.batchSize);this.vertexCapacity=B*6;var N=new ArrayBuffer(this.vertexCapacity*V);this.vertexData=N,this.bytes=new Uint8Array(N),this.vertexViewF32=new Float32Array(N),this.vertexViewU32=new Uint32Array(N);var U=s(v,"vertices",null);for(U?(this.vertexViewF32.set(U),this.vertexBuffer=m.createVertexBuffer(N,f.STATIC_DRAW)):this.vertexBuffer=m.createVertexBuffer(N.byteLength,f.DYNAMIC_DRAW),this.setVertexBuffer(),d=F.length-1;d>=0;d--)F[d].rebind();this.hasBooted=!0,m.on(n.RESIZE,this.resize,this),m.on(n.PRE_RENDER,this.onPreRender,this),m.on(n.RENDER,this.onRender,this),m.on(n.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,f,v){var m=this.renderer;if(d!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush();var g=this.setVertexBuffer(v);g&&!f&&(f=!0),d.bind(f,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var f=this.shaders,v=0;v<f.length;v++)if(f[v].name===d)return f[v]},setShadersFromConfig:function(d){var f,v=this.shaders,m=this.renderer;for(f=0;f<v.length;f++)v[f].destroy();var g="vertShader",y="fragShader",T="attributes",C=s(d,g,null),E=i.parseFragmentShaderMaxTextures(s(d,y,null),m.maxTextures),z=s(d,T,null),D=s(d,"shaders",[]),A=D.length;if(A===0)C&&E&&(this.shaders=[new l(this,"default",C,E,p(z))]);else{var L=[];for(f=0;f<A;f++){var b=D[f],F,V,B,N;if(typeof b=="string"?(F="default",V=C,B=i.parseFragmentShaderMaxTextures(b,m.maxTextures),N=z):(F=s(b,"name","default"),V=s(b,g,C),B=i.parseFragmentShaderMaxTextures(s(b,y,E),m.maxTextures),N=s(b,T,z)),F==="default"){var U=B.split(`
`),I=U[0].trim();I.indexOf("#define SHADER_NAME")>-1&&(F=I.substring(20))}V&&B&&L.push(new l(this,F,V,B,p(N)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var f=this.currentBatch;f&&(f.texture.push(d),f.unit++,f.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var f=this.currentBatch,v=f.texture.indexOf(d);return v===-1?f.texture.length===this.renderer.maxTextures?this.createBatch(d):(f.unit++,f.maxUnit++,f.texture.push(d),this.currentUnit=f.unit,this.currentTexture=d,f.unit):(this.currentUnit=v,this.currentTexture=d,v)},setGameObject:function(d,f){return f===void 0&&(f=d.frame),this.pushBatch(f.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,f){(d!==this.width||f!==this.height)&&this.flush(),this.width=d,this.height=f;for(var v=this.renderTargets,m=0;m<v.length;m++)v[m].resize(d,f);return this.setProjectionMatrix(d,f),this.resizeUniform&&this.set2f(this.resizeUniform,d,f),this.emit(r.RESIZE,d,f,this),this.onResize(d,f),this},setProjectionMatrix:function(d,f){var v=this.projectionMatrix;if(!v)return this;this.projectionWidth=d,this.projectionHeight=f,v.ortho(0,d,f,0,-1e3,1e3);for(var m=this.shaders,g="uProjectionMatrix",y=0;y<m.length;y++){var T=m[y];T.hasUniform(g)&&(T.resetUniform(g),T.setMatrix4fv(g,!1,v.val,T))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var f=this.projectionMatrix;if(!f)return this;var v=this.projectionWidth,m=this.projectionHeight;d?f.ortho(0,v,0,m,-1e3,1e3):f.ortho(0,v,m,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,f.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,f=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==f)&&this.setProjectionMatrix(d,f)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var f=!1,v=this.gl;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(v.bindBuffer(v.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,f=!0),d.bind(f),this.currentShader=d,this.activeTextures.length=0,this.emit(r.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var f=this.shaders,v=f.length-1;v>=0;v--){var m=f[v].rebind();(!d||m===d)&&(this.currentShader=m)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,f=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,f&&this.setVertexBuffer();for(var v=0;v<d.length;v++){var m=d[v];m.syncUniforms(),f&&m.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var f=this.gl;return this.gl.bindBuffer(f.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var f=this.gl,v=this.vertexCount,m=this.currentShader.vertexSize,g=this.topology;if(this.active){this.setVertexBuffer(),v===this.vertexCapacity?f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.DYNAMIC_DRAW):f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,v*m));var y,T,C,E=this.batch,z=this.activeTextures;if(this.forceZero)for(z[0]||f.activeTexture(f.TEXTURE0),y=0;y<E.length;y++)T=E[y],C=T.texture[0],z[0]!==C&&(f.bindTexture(f.TEXTURE_2D,C.webGLTexture),z[0]=C),f.drawArrays(g,T.start,T.count);else for(y=0;y<E.length;y++){T=E[y];for(var D=0;D<=T.maxUnit;D++)C=T.texture[D],z[D]!==C&&(f.activeTexture(f.TEXTURE0+D),f.bindTexture(f.TEXTURE_2D,C.webGLTexture),z[D]=C);f.drawArrays(g,T.start,T.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,f,v,m,g,y,T){var C=this.vertexViewF32,E=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++z]=d,C[++z]=f,C[++z]=v,C[++z]=m,C[++z]=g,C[++z]=y,E[++z]=T,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I){I===void 0&&(I=this.currentUnit);var H=!1;this.shouldFlush(6)&&(this.flush(),H=!0),this.currentBatch||(I=this.setTexture2D(U));var O=this.vertexViewF32,R=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++Y]=f,O[++Y]=v,O[++Y]=z,O[++Y]=D,O[++Y]=I,O[++Y]=N,R[++Y]=b,O[++Y]=m,O[++Y]=g,O[++Y]=z,O[++Y]=L,O[++Y]=I,O[++Y]=N,R[++Y]=V,O[++Y]=y,O[++Y]=T,O[++Y]=A,O[++Y]=L,O[++Y]=I,O[++Y]=N,R[++Y]=B,O[++Y]=f,O[++Y]=v,O[++Y]=z,O[++Y]=D,O[++Y]=I,O[++Y]=N,R[++Y]=b,O[++Y]=y,O[++Y]=T,O[++Y]=A,O[++Y]=L,O[++Y]=I,O[++Y]=N,R[++Y]=B,O[++Y]=C,O[++Y]=E,O[++Y]=A,O[++Y]=D,O[++Y]=I,O[++Y]=N,R[++Y]=F,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),H},batchTri:function(d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B){B===void 0&&(B=this.currentUnit);var N=!1;this.shouldFlush(3)&&(this.flush(),N=!0),this.currentBatch||(B=this.setTexture2D(V));var U=this.vertexViewF32,I=this.vertexViewU32,H=this.vertexCount*this.currentShader.vertexComponentCount-1;return U[++H]=f,U[++H]=v,U[++H]=C,U[++H]=E,U[++H]=B,U[++H]=F,I[++H]=A,U[++H]=m,U[++H]=g,U[++H]=C,U[++H]=D,U[++H]=B,U[++H]=F,I[++H]=L,U[++H]=y,U[++H]=T,U[++H]=z,U[++H]=D,U[++H]=B,U[++H]=F,I[++H]=b,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),N},drawFillRect:function(d,f,v,m,g,y,T,C){T===void 0&&(T=this.renderer.whiteTexture),C===void 0&&(C=!0),d=Math.floor(d),f=Math.floor(f);var E=Math.floor(d+v),z=Math.floor(f+m),D=this.setTexture2D(T),A=i.getTintAppendFloatAlphaAndSwap(g,y),L=0,b=0,F=1,V=1;C&&(b=1,V=0),this.batchQuad(null,d,f,d,z,E,z,E,f,L,b,F,V,A,A,A,A,0,T,D)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,f){f===void 0&&(f=0);var v=this.gl;return v.activeTexture(v.TEXTURE0+f),v.bindTexture(v.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,f){return this.bindTexture(d.texture,f)},setTime:function(d,f){return this.set1f(d,this.game.loop.getDuration(),f),this},setBoolean:function(d,f,v){return v===void 0&&(v=this.currentShader),v.setBoolean(d,f),this},set1f:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1f(d,f),this},set2f:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.set2f(d,f,v),this},set3f:function(d,f,v,m,g){return g===void 0&&(g=this.currentShader),g.set3f(d,f,v,m),this},set4f:function(d,f,v,m,g,y){return y===void 0&&(y=this.currentShader),y.set4f(d,f,v,m,g),this},set1fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1fv(d,f),this},set2fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set2fv(d,f),this},set3fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set3fv(d,f),this},set4fv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set4fv(d,f),this},set1iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1iv(d,f),this},set2iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set2iv(d,f),this},set3iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set3iv(d,f),this},set4iv:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set4iv(d,f),this},set1i:function(d,f,v){return v===void 0&&(v=this.currentShader),v.set1i(d,f),this},set2i:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.set2i(d,f,v),this},set3i:function(d,f,v,m,g){return g===void 0&&(g=this.currentShader),g.set3i(d,f,v,m),this},set4i:function(d,f,v,m,g,y){return y===void 0&&(y=this.currentShader),y.set4i(d,f,v,m,g),this},setMatrix2fv:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix2fv(d,f,v),this},setMatrix3fv:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix3fv(d,f,v),this},setMatrix4fv:function(d,f,v,m){return m===void 0&&(m=this.currentShader),m.setMatrix4fv(d,f,v),this},destroy:function(){this.emit(r.DESTROY,this);var d,f=this.shaders;for(d=0;d<f.length;d++)f[d].destroy();var v=this.renderTargets;for(d=0;d<v.length;d++)v[d].destroy();var m=this.renderer;return m.deleteBuffer(this.vertexBuffer),m.off(n.RESIZE,this.resize,this),m.off(n.PRE_RENDER,this.onPreRender,this),m.off(n.RENDER,this.onRender,this),m.off(n.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});c.exports=u},74797:(c,x,e)=>{var o=e(95428),p=e(72905),a=e(19715),r=e(83419),s=e(8054),t=e(50792),n=e(92503),h=e(50030),i=e(37867),l=e(29747),u=e(7530),d=e(32302),f=e(97480),v=e(69442),m=e(70554),g=e(88815),y=e(26128),T=e(1482),C=e(82751),E=e(84387),z=e(93567),D=e(57183),A=!1;if(0)var L;var b=new r({Extends:t,initialize:function(V){t.call(this);var B=V.config,N={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:N,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=V,this.type=s.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=V.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=l,this.contextRestoredHandler=l,this.previousContextLostHandler=l,this.previousContextRestoredHandler=l,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(F){var V,B=this.game,N=this.canvas,U=F.backgroundColor;if(A&&(this.spector=new L.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),B.config.context?V=B.config.context:V=N.getContext("webgl",F.contextCreation)||N.getContext("experimental-webgl",F.contextCreation),!V||V.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=V,this.setExtensions(),this.setContextHandlers(),B.context=V;for(var I=0;I<=27;I++)this.blendModes.push({func:[V.ONE,V.ONE_MINUS_SRC_ALPHA],equation:V.FUNC_ADD});this.blendModes[1].func=[V.ONE,V.DST_ALPHA],this.blendModes[2].func=[V.DST_COLOR,V.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[V.ONE,V.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[V.ZERO,V.ONE_MINUS_SRC_ALPHA],equation:V.FUNC_REVERSE_SUBTRACT},this.glFormats=[V.BYTE,V.SHORT,V.UNSIGNED_BYTE,V.UNSIGNED_SHORT,V.FLOAT],this.glFuncMap={mat2:{func:V.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:V.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:V.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:V.uniform1f,length:1},"1fv":{func:V.uniform1fv,length:1},"1i":{func:V.uniform1i,length:1},"1iv":{func:V.uniform1iv,length:1},"2f":{func:V.uniform2f,length:2},"2fv":{func:V.uniform2fv,length:1},"2i":{func:V.uniform2i,length:2},"2iv":{func:V.uniform2iv,length:1},"3f":{func:V.uniform3f,length:3},"3fv":{func:V.uniform3fv,length:1},"3i":{func:V.uniform3i,length:3},"3iv":{func:V.uniform3iv,length:1},"4f":{func:V.uniform4f,length:4},"4fv":{func:V.uniform4fv,length:1},"4i":{func:V.uniform4i,length:4},"4iv":{func:V.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=V.getParameter(V.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=V.getParameter(V.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),V.disable(V.DEPTH_TEST),V.disable(V.CULL_FACE),V.enable(V.BLEND),V.clearColor(U.redGL,U.greenGL,U.blueGL,U.alphaGL);var H=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return H.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=V[F.mipmapFilter]),this.maxTextures=m.checkShaderMax(V,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(s.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),B.textures.once(v.READY,this.boot,this),this},boot:function(){var F=this.game,V=this.pipelines,B=F.scale.baseSize,N=B.width,U=B.height;this.width=N,this.height=U,this.isBooted=!0,this.renderTarget=new d(this,N,U,1,0,!0,!0),this.maskTarget=new d(this,N,U,1,0,!0,!0),this.maskSource=new d(this,N,U,1,0,!0,!0);var I=F.config;V.boot(I.pipeline,I.defaultPipeline,I.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),F.scale.on(f.RESIZE,this.onResize,this),this.resize(N,U)},setExtensions:function(){var F=this.gl,V=F.getSupportedExtensions();this.supportedExtensions=V;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=V.indexOf(B)>-1?F.getExtension(B):null;var N="OES_vertex_array_object";this.vaoExtension=V.indexOf(N)>-1?F.getExtension(N):null},setContextHandlers:function(F,V){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof V=="function"?this.contextRestoredHandler=V.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(n.LOSE_WEBGL,this),F.preventDefault()},dispatchContextRestored:function(F){var V=this.gl;if(V.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(s.BlendModes.NORMAL),V.disable(V.BLEND),V.disable(V.DEPTH_TEST),V.enable(V.CULL_FACE),this.compression=this.getCompressedTextures();var B=function(N){N.createResource()};o(this.glTextureWrappers,B),o(this.glBufferWrappers,B),o(this.glFramebufferWrappers,B),o(this.glProgramWrappers,B),o(this.glAttribLocationWrappers,B),o(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(n.RESTORE_WEBGL,this),F.preventDefault()},createTemporaryTextures:function(){for(var F=this.gl,V=0;V<this.maxTextures;V++){var B=F.createTexture();F.activeTexture(F.TEXTURE0+V),F.bindTexture(F.TEXTURE_2D,B),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(V)}},captureFrame:function(F,V){F===void 0&&(F=!1),V===void 0&&(V=!1),A&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,F,V),this._debugCapture=!0)},captureNextFrame:function(){A&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(A&&this.spector)return this.spector.getFps()},log:function(){if(A&&this.spector){var F=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(F)}},startCapture:function(F,V,B){F===void 0&&(F=0),V===void 0&&(V=!1),B===void 0&&(B=!1),A&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,F,V,B),this._debugCapture=!0)},stopCapture:function(){if(A&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(F){if(A){var V=this.spector.getResultUI();V.display(F),this._debugCapture=!1}},onResize:function(F,V){(V.width!==this.width||V.height!==this.height)&&this.resize(V.width,V.height)},beginCapture:function(F,V){F===void 0&&(F=this.width),V===void 0&&(V=this.height),this.renderTarget.bind(!0,F,V),this.setProjectionMatrix(F,V)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(F,V){var B=this.gl;return this.width=F,this.height=V,this.setProjectionMatrix(F,V),B.viewport(0,0,F,V),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-V,F,V),this.defaultScissor[2]=F,this.defaultScissor[3]=V,this.emit(n.RESIZE,F,V),this},getCompressedTextures:function(){var F="WEBGL_compressed_texture_",V="WEBKIT_"+F,B="EXT_texture_compression_",N=function(I,H){var O=I.getExtension(F+H)||I.getExtension(V+H)||I.getExtension(B+H);if(O){var R={};for(var Y in O)R[O[Y]]=Y;return R}},U=this.gl;return{ETC:N(U,"etc"),ETC1:N(U,"etc1"),ATC:N(U,"atc"),ASTC:N(U,"astc"),BPTC:N(U,"bptc"),RGTC:N(U,"rgtc"),PVRTC:N(U,"pvrtc"),S3TC:N(U,"s3tc"),S3TCSRGB:N(U,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(F,V){var B=this.compression[F.toUpperCase()];if(V in B)return B[V]},supportsCompressedTexture:function(F,V){var B=this.compression[F.toUpperCase()];return B?V?V in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(F,V){return(F!==this.projectionWidth||V!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=V,this.projectionMatrix.ortho(0,F,V,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},getExtension:function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},flush:function(){this.pipelines.flush()},pushScissor:function(F,V,B,N,U){U===void 0&&(U=this.drawingBufferHeight);var I=this.scissorStack,H=[F,V,B,N];return I.push(H),this.setScissor(F,V,B,N,U),this.currentScissor=H,H},setScissor:function(F,V,B,N,U){U===void 0&&(U=this.drawingBufferHeight);var I=this.gl,H=this.currentScissor,O=B>0&&N>0;if(H&&O){var R=H[0],Y=H[1],G=H[2],k=H[3];O=R!==F||Y!==V||G!==B||k!==N}O&&(this.flush(),I.scissor(F,U-V-N,B,N))},resetScissor:function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var V=this.currentScissor;if(V){var B=V[0],N=V[1],U=V[2],I=V[3];U>0&&I>0&&F.scissor(B,this.drawingBufferHeight-N-I,U,I)}},popScissor:function(){var F=this.scissorStack;F.pop();var V=F[F.length-1];V&&this.setScissor(V[0],V[1],V[2],V[3]),this.currentScissor=V},hasActiveStencilMask:function(){var F=this.currentMask.mask,V=this.currentCameraMask.mask;return F&&F.isStencil||V&&V.isStencil},resetViewport:function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},setBlendMode:function(F,V){V===void 0&&(V=!1);var B=this.gl,N=this.blendModes[F];return V||F!==s.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),B.enable(B.BLEND),B.blendEquation(N.equation),N.func.length>2?B.blendFuncSeparate(N.func[0],N.func[1],N.func[2],N.func[3]):B.blendFunc(N.func[0],N.func[1]),this.currentBlendMode=F,!0):!1},addBlendMode:function(F,V){var B=this.blendModes.push({func:F,equation:V});return B-1},updateBlendMode:function(F,V,B){return this.blendModes[F]&&(this.blendModes[F].func=V,B&&(this.blendModes[F].equation=B)),this},removeBlendMode:function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},pushFramebuffer:function(F,V,B,N,U){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,V,B,N,U))},setFramebuffer:function(F,V,B,N,U){if(V===void 0&&(V=!1),B===void 0&&(B=!0),N===void 0&&(N=null),U===void 0&&(U=!1),F===this.currentFramebuffer)return this;var I=this.gl,H=this.width,O=this.height;return F&&F.renderTexture&&B?(H=F.renderTexture.width,O=F.renderTexture.height):this.flush(),F?I.bindFramebuffer(I.FRAMEBUFFER,F.webGLFramebuffer):I.bindFramebuffer(I.FRAMEBUFFER,null),B&&I.viewport(0,0,H,O),N&&I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,N.webGLTexture,0),U&&(I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT)),V&&(F?(this.drawingBufferHeight=O,this.pushScissor(0,0,H,O)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},popFramebuffer:function(F,V){F===void 0&&(F=!1),V===void 0&&(V=!0);var B=this.fboStack;B.pop();var N=B[B.length-1];return N||(N=null),this.setFramebuffer(N,F,V),N},restoreFramebuffer:function(F,V){F===void 0&&(F=!1),V===void 0&&(V=!0);var B=this.fboStack,N=B[B.length-1];N||(N=null),this.currentFramebuffer=null,this.setFramebuffer(N,F,V)},setProgram:function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(F,V,B,N,U){U===void 0&&(U=!1);var I=this.gl,H=I.NEAREST,O=I.NEAREST,R=I.CLAMP_TO_EDGE,Y=null;V=F?F.width:V,B=F?F.height:B;var G=h(V,B);if(G&&!U&&(R=I.REPEAT),N===s.ScaleModes.LINEAR&&this.config.antialias){var k=F&&F.compressed,W=!k&&G||k&&F.mipmaps.length>1;H=this.mipmapFilter&&W?this.mipmapFilter:I.LINEAR,O=I.LINEAR}return!F&&typeof V=="number"&&typeof B=="number"?Y=this.createTexture2D(0,H,O,R,R,I.RGBA,null,V,B):Y=this.createTexture2D(0,H,O,R,R,I.RGBA,F),Y},createTexture2D:function(F,V,B,N,U,I,H,O,R,Y,G,k){typeof O!="number"&&(O=H?H.width:1),typeof R!="number"&&(R=H?H.height:1);var W=new C(this.gl,F,V,B,N,U,I,H,O,R,Y,G,k);return this.glTextureWrappers.push(W),W},createFramebuffer:function(F,V,B,N){this.currentFramebuffer=null;var U=new E(this.gl,F,V,B,N);return this.glFramebufferWrappers.push(U),U},beginBitmapMask:function(F,V){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=V))},drawBitmapMask:function(F,V,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,V),this.maskSource.unbind(!0),this.maskTarget.unbind();var N=this.gl,U=this.getCurrentStencilMask();U?(N.enable(N.STENCIL_TEST),U.mask.applyStencil(this,U.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,this.maskTarget.texture.webGLTexture),N.activeTexture(N.TEXTURE1),N.bindTexture(N.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(F,V){var B=new T(this.gl,F,V);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(F,V){var B=this.gl,N=new y(B,F,B.ARRAY_BUFFER,V);return this.glBufferWrappers.push(N),N},createAttribLocation:function(F,V){var B=new z(this.gl,F,V);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(F,V){var B=new D(this.gl,F,V);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(F,V){var B=this.gl,N=new y(B,F,B.ELEMENT_ARRAY_BUFFER,V);return this.glBufferWrappers.push(N),N},deleteTexture:function(F){if(F)return p(this.glTextureWrappers,F),F.destroy(),this},deleteFramebuffer:function(F){return F?(p(this.fboStack,F),p(this.glFramebufferWrappers,F),F.destroy(),this):this},deleteProgram:function(F){return F&&(p(this.glProgramWrappers,F),F.destroy()),this},deleteAttribLocation:function(F){return F&&(p(this.glAttribLocationWrappers,F),F.destroy()),this},deleteUniformLocation:function(F){return F&&(p(this.glUniformLocationWrappers,F),F.destroy()),this},deleteBuffer:function(F){return F?(p(this.glBufferWrappers,F),F.destroy(),this):this},preRenderCamera:function(F){var V=F.x,B=F.y,N=F.width,U=F.height,I=F.backgroundColor;if(F.emit(a.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(V,B,N,U),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),I.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(V,B,N,U,m.getTintFromFloats(I.blueGL,I.greenGL,I.redGL,1),I.alphaGL)}},getCurrentStencilMask:function(){var F=null,V=this.maskStack,B=this.currentCameraMask;return V.length>0?F=V[V.length-1]:B.mask&&B.mask.isStencil&&(F=B),F},postRenderCamera:function(F){var V=F.flashEffect,B=F.fadeEffect;if(V.isRunning||B.isRunning||B.isComplete){var N=this.pipelines.setMulti();V.postRenderWebGL(N,m.getTintFromFloats),B.postRenderWebGL(N,m.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(a.POST_RENDER,F)},preRender:function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(n.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var V=this.config.backgroundColor;F.clearColor(V.redGL,V.greenGL,V.blueGL,V.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(F,V,B){if(!this.contextLost){var N=V.length;if(this.emit(n.RENDER,F,B),this.preRenderCamera(B),N===0){this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var U=this.currentMask,I=0;I<N;I++){this.finalType=I===N-1;var H=V[I],O=H.mask;U=this.currentMask,U.mask&&U.mask!==O&&U.mask.postRenderWebGL(this,U.camera),O&&U.mask!==O&&O.preRenderWebGL(this,H,B),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var R=H.type;R!==this.currentType&&(this.newType=!0,this.currentType=R),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=V[I+1].type===this.currentType,H.renderWebGL(this,H,B),this.newType=!1}U=this.currentMask,U.mask&&U.mask.postRenderWebGL(this,U.camera),this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var F=this.snapshotState;F.callback&&(g(this.gl,F),F.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var F=this.gl,V=this.getCurrentStencilMask();if(V){var B=V.mask;F.enable(F.STENCIL_TEST),B.invertAlpha?F.stencilFunc(F.NOTEQUAL,B.level,255):F.stencilFunc(F.EQUAL,B.level,255)}},snapshot:function(F,V,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,V,B)},snapshotArea:function(F,V,B,N,U,I,H){var O=this.snapshotState;return O.callback=U,O.type=I,O.encoder=H,O.getPixel=!1,O.x=F,O.y=V,O.width=B,O.height=N,this},snapshotPixel:function(F,V,B){return this.snapshotArea(F,V,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(F,V,B,N,U,I,H,O,R,Y,G){U===void 0&&(U=!1),I===void 0&&(I=0),H===void 0&&(H=0),O===void 0&&(O=V),R===void 0&&(R=B),Y==="pixel"&&(U=!0,Y="image/png");var k=this.currentFramebuffer;this.snapshotArea(I,H,O,R,N,Y,G);var W=this.snapshotState;return W.getPixel=U,W.isFramebuffer=!0,W.bufferWidth=V,W.bufferHeight=B,W.width=Math.min(W.width,V),W.height=Math.min(W.height,B),this.setFramebuffer(F),g(this.gl,W),this.setFramebuffer(k),W.callback=null,W.isFramebuffer=!1,this},canvasToTexture:function(F,V,B,N){B===void 0&&(B=!1),N===void 0&&(N=!1);var U=this.gl,I=U.NEAREST,H=U.NEAREST,O=F.width,R=F.height,Y=U.CLAMP_TO_EDGE,G=h(O,R);return!B&&G&&(Y=U.REPEAT),this.config.antialias&&(I=G&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,H=U.LINEAR),V?(V.update(F,O,R,N,Y,Y,I,H,V.format),V):this.createTexture2D(0,I,H,Y,Y,U.RGBA,F,O,R,!0,!1,N)},createCanvasTexture:function(F,V,B){return V===void 0&&(V=!1),B===void 0&&(B=!1),this.canvasToTexture(F,null,V,B)},updateCanvasTexture:function(F,V,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.canvasToTexture(F,V,N,B)},videoToTexture:function(F,V,B,N){B===void 0&&(B=!1),N===void 0&&(N=!1);var U=this.gl,I=U.NEAREST,H=U.NEAREST,O=F.videoWidth,R=F.videoHeight,Y=U.CLAMP_TO_EDGE,G=h(O,R);return!B&&G&&(Y=U.REPEAT),this.config.antialias&&(I=G&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,H=U.LINEAR),V?(V.update(F,O,R,N,Y,Y,I,H,V.format),V):this.createTexture2D(0,I,H,Y,Y,U.RGBA,F,O,R,!0,!0,N)},createVideoTexture:function(F,V,B){return V===void 0&&(V=!1),B===void 0&&(B=!1),this.videoToTexture(F,null,V,B)},updateVideoTexture:function(F,V,B,N){return B===void 0&&(B=!1),N===void 0&&(N=!1),this.videoToTexture(F,V,N,B)},createUint8ArrayTexture:function(F,V,B){var N=this.gl,U=N.NEAREST,I=N.NEAREST,H=N.CLAMP_TO_EDGE,O=h(V,B);return O&&(H=N.REPEAT),this.createTexture2D(0,U,I,H,H,N.RGBA,F,V,B)},setTextureFilter:function(F,V){var B=this.gl,N=V===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var U=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,F.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,N),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,N),F.minFilter=N,F.magFilter=N,U&&B.bindTexture(B.TEXTURE_2D,U),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=function(V){V.destroy()};o(this.glAttribLocationWrappers,F),o(this.glBufferWrappers,F),o(this.glFramebufferWrappers,F),o(this.glProgramWrappers,F),o(this.glTextureWrappers,F),o(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,A&&(this.spector=null)}});c.exports=b},38683:(c,x,e)=>{var o=e(83419),p=e(95428),a=e(95540),r=e(14500),s=new o({initialize:function(n,h,i,l,u){this.pipeline=n,this.name=h,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=l,this.vertSrc=i,this.program=this.renderer.createProgram(i,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(t){var n=0,h=0,i=[];this.vertexComponentCount=0;for(var l=0;l<t.length;l++){var u=t[l],d=u.name,f=a(u,"size",1),v=a(u,"type",r.FLOAT),m=v.enum,g=v.size,y=!!u.normalized;i.push({name:d,size:f,type:m,normalized:y,offset:h,enabled:!1,location:-1}),g===4?n+=f:n++,h+=f*g}this.vertexSize=h,this.vertexComponentCount=n,this.attributes=i},bind:function(t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),t&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(t){t===void 0&&(t=!1);for(var n=this.gl,h=this.renderer,i=this.vertexSize,l=this.attributes,u=this.program,d=0;d<l.length;d++){var f=l[d],v=f.size,m=f.type,g=f.offset,y=f.enabled,T=f.location,C=!!f.normalized;if(t){T!==-1&&h.deleteAttribLocation(T);var E=this.renderer.createAttribLocation(u,f.name);E.webGLAttribLocation>=0?(n.enableVertexAttribArray(E.webGLAttribLocation),n.vertexAttribPointer(E.webGLAttribLocation,v,m,C,i,g),f.enabled=!0,f.location=E):E.webGLAttribLocation!==-1&&n.disableVertexAttribArray(E.webGLAttribLocation)}else y?n.vertexAttribPointer(T.webGLAttribLocation,v,m,C,i,g):!y&&T!==-1&&T.webGLAttribLocation>-1&&(n.disableVertexAttribArray(T.webGLAttribLocation),f.location=-1)}return this},createUniforms:function(){var t=this.gl,n=this.program,h=this.uniforms,i,l,u,d=t.getProgramParameter(n.webGLProgram,t.ACTIVE_UNIFORMS);for(i=0;i<d;i++){var f=t.getActiveUniform(n.webGLProgram,i);if(f){l=f.name,u=this.renderer.createUniformLocation(n,l),u!==null&&(h[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var v=l.indexOf("[");v>0&&(l=l.substr(0,v),h.hasOwnProperty(l)||(u=this.renderer.createUniformLocation(n,l),u!==null&&(h[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var t=this.gl;this.renderer.setProgram(this.program);for(var n in this.uniforms){var h=this.uniforms[n];h.setter&&h.setter.call(t,h.location.webGLUniformLocation,h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(t){return this.uniforms.hasOwnProperty(t)},resetUniform:function(t){var n=this.uniforms[t];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(t,n,h,i){var l=this.uniforms[n];return l?((i||l.value1!==h)&&(l.setter||(l.setter=t),l.value1=h,this.renderer.setProgram(this.program),t.call(this.gl,l.location.webGLUniformLocation,h),this.pipeline.currentShader=this),this):this},setUniform2:function(t,n,h,i,l){var u=this.uniforms[n];return u?((l||u.value1!==h||u.value2!==i)&&(u.setter||(u.setter=t),u.value1=h,u.value2=i,this.renderer.setProgram(this.program),t.call(this.gl,u.location.webGLUniformLocation,h,i),this.pipeline.currentShader=this),this):this},setUniform3:function(t,n,h,i,l,u){var d=this.uniforms[n];return d?((u||d.value1!==h||d.value2!==i||d.value3!==l)&&(d.setter||(d.setter=t),d.value1=h,d.value2=i,d.value3=l,this.renderer.setProgram(this.program),t.call(this.gl,d.location.webGLUniformLocation,h,i,l),this.pipeline.currentShader=this),this):this},setUniform4:function(t,n,h,i,l,u,d){var f=this.uniforms[n];return f?((d||f.value1!==h||f.value2!==i||f.value3!==l||f.value4!==u)&&(f.setter||(f.setter=t),f.value1=h,f.value2=i,f.value3=l,f.value4=u,this.renderer.setProgram(this.program),t.call(this.gl,f.location.webGLUniformLocation,h,i,l,u),this.pipeline.currentShader=this),this):this},setBoolean:function(t,n){return this.setUniform1(this.gl.uniform1i,t,Number(n))},set1f:function(t,n){return this.setUniform1(this.gl.uniform1f,t,n)},set2f:function(t,n,h){return this.setUniform2(this.gl.uniform2f,t,n,h)},set3f:function(t,n,h,i){return this.setUniform3(this.gl.uniform3f,t,n,h,i)},set4f:function(t,n,h,i,l){return this.setUniform4(this.gl.uniform4f,t,n,h,i,l)},set1fv:function(t,n){return this.setUniform1(this.gl.uniform1fv,t,n,!0)},set2fv:function(t,n){return this.setUniform1(this.gl.uniform2fv,t,n,!0)},set3fv:function(t,n){return this.setUniform1(this.gl.uniform3fv,t,n,!0)},set4fv:function(t,n){return this.setUniform1(this.gl.uniform4fv,t,n,!0)},set1iv:function(t,n){return this.setUniform1(this.gl.uniform1iv,t,n,!0)},set2iv:function(t,n){return this.setUniform1(this.gl.uniform2iv,t,n,!0)},set3iv:function(t,n){return this.setUniform1(this.gl.uniform3iv,t,n,!0)},set4iv:function(t,n){return this.setUniform1(this.gl.uniform4iv,t,n,!0)},set1i:function(t,n){return this.setUniform1(this.gl.uniform1i,t,n)},set2i:function(t,n,h){return this.setUniform2(this.gl.uniform2i,t,n,h)},set3i:function(t,n,h,i){return this.setUniform3(this.gl.uniform3i,t,n,h,i)},set4i:function(t,n,h,i,l){return this.setUniform4(this.gl.uniform4i,t,n,h,i,l)},setMatrix2fv:function(t,n,h){return this.setUniform2(this.gl.uniformMatrix2fv,t,n,h,!0)},setMatrix3fv:function(t,n,h){return this.setUniform2(this.gl.uniformMatrix3fv,t,n,h,!0)},setMatrix4fv:function(t,n,h){return this.setUniform2(this.gl.uniformMatrix4fv,t,n,h,!0)},createProgram:function(t,n){return t===void 0&&(t=this.vertSrc),n===void 0&&(n=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=t,this.fragSrc=n,this.program=this.renderer.createProgram(t,n),this.createUniforms(),this.rebind()},destroy:function(){var t=this.renderer;p(this.uniforms,function(n){t.deleteUniformLocation(n.location)}),this.uniforms=null,p(this.attributes,function(n){t.deleteAttribLocation(n.location)}),this.attributes=null,t.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});c.exports=s},14500:c=>{var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};c.exports=x},4159:(c,x,e)=>{var o=e(14500),p=e(79291),a={PipelineManager:e(7530),Pipelines:e(96615),RenderTarget:e(32302),Utils:e(70554),WebGLPipeline:e(29100),WebGLRenderer:e(74797),WebGLShader:e(38683),Wrappers:e(9503)};a=p(!1,a,o),c.exports=a},31302:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(78908),r=e(85191),s=e(14500),t=e(29100),n=new o({Extends:t,initialize:function(i){i.fragShader=p(i,"fragShader",a),i.vertShader=p(i,"vertShader",r),i.batchSize=p(i,"batchSize",1),i.vertices=p(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=p(i,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),t.call(this,i)},boot:function(){t.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,i){t.prototype.resize.call(this,h,i),this.set2f("uResolution",h,i)},beginMask:function(h,i,l){this.renderer.beginBitmapMask(h,l)},endMask:function(h,i,l){var u=this.gl,d=this.renderer,f=h.bitmapMask;f&&u&&(d.drawBitmapMask(f,i,this),l&&this.set2f("uResolution",l.width,l.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),u.drawArrays(this.topology,0,3),l&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});c.exports=n},92651:(c,x,e)=>{var o=e(83419),p=e(58918),a=e(14811),r=e(95540),s=e(43558),t=e(89350),n=e(70554),h=new o({Extends:s,initialize:function(l){l.shaders=[n.setGlowQuality(t.FXGlowFrag,l.game),t.FXShadowFrag,t.FXPixelateFrag,t.FXVignetteFrag,t.FXShineFrag,t.FXBlurLowFrag,t.FXBlurMedFrag,t.FXBlurHighFrag,t.FXGradientFrag,t.FXBloomFrag,t.ColorMatrixFrag,t.FXCircleFrag,t.FXBarrelFrag,t.FXDisplacementFrag,t.FXWipeFrag,t.FXBokehFrag],s.call(this,l);var u=this.game;this.glow=new p.Glow(u),this.shadow=new p.Shadow(u),this.pixelate=new p.Pixelate(u),this.vignette=new p.Vignette(u),this.shine=new p.Shine(u),this.gradient=new p.Gradient(u),this.circle=new p.Circle(u),this.barrel=new p.Barrel(u),this.wipe=new p.Wipe(u),this.bokeh=new p.Bokeh(u);var d=[];d[a.GLOW]=this.onGlow,d[a.SHADOW]=this.onShadow,d[a.PIXELATE]=this.onPixelate,d[a.VIGNETTE]=this.onVignette,d[a.SHINE]=this.onShine,d[a.BLUR]=this.onBlur,d[a.GRADIENT]=this.onGradient,d[a.BLOOM]=this.onBloom,d[a.COLOR_MATRIX]=this.onColorMatrix,d[a.CIRCLE]=this.onCircle,d[a.BARREL]=this.onBarrel,d[a.DISPLACEMENT]=this.onDisplacement,d[a.WIPE]=this.onWipe,d[a.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(i,l,u){this.source=i,this.target=l,this.swap=u;var d=i.width,f=i.height,v=this.tempSprite,m=this.fxHandlers;if(v&&v.preFX)for(var g=v.preFX.list,y=0;y<g.length;y++){var T=g[y];T.active&&m[T.type].call(this,T,d,f)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,l=this.target;this.copy(i,l),this.source=l,this.target=i},onGlow:function(i,l,u){var d=this.shaders[a.GLOW];this.setShader(d),this.glow.onPreRender(i,d,l,u),this.runDraw()},onShadow:function(i){var l=this.shaders[a.SHADOW];this.setShader(l),this.shadow.onPreRender(i,l),this.runDraw()},onPixelate:function(i,l,u){var d=this.shaders[a.PIXELATE];this.setShader(d),this.pixelate.onPreRender(i,d,l,u),this.runDraw()},onVignette:function(i){var l=this.shaders[a.VIGNETTE];this.setShader(l),this.vignette.onPreRender(i,l),this.runDraw()},onShine:function(i,l,u){var d=this.shaders[a.SHINE];this.setShader(d),this.shine.onPreRender(i,d,l,u),this.runDraw()},onBlur:function(i,l,u){var d=r(i,"quality"),f=this.shaders[a.BLUR+d];this.setShader(f),this.set1i("uMainSampler",0),this.set2f("resolution",l,u),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var v=r(i,"x"),m=r(i,"y"),g=r(i,"steps"),y=0;y<g;y++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,m),this.runDraw()},onGradient:function(i){var l=this.shaders[a.GRADIENT];this.setShader(l),this.gradient.onPreRender(i,l),this.runDraw()},onBloom:function(i,l,u){var d=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var f=2/l*r(i,"offsetX"),v=2/u*r(i,"offsetY"),m=r(i,"steps"),g=0;g<m;g++)this.set2f("offset",f,0),this.runDraw(),this.set2f("offset",0,v),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,l,u){var d=this.shaders[a.CIRCLE];this.setShader(d),this.circle.onPreRender(i,d,l,u),this.runDraw()},onBarrel:function(i){var l=this.shaders[a.BARREL];this.setShader(l),this.barrel.onPreRender(i,l),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var l=this.shaders[a.WIPE];this.setShader(l),this.wipe.onPreRender(i,l),this.runDraw()},onBokeh:function(i,l,u){var d=this.shaders[a.BOKEH];this.setShader(d),this.bokeh.onPreRender(i,d,l,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,s.prototype.destroy.call(this),this}});c.exports=h},96569:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(31063),r=e(57516),s=e(61340),t=e(26099),n=e(29100),h=new o({Extends:r,initialize:function(l){var u=p(l,"fragShader",a);l.fragShader=u.replace("%LIGHT_COUNT%",l.game.renderer.config.maxLights),r.call(this,l),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new t,this._tempMatrix=new s,this._tempMatrix2=new s},boot:function(){n.prototype.boot.call(this)},onRender:function(i,l){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var d=u.getLights(l),f=d.length;this.lightsActive=!0;var v,m=this.renderer,g=m.height,y=l.matrix,T=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",l.x,l.y,l.rotation,l.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",f),v=0;v<f;v++){var C=d[v].light,E=C.color,z="uLights["+v+"].";y.transformPoint(C.x,C.y,T),this.set2f(z+"position",T.x-l.scrollX*C.scrollFactorX*l.zoom,g-(T.y-l.scrollY*C.scrollFactorY*l.zoom)),this.set3f(z+"color",E.r,E.g,E.b),this.set1f(z+"intensity",C.intensity),this.set1f(z+"radius",C.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var l=this.inverseRotationMatrix;if(i){var u=-i,d=Math.cos(u),f=Math.sin(u);l[1]=f,l[3]=-f,l[0]=l[4]=d}else l[0]=l[4]=1,l[1]=l[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,l),this.currentNormalMapRotation=i}},setTexture2D:function(i,l){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var d=this.getNormalMap(l);this.isNewNormalMap(i,d)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(d),this.currentNormalMap=d);var f=0;if(l&&l.parentContainer){var v=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);f=v.rotationNormalized}else l&&(f=l.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(d)),this.setNormalMapRotation(f),0},setGameObject:function(i,l){l===void 0&&(l=i.frame);var u=l.glTexture,d=this.getNormalMap(i);if(this.isNewNormalMap(u,d)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(d),this.currentNormalMap=d),i.parentContainer){var f=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(f.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(d)),0},isNewNormalMap:function(i,l){return this.currentTexture!==i||this.currentNormalMap!==l},getNormalMap:function(i){var l;if(i)i.displayTexture?l=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?l=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?l=i.tileset[0].image.dataSource[0]:l=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return l?l.glTexture:this.renderer.normalTexture},batchSprite:function(i,l,u){this.lightsActive&&r.prototype.batchSprite.call(this,i,l,u)},batchTexture:function(i,l,u,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H,O,R,Y,G,k,W,X,j){this.lightsActive&&r.prototype.batchTexture.call(this,i,l,u,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H,O,R,Y,G,k,W,X,j)},batchTextureFrame:function(i,l,u,d,f,v,m){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,l,u,d,f,v,m)}});c.exports=h},56527:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(57516),r=e(45561),s=e(60722),t=e(14500),n=e(29100),h=new o({Extends:a,initialize:function(l){l.fragShader=p(l,"fragShader",r),l.vertShader=p(l,"vertShader",s),l.attributes=p(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:t.UNSIGNED_BYTE,normalized:!0}]),l.forceZero=!0,l.resizeUniform="uResolution",a.call(this,l)},boot:function(){n.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});c.exports=h},57516:(c,x,e)=>{var o=e(83419),p=e(94811),a=e(95540),r=e(98840),s=e(44667),t=e(61340),n=e(70554),h=e(14500),i=e(29100),l=new o({Extends:i,initialize:function(d){var f=d.game.renderer,v=a(d,"fragShader",r);d.fragShader=n.parseFragmentShaderMaxTextures(v,f.maxTextures),d.vertShader=a(d,"vertShader",s),d.attributes=a(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",i.call(this,d),this._tempMatrix1=new t,this._tempMatrix2=new t,this._tempMatrix3=new t,this.calcMatrix=new t,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height)},batchSprite:function(u,d,f){this.manager.set(this,u);var v=this._tempMatrix1,m=this._tempMatrix2,g=this._tempMatrix3,y=u.frame,T=y.glTexture,C=y.u0,E=y.v0,z=y.u1,D=y.v1,A=y.x,L=y.y,b=y.cutWidth,F=y.cutHeight,V=y.customPivot,B=u.displayOriginX,N=u.displayOriginY,U=-B+A,I=-N+L;if(u.isCropped){var H=u._crop;(H.flipX!==u.flipX||H.flipY!==u.flipY)&&y.updateCropUVs(H,u.flipX,u.flipY),C=H.u0,E=H.v0,z=H.u1,D=H.v1,b=H.width,F=H.height,A=H.x,L=H.y,U=-B+A,I=-N+L}var O=1,R=1;u.flipX&&(V||(U+=-y.realWidth+B*2),O=-1),u.flipY&&(V||(I+=-y.realHeight+N*2),R=-1);var Y=u.x,G=u.y;d.roundPixels&&(Y=Math.floor(Y),G=Math.floor(G)),m.applyITRS(Y,G,u.rotation,u.scaleX*O,u.scaleY*R),v.copyFrom(d.matrix),f?(v.multiplyWithOffset(f,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),m.e=Y,m.f=G):(m.e-=d.scrollX*u.scrollFactorX,m.f-=d.scrollY*u.scrollFactorY),v.multiply(m,g);var k=g.setQuad(U,I,U+b,I+F,d.renderRoundPixels),W=n.getTintAppendFloatAlpha,X=d.alpha,j=W(u.tintTopLeft,X*u._alphaTL),K=W(u.tintTopRight,X*u._alphaTR),$=W(u.tintBottomLeft,X*u._alphaBL),Z=W(u.tintBottomRight,X*u._alphaBR);this.shouldFlush(6)&&this.flush();var J=this.setGameObject(u,y);this.manager.preBatch(u),this.batchQuad(u,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],C,E,z,D,j,K,$,Z,u.tintFill,T,J),this.manager.postBatch(u)},batchTexture:function(u,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H,O,R,Y,G,k,W,X,j,K,$,Z){Z===void 0&&(Z=!1),this.manager.set(this,u);var J=this._tempMatrix1,Q=this._tempMatrix2,_=this._tempMatrix3,ae=B/f+k,oe=N/v+W,le=(B+U)/f+k,q=(N+I)/v+W,ie=y,ne=T,fe=-F,Te=-V;if(u.isCropped){var Ie=u._crop,xe=Ie.width,ye=Ie.height;ie=xe,ne=ye,y=xe,T=ye,B=Ie.x,N=Ie.y;var Ne=B,tt=N;D&&(Ne=U-Ie.x-xe),A&&(tt=I-Ie.y-ye),ae=Ne/f+k,oe=tt/v+W,le=(Ne+xe)/f+k,q=(tt+ye)/v+W,fe=-F+B,Te=-V+N}A=A^(!K&&d.isRenderTexture?1:0),D&&(ie*=-1,fe+=y),A&&(ne*=-1,Te+=T),X.roundPixels&&(m=Math.floor(m),g=Math.floor(g)),Q.applyITRS(m,g,z,C,E),J.copyFrom(X.matrix),j?(J.multiplyWithOffset(j,-X.scrollX*L,-X.scrollY*b),Q.e=m,Q.f=g):(Q.e-=X.scrollX*L,Q.f-=X.scrollY*b),J.multiply(Q,_);var Ee=_.setQuad(fe,Te,fe+ie,Te+ne,X.renderRoundPixels);$==null&&($=this.setTexture2D(d)),u&&!Z&&this.manager.preBatch(u),this.batchQuad(u,Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6],Ee[7],ae,oe,le,q,H,O,R,Y,G,d,$),u&&!Z&&this.manager.postBatch(u)},batchTextureFrame:function(u,d,f,v,m,g,y){this.manager.set(this);var T=this._tempMatrix1.copyFrom(g),C=this._tempMatrix2;y?T.multiply(y,C):C=T;var E=C.setQuad(d,f,d+u.width,f+u.height),z=this.setTexture2D(u.source.glTexture);v=n.getTintAppendFloatAlpha(v,m),this.batchQuad(null,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],u.u0,u.v0,u.u1,u.v1,v,v,v,v,0,u.glTexture,z)},batchFillRect:function(u,d,f,v,m,g){this.renderer.pipelines.set(this);var y=this.calcMatrix;g&&g.multiply(m,y);var T=y.setQuad(u,d,u+f,d+v),C=this.fillTint;this.batchQuad(null,T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],0,0,1,1,C.TL,C.TR,C.BL,C.BR,2)},batchFillTriangle:function(u,d,f,v,m,g,y,T){this.renderer.pipelines.set(this);var C=this.calcMatrix;T&&T.multiply(y,C);var E=C.getX(u,d),z=C.getY(u,d),D=C.getX(f,v),A=C.getY(f,v),L=C.getX(m,g),b=C.getY(m,g),F=this.fillTint;this.batchTri(null,E,z,D,A,L,b,0,0,1,1,F.TL,F.TR,F.BL,2)},batchStrokeTriangle:function(u,d,f,v,m,g,y,T,C){var E=this.tempTriangle;E[0].x=u,E[0].y=d,E[0].width=y,E[1].x=f,E[1].y=v,E[1].width=y,E[2].x=m,E[2].y=g,E[2].width=y,E[3].x=u,E[3].y=d,E[3].width=y,this.batchStrokePath(E,y,!1,T,C)},batchFillPath:function(u,d,f){this.renderer.pipelines.set(this);var v=this.calcMatrix;f&&f.multiply(d,v);for(var m=u.length,g=this.polygonCache,y,T,C=this.fillTint.TL,E=this.fillTint.TR,z=this.fillTint.BL,D=0;D<m;++D)T=u[D],g.push(T.x,T.y);y=p(g),m=y.length;for(var A=0;A<m;A+=3){var L=y[A+0]*2,b=y[A+1]*2,F=y[A+2]*2,V=g[L+0],B=g[L+1],N=g[b+0],U=g[b+1],I=g[F+0],H=g[F+1],O=v.getX(V,B),R=v.getY(V,B),Y=v.getX(N,U),G=v.getY(N,U),k=v.getX(I,H),W=v.getY(I,H);this.batchTri(null,O,R,Y,G,k,W,0,0,1,1,C,E,z,2)}g.length=0},batchStrokePath:function(u,d,f,v,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var g=u.length-1,y=0;y<g;y++){var T=u[y],C=u[y+1];this.batchLine(T.x,T.y,C.x,C.y,T.width/2,C.width/2,d,y,!f&&y===g-1,v,m)}},batchLine:function(u,d,f,v,m,g,y,T,C,E,z){this.renderer.pipelines.set(this);var D=this.calcMatrix;z&&z.multiply(E,D);var A=f-u,L=v-d,b=Math.sqrt(A*A+L*L);if(b!==0){var F=m*(v-d)/b,V=m*(u-f)/b,B=g*(v-d)/b,N=g*(u-f)/b,U=f-B,I=v-N,H=u-F,O=d-V,R=f+B,Y=v+N,G=u+F,k=d+V,W=D.getX(U,I),X=D.getY(U,I),j=D.getX(H,O),K=D.getY(H,O),$=D.getX(R,Y),Z=D.getY(R,Y),J=D.getX(G,k),Q=D.getY(G,k),_=this.strokeTint,ae=_.TL,oe=_.TR,le=_.BL,q=_.BR;if(this.batchQuad(null,J,Q,j,K,W,X,$,Z,0,0,1,1,ae,oe,le,q,2),!(y<=2)){var ie=this.prevQuad,ne=this.firstQuad;T>0&&ie[4]?this.batchQuad(null,J,Q,j,K,ie[0],ie[1],ie[2],ie[3],0,0,1,1,ae,oe,le,q,2):(ne[0]=J,ne[1]=Q,ne[2]=j,ne[3]=K,ne[4]=1),C&&ne[4]?this.batchQuad(null,W,X,$,Z,ne[0],ne[1],ne[2],ne[3],0,0,1,1,ae,oe,le,q,2):(ie[0]=W,ie[1]=X,ie[2]=$,ie[3]=Z,ie[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});c.exports=l},43439:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(4127),r=e(89924),s=e(29100),t=new o({Extends:s,initialize:function(h){h.vertShader=p(h,"vertShader",r),h.fragShader=p(h,"fragShader",a),h.attributes=p(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,h)},onRender:function(n,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(n,h,i,l,u,d,f,v,m,g,y,T){var C=n.color,E=n.intensity,z=n.radius,D=n.attenuation,A=C.r*E,L=C.g*E,b=C.b*E,F=h.alpha*n.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,l,y,T,z,D,A,L,b,F),this.batchLightVert(u,d,y,T,z,D,A,L,b,F),this.batchLightVert(f,v,y,T,z,D,A,L,b,F),this.batchLightVert(i,l,y,T,z,D,A,L,b,F),this.batchLightVert(f,v,y,T,z,D,A,L,b,F),this.batchLightVert(m,g,y,T,z,D,A,L,b,F),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(n,h,i,l,u,d,f,v,m,g){var y=this.vertexViewF32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++T]=n,y[++T]=h,y[++T]=i,y[++T]=l,y[++T]=u,y[++T]=d,y[++T]=f,y[++T]=v,y[++T]=m,y[++T]=g,this.vertexCount++}});c.exports=t},84057:(c,x,e)=>{var o=e(83419),p=e(89422),a=e(95540),r=e(27681),s=e(49627),t=e(29100),n=new o({Extends:t,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",s),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],t.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){t.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var l=this.renderTargets,u=0;u<l.length;u++)l[u].autoResize=!0},postBatch:function(h){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,i,l){l===void 0&&(l=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,h.texture.webGLTexture);var d=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),l&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,d))},copyFrame:function(h,i,l,u,d){this.manager.copyFrame(h,i,l,u,d)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,i,l){this.manager.drawFrame(h,i,l,this.colorMatrix)},blendFrames:function(h,i,l,u,d){this.manager.blendFrames(h,i,l,u,d)},blendFramesAdditive:function(h,i,l,u,d){this.manager.blendFramesAdditive(h,i,l,u,d)},clearFrame:function(h,i){this.manager.clearFrame(h,i)},blitFrame:function(h,i,l,u,d,f){this.manager.blitFrame(h,i,l,u,d,f)},copyFrameRect:function(h,i,l,u,d,f,v,m){this.manager.copyFrameRect(h,i,l,u,d,f,v,m)},bindAndDraw:function(h,i,l,u,d){l===void 0&&(l=!0),u===void 0&&(u=!0);var f=this.gl,v=this.renderer;this.bind(d),this.set1i("uMainSampler",0),i?(f.viewport(0,0,i.width,i.height),f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),l&&(u?f.clearColor(0,0,0,0):f.clearColor(0,0,0,1),f.clear(f.COLOR_BUFFER_BIT))):(v.popFramebuffer(!1,!1),v.currentFramebuffer||f.viewport(0,0,v.width,v.height)),v.restoreStencilMask(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),i&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,v.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),t.prototype.destroy.call(this),this}});c.exports=n},43558:(c,x,e)=>{var o=e(10312),p=e(67502),a=e(83419),r=e(96293),s=e(95540),t=e(57516),n=e(27681),h=e(87841),i=e(32302),l=e(45561),u=e(60722),d=e(29100),f=new a({Extends:t,initialize:function(m){var g=s(m,"fragShader",n),y=s(m,"vertShader",u),T=s(m,"drawShader",n),C=[{name:"DrawSprite",fragShader:l,vertShader:u},{name:"CopySprite",fragShader:g,vertShader:y},{name:"DrawGame",fragShader:T,vertShader:u},{name:"ColorMatrix",fragShader:r}],E=s(m,"shaders",[]);m.shaders=C.concat(E),m.vertShader||(m.vertShader=y),m.batchSize=1,t.call(this,m),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var v=this.shaders,m=this.renderer;this.drawSpriteShader=v[0],this.copyShader=v[1],this.gameShader=v[2],this.colorMatrixShader=v[3],this.fsTarget=new i(m,m.width,m.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var g=new ArrayBuffer(168);this.quadVertexData=g,this.quadVertexViewF32=new Float32Array(g),this.quadVertexBuffer=m.createVertexBuffer(g,this.gl.STATIC_DRAW),this.onResize(m.width,m.height),this.currentShader=this.copyShader,this.set2f("uResolution",m.width,m.height)},onResize:function(v,m){var g=this.quadVertexViewF32;g[1]=m,g[22]=m,g[14]=v,g[28]=v,g[35]=v,g[36]=m},batchQuad:function(v,m,g,y,T,C,E,z,D,A,L,b,F,V,B,N,U,I,H){var O=Math.min(m,y,C,z),R=Math.min(g,T,E,D),Y=Math.max(m,y,C,z),G=Math.max(g,T,E,D),k=Y-O,W=G-R,X=this.spriteBounds.setTo(O,R,k,W),j=v?v.preFX.padding:0,K=k+j*2,$=W+j*2,Z=Math.abs(Math.max(K,$)),J=this.manager.getRenderTarget(Z),Q=this.targetBounds.setTo(0,0,J.width,J.height);p(Q,Math.round(X.centerX),Math.round(X.centerY)),this.tempSprite=v;var _=this.gl,ae=this.renderer;ae.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ae.width,ae.height),this.flipProjectionMatrix(!0),v&&(this.onDrawSprite(v,J),v.preFX.onFX(this));var oe=this.fsTarget;return this.flush(),_.viewport(0,0,ae.width,ae.height),_.bindFramebuffer(_.FRAMEBUFFER,oe.framebuffer.webGLFramebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,oe.texture.webGLTexture,0),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),this.setTexture2D(H),this.batchVert(m,g,A,L,0,I,V),this.batchVert(y,T,A,F,0,I,N),this.batchVert(C,E,b,F,0,I,U),this.batchVert(m,g,A,L,0,I,V),this.batchVert(C,E,b,F,0,I,U),this.batchVert(z,D,b,L,0,I,B),this.flush(),this.flipProjectionMatrix(!1),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,J.texture.webGLTexture),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,Q.x,Q.y,Q.width,Q.height),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null),this.onBatch(v),this.currentShader=this.copyShader,this.onDraw(J,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(v,m,g,y,T,C,E){g===void 0&&(g=!0),y===void 0&&(y=!0),T===void 0&&(T=!1),E===void 0&&(E=this.copyShader);var z=this.gl,D=this.tempSprite;C&&(E=this.colorMatrixShader),this.currentShader=E;var A=this.setVertexBuffer(this.quadVertexBuffer);E.bind(A,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),D.preFX.onFXCopy(this),this.onCopySprite(v,m,D),C&&(this.set1fv("uColorMatrix",C.getData()),this.set1f("uAlpha",C.alpha)),z.activeTexture(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,v.texture.webGLTexture),v.height>m.height)z.viewport(0,0,v.width,v.height),this.setTargetUVs(v,m);else{var b=m.height-v.height;z.viewport(0,b,v.width,v.height),this.resetUVs()}if(z.bindFramebuffer(z.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,m.texture.webGLTexture,0),g&&(z.clearColor(0,0,0,+!y),z.clear(z.COLOR_BUFFER_BIT)),T){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}z.bufferData(z.ARRAY_BUFFER,this.quadVertexData,z.STATIC_DRAW),z.drawArrays(z.TRIANGLES,0,6),T&&this.renderer.setBlendMode(F),z.bindFramebuffer(z.FRAMEBUFFER,null)},copy:function(v,m){var g=this.gl;this.set1i("uMainSampler",0),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,v.texture.webGLTexture),g.viewport(0,0,v.width,v.height),this.setUVs(0,0,0,1,1,1,1,0),g.bindFramebuffer(g.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,m.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.quadVertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null)},blendFrames:function(v,m,g,y,T){this.manager.blendFrames(v,m,g,y,T)},blendFramesAdditive:function(v,m,g,y,T){this.manager.blendFramesAdditive(v,m,g,y,T)},drawToGame:function(v){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(v)},copyToGame:function(v){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(v)},bindAndDraw:function(v){var m=this.gl,g=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(v.texture);var y=this._tempMatrix1.loadIdentity(),T=this.targetBounds.x,C=this.targetBounds.y,E=T+v.width,z=C+v.height,D=y.getX(T,C),A=y.getX(T,z),L=y.getX(E,z),b=y.getX(E,C),F=y.getY(T,C),V=y.getY(T,z),B=y.getY(E,z),N=y.getY(E,C),U=16777215;this.batchVert(D,F,0,0,0,0,U),this.batchVert(A,V,0,1,0,0,U),this.batchVert(L,B,1,1,0,0,U),this.batchVert(D,F,0,0,0,0,U),this.batchVert(L,B,1,1,0,0,U),this.batchVert(b,N,1,0,0,0,U),g.restoreFramebuffer(!1,!0),g.currentFramebuffer||m.viewport(0,0,g.width,g.height),g.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(v){this.drawToGame(v)},setUVs:function(v,m,g,y,T,C,E,z){var D=this.quadVertexViewF32;D[2]=v,D[3]=m,D[9]=g,D[10]=y,D[16]=T,D[17]=C,D[23]=v,D[24]=m,D[30]=T,D[31]=C,D[37]=E,D[38]=z},setTargetUVs:function(v,m){var g=m.height/v.height;g>.5?g=.5-(g-.5):g=.5+(.5-g),this.setUVs(0,g,0,1+g,1,1+g,1,g)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,t.prototype.destroy.call(this),this}});c.exports=f},81041:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(57516),r=new o({Extends:a,initialize:function(t){t.topology=5,t.batchSize=p(t,"batchSize",256),a.call(this,t)}});c.exports=r},12385:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(57516),r=e(45561),s=e(60722),t=e(29100),n=new o({Extends:a,initialize:function(i){i.fragShader=p(i,"fragShader",r),i.vertShader=p(i,"vertShader",s),i.forceZero=!0,a.call(this,i)},boot:function(){t.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height)}});c.exports=n},7589:(c,x,e)=>{var o=e(35407),p=e(10312),a=e(83419),r=e(89422),s=e(96293),t=e(36682),n=e(95540),h=e(48247),i=e(49627),l=e(29100),u=new a({Extends:l,initialize:function(f){f.renderTarget=n(f,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),f.vertShader=n(f,"vertShader",i),f.shaders=n(f,"shaders",[{name:"Copy",fragShader:t},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:s}]),f.attributes=n(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],f.batchSize=1,l.call(this,f),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){l.prototype.boot.call(this);var d=this.shaders,f=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=f[0],this.fullFrame2=f[1],this.halfFrame1=f[2],this.halfFrame2=f[3]},copyFrame:function(d,f,v,m,g){v===void 0&&(v=1),m===void 0&&(m=!0),g===void 0&&(g=!0);var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,d.texture.webGLTexture),f?(y.viewport(0,0,f.width,f.height),y.bindFramebuffer(y.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f.texture.webGLTexture,0)):y.viewport(0,0,d.width,d.height),m&&(g?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blitFrame:function(d,f,v,m,g,y,T){v===void 0&&(v=1),m===void 0&&(m=!0),g===void 0&&(g=!0),y===void 0&&(y=!1),T===void 0&&(T=!1);var C=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",v),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),d.height>f.height)C.viewport(0,0,d.width,d.height),this.setTargetUVs(d,f);else{var E=f.height-d.height;C.viewport(0,E,d.width,d.height)}if(C.bindFramebuffer(C.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,f.texture.webGLTexture,0),m&&(g?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),y){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}T&&this.flipY(),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),y&&this.renderer.setBlendMode(z),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,f,v,m,g,y,T,C){T===void 0&&(T=!0),C===void 0&&(C=!0);var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,d.texture.webGLTexture,0),T&&(C?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,f.texture.webGLTexture),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,v,m,g,y),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},copyToGame:function(d){var f=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,d.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6)},drawFrame:function(d,f,v,m){v===void 0&&(v=!0),m===void 0&&(m=this.colorMatrix);var g=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",m.getData()),this.set1f("uAlpha",m.alpha),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,d.texture.webGLTexture),f?(g.viewport(0,0,f.width,f.height),g.bindFramebuffer(g.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,f.texture.webGLTexture,0)):g.viewport(0,0,d.width,d.height),v?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindTexture(g.TEXTURE_2D,null)},blendFrames:function(d,f,v,m,g,y){m===void 0&&(m=1),g===void 0&&(g=!0),y===void 0&&(y=this.linearShader);var T=this.gl;this.setShader(y),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",m),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,f.texture.webGLTexture),v?(T.bindFramebuffer(T.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,v.texture.webGLTexture,0),T.viewport(0,0,v.width,v.height)):T.viewport(0,0,d.width,d.height),g?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFramesAdditive:function(d,f,v,m,g){this.blendFrames(d,f,v,m,g,this.addShader)},clearFrame:function(d,f){f===void 0&&(f=!0);var v=this.gl;v.viewport(0,0,d.width,d.height),v.bindFramebuffer(v.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),f?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1),v.clear(v.COLOR_BUFFER_BIT);var m=this.renderer.currentFramebuffer;v.bindFramebuffer(v.FRAMEBUFFER,m.webGLFramebuffer)},setUVs:function(d,f,v,m,g,y,T,C){var E=this.vertexViewF32;E[2]=d,E[3]=f,E[6]=v,E[7]=m,E[10]=g,E[11]=y,E[14]=d,E[15]=f,E[18]=g,E[19]=y,E[22]=T,E[23]=C},setTargetUVs:function(d,f){var v=f.height/d.height;v>.5?v=.5-(v-.5):v=.5+(.5-v),this.setUVs(0,v,0,1+v,1,1+v,1,v)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});c.exports=u},36060:c=>{var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};c.exports=x},84817:c=>{c.exports="pipelineafterflush"},36712:c=>{c.exports="pipelinebeforeflush"},40285:c=>{c.exports="pipelinebind"},65918:c=>{c.exports="pipelineboot"},92852:c=>{c.exports="pipelinedestroy"},56072:c=>{c.exports="pipelinerebind"},57566:c=>{c.exports="pipelineresize"},77085:(c,x,e)=>{c.exports={AFTER_FLUSH:e(84817),BEFORE_FLUSH:e(36712),BIND:e(40285),BOOT:e(65918),DESTROY:e(92852),REBIND:e(56072),RESIZE:e(57566)}},54812:(c,x,e)=>{var o=e(83419),p=e(99155),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.amount=1},onPreRender:function(s,t){s=this.getController(s),this.set1f("amount",s.amount,t)}});c.exports=r},67329:(c,x,e)=>{var o=e(83419),p=e(24400),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(s){s=this.getController(s),this.set1f("strength",s.blurStrength),this.set3fv("color",s.glcolor)},onDraw:function(s){var t=this.getController(),n=this.fullFrame1,h=this.fullFrame2;this.copyFrame(s,h);for(var i=2/s.width*t.offsetX,l=2/s.height*t.offsetY,u=0;u<t.steps;u++)this.set2f("offset",i,0),this.copySprite(s,n),this.set2f("offset",0,l),this.copySprite(n,s);this.blendFrames(h,s,n,t.strength),this.copyToGame(n)}});c.exports=r},8861:(c,x,e)=>{var o=e(83419),p=e(41514),a=e(51078),r=e(94328),s=e(84057),t=new o({Extends:s,initialize:function(h){s.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(n){var h=this.getController(),i=this.gl,l=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,n.width,n.height),this.set1i("uMainSampler",0),this.set2f("resolution",n.width,n.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var d=0;d<h.steps;d++)this.set2f("offset",h.x,0),this.copySprite(n,l),this.set2f("offset",0,h.y),this.copySprite(l,n);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(n)}});c.exports=t},51051:(c,x,e)=>{var o=e(83419),p=e(90610),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(s,t,n,h){s=this.getController(s),this.set1f("radius",s.radius,t),this.set1f("amount",s.amount,t),this.set1f("contrast",s.contrast,t),this.set1f("strength",s.strength,t),this.set2f("blur",s.blurX,s.blurY,t),this.setBoolean("isTiltShift",s.isTiltShift,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=r},89428:(c,x,e)=>{var o=e(83419),p=e(91899),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(s,t,n,h){s=this.getController(s),this.set1f("scale",s.scale,t),this.set1f("feather",s.feather,t),this.set1f("thickness",s.thickness,t),this.set3fv("color",s.glcolor,t),this.set4fv("backgroundColor",s.glcolor2,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=r},88904:(c,x,e)=>{var o=e(83419),p=e(84057),a=new o({Extends:p,initialize:function(s){p.call(this,{game:s})},onDraw:function(r){var s=this.fullFrame1;this.controller?this.manager.drawFrame(r,s,!0,this.controller):this.drawFrame(r,s),this.copyToGame(s)}});c.exports=a},63563:(c,x,e)=>{var o=e(83419),p=e(47838),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(s){var t=this.game.textures.getFrame(s);t&&(this.glTexture=t.glTexture)},onDraw:function(s){var t=this.getController(),n=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",t.x,t.y),this.bindTexture(t.glTexture,1),this.copySprite(s,n),this.copyToGame(n)}});c.exports=r},94045:(c,x,e)=>{var o=e(83419),p=e(95540),a=e(98656),r=e(84057),s=e(70554),t=new o({Extends:r,initialize:function(h,i){var l=p(i,"quality",.1),u=p(i,"distance",10);r.call(this,{game:h,fragShader:s.setGlowQuality(a,h,l,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(n,h,i,l){n=this.getController(n),this.set1f("outerStrength",n.outerStrength,h),this.set1f("innerStrength",n.innerStrength,h),this.set4fv("glowColor",n.glcolor,h),this.setBoolean("knockout",n.knockout,h),i&&l&&this.set2f("resolution",i,l,h)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});c.exports=t},74088:(c,x,e)=>{var o=e(83419),p=e(70463),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(s,t){s=this.getController(s),this.set1f("alpha",s.alpha,t),this.set1i("size",s.size,t),this.set3fv("color1",s.glcolor1,t),this.set3fv("color2",s.glcolor2,t),this.set2f("positionFrom",s.fromX,s.fromY,t),this.set2f("positionTo",s.toX,s.toY,t)}});c.exports=r},99636:(c,x,e)=>{var o=e(83419),p=e(50831),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.amount=1},onPreRender:function(s,t,n,h){s=this.getController(s),this.set1f("amount",s.amount,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=r},34700:(c,x,e)=>{var o=e(83419),p=e(92595),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(s,t){s=this.getController(s);var n=s.samples;this.set1i("samples",n,t),this.set1f("intensity",s.intensity,t),this.set1f("decay",s.decay,t),this.set1f("power",s.power/n,t),this.set2f("lightPosition",s.x,s.y,t),this.set4fv("color",s.glcolor,t)}});c.exports=r},91157:(c,x,e)=>{var o=e(83419),p=e(72464),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(s,t,n,h){s=this.getController(s),this.setTime("time",t),this.set1f("speed",s.speed,t),this.set1f("lineWidth",s.lineWidth,t),this.set1f("gradient",s.gradient,t),this.setBoolean("reveal",s.reveal,t),n&&h&&this.set2f("resolution",n,h,t)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});c.exports=r},27797:(c,x,e)=>{var o=e(83419),p=e(39249),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(s,t){s=this.getController(s),this.set1f("radius",s.radius,t),this.set1f("strength",s.strength,t),this.set2f("position",s.x,s.y,t)}});c.exports=r},67603:(c,x,e)=>{var o=e(83419),p=e(2878),a=e(84057),r=new o({Extends:a,initialize:function(t){a.call(this,{game:t,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(s,t){s=this.getController(s);var n=s.progress,h=s.wipeWidth,i=s.direction,l=s.axis;this.set4f("config",n,h,i,l,t),this.setBoolean("reveal",s.reveal,t)}});c.exports=r},58918:(c,x,e)=>{var o={Barrel:e(54812),Bloom:e(67329),Blur:e(8861),Bokeh:e(51051),Circle:e(89428),ColorMatrix:e(88904),Displacement:e(63563),Glow:e(94045),Gradient:e(74088),Pixelate:e(99636),Shadow:e(34700),Shine:e(91157),Vignette:e(27797),Wipe:e(67603)};c.exports=o},96615:(c,x,e)=>{var o=e(36060),p=e(79291),a={FX:e(58918),BitmapMaskPipeline:e(31302),Events:e(77085),FXPipeline:e(92651),LightPipeline:e(96569),MobilePipeline:e(56527),MultiPipeline:e(57516),PointLightPipeline:e(43439),PostFXPipeline:e(84057),PreFXPipeline:e(43558),RopePipeline:e(81041),SinglePipeline:e(12385),UtilityPipeline:e(7589)};a=p(!1,a,o),c.exports=a},35407:c=>{c.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:c=>{c.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:c=>{c.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:c=>{c.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:c=>{c.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:c=>{c.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:c=>{c.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:c=>{c.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:c=>{c.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:c=>{c.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:c=>{c.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:c=>{c.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:c=>{c.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:c=>{c.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:c=>{c.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:c=>{c.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:c=>{c.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:c=>{c.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:c=>{c.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:c=>{c.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:c=>{c.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:c=>{c.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:c=>{c.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:c=>{c.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:c=>{c.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:c=>{c.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:c=>{c.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:c=>{c.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(c,x,e)=>{c.exports={AddBlendFrag:e(35407),BitmapMaskFrag:e(78908),BitmapMaskVert:e(85191),ColorMatrixFrag:e(96293),CopyFrag:e(36682),FXBarrelFrag:e(99155),FXBloomFrag:e(24400),FXBlurHighFrag:e(94328),FXBlurLowFrag:e(41514),FXBlurMedFrag:e(51078),FXBokehFrag:e(90610),FXCircleFrag:e(91899),FXDisplacementFrag:e(47838),FXGlowFrag:e(98656),FXGradientFrag:e(70463),FXPixelateFrag:e(50831),FXShadowFrag:e(92595),FXShineFrag:e(72464),FXVignetteFrag:e(39249),FXWipeFrag:e(2878),LightFrag:e(31063),LinearBlendFrag:e(48247),MeshFrag:e(41214),MeshVert:e(39653),MobileFrag:e(62143),MobileVert:e(47940),MultiFrag:e(98840),MultiVert:e(44667),PointLightFrag:e(4127),PointLightVert:e(89924),PostFXFrag:e(27681),QuadVert:e(49627),SingleFrag:e(45561),SingleVert:e(60722)}},93567:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t){this.webGLAttribLocation=-1,this.gl=r,this.program=s,this.name=t,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});c.exports=p},26128:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t,n){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=s,this.bufferType=t,this.bufferUsage=n,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var r=this.bufferType,s=a.createBuffer();this.webGLBuffer=s,a.bindBuffer(r,this.webGLBuffer),a.bufferData(r,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(r,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});c.exports=p},84387:(c,x,e)=>{var o=e(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new o({initialize:function(s,t,n,h,i){this.webGLFramebuffer=null,this.gl=s,this.width=t,this.height=n,this.renderTexture=h,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var s=this.renderTexture,t=0,n=r.createFramebuffer();if(this.webGLFramebuffer=n,r.bindFramebuffer(r.FRAMEBUFFER,n),s.isRenderTexture=!0,s.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s.webGLTexture,0),t=r.checkFramebufferStatus(r.FRAMEBUFFER),t!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[t]||t));if(this.addDepthStencilBuffer){var h=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,h),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,h)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var s=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);s!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(s));var t=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);t!==null&&r.deleteRenderbuffer(t),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});c.exports=a},1482:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t){this.webGLProgram=null,this.gl=r,this.vertexSource=s,this.fragmentSource=t,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=a.createProgram(),s=a.createShader(a.VERTEX_SHADER),t=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(s,this.vertexSource),a.shaderSource(t,this.fragmentSource),a.compileShader(s),a.compileShader(t);var n=`Shader failed:
`;if(!a.getShaderParameter(s,a.COMPILE_STATUS))throw new Error("Vertex "+n+a.getShaderInfoLog(s));if(!a.getShaderParameter(t,a.COMPILE_STATUS))throw new Error("Fragment "+n+a.getShaderInfoLog(t));if(a.attachShader(r,s),a.attachShader(r,t),a.linkProgram(r),!a.getProgramParameter(r,a.LINK_STATUS))throw new Error("Link "+n+a.getProgramInfoLog(r));a.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});c.exports=p},82751:(c,x,e)=>{var o=e(83419),p=e(50030),a=new o({initialize:function(s,t,n,h,i,l,u,d,f,v,m,g,y){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=s,this.mipLevel=t,this.minFilter=n,this.magFilter=h,this.wrapT=i,this.wrapS=l,this.format=u,this.pixels=d,this.width=f,this.height=v,this.pma=m??!0,this.forceSize=!!g,this.flipY=!!y,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var s=r.createTexture();s.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=s,this._processTexture()}},update:function(r,s,t,n,h,i,l,u,d){if(!(s===0||t===0)){this.pixels=r,this.width=s,this.height=t,this.flipY=n,this.wrapS=h,this.wrapT=i,this.minFilter=l,this.magFilter=u,this.format=d;var f=this.gl;f.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var s=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var t=this.pixels,n=this.mipLevel,h=this.width,i=this.height,l=this.format,u=!1;if(t==null)r.texImage2D(r.TEXTURE_2D,n,l,h,i,0,l,r.UNSIGNED_BYTE,null),u=p(h,i);else if(t.compressed){h=t.width,i=t.height,u=t.generateMipmap;for(var d=0;d<t.mipmaps.length;d++)r.compressedTexImage2D(r.TEXTURE_2D,d,t.internalFormat,t.mipmaps[d].width,t.mipmaps[d].height,0,t.mipmaps[d].data)}else t instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,n,l,h,i,0,l,r.UNSIGNED_BYTE,t),u=p(h,i)):(this.forceSize||(h=t.width,i=t.height),r.texImage2D(r.TEXTURE_2D,n,l,l,r.UNSIGNED_BYTE,t),u=p(h,i));u&&r.generateMipmap(r.TEXTURE_2D),s?r.bindTexture(r.TEXTURE_2D,s):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});c.exports=a},57183:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t){this.webGLUniformLocation=null,this.gl=r,this.program=s,this.name=t,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});c.exports=p},9503:(c,x,e)=>{var o={WebGLAttribLocationWrapper:e(93567),WebGLBufferWrapper:e(26128),WebGLProgramWrapper:e(1482),WebGLTextureWrapper:e(82751),WebGLFramebufferWrapper:e(84387),WebGLUniformLocationWrapper:e(57183)};c.exports=o},76531:(c,x,e)=>{var o=e(13560),p=e(83419),a=e(50792),r=e(97480),s=e(8443),t=e(57811),n=e(74403),h=e(45818),i=e(29747),l=e(87841),u=e(86555),d=e(56583),f=e(26099),v=e(38058),m=new p({Extends:a,initialize:function(y){a.call(this),this.game=y,this.canvas,this.canvasBounds=new l,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new f(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var g=this.game;this.canvas=g.canvas,this.fullscreen=g.device.fullscreen;var y=this.scaleMode;y!==o.SCALE_MODE.RESIZE&&y!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(y),y===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),g.events.on(s.PRE_STEP,this.step,this),g.events.once(s.READY,this.refresh,this),g.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(g){this.getParent(g),this.getParentBounds();var y=g.width,T=g.height,C=g.scaleMode,E=g.zoom,z=g.autoRound;if(typeof y=="string")if(y.substr(-1)!=="%")y=parseInt(y,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var A=parseInt(y,10)/100;y=Math.floor(D*A)}if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var b=parseInt(T,10)/100;T=Math.floor(L*b)}this.scaleMode=C,this.autoRound=z,this.autoCenter=g.autoCenter,this.resizeInterval=g.resizeInterval,z&&(y=Math.floor(y),T=Math.floor(T)),this.gameSize.setSize(y,T),E===o.ZOOM.MAX_ZOOM&&(E=this.getMaxZoom()),this.zoom=E,E!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,T),z&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),g.minWidth>0&&this.displaySize.setMin(g.minWidth*E,g.minHeight*E),g.maxWidth>0&&this.displaySize.setMax(g.maxWidth*E,g.maxHeight*E),this.displaySize.setSize(y,T),(g.snapWidth>0||g.snapHeight>0)&&this.displaySize.setSnap(g.snapWidth,g.snapHeight),this.orientation=h(y,T)},getParent:function(g){var y=g.parent;if(y!==null){if(this.parent=n(y),this.parentIsWindow=this.parent===document.body,g.expandParent&&g.scaleMode!==o.SCALE_MODE.NONE){var T=this.parent.getBoundingClientRect();(this.parentIsWindow||T.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",T=this.parent.getBoundingClientRect(),!this.parentIsWindow&&T.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}g.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=n(g.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var g=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=t(!0));var T=y.width,C=y.height;if(g.width!==T||g.height!==C)return g.setSize(T,C),!0;if(this.canvas){var E=this.canvasBounds,z=this.canvas.getBoundingClientRect();if(z.x!==E.x||z.y!==E.y)return!0}return!1},lockOrientation:function(g){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,g):!1},setParentSize:function(g,y){return this.parentSize.setSize(g,y),this.refresh()},setGameSize:function(g,y){var T=this.autoRound;T&&(g=Math.floor(g),y=Math.floor(y));var C=this.width,E=this.height;return this.gameSize.resize(g,y),this.baseSize.resize(g,y),T&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(g/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(C,E)},resize:function(g,y){var T=this.zoom,C=this.autoRound;C&&(g=Math.floor(g),y=Math.floor(y));var E=this.width,z=this.height;this.gameSize.resize(g,y),this.baseSize.resize(g,y),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(g*T,y*T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,A=g*T,L=y*T;return C&&(A=Math.floor(A),L=Math.floor(L)),(A!==g||L!==y)&&(D.width=A+"px",D.height=L+"px"),this.refresh(E,z)},setZoom:function(g){return this.zoom=g,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(g,y){return g===void 0&&(g=0),y===void 0&&(y=g),this.displaySize.setSnap(g,y),this.refresh()},refresh:function(g,y){g===void 0&&(g=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var T=this.game.domContainer;if(T){this.baseSize.setCSS(T);var C=this.canvas.style,E=T.style;E.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",E.marginLeft=C.marginLeft,E.marginTop=C.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,g,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var g=h(this.width,this.height);g!==this.orientation&&(this.orientation=g,this.emit(r.ORIENTATION_CHANGE,g))}},updateScale:function(){var g=this.canvas.style,y=this.gameSize.width,T=this.gameSize.height,C,E,z=this.zoom,D=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(y*z,T*z),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),this._resetZoom&&(g.width=C+"px",g.height=E+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),this.canvas.width=C,this.canvas.height=E;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var A=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),g.width=C+"px",g.height=E+"px";var b=this.parentSize.width/A,F=this.parentSize.height/L;b<F&&b!==0?this.baseSize.setSize(A,this.parentSize.height/b):F!==0&&this.baseSize.setSize(this.displaySize.width/F,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),C=this.baseSize.width,E=this.baseSize.height,D&&(C=Math.floor(C),E=Math.floor(E)),this.canvas.width=C,this.canvas.height=E}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),C=this.displaySize.width,E=this.displaySize.height,D&&(C=Math.floor(C),E=Math.floor(E)),g.width=C+"px",g.height=E+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var g=d(this.parentSize.width,this.gameSize.width,0,!0),y=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(g,y),1)},updateCenter:function(){var g=this.autoCenter;if(g!==o.CENTER.NO_CENTER){var y=this.canvas,T=y.style,C=y.getBoundingClientRect(),E=C.width,z=C.height,D=Math.floor((this.parentSize.width-E)/2),A=Math.floor((this.parentSize.height-z)/2);g===o.CENTER.CENTER_HORIZONTALLY?A=0:g===o.CENTER.CENTER_VERTICALLY&&(D=0),T.marginLeft=D+"px",T.marginTop=A+"px"}},updateBounds:function(){var g=this.canvasBounds,y=this.canvas.getBoundingClientRect();g.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),g.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),g.width=y.width,g.height=y.height},transformX:function(g){return(g-this.canvasBounds.left)*this.displayScale.x},transformY:function(g){return(g-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(g){g===void 0&&(g={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var T=this.getFullscreenTarget();y.keyboard?T[y.request](Element.ALLOW_KEYBOARD_INPUT):T[y.request](g)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(g){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,g)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var g=document.createElement("div");g.style.margin="0",g.style.padding="0",g.style.width="100%",g.style.height="100%",this.fullscreenTarget=g,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var g=this.fullscreenTarget;if(g&&g.parentNode){var y=g.parentNode;y.insertBefore(this.canvas,g),y.removeChild(g)}}},stopFullscreen:function(){var g=this.fullscreen;if(!g.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;g.active&&document[g.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(g){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(g)},startListeners:function(){var g=this,y=this.domlisteners;if(y.orientationChange=function(){g.updateBounds(),g._checkOrientation=!0,g.dirty=!0,g.refresh()},y.windowResize=function(){g.updateBounds(),g.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",y.orientationChange,!1):window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(C){return g.onFullScreenChange(C)},y.fullScreenError=function(C){return g.onFullScreenError(C)};var T=["webkit","moz",""];T.forEach(function(C){document.addEventListener(C+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(C+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(g,y){g instanceof v||(y=g,g=void 0),y===void 0&&(y=new l);var T=this.baseSize,C=this.parentSize,E=this.canvasBounds,z=this.displayScale,D=E.x>=0?0:-(E.x*z.x),A=E.y>=0?0:-(E.y*z.y),L;C.width>=E.width?L=T.width:L=T.width-(E.width-C.width)*z.x;var b;return C.height>=E.height?b=T.height:b=T.height-(E.height-C.height)*z.y,y.setTo(D,A,L,b),g&&(y.width/=g.zoomX,y.height/=g.zoomY,y.centerX=g.centerX+g.scrollX,y.centerY=g.centerY+g.scrollY),y},step:function(g,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var g=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",g.orientationChange,!1):window.removeEventListener("orientationchange",g.orientationChange,!1),window.removeEventListener("resize",g.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(T){document.removeEventListener(T+"fullscreenchange",g.fullScreenChange,!1),document.removeEventListener(T+"fullscreenerror",g.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",g.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});c.exports=m},64743:c=>{c.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:c=>{c.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:c=>{c.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:c=>{c.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(c,x,e)=>{var o={CENTER:e(64743),ORIENTATION:e(39218),SCALE_MODE:e(81050),ZOOM:e(80805)};c.exports=o},56139:c=>{c.exports="enterfullscreen"},2336:c=>{c.exports="fullscreenfailed"},47412:c=>{c.exports="fullscreenunsupported"},51452:c=>{c.exports="leavefullscreen"},20666:c=>{c.exports="orientationchange"},47945:c=>{c.exports="resize"},97480:(c,x,e)=>{c.exports={ENTER_FULLSCREEN:e(56139),FULLSCREEN_FAILED:e(2336),FULLSCREEN_UNSUPPORTED:e(47412),LEAVE_FULLSCREEN:e(51452),ORIENTATION_CHANGE:e(20666),RESIZE:e(47945)}},93364:(c,x,e)=>{var o=e(79291),p=e(13560),a={Center:e(64743),Events:e(97480),Orientation:e(39218),ScaleManager:e(76531),ScaleModes:e(81050),Zoom:e(80805)};a=o(!1,a,p.CENTER),a=o(!1,a,p.ORIENTATION),a=o(!1,a,p.SCALE_MODE),a=o(!1,a,p.ZOOM),c.exports=a},27397:(c,x,e)=>{var o=e(95540),p=e(35355),a=function(r){var s=r.game.config.defaultPhysicsSystem,t=o(r.settings,"physics",!1);if(!(!s&&!t)){var n=[];if(s&&n.push(p(s+"Physics")),t)for(var h in t)h=p(h.concat("Physics")),n.indexOf(h)===-1&&n.push(h);return n}};c.exports=a},52106:(c,x,e)=>{var o=e(95540),p=function(a){var r=a.plugins.getDefaultScenePlugins(),s=o(a.settings,"plugins",!1);return Array.isArray(s)?s:r||[]};c.exports=p},87033:c=>{var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};c.exports=x},97482:(c,x,e)=>{var o=e(83419),p=e(2368),a=new o({initialize:function(s){this.sys=new p(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});c.exports=a},60903:(c,x,e)=>{var o=e(83419),p=e(89993),a=e(44594),r=e(8443),s=e(35154),t=e(54899),n=e(29747),h=e(97482),i=e(2368),l=new o({initialize:function(d,f){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,f){Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++)this._pending.push({key:"default",scene:f[v],autoStart:v===0,data:{}})}d.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var u,d,f,v;for(u=0;u<this._pending.length;u++){d=this._pending[u],f=d.key,v=d.scene;var m;v instanceof h?m=this.createSceneFromInstance(f,v):typeof v=="object"?m=this.createSceneFromObject(f,v):typeof v=="function"&&(m=this.createSceneFromFunction(f,v)),f=m.sys.settings.key,this.keys[f]=m,this.scenes.push(m),this._data[f]&&(m.sys.settings.data=this._data[f].data,this._data[f].autoStart&&(d.autoStart=!0)),(d.autoStart||m.sys.settings.active)&&this._start.push(f)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)d=this._start[u],this.start(d);this._start.length=0}},processQueue:function(){var u=this._pending.length,d=this._queue.length;if(!(u===0&&d===0)){var f,v;if(u){for(f=0;f<u;f++)v=this._pending[f],this.add(v.key,v.scene,v.autoStart,v.data);for(f=0;f<this._start.length;f++)v=this._start[f],this.start(v);this._start.length=0,this._pending.length=0}for(f=0;f<this._queue.length;f++)v=this._queue[f],this[v.op](v.keyA,v.keyB,v.data);this._queue.length=0}},add:function(u,d,f,v){if(f===void 0&&(f=!1),v===void 0&&(v={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:d,autoStart:f,data:v}),this.isBooted||(this._data[u]={data:v}),null;u=this.getKey(u,d);var m;return d instanceof h?m=this.createSceneFromInstance(u,d):typeof d=="object"?(d.key=u,m=this.createSceneFromObject(u,d)):typeof d=="function"&&(m=this.createSceneFromFunction(u,d)),m.sys.settings.data=v,u=m.sys.settings.key,this.keys[u]=m,this.scenes.push(m),(f||m.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),m},remove:function(u){if(this.isProcessing)return this.queueOp("remove",u);var d=this.getScene(u);if(!d||d.sys.isTransitioning())return this;var f=this.scenes.indexOf(d),v=d.sys.settings.key;return f>-1&&(delete this.keys[v],this.scenes.splice(f,1),this._start.indexOf(v)>-1&&(f=this._start.indexOf(v),this._start.splice(f,1)),d.sys.destroy()),this},bootScene:function(u){var d=u.sys,f=d.settings;d.sceneUpdate=n,u.init&&(u.init.call(u,f.data),f.status=p.INIT,f.isTransition&&d.events.emit(a.TRANSITION_INIT,f.transitionFrom,f.transitionDuration));var v;d.load&&(v=d.load,v.reset()),v&&u.preload?(u.preload.call(u),f.status=p.LOADING,v.once(t.COMPLETE,this.loadComplete,this),v.start()):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,d){this.processQueue(),this.isProcessing=!0;for(var f=this.scenes.length-1;f>=0;f--){var v=this.scenes[f].sys;v.settings.status>p.START&&v.settings.status<=p.RUNNING&&v.step(u,d),v.scenePlugin&&v.scenePlugin._target&&v.scenePlugin.step(u,d)}},render:function(u){for(var d=0;d<this.scenes.length;d++){var f=this.scenes[d].sys;f.settings.visible&&f.settings.status>=p.LOADING&&f.settings.status<p.SLEEPING&&f.render(u)}this.isProcessing=!1},create:function(u){var d=u.sys,f=d.settings;u.create&&(f.status=p.CREATING,u.create.call(u,f.data),f.status===p.DESTROYED)||(f.isTransition&&d.events.emit(a.TRANSITION_START,f.transitionFrom,f.transitionDuration),u.update&&(d.sceneUpdate=u.update),f.status=p.RUNNING,d.events.emit(a.CREATE,u))},createSceneFromFunction:function(u,d){var f=new d;if(f instanceof h){var v=f.sys.settings.key;if(v!==""&&(u=v),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return this.createSceneFromInstance(u,f)}else return f.sys=new i(f),f.sys.settings.key=u,f.sys.init(this.game),f},createSceneFromInstance:function(u,d){var f=d.sys.settings.key;return f===""&&(d.sys.settings.key=u),d.sys.init(this.game),d},createSceneFromObject:function(u,d){var f=new h(d),v=f.sys.settings.key;v!==""?u=v:f.sys.settings.key=u,f.sys.init(this.game);for(var m=["init","preload","create","update","render"],g=0;g<m.length;g++){var y=s(d,m[g],null);y&&(f[m[g]]=y)}if(d.hasOwnProperty("extend")){for(var T in d.extend)if(d.extend.hasOwnProperty(T)){var C=d.extend[T];T==="data"&&f.hasOwnProperty("data")&&typeof C=="object"?f.data.merge(C):T!=="sys"&&(f[T]=C)}}return f},getKey:function(u,d){if(u||(u="default"),typeof d=="function")return u;if(d instanceof h?u=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(u=d.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return u},getScenes:function(u,d){u===void 0&&(u=!0),d===void 0&&(d=!1);for(var f=[],v=this.scenes,m=0;m<v.length;m++){var g=v[m];g&&(!u||u&&g.sys.isActive())&&f.push(g)}return d?f.reverse():f},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var d=0;d<this.scenes.length;d++)if(u===this.scenes[d])return u;return null},isActive:function(u){var d=this.getScene(u);return d?d.sys.isActive():null},isPaused:function(u){var d=this.getScene(u);return d?d.sys.isPaused():null},isVisible:function(u){var d=this.getScene(u);return d?d.sys.isVisible():null},isSleeping:function(u){var d=this.getScene(u);return d?d.sys.isSleeping():null},pause:function(u,d){var f=this.getScene(u);return f&&f.sys.pause(d),this},resume:function(u,d){var f=this.getScene(u);return f&&f.sys.resume(d),this},sleep:function(u,d){var f=this.getScene(u);return f&&!f.sys.isTransitioning()&&f.sys.sleep(d),this},wake:function(u,d){var f=this.getScene(u);return f&&f.sys.wake(d),this},run:function(u,d){var f=this.getScene(u);if(!f){for(var v=0;v<this._pending.length;v++)if(this._pending[v].key===u){this.queueOp("start",u,d);break}return this}f.sys.isSleeping()?f.sys.wake(d):f.sys.isPaused()?f.sys.resume(d):this.start(u,d)},start:function(u,d){if(!this.isBooted)return this._data[u]={autoStart:!0,data:d},this;var f=this.getScene(u);if(!f)return console.warn("Scene key not found: "+u),this;var v=f.sys,m=v.settings.status;if(m>=p.START&&m<=p.CREATING)return this;if(m>=p.RUNNING&&m<=p.SLEEPING)v.shutdown(),v.sceneUpdate=n,v.start(d);else{v.sceneUpdate=n,v.start(d);var g;if(v.load&&(g=v.load),g&&v.settings.hasOwnProperty("pack")&&(g.reset(),g.addPack({payload:v.settings.pack})))return v.settings.status=p.LOADING,g.once(t.COMPLETE,this.payloadComplete,this),g.start(),this}return this.bootScene(f),this},stop:function(u,d){var f=this.getScene(u);if(f&&!f.sys.isTransitioning()&&f.sys.settings.status!==p.SHUTDOWN){var v=f.sys.load;v&&(v.off(t.COMPLETE,this.loadComplete,this),v.off(t.COMPLETE,this.payloadComplete,this)),f.sys.shutdown(d)}return this},switch:function(u,d,f){var v=this.getScene(u),m=this.getScene(d);return v&&m&&v!==m&&(this.sleep(u),this.isSleeping(d)?this.wake(d,f):this.start(d,f)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var d=this.getScene(u);return this.scenes.indexOf(d)},bringToTop:function(u){if(this.isProcessing)return this.queueOp("bringToTop",u);var d=this.getIndex(u),f=this.scenes;if(d!==-1&&d<f.length){var v=this.getScene(u);f.splice(d,1),f.push(v)}return this},sendToBack:function(u){if(this.isProcessing)return this.queueOp("sendToBack",u);var d=this.getIndex(u);if(d!==-1&&d>0){var f=this.getScene(u);this.scenes.splice(d,1),this.scenes.unshift(f)}return this},moveDown:function(u){if(this.isProcessing)return this.queueOp("moveDown",u);var d=this.getIndex(u);if(d>0){var f=d-1,v=this.getScene(u),m=this.getAt(f);this.scenes[d]=m,this.scenes[f]=v}return this},moveUp:function(u){if(this.isProcessing)return this.queueOp("moveUp",u);var d=this.getIndex(u);if(d<this.scenes.length-1){var f=d+1,v=this.getScene(u),m=this.getAt(f);this.scenes[d]=m,this.scenes[f]=v}return this},moveAbove:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",u,d);var f=this.getIndex(u),v=this.getIndex(d);if(f!==-1&&v!==-1&&v<f){var m=this.getAt(v);this.scenes.splice(v,1),this.scenes.splice(f+(v>f),0,m)}return this},moveBelow:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",u,d);var f=this.getIndex(u),v=this.getIndex(d);if(f!==-1&&v!==-1&&v>f){var m=this.getAt(v);this.scenes.splice(v,1),f===0?this.scenes.unshift(m):this.scenes.splice(f-(v<f),0,m)}return this},queueOp:function(u,d,f,v){return this._queue.push({op:u,keyA:d,keyB:f,data:v}),this},swapPosition:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",u,d);var f=this.getIndex(u),v=this.getIndex(d);if(f!==v&&f!==-1&&v!==-1){var m=this.getAt(f);this.scenes[f]=this.scenes[v],this.scenes[v]=m}return this},dump:function(){for(var u=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],f=0;f<this.scenes.length;f++){var v=this.scenes[f].sys,m=v.settings.visible&&(v.settings.status===p.RUNNING||v.settings.status===p.PAUSED)?"[*] ":"[-] ";m+=v.settings.key+" ("+d[v.settings.status]+")",u.push(m)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=n,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});c.exports=l},52209:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(44594),r=e(95540),s=e(37277),t=new p({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",n,h),this},restart:function(n){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,n),this},transition:function(n){n===void 0&&(n={});var h=r(n,"target",!1),i=this.manager.getScene(h);if(!h||!this.checkValidTransition(i))return!1;var l=r(n,"duration",1e3);this._elapsed=0,this._target=i,this._duration=l,this._willSleep=r(n,"sleep",!1),this._willRemove=r(n,"remove",!1);var u=r(n,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=r(n,"onUpdateScope",this.scene));var d=r(n,"allowInput",!1);this.settings.transitionAllowInput=d;var f=i.sys.settings;f.isTransition=!0,f.transitionFrom=this.scene,f.transitionDuration=l,f.transitionAllowInput=d,r(n,"moveAbove",!1)?this.manager.moveAbove(this.key,h):r(n,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),i.sys.isSleeping()?i.sys.wake(r(n,"data")):this.manager.start(h,r(n,"data"));var v=r(n,"onStart",null),m=r(n,"onStartScope",this.scene);return v&&v.call(m,this.scene,i,l),this.systems.events.emit(a.TRANSITION_OUT,i,l),!0},checkValidTransition:function(n){return!(!n||n.sys.isActive()||n.sys.isTransitioning()||n===this.scene||this.systems.isTransitioning())},step:function(n,h){this._elapsed+=h,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var n=this._target.sys,h=this._target.sys.settings;n.events.emit(a.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(n,h,i,l){return this.manager.add(n,h,i,l)},launch:function(n,h){return n&&n!==this.key&&this.manager.queueOp("start",n,h),this},run:function(n,h){return n&&n!==this.key&&this.manager.queueOp("run",n,h),this},pause:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("pause",n,h),this},resume:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("resume",n,h),this},sleep:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("sleep",n,h),this},wake:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("wake",n,h),this},switch:function(n,h){return n!==this.key&&this.manager.queueOp("switch",this.key,n,h),this},stop:function(n,h){return n===void 0&&(n=this.key),this.manager.queueOp("stop",n,h),this},setActive:function(n,h,i){h===void 0&&(h=this.key);var l=this.manager.getScene(h);return l&&l.sys.setActive(n,i),this},setVisible:function(n,h){h===void 0&&(h=this.key);var i=this.manager.getScene(h);return i&&i.sys.setVisible(n),this},isSleeping:function(n){return n===void 0&&(n=this.key),this.manager.isSleeping(n)},isActive:function(n){return n===void 0&&(n=this.key),this.manager.isActive(n)},isPaused:function(n){return n===void 0&&(n=this.key),this.manager.isPaused(n)},isVisible:function(n){return n===void 0&&(n=this.key),this.manager.isVisible(n)},swapPosition:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.swapPosition(n,h),this},moveAbove:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveAbove(n,h),this},moveBelow:function(n,h){return h===void 0&&(h=this.key),n!==h&&this.manager.moveBelow(n,h),this},remove:function(n){return n===void 0&&(n=this.key),this.manager.remove(n),this},moveUp:function(n){return n===void 0&&(n=this.key),this.manager.moveUp(n),this},moveDown:function(n){return n===void 0&&(n=this.key),this.manager.moveDown(n),this},bringToTop:function(n){return n===void 0&&(n=this.key),this.manager.bringToTop(n),this},sendToBack:function(n){return n===void 0&&(n=this.key),this.manager.sendToBack(n),this},get:function(n){return this.manager.getScene(n)},getStatus:function(n){var h=this.manager.getScene(n);if(h)return h.sys.getStatus()},getIndex:function(n){return n===void 0&&(n=this.key),this.manager.getIndex(n)},shutdown:function(){var n=this.systems.events;n.off(a.SHUTDOWN,this.shutdown,this),n.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",t,"scenePlugin"),c.exports=t},55681:(c,x,e)=>{var o=e(89993),p=e(35154),a=e(46975),r=e(87033),s={create:function(t){return typeof t=="string"?t={key:t}:t===void 0&&(t={}),{status:o.PENDING,key:p(t,"key",""),active:p(t,"active",!1),visible:p(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(t,"pack",!1),cameras:p(t,"cameras",null),map:p(t,"map",a(r,p(t,"mapAdd",{}))),physics:p(t,"physics",{}),loader:p(t,"loader",{}),plugins:p(t,"plugins",!1),input:p(t,"input",{})}}};c.exports=s},2368:(c,x,e)=>{var o=e(83419),p=e(89993),a=e(42363),r=e(44594),s=e(27397),t=e(52106),n=e(29747),h=e(55681),i=new o({initialize:function(u,d){this.scene=u,this.game,this.renderer,this.config=d,this.settings=h.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=n},init:function(l){this.settings.status=p.INIT,this.sceneUpdate=n,this.game=l,this.renderer=l.renderer,this.canvas=l.canvas,this.context=l.context;var u=l.plugins;this.plugins=u,u.addToScene(this,a.Global,[a.CoreScene,t(this),s(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(l,u){var d=this.events;d.emit(r.PRE_UPDATE,l,u),d.emit(r.UPDATE,l,u),this.sceneUpdate.call(this.scene,l,u),d.emit(r.POST_UPDATE,l,u)},render:function(l){var u=this.displayList;u.depthSort(),this.events.emit(r.PRE_RENDER,l),this.cameras.render(l,u),this.events.emit(r.RENDER,l)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(l){var u=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=p.PAUSED,u.active=!1,this.events.emit(r.PAUSE,this,l)),this},resume:function(l){var u=this.events,d=this.settings;return this.settings.active||(d.status=p.RUNNING,d.active=!0,u.emit(r.RESUME,this,l)),this},sleep:function(l){var u=this.settings,d=this.getStatus();return d!==p.CREATING&&d!==p.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=p.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(r.SLEEP,this,l)),this},wake:function(l){var u=this.events,d=this.settings;return d.status=p.RUNNING,d.active=!0,d.visible=!0,u.emit(r.WAKE,this,l),d.isTransition&&u.emit(r.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var l=this.settings.status;return l>p.PENDING&&l<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(l){return this.settings.visible=l,this},setActive:function(l,u){return l?this.resume(u):this.pause(u)},start:function(l){var u=this.events,d=this.settings;l&&(d.data=l),d.status=p.START,d.active=!0,d.visible=!0,u.emit(r.START,this),u.emit(r.READY,this,l)},shutdown:function(l){var u=this.events,d=this.settings;u.off(r.TRANSITION_INIT),u.off(r.TRANSITION_START),u.off(r.TRANSITION_COMPLETE),u.off(r.TRANSITION_OUT),d.status=p.SHUTDOWN,d.active=!1,d.visible=!1,u.emit(r.SHUTDOWN,this,l)},destroy:function(){var l=this.events,u=this.settings;u.status=p.DESTROYED,u.active=!1,u.visible=!1,l.emit(r.DESTROY,this),l.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],f=0;f<d.length;f++)this[d[f]]=null}});c.exports=i},89993:c=>{var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};c.exports=x},69830:c=>{c.exports="addedtoscene"},7919:c=>{c.exports="boot"},46763:c=>{c.exports="create"},11763:c=>{c.exports="destroy"},71555:c=>{c.exports="pause"},36735:c=>{c.exports="postupdate"},3809:c=>{c.exports="prerender"},90716:c=>{c.exports="preupdate"},58262:c=>{c.exports="ready"},91633:c=>{c.exports="removedfromscene"},10319:c=>{c.exports="render"},87132:c=>{c.exports="resume"},81961:c=>{c.exports="shutdown"},90194:c=>{c.exports="sleep"},6265:c=>{c.exports="start"},33178:c=>{c.exports="transitioncomplete"},43063:c=>{c.exports="transitioninit"},11259:c=>{c.exports="transitionout"},61611:c=>{c.exports="transitionstart"},45209:c=>{c.exports="transitionwake"},22966:c=>{c.exports="update"},21747:c=>{c.exports="wake"},44594:(c,x,e)=>{c.exports={ADDED_TO_SCENE:e(69830),BOOT:e(7919),CREATE:e(46763),DESTROY:e(11763),PAUSE:e(71555),POST_UPDATE:e(36735),PRE_RENDER:e(3809),PRE_UPDATE:e(90716),READY:e(58262),REMOVED_FROM_SCENE:e(91633),RENDER:e(10319),RESUME:e(87132),SHUTDOWN:e(81961),SLEEP:e(90194),START:e(6265),TRANSITION_COMPLETE:e(33178),TRANSITION_INIT:e(43063),TRANSITION_OUT:e(11259),TRANSITION_START:e(61611),TRANSITION_WAKE:e(45209),UPDATE:e(22966),WAKE:e(21747)}},62194:(c,x,e)=>{var o=e(89993),p=e(79291),a={Events:e(44594),GetPhysicsPlugins:e(27397),GetScenePlugins:e(52106),SceneManager:e(60903),ScenePlugin:e(52209),Settings:e(55681),Systems:e(2368)};a=p(!1,a,o),c.exports=a},30341:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(14463),r=e(79291),s=e(29747),t=new o({Extends:p,initialize:function(h,i,l){p.call(this),this.manager=h,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,l),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(console.error("addMarker "+n.name+" already exists in Sound"),!1):(n=r(!0,{name:"",start:0,duration:this.totalDuration-(n.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},n),this.markers[n.name]=n,!0)},updateMarker:function(n){return!n||!n.name||typeof n.name!="string"?!1:this.markers[n.name]?(this.markers[n.name]=r(!0,this.markers[n.name],n),!0):(console.warn("Audio Marker: "+n.name+" missing in Sound: "+this.key),!1)},removeMarker:function(n){var h=this.markers[n];return h?(this.markers[n]=null,h):null},play:function(n,h){if(n===void 0&&(n=""),typeof n=="object"&&(h=n,n=""),typeof n!="string")return!1;if(!n)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[n])return console.warn("Marker: "+n+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[n],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var n=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,i=Math.pow(n,h);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});c.exports=t},85034:(c,x,e)=>{var o=e(83419),p=e(41786),a=e(50792),r=e(14463),s=e(8443),t=e(46710),n=e(58731),h=e(29747),i=e(26099),l=new o({Extends:a,initialize:function(d){a.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i,d.events.on(s.BLUR,this.onGameBlur,this),d.events.on(s.FOCUS,this.onGameFocus,this),d.events.on(s.PRE_STEP,this.update,this),d.events.once(s.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(u,d){d===void 0&&(d={});var f=this.add(u,d);f.spritemap=this.jsonCache.get(u).spritemap;for(var v in f.spritemap)if(f.spritemap.hasOwnProperty(v)){var m=p(d),g=f.spritemap[v];m.loop=g.hasOwnProperty("loop")?g.loop:!1,f.addMarker({name:v,start:g.start,duration:g.end-g.start,config:m})}return f},get:function(u){return n(this.sounds,"key",u)},getAll:function(u){return u?t(this.sounds,"key",u):t(this.sounds)},getAllPlaying:function(){return t(this.sounds,"isPlaying",!0)},play:function(u,d){var f=this.add(u);return f.once(r.COMPLETE,f.destroy,f),d?d.name?(f.addMarker(d),f.play(d.name)):f.play(d):f.play()},playAudioSprite:function(u,d,f){var v=this.addAudioSprite(u);return v.once(r.COMPLETE,v.destroy,v),v.play(d,f)},remove:function(u){var d=this.sounds.indexOf(u);return d!==-1?(u.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var d=0,f=this.sounds.length-1;f>=0;f--){var v=this.sounds[f];v.key===u&&(v.destroy(),this.sounds.splice(f,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(u){var d=0;return this.getAll(u).forEach(function(f){f.stop()&&d++}),d},isPlaying:function(u){var d=this.sounds,f=d.length-1,v;if(u===void 0){for(;f>=0;f--)if(v=this.sounds[f],v.isPlaying)return!0}else for(;f>=0;f--)if(v=this.sounds[f],v.key===u&&v.isPlaying)return!0;return!1},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var f=this.sounds.length-1;f>=0;f--)this.sounds[f].pendingRemove&&this.sounds.splice(f,1);this.sounds.forEach(function(v){v.update(u,d)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,d){var f=this;this.sounds.forEach(function(v,m){v&&!v.pendingRemove&&u.call(d||f,v,m,f.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,u)}}});c.exports=l},14747:(c,x,e)=>{var o=e(33684),p=e(25960),a=e(57490),r={create:function(s){var t=s.config.audio,n=s.device.audio;return t.noAudio||!n.webAudio&&!n.audioData?new p(s):n.webAudio&&!t.disableWebAudio?new a(s):new o(s)}};c.exports=r},19723:c=>{c.exports="complete"},98882:c=>{c.exports="decodedall"},57506:c=>{c.exports="decoded"},73146:c=>{c.exports="destroy"},11305:c=>{c.exports="detune"},40577:c=>{c.exports="detune"},30333:c=>{c.exports="mute"},20394:c=>{c.exports="rate"},21802:c=>{c.exports="volume"},1299:c=>{c.exports="looped"},99190:c=>{c.exports="loop"},97125:c=>{c.exports="mute"},89259:c=>{c.exports="pan"},79986:c=>{c.exports="pauseall"},17586:c=>{c.exports="pause"},19618:c=>{c.exports="play"},42306:c=>{c.exports="rate"},10387:c=>{c.exports="resumeall"},48959:c=>{c.exports="resume"},9960:c=>{c.exports="seek"},19180:c=>{c.exports="stopall"},98328:c=>{c.exports="stop"},50401:c=>{c.exports="unlocked"},52498:c=>{c.exports="volume"},14463:(c,x,e)=>{c.exports={COMPLETE:e(19723),DECODED:e(57506),DECODED_ALL:e(98882),DESTROY:e(73146),DETUNE:e(11305),GLOBAL_DETUNE:e(40577),GLOBAL_MUTE:e(30333),GLOBAL_RATE:e(20394),GLOBAL_VOLUME:e(21802),LOOP:e(99190),LOOPED:e(1299),MUTE:e(97125),PAN:e(89259),PAUSE_ALL:e(79986),PAUSE:e(17586),PLAY:e(19618),RATE:e(42306),RESUME_ALL:e(10387),RESUME:e(48959),SEEK:e(9960),STOP_ALL:e(19180),STOP:e(98328),UNLOCKED:e(50401),VOLUME:e(52498)}},64895:(c,x,e)=>{var o=e(30341),p=e(83419),a=e(14463),r=e(45319),s=new p({Extends:o,initialize:function(n,h,i){if(i===void 0&&(i={}),this.tags=n.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,n,h,i)},play:function(t,n){return this.manager.isLocked(this,"play",[t,n])||!o.prototype.play.call(this,t,n)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,n=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),n===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+n*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var n=this.tags[t];if(n.dataset.used==="false")return n.dataset.used="true",this.audio=n,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(l){l.key===this.key&&l.audio&&h.push(l)},this),h.sort(function(l,u){return l.loop===u.loop?u.seek/u.duration-l.seek/l.duration:l.loop?1:-1});var i=h[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(n){console.warn(n)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t){if(this.isPlaying){if(this.startTime>0){this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var n=this.currentMarker?this.currentMarker.start:0,h=n+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=h-this.manager.loopEndOffset?(this.audio.currentTime=n+Math.max(0,i-h),i=this.audio.currentTime):i<n&&(this.audio.currentTime+=n,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,!this.manager.isLocked(this,"mute",t)&&(this.updateMute(),this.emit(a.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,!this.manager.isLocked(this,"volume",t)&&(this.updateVolume(),this.emit(a.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,!this.manager.isLocked(this,a.RATE,t)&&(this.calculateRate(),this.emit(a.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,!this.manager.isLocked(this,a.DETUNE,t)&&(this.calculateRate(),this.emit(a.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(a.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,!this.manager.isLocked(this,"loop",t)&&(this.audio&&(this.audio.loop=t),this.emit(a.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.currentConfig.pan},set:function(t){this.currentConfig.pan=t,this.emit(a.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});c.exports=s},33684:(c,x,e)=>{var o=e(85034),p=e(83419),a=e(14463),r=e(64895),s=new p({Extends:o,initialize:function(n){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,n)},add:function(t,n){var h=new r(this,t,n);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each(function(l,u){for(var d=0;d<u.length;d++)if(u[d].dataset.locked==="true")return t.locked=!0,!1;return!0}),!!this.locked){var n=!1,h=function(){n=!0},i=function(){if(n){n=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",i);var l=[];if(t.game.cache.audio.entries.each(function(d,f){for(var v=0;v<f.length;v++){var m=f[v];m.dataset.locked==="true"&&l.push(m)}return!0}),l.length!==0){var u=l[l.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,l.forEach(function(d){d.dataset.locked="false"}),t.unlocked=!0},l.forEach(function(d){d.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var l=this.lockedActionsQueue.shift();l.sound[l.prop].apply?l.sound[l.prop].apply(l.sound,l.value||[]):l.sound[l.prop]=l.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,n,h){return t.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:t,prop:n,value:h}),!0):!1},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(n){n.updateMute()}),this.emit(a.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(n){n.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,t)}}});c.exports=s},23717:(c,x,e)=>{c.exports={SoundManagerCreator:e(14747),Events:e(14463),BaseSound:e(30341),BaseSoundManager:e(85034),WebAudioSound:e(71741),WebAudioSoundManager:e(57490),HTML5AudioSound:e(64895),HTML5AudioSoundManager:e(33684),NoAudioSound:e(4603),NoAudioSoundManager:e(25960)}},4603:(c,x,e)=>{var o=e(30341),p=e(83419),a=e(50792),r=e(79291),s=e(29747),t=function(){return!1},n=function(){return null},h=function(){return this},i=new p({Extends:a,initialize:function(u,d,f){f===void 0&&(f={}),a.call(this),this.manager=u,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},f),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:t,updateMarker:t,removeMarker:n,play:t,pause:t,resume:t,stop:t,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:n,resetConfig:n,update:s,calculateRate:n,destroy:function(){o.prototype.destroy.call(this)}});c.exports=i},25960:(c,x,e)=>{var o=e(85034),p=e(83419),a=e(50792),r=e(4603),s=e(29747),t=new p({Extends:a,initialize:function(h){a.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(n,h){var i=new r(this,n,h);return this.sounds.push(i),i},addAudioSprite:function(n,h){var i=this.add(n,h);return i.spritemap={},i},get:function(n){return o.prototype.get.call(this,n)},getAll:function(n){return o.prototype.getAll.call(this,n)},play:function(n,h){return!1},playAudioSprite:function(n,h,i){return!1},remove:function(n){return o.prototype.remove.call(this,n)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(n){return o.prototype.removeByKey.call(this,n)},stopByKey:function(n){return o.prototype.stopByKey.call(this,n)},onBlur:s,onFocus:s,onGameBlur:s,onGameFocus:s,pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,unlock:s,forEachActiveSound:function(n,h){o.prototype.forEachActiveSound.call(this,n,h)},destroy:function(){o.prototype.destroy.call(this)}});c.exports=t},71741:(c,x,e)=>{var o=e(30341),p=e(83419),a=e(14463),r=e(95540),s=new p({Extends:o,initialize:function(n,h,i){if(i===void 0&&(i={}),this.audioBuffer=n.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createPanner&&(this.spatialNode=n.context.createPanner(),this.volumeNode.connect(this.spatialNode)),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),n.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):n.context.createPanner?this.spatialNode.connect(n.destination):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,n,h,i)},play:function(t,n){return o.prototype.play.call(this,t,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var t=this.currentConfig.seek,n=this.currentConfig.delay,h=this.manager.context.currentTime+n,i=(this.currentMarker?this.currentMarker.start:0)+t,l=this.duration-t;this.playTime=h-t,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,i),Math.max(0,l)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,n),Math.max(0,h))},createBufferSource:function(){var t=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(h){var i=h.target;(i===t.source||i===t.loopSource)&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){if(this.source){var t=this.source;this.source=null,t.stop(),t.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var t=this.currentConfig.source;if(t&&this.manager.context.createPanner){var n=this.spatialNode;n.panningModel=r(t,"panningModel","equalpower"),n.distanceModel=r(t,"distanceModel","inverse"),n.orientationX.value=r(t,"orientationX",0),n.orientationY.value=r(t,"orientationY",0),n.orientationZ.value=r(t,"orientationZ",-1),n.refDistance=r(t,"refDistance",1),n.maxDistance=r(t,"maxDistance",1e4),n.rolloffFactor=r(t,"rolloffFactor",1),n.coneInnerAngle=r(t,"coneInnerAngle",360),n.coneOuterAngle=r(t,"coneOuterAngle",0),n.coneOuterGain=r(t,"coneOuterGain",0),this.spatialSource=r(t,"follow",null),this.spatialSource||(n.positionX.value=r(t,"x",0),n.positionY.value=r(t,"y",0),n.positionZ.value=r(t,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(t){this.spatialNode&&(this.spatialNode.positionX.value=t)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(t){this.spatialNode&&(this.spatialNode.positionY.value=t)}},update:function(){if(this.isPlaying&&this.spatialSource){var t=r(this.spatialSource,"x",null),n=r(this.spatialSource,"y",null);t&&t!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=t),n&&n!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=n)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,n=0;n<this.rateUpdates.length;n++){var h=0;n<this.rateUpdates.length-1?h=this.rateUpdates[n+1].time:h=this.manager.context.currentTime-this.playTime,t+=(h-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return t},getLoopTime:function(){for(var t=0,n=0;n<this.rateUpdates.length-1;n++)t+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-t)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit(a.RATE,this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit(a.DETUNE,this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit(a.MUTE,this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit(a.VOLUME,this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,t)}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(t){this.currentConfig.pan=t,this.pannerNode&&this.pannerNode.pan.setValueAtTime(t,this.manager.context.currentTime),this.emit(a.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});c.exports=s},57490:(c,x,e)=>{var o=e(53134),p=e(85034),a=e(83419),r=e(14463),s=e(8443),t=e(71741),n=e(95540),h=new a({Extends:p,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),p.call(this,l),this.locked&&l.isBooted?this.unlock():l.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(i){var l=i.config.audio;if(l.context)return l.context.resume(),l.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,l){var u=new t(this,i,l);return this.sounds.push(u),u},decodeAudio:function(i,l){var u;Array.isArray(i)?u=i:u=[{key:i,data:l}];for(var d=this.game.cache.audio,f=u.length,v=0;v<u.length;v++){var m=u[v],g=m.key,y=m.data;typeof y=="string"&&(y=o(y));var T=function(E,z){d.add(E,z),this.emit(r.DECODED,E),f--,f===0&&this.emit(r.DECODED_ALL)}.bind(this,g),C=function(E,z){console.error("Error decoding audio: "+E+" - ",z?z.message:""),f--,f===0&&this.emit(r.DECODED_ALL)}.bind(this,g);this.context.decodeAudioData(y,T,C)}},setListenerPosition:function(i,l){return i===void 0&&(i=this.game.scale.width/2),l===void 0&&(l=this.game.scale.height/2),this.listenerPosition.set(i,l),this},unlock:function(){var i=this,l=document.body,u=function d(){if(i.context&&l){var f=l.removeEventListener.bind(l);i.context.resume().then(function(){f("touchstart",d),f("touchend",d),f("click",d),f("keydown",d),i.unlocked=!0},function(){f("touchstart",d),f("touchend",d),f("click",d),f("keydown",d)})}};l&&(l.addEventListener("touchstart",u,!1),l.addEventListener("touchend",u,!1),l.addEventListener("click",u,!1),l.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,l){var u=this.context.listener;if(u&&u.positionX!==void 0){var d=n(this.listenerPosition,"x",null),f=n(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=u.positionX.value=d),f&&f!==this._spatialy&&(this._spatialy=u.positionY.value=f)}p.prototype.update.call(this,i,l),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}p.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});c.exports=h},73162:(c,x,e)=>{var o=e(37105),p=e(83419),a=e(29747),r=e(19186),s=new p({initialize:function(n){this.parent=n,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(t,n){return n?o.Add(this.list,t):o.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,n,h){return h?o.AddAt(this.list,t,n):o.AddAt(this.list,t,n,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,n){return t?(n===void 0&&(n=function(h,i){return h[t]-i[t]}),r(this.list,n),this):this},getByName:function(t){return o.GetFirst(this.list,"name",t)},getRandom:function(t,n){return o.GetRandom(this.list,t,n)},getFirst:function(t,n,h,i){return o.GetFirst(this.list,t,n,h,i)},getAll:function(t,n,h,i){return o.GetAll(this.list,t,n,h,i)},count:function(t,n){return o.CountAllMatching(this.list,t,n)},swap:function(t,n){o.Swap(this.list,t,n)},moveTo:function(t,n){return o.MoveTo(this.list,t,n)},moveAbove:function(t,n){return o.MoveAbove(this.list,t,n)},moveBelow:function(t,n){return o.MoveBelow(this.list,t,n)},remove:function(t,n){return n?o.Remove(this.list,t):o.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,n){return n?o.RemoveAt(this.list,t):o.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,n,h){return h?o.RemoveBetween(this.list,t,n):o.RemoveBetween(this.list,t,n,this.removeCallback,this)},removeAll:function(t){for(var n=this.list.length;n--;)this.remove(this.list[n],t);return this},bringToTop:function(t){return o.BringToTop(this.list,t)},sendToBack:function(t){return o.SendToBack(this.list,t)},moveUp:function(t){return o.MoveUp(this.list,t),t},moveDown:function(t){return o.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(t,n){return o.Replace(this.list,t,n)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,n,h,i){return o.SetAll(this.list,t,n,h,i),this},each:function(t,n){for(var h=[null],i=2;i<arguments.length;i++)h.push(arguments[i]);for(i=0;i<this.list.length;i++)h[0]=this.list[i],t.apply(n,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});c.exports=s},90330:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var s in r)a.push(r[s]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var s in r)a.push(r[s]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var s in r)if(a(s,r[s])===!1)break;return this},contains:function(a){var r=this.entries;for(var s in r)if(r[s]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var s=this.entries,t=a.entries;for(var n in t)s.hasOwnProperty(n)&&r?s[n]=t[n]:this.set(n,t[n]);return this}});c.exports=p},25774:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(82348),r=new o({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(s){return this._active.indexOf(s)>-1},isPending:function(s){return this._toProcess>0&&this._pending.indexOf(s)>-1},isDestroying:function(s){return this._destroy.indexOf(s)>-1},add:function(s){return this.checkQueue&&this.isActive(s)&&!this.isDestroying(s)||this.isPending(s)||(this._pending.push(s),this._toProcess++),s},remove:function(s){if(this.isPending(s)){var t=this._pending,n=t.indexOf(s);n!==-1&&t.splice(n,1)}else this.isActive(s)&&(this._destroy.push(s),this._toProcess++);return s},removeAll:function(){for(var s=this._active,t=this._destroy,n=s.length;n--;)t.push(s[n]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,t=this._active,n,h;for(n=0;n<s.length;n++){h=s[n];var i=t.indexOf(h);i!==-1&&(t.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,h))}for(s.length=0,s=this._pending,n=0;n<s.length;n++)h=s[n],(!this.checkQueue||this.checkQueue&&t.indexOf(h)===-1)&&(t.push(h),this.emit(a.PROCESS_QUEUE_ADD,h));return s.length=0,this._toProcess=0,t},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});c.exports=r},59542:(c,x,e)=>{var o=e(43886);function p(y){var T=[".left",".top",".right",".bottom"];if(!(this instanceof p))return new p(y,T);this._maxEntries=Math.max(4,y||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(y){var T=this.data,C=[],E=this.toBBox;if(!v(y,T))return C;for(var z=[],D,A,L,b;T;){for(D=0,A=T.children.length;D<A;D++)L=T.children[D],b=T.leaf?E(L):L,v(y,b)&&(T.leaf?C.push(L):f(y,b)?this._all(L,C):z.push(L));T=z.pop()}return C},collides:function(y){var T=this.data,C=this.toBBox;if(!v(y,T))return!1;for(var E=[],z,D,A,L;T;){for(z=0,D=T.children.length;z<D;z++)if(A=T.children[z],L=T.leaf?C(A):A,v(y,L)){if(T.leaf||f(y,L))return!0;E.push(A)}T=E.pop()}return!1},load:function(y){if(!(y&&y.length))return this;if(y.length<this._minEntries){for(var T=0,C=y.length;T<C;T++)this.insert(y[T]);return this}var E=this._build(y.slice(),0,y.length-1,0);if(!this.data.children.length)this.data=E;else if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var z=this.data;this.data=E,E=z}this._insert(E,this.data.height-E.height-1,!0)}return this},insert:function(y){return y&&this._insert(y,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(y,T){if(!y)return this;for(var C=this.data,E=this.toBBox(y),z=[],D=[],A,L,b,F;C||z.length;){if(C||(C=z.pop(),L=z[z.length-1],A=D.pop(),F=!0),C.leaf&&(b=a(y,C.children,T),b!==-1))return C.children.splice(b,1),z.push(C),this._condense(z),this;!F&&!C.leaf&&f(C,E)?(z.push(C),D.push(A),A=0,L=C,C=C.children[0]):L?(A++,C=L.children[A],F=!1):C=null}return this},toBBox:function(y){return y},compareMinX:n,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(y){return this.data=y,this},_all:function(y,T){for(var C=[];y;)y.leaf?T.push.apply(T,y.children):C.push.apply(C,y.children),y=C.pop();return T},_build:function(y,T,C,E){var z=C-T+1,D=this._maxEntries,A;if(z<=D)return A=m(y.slice(T,C+1)),r(A,this.toBBox),A;E||(E=Math.ceil(Math.log(z)/Math.log(D)),D=Math.ceil(z/Math.pow(D,E-1))),A=m([]),A.leaf=!1,A.height=E;var L=Math.ceil(z/D),b=L*Math.ceil(Math.sqrt(D)),F,V,B,N;for(g(y,T,C,b,this.compareMinX),F=T;F<=C;F+=b)for(B=Math.min(F+b-1,C),g(y,F,B,L,this.compareMinY),V=F;V<=B;V+=L)N=Math.min(V+L-1,B),A.children.push(this._build(y,V,N,E-1));return r(A,this.toBBox),A},_chooseSubtree:function(y,T,C,E){for(var z,D,A,L,b,F,V,B;E.push(T),!(T.leaf||E.length-1===C);){for(V=B=1/0,z=0,D=T.children.length;z<D;z++)A=T.children[z],b=i(A),F=u(y,A)-b,F<B?(B=F,V=b<V?b:V,L=A):F===B&&b<V&&(V=b,L=A);T=L||T.children[0]}return T},_insert:function(y,T,C){var E=this.toBBox,z=C?y:E(y),D=[],A=this._chooseSubtree(z,this.data,T,D);for(A.children.push(y),t(A,z);T>=0&&D[T].children.length>this._maxEntries;)this._split(D,T),T--;this._adjustParentBBoxes(z,D,T)},_split:function(y,T){var C=y[T],E=C.children.length,z=this._minEntries;this._chooseSplitAxis(C,z,E);var D=this._chooseSplitIndex(C,z,E),A=m(C.children.splice(D,C.children.length-D));A.height=C.height,A.leaf=C.leaf,r(C,this.toBBox),r(A,this.toBBox),T?y[T-1].children.push(A):this._splitRoot(C,A)},_splitRoot:function(y,T){this.data=m([y,T]),this.data.height=y.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(y,T,C){var E,z,D,A,L,b,F,V;for(b=F=1/0,E=T;E<=C-T;E++)z=s(y,0,E,this.toBBox),D=s(y,E,C,this.toBBox),A=d(z,D),L=i(z)+i(D),A<b?(b=A,V=E,F=L<F?L:F):A===b&&L<F&&(F=L,V=E);return V},_chooseSplitAxis:function(y,T,C){var E=y.leaf?this.compareMinX:n,z=y.leaf?this.compareMinY:h,D=this._allDistMargin(y,T,C,E),A=this._allDistMargin(y,T,C,z);D<A&&y.children.sort(E)},_allDistMargin:function(y,T,C,E){y.children.sort(E);var z=this.toBBox,D=s(y,0,T,z),A=s(y,C-T,C,z),L=l(D)+l(A),b,F;for(b=T;b<C-T;b++)F=y.children[b],t(D,y.leaf?z(F):F),L+=l(D);for(b=C-T-1;b>=T;b--)F=y.children[b],t(A,y.leaf?z(F):F),L+=l(A);return L},_adjustParentBBoxes:function(y,T,C){for(var E=C;E>=0;E--)t(T[E],y)},_condense:function(y){for(var T=y.length-1,C;T>=0;T--)y[T].children.length===0?T>0?(C=y[T-1].children,C.splice(C.indexOf(y[T]),1)):this.clear():r(y[T],this.toBBox)},compareMinX:function(y,T){return y.left-T.left},compareMinY:function(y,T){return y.top-T.top},toBBox:function(y){return{minX:y.left,minY:y.top,maxX:y.right,maxY:y.bottom}}};function a(y,T,C){if(!C)return T.indexOf(y);for(var E=0;E<T.length;E++)if(C(y,T[E]))return E;return-1}function r(y,T){s(y,0,y.children.length,T,y)}function s(y,T,C,E,z){z||(z=m(null)),z.minX=1/0,z.minY=1/0,z.maxX=-1/0,z.maxY=-1/0;for(var D=T,A;D<C;D++)A=y.children[D],t(z,y.leaf?E(A):A);return z}function t(y,T){return y.minX=Math.min(y.minX,T.minX),y.minY=Math.min(y.minY,T.minY),y.maxX=Math.max(y.maxX,T.maxX),y.maxY=Math.max(y.maxY,T.maxY),y}function n(y,T){return y.minX-T.minX}function h(y,T){return y.minY-T.minY}function i(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function l(y){return y.maxX-y.minX+(y.maxY-y.minY)}function u(y,T){return(Math.max(T.maxX,y.maxX)-Math.min(T.minX,y.minX))*(Math.max(T.maxY,y.maxY)-Math.min(T.minY,y.minY))}function d(y,T){var C=Math.max(y.minX,T.minX),E=Math.max(y.minY,T.minY),z=Math.min(y.maxX,T.maxX),D=Math.min(y.maxY,T.maxY);return Math.max(0,z-C)*Math.max(0,D-E)}function f(y,T){return y.minX<=T.minX&&y.minY<=T.minY&&T.maxX<=y.maxX&&T.maxY<=y.maxY}function v(y,T){return T.minX<=y.maxX&&T.minY<=y.maxY&&T.maxX>=y.minX&&T.maxY>=y.minY}function m(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(y,T,C,E,z){for(var D=[T,C],A;D.length;)C=D.pop(),T=D.pop(),!(C-T<=E)&&(A=T+Math.ceil((C-T)/E/2)*E,o(y,A,T,C,z),D.push(T,A,A,C))}c.exports=p},35072:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var s=0;s<r.length;s++)this.set(r[s])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var s=0;s<this.entries.length;s++){var t=this.entries[s];if(t[a]===r)return t}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var s,t=this.entries.slice(),n=t.length;if(r)for(s=0;s<n&&a.call(r,t[s],s)!==!1;s++);else for(s=0;s<n&&a(t[s],s)!==!1;s++);return this},iterate:function(a,r){var s,t=this.entries.length;if(r)for(s=0;s<t&&a.call(r,this.entries[s],s)!==!1;s++);else for(s=0;s<t&&a(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(a){var r,s=[];for(r=1;r<arguments.length;r++)s.push(arguments[r]);var t=this.entries.length;for(r=0;r<t;r++){var n=this.entries[r];n[a].apply(n,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new p;return a.entries.forEach(function(s){r.set(s)}),this.entries.forEach(function(s){r.set(s)}),r},intersect:function(a){var r=new p;return this.entries.forEach(function(s){a.contains(s)&&r.set(s)}),r},difference:function(a){var r=new p;return this.entries.forEach(function(s){a.contains(s)||r.set(s)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});c.exports=p},86555:(c,x,e)=>{var o=e(45319),p=e(83419),a=e(56583),r=e(26099),s=new p({initialize:function(n,h,i,l){n===void 0&&(n=0),h===void 0&&(h=n),i===void 0&&(i=0),l===void 0&&(l=null),this._width=n,this._height=h,this._parent=l,this.aspectMode=i,this.aspectRatio=h===0?1:n/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(t){return t===void 0&&(t=0),this.aspectMode=t,this.setSize(this._width,this._height)},setSnap:function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.snapTo.set(t,n),this.setSize(this._width,this._height)},setParent:function(t){return this._parent=t,this.setSize(this._width,this._height)},setMin:function(t,n){return t===void 0&&(t=0),n===void 0&&(n=t),this.minWidth=o(t,0,this.maxWidth),this.minHeight=o(n,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(t,n){return t===void 0&&(t=Number.MAX_VALUE),n===void 0&&(n=t),this.maxWidth=o(t,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(n,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(t,n){switch(t===void 0&&(t=0),n===void 0&&(n=t),this.aspectMode){case s.NONE:this._width=this.getNewWidth(a(t,this.snapTo.x)),this._height=this.getNewHeight(a(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(t,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(n,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(t,n,!0);break;case s.ENVELOP:this.constrain(t,n,!1);break}return this},setAspectRatio:function(t){return this.aspectRatio=t,this.setSize(this._width,this._height)},resize:function(t,n){return this._width=this.getNewWidth(a(t,this.snapTo.x)),this._height=this.getNewHeight(a(n,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(t,n){return n===void 0&&(n=!0),t=o(t,this.minWidth,this.maxWidth),n&&this._parent&&t>this._parent.width&&(t=Math.max(this.minWidth,this._parent.width)),t},getNewHeight:function(t,n){return n===void 0&&(n=!0),t=o(t,this.minHeight,this.maxHeight),n&&this._parent&&t>this._parent.height&&(t=Math.max(this.minHeight,this._parent.height)),t},constrain:function(t,n,h){t===void 0&&(t=0),n===void 0&&(n=t),h===void 0&&(h=!0),t=this.getNewWidth(t),n=this.getNewHeight(n);var i=this.snapTo,l=n===0?1:t/n;return h&&this.aspectRatio>l||!h&&this.aspectRatio<l?(t=a(t,i.x),n=t/this.aspectRatio,i.y>0&&(n=a(n,i.y),t=n*this.aspectRatio)):(h&&this.aspectRatio<l||!h&&this.aspectRatio>l)&&(n=a(n,i.y),t=n*this.aspectRatio,i.x>0&&(t=a(t,i.x),n=t*(1/this.aspectRatio))),this._width=t,this._height=n,this},fitTo:function(t,n){return this.constrain(t,n,!0)},envelop:function(t,n){return this.constrain(t,n,!1)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(t){t&&t.style&&(t.style.width=this._width+"px",t.style.height=this._height+"px")},copy:function(t){return t.setAspectMode(this.aspectMode),t.aspectRatio=this.aspectRatio,t.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,c.exports=s},15238:c=>{c.exports="add"},56187:c=>{c.exports="remove"},82348:(c,x,e)=>{c.exports={PROCESS_QUEUE_ADD:e(15238),PROCESS_QUEUE_REMOVE:e(56187)}},41392:(c,x,e)=>{c.exports={Events:e(82348),List:e(73162),Map:e(90330),ProcessQueue:e(25774),RTree:e(59542),Set:e(35072),Size:e(86555)}},57382:(c,x,e)=>{var o=e(83419),p=e(45319),a=e(40987),r=e(8054),s=e(50030),t=e(79237),n=new o({Extends:t,initialize:function(i,l,u,d,f){t.call(this,i,l,u,d,f),this.add("__BASE",0,0,0,d,f),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=f,this.imageData=this.context.getImageData(0,0,d,f),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(h,i,l,u){return u===void 0&&(u=!0),this.context.drawImage(l,h,i),u&&this.update(),this},drawFrame:function(h,i,l,u,d){l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=!0);var f=this.manager.getFrame(h,i);if(f){var v=f.canvasData,m=f.cutWidth,g=f.cutHeight,y=f.source.resolution;this.context.drawImage(f.source.image,v.x,v.y,m,g,l,u,m/y,g/y),d&&this.update()}return this},setPixel:function(h,i,l,u,d,f){f===void 0&&(f=255),h=Math.abs(Math.floor(h)),i=Math.abs(Math.floor(i));var v=this.getIndex(h,i);if(v>-1){var m=this.context.getImageData(h,i,1,1);m.data[0]=l,m.data[1]=u,m.data[2]=d,m.data[3]=f,this.context.putImageData(m,h,i)}return this},putData:function(h,i,l,u,d,f,v){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=h.width),v===void 0&&(v=h.height),this.context.putImageData(h,i,l,u,d,f,v),this},getData:function(h,i,l,u){h=p(Math.floor(h),0,this.width-1),i=p(Math.floor(i),0,this.height-1),l=p(l,1,this.width-h),u=p(u,1,this.height-i);var d=this.context.getImageData(h,i,l,u);return d},getPixel:function(h,i,l){l||(l=new a);var u=this.getIndex(h,i);if(u>-1){var d=this.data,f=d[u+0],v=d[u+1],m=d[u+2],g=d[u+3];l.setTo(f,v,m,g)}return l},getPixels:function(h,i,l,u){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=l),h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i));for(var d=p(h,0,this.width),f=p(h+l,0,this.width),v=p(i,0,this.height),m=p(i+u,0,this.height),g=new a,y=[],T=v;T<m;T++){for(var C=[],E=d;E<f;E++)g=this.getPixel(E,T,g),C.push({x:E,y:T,color:g.color,alpha:g.alphaGL});y.push(C)}return y},getIndex:function(h,i){return h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i)),h<this.width&&i<this.height?(h+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,i,l,u,d){return h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=this.height),d===void 0&&(d=!0),this.context.clearRect(h,i,l,u),d&&this.update(),this},setSize:function(h,i){return i===void 0&&(i=h),(h!==this.width||i!==this.height)&&(this.canvas.width=h,this.canvas.height=i,this._source.width=h,this._source.height=i,this._source.isPowerOf2=s(h,i),this.frames.__BASE.setSize(h,i,0,0),this.width=h,this.height=i,this.refresh()),this},destroy:function(){t.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});c.exports=n},81320:(c,x,e)=>{var o=e(10312),p=e(38058),a=e(27919),r=e(83419),s=e(8054),t=e(4327),n=e(95540),h=e(36060),i=e(32302),l=e(79237),u=e(70554),d=new r({Extends:l,initialize:function(v,m,g,y){g===void 0&&(g=256),y===void 0&&(y=256),this.type="DynamicTexture";var T=v.game.renderer,C=T&&T.type===s.CANVAS,E=C?a.create2D(this,g,y):[this];l.call(this,v,m,E,g,y),this.add("__BASE",0,0,0,g,y),this.renderer=T,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=C?E:null,this.context=C?E.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,g,y).setScene(v.game.scene.systemScene,!1),this.renderTarget=C?null:new i(T,g,y,1,0,!1,!1,!0,!1),this.pipeline=C?null:T.pipelines.get(h.SINGLE_PIPELINE),this.setSize(g,y)},setSize:function(f,v){v===void 0&&(v=f);var m=this.get(),g=m.source;if(f!==this.width||v!==this.height){this.canvas&&(this.canvas.width=f,this.canvas.height=v);var y=this.renderTarget;y&&(y.willResize(f,v)&&y.resize(f,v),y.texture!==g.glTexture&&this.renderer.deleteTexture(g.glTexture),this.setFromRenderTarget()),this.camera.setSize(f,v),g.width=f,g.height=v,m.setSize(f,v),this.width=f,this.height=v}else{var T=this.getSourceImage();m.cutX+f>T.width&&(f=T.width-m.cutX),m.cutY+v>T.height&&(v=T.height-m.cutY),m.setSize(f,v,m.cutX,m.cutY)}return this},setFromRenderTarget:function(){var f=this.get(),v=f.source,m=this.renderTarget;return v.isRenderTexture=!0,v.isGLTexture=!0,v.glTexture=m.texture,this},setIsSpriteTexture:function(f){return this.isSpriteTexture=f,this},fill:function(f,v,m,g,y,T){var C=this.camera,E=this.renderer;v===void 0&&(v=1),m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height);var z=f>>16&255,D=f>>8&255,A=f&255,L=this.renderTarget;if(C.preRender(),L){L.bind(!0);var b=this.pipeline.manager.set(this.pipeline),F=E.width/L.width,V=E.height/L.height,B=L.height-(g+T);b.drawFillRect(m*F,B*V,y*F,T*V,u.getTintFromFloats(A/255,D/255,z/255,1),v),L.unbind(!0)}else{var N=this.context;E.setContext(N),N.globalCompositeOperation="source-over",N.fillStyle="rgba("+z+","+D+","+A+","+v+")",N.fillRect(m,g,y,T),E.setContext()}return this.dirty=!0,this},clear:function(f,v,m,g){if(this.dirty){var y=this.context,T=this.renderTarget;T?T.clear(f,v,m,g):y&&(f!==void 0&&v!==void 0&&m!==void 0&&g!==void 0?y.clearRect(f,v,m,g):(y.save(),y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,this.width,this.height),y.restore())),this.dirty=!1}return this},stamp:function(f,v,m,g,y){m===void 0&&(m=0),g===void 0&&(g=0);var T=n(y,"alpha",1),C=n(y,"tint",16777215),E=n(y,"angle",0),z=n(y,"rotation",0),D=n(y,"scale",1),A=n(y,"scaleX",D),L=n(y,"scaleY",D),b=n(y,"originX",.5),F=n(y,"originY",.5),V=n(y,"blendMode",0),B=n(y,"erase",!1),N=n(y,"skipBatch",!1),U=this.manager.resetStamp(T,C);return U.setAngle(0),E!==0?U.setAngle(E):z!==0&&U.setRotation(z),U.setScale(A,L),U.setTexture(f,v),U.setOrigin(b,F),U.setBlendMode(V),B&&(this._eraseMode=!0),N?this.batchGameObject(U,m,g):this.draw(U,m,g),B&&(this._eraseMode=!1),this},erase:function(f,v,m){return this._eraseMode=!0,this.draw(f,v,m),this._eraseMode=!1,this},draw:function(f,v,m,g,y){return this.beginDraw(),this.batchDraw(f,v,m,g,y),this.endDraw(),this},drawFrame:function(f,v,m,g,y,T){return this.beginDraw(),this.batchDrawFrame(f,v,m,g,y,T),this.endDraw(),this},repeat:function(f,v,m,g,y,T,C,E,z){if(m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height),C===void 0&&(C=1),E===void 0&&(E=16777215),z===void 0&&(z=!1),f instanceof t?v=f:v=this.manager.getFrame(f,v),!v)return this;var D=this.manager.resetStamp(C,E);D.setFrame(v),D.setOrigin(0);var A=v.width,L=v.height;y=Math.floor(y),T=Math.floor(T);var b=Math.ceil(y/A),F=Math.ceil(T/L),V=b*A-y,B=F*L-T;V>0&&(V=A-V),B>0&&(B=L-B),m<0&&(b+=Math.ceil(Math.abs(m)/A)),g<0&&(F+=Math.ceil(Math.abs(g)/L));var N=m,U=g,I=!1,H=this.manager.stampCrop.setTo(0,0,A,L);z||this.beginDraw();for(var O=0;O<F;O++){if(U+L<0){U+=L;continue}for(var R=0;R<b;R++){if(I=!1,N+A<0){N+=A;continue}else N<0&&(I=!0,H.width=A+N,H.x=A-H.width);U<0&&(I=!0,H.height=L+U,H.y=L-H.height),V>0&&R===b-1&&(I=!0,H.width=V),B>0&&O===F-1&&(I=!0,H.height=B),I&&D.setCrop(H),this.batchGameObject(D,N,U),D.isCropped=!1,H.setTo(0,0,A,L),N+=A}N=m,U+=L}return z||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var f=this.camera,v=this.renderer,m=this.renderTarget;f.preRender(),m?v.beginCapture(m.width,m.height):v.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(f,v,m,g,y){return Array.isArray(f)||(f=[f]),this.batchList(f,v,m,g,y),this},batchDrawFrame:function(f,v,m,g,y,T){m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=1),T===void 0&&(T=16777215);var C=this.manager.getFrame(f,v);return C&&(this.renderTarget?this.pipeline.batchTextureFrame(C,m,g,T,y,this.camera.matrix,null):this.batchTextureFrame(C,m,g,y,T)),this},endDraw:function(f){if(f===void 0&&(f=this._eraseMode),this.isDrawing){var v=this.renderer,m=this.renderTarget;if(m){var g=v.endCapture(),y=v.pipelines.setUtility();y.blitFrame(g,m,1,!1,!1,f,this.isSpriteTexture),v.resetScissor(),v.resetViewport()}else v.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(f,v,m,g,y){var T=f.length;if(T!==0)for(var C=0;C<T;C++){var E=f[C];!E||E===this||(E.renderWebGL||E.renderCanvas?this.batchGameObject(E,v,m):E.isParent||E.list?this.batchGroup(E.getChildren(),v,m):typeof E=="string"?this.batchTextureFrameKey(E,null,v,m,g,y):E instanceof t?this.batchTextureFrame(E,v,m,g,y):Array.isArray(E)&&this.batchList(E,v,m,g,y))}},batchGroup:function(f,v,m){v===void 0&&(v=0),m===void 0&&(m=0);for(var g=0;g<f.length;g++){var y=f[g];y.willRender(this.camera)&&this.batchGameObject(y,y.x+v,y.y+m)}},batchGameObject:function(f,v,m){v===void 0&&(v=f.x),m===void 0&&(m=f.y);var g=f.x,y=f.y,T=this.camera,C=this.renderer,E=this._eraseMode,z=f.mask;if(f.setPosition(v,m),this.canvas){if(E){var D=f.blendMode;f.blendMode=o.ERASE}z&&z.preRenderCanvas(C,f,T),f.renderCanvas(C,f,T,null),z&&z.postRenderCanvas(C,f,T),E&&(f.blendMode=D)}else C&&(z&&z.preRenderWebGL(C,f,T),E||C.setBlendMode(f.blendMode),f.renderWebGL(C,f,T),z&&z.postRenderWebGL(C,T,this.renderTarget));f.setPosition(g,y)},batchTextureFrameKey:function(f,v,m,g,y,T){var C=this.manager.getFrame(f,v);C&&this.batchTextureFrame(C,m,g,y,T)},batchTextureFrame:function(f,v,m,g,y){v===void 0&&(v=0),m===void 0&&(m=0),g===void 0&&(g=1),y===void 0&&(y=16777215);var T=this.camera.matrix,C=this.renderTarget;if(C)this.pipeline.batchTextureFrame(f,v,m,y,g,T,null);else{var E=this.context,z=f.canvasData,D=f.source.image;E.save(),E.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",E.globalAlpha=g,T.setToContext(E),z.width>0&&z.height>0&&E.drawImage(D,z.x,z.y,z.width,z.height,v,m,z.width,z.height),E.restore()}},snapshotArea:function(f,v,m,g,y,T,C){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,f,v,m,g,T,C):this.renderer.snapshotCanvas(this.canvas,y,!1,f,v,m,g,T,C),this},snapshot:function(f,v,m){return this.snapshotArea(0,0,this.width,this.height,f,v,m)},snapshotPixel:function(f,v,m){return this.snapshotArea(f,v,1,1,m,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(f,v,m,g){var y=this.manager.resetStamp();y.setTexture(this),y.setOrigin(0),y.renderWebGL(f,y,m,g)},renderCanvas:function(){},destroy:function(){var f=this.manager.stamp;f&&f.texture===this&&this.manager.resetStamp(),l.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});c.exports=d},4327:(c,x,e)=>{var o=e(83419),p=e(45319),a=e(79291),r=new o({initialize:function(t,n,h,i,l,u,d){this.texture=t,this.name=n,this.source=t.source[h],this.sourceIndex=h,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,d,i,l)},setCutPosition:function(s,t){return s===void 0&&(s=0),t===void 0&&(t=0),this.cutX=s,this.cutY=t,this.updateUVs()},setCutSize:function(s,t){return this.cutWidth=s,this.cutHeight=t,this.updateUVs()},setSize:function(s,t,n,h){n===void 0&&(n=0),h===void 0&&(h=0),this.setCutPosition(n,h),this.setCutSize(s,t),this.width=s,this.height=t,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(t*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(t/2);var i=this.data,l=i.cut;l.x=n,l.y=h,l.w=s,l.h=t,l.r=n+s,l.b=h+t,i.sourceSize.w=s,i.sourceSize.h=t,i.spriteSourceSize.w=s,i.spriteSourceSize.h=t,i.radius=.5*Math.sqrt(s*s+t*t);var u=i.drawImage;return u.x=n,u.y=h,u.width=s,u.height=t,this.updateUVs()},setTrim:function(s,t,n,h,i,l){var u=this.data,d=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=s,u.sourceSize.h=t,d.x=n,d.y=h,d.w=i,d.h=l,d.r=n+i,d.b=h+l,this.x=n,this.y=h,this.width=i,this.height=l,this.halfWidth=i*.5,this.halfHeight=l*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(l/2),this.updateUVs()},setScale9:function(s,t,n,h){var i=this.data;return i.scale9=!0,i.is3Slice=t===0&&h===this.height,i.scale9Borders.x=s,i.scale9Borders.y=t,i.scale9Borders.w=n,i.scale9Borders.h=h,this},setCropUVs:function(s,t,n,h,i,l,u){var d=this.cutX,f=this.cutY,v=this.cutWidth,m=this.cutHeight,g=this.realWidth,y=this.realHeight;t=p(t,0,g),n=p(n,0,y),h=p(h,0,g-t),i=p(i,0,y-n);var T=d+t,C=f+n,E=h,z=i,D=this.data;if(D.trim){var A=D.spriteSourceSize;h=p(h,0,v-t),i=p(i,0,m-n);var L=t+h,b=n+i,F=!(A.r<t||A.b<n||A.x>L||A.y>b);if(F){var V=Math.max(A.x,t),B=Math.max(A.y,n),N=Math.min(A.r,L)-V,U=Math.min(A.b,b)-B;E=N,z=U,l?T=d+(v-(V-A.x)-N):T=d+(V-A.x),u?C=f+(m-(B-A.y)-U):C=f+(B-A.y),t=V,n=B,h=N,i=U}else T=0,C=0,E=0,z=0}else l&&(T=d+(v-t-h)),u&&(C=f+(m-n-i));var I=this.source.width,H=this.source.height;return s.u0=Math.max(0,T/I),s.v0=Math.max(0,C/H),s.u1=Math.min(1,(T+E)/I),s.v1=Math.min(1,(C+z)/H),s.x=t,s.y=n,s.cx=T,s.cy=C,s.cw=E,s.ch=z,s.width=h,s.height=i,s.flipX=l,s.flipY=u,s},updateCropUVs:function(s,t,n){return this.setCropUVs(s,s.x,s.y,s.width,s.height,t,n)},setUVs:function(s,t,n,h,i,l){var u=this.data.drawImage;return u.width=s,u.height=t,this.u0=n,this.v0=h,this.u1=i,this.v1=l,this},updateUVs:function(){var s=this.cutX,t=this.cutY,n=this.cutWidth,h=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=h;var l=this.source.width,u=this.source.height;return this.u0=s/l,this.v0=t/u,this.u1=(s+n)/l,this.v1=(t+h)/u,this},updateUVsInverted:function(){var s=this.source.width,t=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/t,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/t,this},clone:function(){var s=new r(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=a(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});c.exports=r},79237:(c,x,e)=>{var o=e(83419),p=e(4327),a=e(11876),r='Texture "%s" has no frame "%s"',s=new o({initialize:function(n,h,i,l,u){Array.isArray(i)||(i=[i]),this.manager=n,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<i.length;d++)this.source.push(new a(this,i[d],l,u))},add:function(t,n,h,i,l,u){if(this.has(t))return null;var d=new p(this,t,n,h,i,l,u);return this.frames[t]=d,this.firstFrame==="__BASE"&&(this.firstFrame=t),this.frameTotal++,d},remove:function(t){if(this.has(t)){var n=this.get(t);return n.destroy(),delete this.frames[t],!0}return!1},has:function(t){return this.frames.hasOwnProperty(t)},get:function(t){t||(t=this.firstFrame);var n=this.frames[t];return n||(console.warn(r,this.key,t),n=this.frames[this.firstFrame]),n},getTextureSourceIndex:function(t){for(var n=0;n<this.source.length;n++)if(this.source[n]===t)return n;return-1},getFramesFromTextureSource:function(t,n){n===void 0&&(n=!1);var h=[];for(var i in this.frames)if(!(i==="__BASE"&&!n)){var l=this.frames[i];l.sourceIndex===t&&h.push(l)}return h},getFrameBounds:function(t){t===void 0&&(t=0);for(var n=this.getFramesFromTextureSource(t,!0),h=n[0],i=h.cutX,l=h.cutY,u=h.cutX+h.cutWidth,d=h.cutY+h.cutHeight,f=1;f<n.length;f++){var v=n[f];v.cutX<i&&(i=v.cutX),v.cutY<l&&(l=v.cutY),v.cutX+v.cutWidth>u&&(u=v.cutX+v.cutWidth),v.cutY+v.cutHeight>d&&(d=v.cutY+v.cutHeight)}return{x:i,y:l,width:u-i,height:d-l}},getFrameNames:function(t){t===void 0&&(t=!1);var n=Object.keys(this.frames);if(!t){var h=n.indexOf("__BASE");h!==-1&&n.splice(h,1)}return n},getSourceImage:function(t){(t==null||this.frameTotal===1)&&(t="__BASE");var n=this.frames[t];return n?n.source.image:(console.warn(r,this.key,t),this.frames.__BASE.source.image)},getDataSourceImage:function(t){(t==null||this.frameTotal===1)&&(t="__BASE");var n=this.frames[t],h;return n?h=n.sourceIndex:(console.warn(r,this.key,t),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var h=this.source[n];this.dataSource.push(new a(this,t[n],h.width,h.height))}},setFilter:function(t){var n;for(n=0;n<this.source.length;n++)this.source[n].setFilter(t);for(n=0;n<this.dataSource.length;n++)this.dataSource[n].setFilter(t)},destroy:function(){var t,n=this.source,h=this.dataSource;for(t=0;t<n.length;t++)n[t]&&n[t].destroy();for(t=0;t<h.length;t++)h[t]&&h[t].destroy();for(var i in this.frames){var l=this.frames[i];l&&l.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});c.exports=s},17130:(c,x,e)=>{var o=e(27919),p=e(57382),a=e(83419),r=e(40987),s=e(8054),t=e(81320),n=e(50792),h=e(69442),i=e(4327),l=e(8443),u=e(99584),d=e(35154),f=e(88571),v=e(41212),m=e(61309),g=e(87841),y=e(79237),T=new a({Extends:n,initialize:function(E){n.call(this),this.game=E,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new g,this.silentWarnings=!1,E.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var C=this.game.config;C.defaultImage!==null&&this.addBase64("__DEFAULT",C.defaultImage),C.missingImage!==null&&this.addBase64("__MISSING",C.missingImage),C.whiteImage!==null&&this.addBase64("__WHITE",C.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(l.DESTROY,this.destroy,this),this.game.events.once(l.SYSTEM_READY,function(E){this.stamp=new f(E).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(C){return!C||typeof C!="string"||this.exists(C)?(this.silentWarnings||console.error("Texture key already in use: "+C),!1):!0},remove:function(C){if(typeof C=="string")if(this.exists(C))C=this.get(C);else return this.silentWarnings||console.warn("No texture found matching key: "+C),this;var E=C.key;return this.list.hasOwnProperty(E)&&(C.destroy(),this.emit(h.REMOVE,E),this.emit(h.REMOVE_KEY+E)),this},removeKey:function(C){return this.list.hasOwnProperty(C)&&delete this.list[C],this},addBase64:function(C,E){if(this.checkKey(C)){var z=this,D=new Image;D.onerror=function(){z.emit(h.ERROR,C)},D.onload=function(){var A=z.create(C,D);m.Image(A,0),z.emit(h.ADD,C,A),z.emit(h.ADD_KEY+C,A),z.emit(h.LOAD,C,A)},D.src=E}return this},getBase64:function(C,E,z,D){z===void 0&&(z="image/png"),D===void 0&&(D=.92);var A="",L=this.getFrame(C,E);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var b=L.canvasData,F=o.create2D(this,b.width,b.height),V=F.getContext("2d",{willReadFrequently:!0});b.width>0&&b.height>0&&V.drawImage(L.source.image,b.x,b.y,b.width,b.height,0,0,b.width,b.height),A=F.toDataURL(z,D),o.remove(F)}return A},addImage:function(C,E,z){var D=null;return this.checkKey(C)&&(D=this.create(C,E),m.Image(D,0),z&&D.setDataSource(z),this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)),D},addGLTexture:function(C,E){var z=null;if(this.checkKey(C)){var D=E.width,A=E.height;z=this.create(C,E,D,A),z.add("__BASE",0,0,0,D,A),this.emit(h.ADD,C,z),this.emit(h.ADD_KEY+C,z)}return z},addCompressedTexture:function(C,E,z){var D=null;if(this.checkKey(C)){if(D=this.create(C,E),D.add("__BASE",0,0,0,E.width,E.height),z){var A=function(b,F,V){Array.isArray(V.textures)||Array.isArray(V.frames)?m.JSONArray(b,F,V):m.JSONHash(b,F,V)};if(Array.isArray(z))for(var L=0;L<z.length;L++)A(D,L,z[L]);else A(D,0,z)}this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)}return D},addRenderTexture:function(C,E){var z=null;return this.checkKey(C)&&(z=this.create(C,E),z.add("__BASE",0,0,0,E.width,E.height),this.emit(h.ADD,C,z),this.emit(h.ADD_KEY+C,z)),z},generate:function(C,E){if(this.checkKey(C)){var z=o.create(this,1,1);return E.canvas=z,u(E),this.addCanvas(C,z)}else return null},createCanvas:function(C,E,z){if(E===void 0&&(E=256),z===void 0&&(z=256),this.checkKey(C)){var D=o.create(this,E,z,s.CANVAS,!0);return this.addCanvas(C,D)}return null},addCanvas:function(C,E,z){z===void 0&&(z=!1);var D=null;return z?D=new p(this,C,E,E.width,E.height):this.checkKey(C)&&(D=new p(this,C,E,E.width,E.height),this.list[C]=D,this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)),D},addDynamicTexture:function(C,E,z){var D=null;return typeof C=="string"&&!this.exists(C)?D=new t(this,C,E,z):(D=C,C=D.key),this.checkKey(C)?(this.list[C]=D,this.emit(h.ADD,C,D),this.emit(h.ADD_KEY+C,D)):D=null,D},addAtlas:function(C,E,z,D){return Array.isArray(z.textures)||Array.isArray(z.frames)?this.addAtlasJSONArray(C,E,z,D):this.addAtlasJSONHash(C,E,z,D)},addAtlasJSONArray:function(C,E,z,D){var A=null;if(E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A){if(Array.isArray(z))for(var L=z.length===1,b=0;b<A.source.length;b++){var F=L?z[0]:z[b];m.JSONArray(A,b,F)}else m.JSONArray(A,0,z);D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)}return A},addAtlasJSONHash:function(C,E,z,D){var A=null;if(E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A){if(Array.isArray(z))for(var L=0;L<z.length;L++)m.JSONHash(A,L,z[L]);else m.JSONHash(A,0,z);D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)}return A},addAtlasXML:function(C,E,z,D){var A=null;return E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A&&(m.AtlasXML(A,0,z),D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)),A},addUnityAtlas:function(C,E,z,D){var A=null;return E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A&&(m.UnityYAML(A,0,z),D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)),A},addSpriteSheet:function(C,E,z,D){var A=null;if(E instanceof y?(C=E.key,A=E):this.checkKey(C)&&(A=this.create(C,E)),A){var L=A.source[0].width,b=A.source[0].height;m.SpriteSheet(A,0,0,0,L,b,z),D&&A.setDataSource(D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A)}return A},addSpriteSheetFromAtlas:function(C,E){if(!this.checkKey(C))return null;var z=d(E,"atlas",null),D=d(E,"frame",null);if(!(!z||!D)){var A=this.get(z),L=A.get(D);if(L){var b=L.source.image;b||(b=L.source.glTexture);var F=this.create(C,b);return L.trimmed?m.SpriteSheetFromAtlas(F,L,E):m.SpriteSheet(F,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,E),this.emit(h.ADD,C,F),this.emit(h.ADD_KEY+C,F),F}}},addUint8Array:function(C,E,z,D){if(!this.checkKey(C)||E.length/4!==z*D)return null;var A=this.create(C,E,z,D);return A.add("__BASE",0,0,0,z,D),this.emit(h.ADD,C,A),this.emit(h.ADD_KEY+C,A),A},create:function(C,E,z,D){var A=null;return this.checkKey(C)&&(A=new y(this,C,E,z,D),this.list[C]=A),A},exists:function(C){return this.list.hasOwnProperty(C)},get:function(C){return C===void 0&&(C="__DEFAULT"),this.list[C]?this.list[C]:C instanceof y?C:C instanceof i?C.texture:this.list.__MISSING},cloneFrame:function(C,E){if(this.list[C])return this.list[C].get(E).clone()},getFrame:function(C,E){if(this.list[C])return this.list[C].get(E)},parseFrame:function(C){if(C){if(typeof C=="string")return this.getFrame(C);if(Array.isArray(C)&&C.length===2)return this.getFrame(C[0],C[1]);if(v(C))return this.getFrame(C.key,C.frame);if(C instanceof y)return C.get();if(C instanceof i)return C}else return},getTextureKeys:function(){var C=[];for(var E in this.list)E!=="__DEFAULT"&&E!=="__MISSING"&&E!=="__WHITE"&&E!=="__NORMAL"&&C.push(E);return C},getPixel:function(C,E,z,D){var A=this.getFrame(z,D);if(A){C-=A.x,E-=A.y;var L=A.data.cut;if(C+=L.x,E+=L.y,C>=L.x&&C<L.r&&E>=L.y&&E<L.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(A.source.image,C,E,1,1,0,0,1,1);var F=b.getImageData(0,0,1,1);return new r(F.data[0],F.data[1],F.data[2],F.data[3])}}return null},getPixelAlpha:function(C,E,z,D){var A=this.getFrame(z,D);if(A){C-=A.x,E-=A.y;var L=A.data.cut;if(C+=L.x,E+=L.y,C>=L.x&&C<L.r&&E>=L.y&&E<L.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(A.source.image,C,E,1,1,0,0,1,1);var F=b.getImageData(0,0,1,1);return F.data[3]}}return null},setTexture:function(C,E,z){return this.list[E]&&(C.texture=this.list[E],C.frame=C.texture.get(z)),C},renameTexture:function(C,E){var z=this.get(C);return z&&C!==E?(z.key=E,this.list[E]=z,delete this.list[C],!0):!1},each:function(C,E){for(var z=[null],D=1;D<arguments.length;D++)z.push(arguments[D]);for(var A in this.list)z[0]=this.list[A],C.apply(E,z)},resetStamp:function(C,E){C===void 0&&(C=1),E===void 0&&(E=16777215);var z=this.stamp;return z.setCrop(),z.setPosition(0),z.setAngle(0),z.setScale(1),z.setAlpha(C),z.setTint(E),z.setTexture("__WHITE"),z},destroy:function(){for(var C in this.list)this.list[C].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});c.exports=T},11876:(c,x,e)=>{var o=e(27919),p=e(83419),a=e(50030),r=e(29795),s=e(82751),t=new p({initialize:function(h,i,l,u,d){d===void 0&&(d=!1);var f=h.manager.game;this.renderer=f.renderer,this.texture=h,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=l||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof s,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(f)},init:function(n){var h=this.renderer;if(h){var i=this.source;if(h.gl){var l=this.image,u=this.flipY,d=this.width,f=this.height,v=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(l,!1,u):this.isVideo?this.glTexture=h.createVideoTexture(l,!1,u):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,d,f,v):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(i,void 0,void 0,v):i instanceof Uint8Array?this.glTexture=h.createUint8ArrayTexture(i,d,f,v):this.glTexture=h.createTextureFromSource(l,d,f,v)}else this.isRenderTexture&&(this.image=i.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),n===this.flipY?this:(this.flipY=n,this.update(),this)},update:function(){var n=this.renderer,h=this.image,i=this.flipY,l=n.gl;l&&this.isCanvas?n.updateCanvasTexture(h,this.glTexture,i):l&&this.isVideo&&n.updateVideoTexture(h,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});c.exports=t},19673:c=>{var x={LINEAR:0,NEAREST:1};c.exports=x},44538:c=>{c.exports="addtexture"},63486:c=>{c.exports="addtexture-"},94851:c=>{c.exports="onerror"},29099:c=>{c.exports="onload"},8678:c=>{c.exports="ready"},86415:c=>{c.exports="removetexture"},30879:c=>{c.exports="removetexture-"},69442:(c,x,e)=>{c.exports={ADD:e(44538),ADD_KEY:e(63486),ERROR:e(94851),LOAD:e(29099),READY:e(8678),REMOVE:e(86415),REMOVE_KEY:e(30879)}},27458:(c,x,e)=>{var o=e(79291),p=e(19673),a={CanvasTexture:e(57382),DynamicTexture:e(81320),Events:e(69442),FilterMode:p,Frame:e(4327),Parsers:e(61309),Texture:e(79237),TextureManager:e(17130),TextureSource:e(11876)};a=o(!1,a,p),c.exports=a},89905:c=>{var x=function(e,o,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=e.source[o];e.add("__BASE",o,0,0,a.width,a.height);for(var r=p.getElementsByTagName("SubTexture"),s,t=0;t<r.length;t++){var n=r[t].attributes,h=n.name.value,i=parseInt(n.x.value,10),l=parseInt(n.y.value,10),u=parseInt(n.width.value,10),d=parseInt(n.height.value,10);if(s=e.add(h,o,i,l,u,d),n.frameX){var f=Math.abs(parseInt(n.frameX.value,10)),v=Math.abs(parseInt(n.frameY.value,10)),m=parseInt(n.frameWidth.value,10),g=parseInt(n.frameHeight.value,10);s.setTrim(u,d,f,v,m,g)}}return e};c.exports=x},72893:c=>{var x=function(e,o){var p=e.source[o];return e.add("__BASE",o,0,0,p.width,p.height),e};c.exports=x},4832:c=>{var x=function(e,o){var p=e.source[o];return e.add("__BASE",o,0,0,p.width,p.height),e};c.exports=x},78566:(c,x,e)=>{var o=e(41786),p=function(a,r,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var t=a.source[r];a.add("__BASE",r,0,0,t.width,t.height);for(var n=Array.isArray(s.textures)?s.textures[r].frames:s.frames,h,i=0;i<n.length;i++){var l=n[i];if(h=a.add(l.filename,r,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+l.filename);continue}l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=l.anchor||l.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),h.customData=o(l)}for(var d in s)d!=="frames"&&(Array.isArray(s[d])?a.customData[d]=s[d].slice(0):a.customData[d]=s[d]);return a};c.exports=p},39711:(c,x,e)=>{var o=e(41786),p=function(a,r,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var t=a.source[r];a.add("__BASE",r,0,0,t.width,t.height);var n=s.frames,h;for(var i in n)if(n.hasOwnProperty(i)){var l=n[i];if(h=a.add(i,r,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+i);continue}l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=l.anchor||l.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),h.customData=o(l)}for(var d in s)d!=="frames"&&(Array.isArray(s[d])?a.customData[d]=s[d].slice(0):a.customData[d]=s[d]);return a};c.exports=p},31403:c=>{var x=function(e){var o=[171,75,84,88,32,49,49,187,13,10,26,10],p,a=new Uint8Array(e,0,12);for(p=0;p<a.length;p++)if(a[p]!==o[p]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,s=new DataView(e,12,13*r),t=s.getUint32(0,!0)===67305985,n=s.getUint32(1*r,t);if(n!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=s.getUint32(4*r,t),i=s.getUint32(6*r,t),l=s.getUint32(7*r,t),u=Math.max(1,s.getUint32(11*r,t)),d=s.getUint32(12*r,t),f=new Array(u),v=12+13*4+d,m=i,g=l;for(p=0;p<u;p++){var y=new Int32Array(e,v,1)[0];v+=4,f[p]={data:new Uint8Array(e,v,y),width:m,height:g},m=Math.max(1,m>>1),g=Math.max(1,g>>1),v+=y}return{mipmaps:f,width:i,height:l,internalFormat:h,compressed:!0,generateMipmap:!1}};c.exports=x},82038:c=>{function x(E,z,D,A,L,b,F){return F===void 0&&(F=16),Math.floor((E+D)/L)*Math.floor((z+A)/b)*F}function e(E,z){return E=Math.max(E,16),z=Math.max(z,8),E*z/4}function o(E,z){return E=Math.max(E,8),z=Math.max(z,8),E*z/2}function p(E,z){return Math.ceil(E/4)*Math.ceil(z/4)*16}function a(E,z){return x(E,z,3,3,4,4,8)}function r(E,z){return x(E,z,3,3,4,4)}function s(E,z){return x(E,z,4,3,5,4)}function t(E,z){return x(E,z,4,4,5,5)}function n(E,z){return x(E,z,5,4,6,5)}function h(E,z){return x(E,z,5,5,6,6)}function i(E,z){return x(E,z,7,4,8,5)}function l(E,z){return x(E,z,7,5,8,6)}function u(E,z){return x(E,z,7,7,8,8)}function d(E,z){return x(E,z,9,4,10,5)}function f(E,z){return x(E,z,9,5,10,6)}function v(E,z){return x(E,z,9,7,10,8)}function m(E,z){return x(E,z,9,9,10,10)}function g(E,z){return x(E,z,11,9,12,10)}function y(E,z){return x(E,z,11,11,12,12)}var T={0:{sizeFunc:e,glFormat:[35841]},1:{sizeFunc:e,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:s,glFormat:[37809,37841]},29:{sizeFunc:t,glFormat:[37810,37842]},30:{sizeFunc:n,glFormat:[37811,37843]},31:{sizeFunc:h,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:l,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:f,glFormat:[37817,37849]},37:{sizeFunc:v,glFormat:[37818,37850]},38:{sizeFunc:m,glFormat:[37819,37851]},39:{sizeFunc:g,glFormat:[37820,37852]},40:{sizeFunc:y,glFormat:[37821,37853]}},C=function(E){for(var z=new Uint32Array(E,0,13),D=z[0],A=D===55727696,L=A?z[2]:z[3],b=z[4],F=T[L].glFormat[b],V=T[L].sizeFunc,B=z[11],N=z[7],U=z[6],I=52+z[12],H=new Uint8Array(E,I),O=new Array(B),R=0,Y=N,G=U,k=0;k<B;k++){var W=V(Y,G);O[k]={data:new Uint8Array(H.buffer,H.byteOffset+R,W),width:Y,height:G},Y=Math.max(1,Y>>1),G=Math.max(1,G>>1),R+=W}return{mipmaps:O,width:N,height:U,internalFormat:F,compressed:!0,generateMipmap:!1}};c.exports=C},75549:(c,x,e)=>{var o=e(95540),p=function(a,r,s,t,n,h,i){var l=o(i,"frameWidth",null),u=o(i,"frameHeight",l);if(l===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=a.source[r];a.add("__BASE",r,0,0,d.width,d.height);var f=o(i,"startFrame",0),v=o(i,"endFrame",-1),m=o(i,"margin",0),g=o(i,"spacing",0),y=Math.floor((n-m+g)/(l+g)),T=Math.floor((h-m+g)/(u+g)),C=y*T;C===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(f>C||f<-C)&&(f=0),f<0&&(f=C+f),(v===-1||v>C||v<f)&&(v=C);for(var E=m,z=m,D=0,A=0,L=0,b=0;b<C;b++){D=0,A=0;var F=E+l,V=z+u;F>n&&(D=F-n),V>h&&(A=V-h),b>=f&&b<=v&&(a.add(L,r,s+E,t+z,l-D,u-A),L++),E+=l+g,E+l>n&&(E=m,z+=u+g)}return a};c.exports=p},47534:(c,x,e)=>{var o=e(95540),p=function(a,r,s){var t=o(s,"frameWidth",null),n=o(s,"frameHeight",t);if(!t)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=a.source[0];a.add("__BASE",0,0,0,h.width,h.height);var i=o(s,"startFrame",0),l=o(s,"endFrame",-1),u=o(s,"margin",0),d=o(s,"spacing",0),f=r.cutX,v=r.cutY,m=r.cutWidth,g=r.cutHeight,y=r.realWidth,T=r.realHeight,C=Math.floor((y-u+d)/(t+d)),E=Math.floor((T-u+d)/(n+d)),z=C*E,D=r.x,A=t-D,L=t-(y-m-D),b=r.y,F=n-b,V=n-(T-g-b);(i>z||i<-z)&&(i=0),i<0&&(i=z+i),l!==-1&&(z=i+(l+1));for(var B,N=u,U=u,I=0,H=0,O=0;O<E;O++){for(var R=O===0,Y=O===E-1,G=0;G<C;G++){var k=G===0,W=G===C-1;if(B=a.add(I,H,f+N,v+U,t,n),k||R||W||Y){var X=k?D:0,j=R?b:0,K=0,$=0;k&&(K+=t-A),W&&(K+=t-L),R&&($+=n-F),Y&&($+=n-V);var Z=t-K,J=n-$;B.cutWidth=Z,B.cutHeight=J,B.setTrim(t,n,X,j,Z,J)}N+=d,k?N+=A:W?N+=L:N+=t,I++}N=u,U+=d,R?U+=F:Y?U+=V:U+=n}return a};c.exports=p},86147:c=>{var x=0,e=function(p,a,r,s){var t=x-s.y-s.height;p.add(r,a,s.x,t,s.width,s.height)},o=function(p,a,r){var s=p.source[a];p.add("__BASE",a,0,0,s.width,s.height),x=s.height;for(var t=r.split(`
`),n=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",i="",l={x:0,y:0,width:0,height:0},u=0;u<t.length;u++){var d=t[u].match(n);if(d){var f=d[1]==="- ",v=d[2],m=d[3];if(f&&(i!==h&&(e(p,a,i,l),h=i),l={x:0,y:0,width:0,height:0}),v==="name"){i=m;continue}switch(v){case"x":case"y":case"width":case"height":l[v]=parseInt(m,10);break}}}return i!==h&&e(p,a,i,l),p};c.exports=o},55222:(c,x,e)=>{var o=e(50030),p=function(h){for(var i=h.mipmaps,l=1;l<i.length;l++){var u=i[l].width,d=i[l].height;if(!o(u,d))return console.warn("Mip level "+l+" is not a power-of-two size: "+u+"x"+d),!1}var f=n[h.internalFormat];return f?f(h):(console.warn("No format checker found for internal format "+h.internalFormat+". Assuming valid."),!0)};function a(h){for(var i=h.mipmaps,l=0;l<i.length;l++){var u=i[l].width,d=i[l].height;if((u<<l)%4!==0||(d<<l)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+l+" is "+u+"x"+d),!1}return!0}function r(){return!0}function s(h){var i=h.mipmaps,l=i[0];return o(l.width,l.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+l.width+"x"+l.height),!1)}function t(h){var i=h.mipmaps,l=i[0];return l.width%4!==0||l.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+l.width+"x"+l.height+" pixels"),!1):!0}var n={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:s,35841:s,35842:s,35843:s,33776:a,33777:a,33778:a,33779:a,35916:t,35917:t,35918:t,35919:t};c.exports=p},61309:(c,x,e)=>{c.exports={AtlasXML:e(89905),Canvas:e(72893),Image:e(4832),JSONArray:e(78566),JSONHash:e(39711),KTXParser:e(31403),PVRParser:e(82038),SpriteSheet:e(75549),SpriteSheetFromAtlas:e(47534),UnityYAML:e(86147)}},80341:c=>{c.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r,s,t,n,h,i,l){(t===void 0||t<=0)&&(t=32),(n===void 0||n<=0)&&(n=32),h===void 0&&(h=0),i===void 0&&(i=0),this.name=r,this.firstgid=s|0,this.imageWidth=t|0,this.imageHeight=n|0,this.imageMargin=h|0,this.imageSpacing=i|0,this.properties=l||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r){return this.images.push({gid:a,image:r}),this.total++,this}});c.exports=p},27462:(c,x,e)=>{var o=e(83419),p=new o({initialize:function(r){if(this.gids=[],r!==void 0)for(var s=0;s<r.length;++s)for(var t=r[s],n=0;n<t.total;++n)this.gids[t.firstgid+n]=t;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(r){var s=r.getTileData(a.gid);if(s)return s.type}}},setTextureAndFrame:function(a,r,s,t){if(r===null&&this.gids&&t.gid!==void 0){var n=this.gids[t.gid];n&&(r===null&&n.image!==void 0&&(r=n.image.key),s===null&&(s=t.gid-n.firstgid),a.scene.textures.getFrame(r,s)||(r=null,s=null))}a.setTexture(r,s)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var s=this.gids[r.gid];s!==void 0&&this.setFromJSON(a,s.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(r){if(Array.isArray(r)){for(var s=0;s<r.length;s++){var t=r[s];a[t.name]!==void 0?a[t.name]=t.value:a.setData(t.name,t.value)}return}for(var n in r)a[n]!==void 0?a[n]=r[n]:a.setData(n,r[n])}}});c.exports=p},31989:(c,x,e)=>{var o=e(80341),p=e(87010),a=e(46177),r=e(49075),s=function(t,n,h,i,l,u,d,f){h===void 0&&(h=32),i===void 0&&(i=32),l===void 0&&(l=10),u===void 0&&(u=10),f===void 0&&(f=!1);var v=null;if(Array.isArray(d)){var m=n!==void 0?n:"map";v=a(m,o.ARRAY_2D,d,h,i,f)}else if(n!==void 0){var g=t.cache.tilemap.get(n);g?v=a(n,g.format,g.data,h,i,f):console.warn("No map data found for key "+n)}return v===null&&(v=new p({tileWidth:h,tileHeight:i,width:l,height:u})),new r(t,v)};c.exports=s},23029:(c,x,e)=>{var o=e(83419),p=e(31401),a=e(91907),r=e(62644),s=e(93232),t=new o({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(h,i,l,u,d,f,v,m){this.layer=h,this.index=i,this.x=l,this.y=u,this.width=d,this.height=f,this.right,this.bottom,this.baseWidth=v!==void 0?v:d,this.baseHeight=m!==void 0?m:f,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(n,h){return!(n<this.pixelX||h<this.pixelY||n>this.right||h>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=r(n.properties),this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,n);return i.x}return this.x*this.baseWidth},getRight:function(n){var h=this.tilemapLayer;return h?this.getLeft(n)+this.width*h.scaleX:this.getLeft(n)+this.width},getTop:function(n){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,n);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(n){var h=this.tilemapLayer;return h?this.getTop(n)+this.height*h.scaleY:this.getTop(n)+this.height},getBounds:function(n,h){return h===void 0&&(h=new s),h.x=this.getLeft(n),h.y=this.getTop(n),h.width=this.getRight(n)-h.x,h.height=this.getBottom(n)-h.y,h},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,h,i,l){return!(i<=this.pixelX||l<=this.pixelY||n>=this.right||h>=this.bottom)},isInteresting:function(n,h){return n&&h?this.canCollide||this.hasInterestingFace:n?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,h,i,l,u){if(h===void 0&&(h=n),i===void 0&&(i=n),l===void 0&&(l=n),u===void 0&&(u=!0),this.collideLeft=n,this.collideRight=h,this.collideUp=i,this.collideDown=l,this.faceLeft=n,this.faceRight=h,this.faceTop=i,this.faceBottom=l,u){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,h){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=h),this},setSize:function(n,h,i,l){return n!==void 0&&(this.width=n),h!==void 0&&(this.height=h),i!==void 0&&(this.baseWidth=i),l!==void 0&&(this.baseHeight=l),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===a.HEXAGONAL){var h=this.layer.staggerAxis,i=this.layer.staggerIndex,l=this.layer.hexSideLength,u,d;h==="y"?(d=(this.baseHeight-l)/2+l,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):h==="x"&&(u=(this.baseWidth-l)/2+l,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var h=n.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});c.exports=t},49075:(c,x,e)=>{var o=e(84101),p=e(83419),a=e(39506),r=e(80341),s=e(95540),t=e(14977),n=e(27462),h=e(91907),i=e(36305),l=e(19133),u=e(68287),d=e(23029),f=e(81086),v=e(20442),m=e(33629),g=new p({initialize:function(T,C){this.scene=T,this.tileWidth=C.tileWidth,this.tileHeight=C.tileHeight,this.width=C.width,this.height=C.height,this.orientation=C.orientation,this.renderOrder=C.renderOrder,this.format=C.format,this.version=C.version,this.properties=C.properties,this.widthInPixels=C.widthInPixels,this.heightInPixels=C.heightInPixels,this.imageCollections=C.imageCollections,this.images=C.images,this.layers=C.layers,this.tiles=C.tiles,this.tilesets=C.tilesets,this.objects=C.objects,this.currentLayerIndex=0,this.hexSideLength=C.hexSideLength;var E=this.orientation;this._convert={WorldToTileXY:f.GetWorldToTileXYFunction(E),WorldToTileX:f.GetWorldToTileXFunction(E),WorldToTileY:f.GetWorldToTileYFunction(E),TileToWorldXY:f.GetTileToWorldXYFunction(E),TileToWorldX:f.GetTileToWorldXFunction(E),TileToWorldY:f.GetTileToWorldYFunction(E),GetTileCorners:f.GetTileCornersFunction(E)}},setRenderOrder:function(y){var T=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=T[y]),T.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,T,C,E,z,D,A,L){if(y===void 0)return null;T==null&&(T=y);var b=this.scene.sys.textures;if(!b.exists(T))return console.warn('Texture key "%s" not found',T),null;var F=b.get(T),V=this.getTilesetIndex(y);if(V===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',y,this.tilesets),null;var B=this.tilesets[V];return B?((C||E)&&B.setTileSize(C,E),(z||D)&&B.setSpacing(z,D),B.setImage(F),B):(C===void 0&&(C=this.tileWidth),E===void 0&&(E=this.tileHeight),z===void 0&&(z=0),D===void 0&&(D=0),A===void 0&&(A=0),L===void 0&&(L={x:0,y:0}),B=new m(y,A,C,E,z,D,void 0,void 0,L),B.setImage(F),this.tilesets.push(B),this.tiles=o(this),B)},copy:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L!==null?(f.Copy(y,T,C,E,z,D,A,L),this):null},createBlankLayer:function(y,T,C,E,z,D,A,L){C===void 0&&(C=0),E===void 0&&(E=0),z===void 0&&(z=this.width),D===void 0&&(D=this.height),A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight);var b=this.getLayerIndex(y);if(b!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var F=new t({name:y,tileWidth:A,tileHeight:L,width:z,height:D,orientation:this.orientation}),V,B=0;B<D;B++){V=[];for(var N=0;N<z;N++)V.push(new d(F,-1,N,B,A,L,this.tileWidth,this.tileHeight));F.data.push(V)}this.layers.push(F),this.currentLayerIndex=this.layers.length-1;var U=new v(this.scene,this,this.currentLayerIndex,T,C,E);return U.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(U),U},createLayer:function(y,T,C,E){var z=this.getLayerIndex(y);if(z===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var D=this.layers[z];if(D.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=z,C===void 0&&(C=D.x),E===void 0&&(E=D.y);var A=new v(this.scene,this,z,T,C,E);return A.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(A),A},createFromObjects:function(y,T,C){C===void 0&&(C=!0);var E=[],z=this.getObjectLayer(y);if(!z)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),E;var D=new n(C?this.tilesets:void 0);Array.isArray(T)||(T=[T]);for(var A=z.objects,L=0;L<T.length;L++){var b=T[L],F=s(b,"id",null),V=s(b,"gid",null),B=s(b,"name",null),N=s(b,"type",null);D.enabled=!s(b,"ignoreTileset",null);for(var U,I=[],H=0;H<A.length;H++)U=A[H],(F===null&&V===null&&B===null&&N===null||F!==null&&U.id===F||V!==null&&U.gid===V||B!==null&&U.name===B||N!==null&&D.getTypeIncludingTile(U)===N)&&I.push(U);for(var O=s(b,"classType",u),R=s(b,"scene",this.scene),Y=s(b,"container",null),G=s(b,"key",null),k=s(b,"frame",null),W=0;W<I.length;W++){U=I[W];var X=new O(R);if(X.setName(U.name),X.setPosition(U.x,U.y),D.setTextureAndFrame(X,G,k,U),U.width&&(X.displayWidth=U.width),U.height&&(X.displayHeight=U.height),this.orientation===h.ISOMETRIC){var j=this.tileWidth/this.tileHeight,K={x:X.x-X.y,y:(X.x+X.y)/j};X.x=K.x,X.y=K.y}var $={x:X.originX*U.width,y:(X.originY-(U.gid?1:0))*U.height};if(U.rotation){var Z=a(U.rotation);i($,Z),X.rotation=Z}X.x+=$.x,X.y+=$.y,(U.flippedHorizontal!==void 0||U.flippedVertical!==void 0)&&X.setFlip(U.flippedHorizontal,U.flippedVertical),U.visible||(X.visible=!1),D.setPropertiesFromTiledObject(X,U),Y?Y.add(X):R.add.existing(X),E.push(X)}}return E},createFromTiles:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:f.CreateFromTiles(y,T,C,E,z,D)},fill:function(y,T,C,E,z,D,A){return D===void 0&&(D=!0),A=this.getLayer(A),A===null?null:(f.Fill(y,T,C,E,z,D,A),this)},filterObjects:function(y,T,C){if(typeof y=="string"){var E=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+E),null}return y.objects.filter(T,C)},filterTiles:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L===null?null:f.FilterTiles(y,T,C,E,z,D,A,L)},findByIndex:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.FindByIndex(y,T,C,E)},findObject:function(y,T,C){if(typeof y=="string"){var E=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+E),null}return y.objects.find(T,C)||null},findTile:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L===null?null:f.FindTile(y,T,C,E,z,D,A,L)},forEachTile:function(y,T,C,E,z,D,A,L){return L=this.getLayer(L),L===null?null:(f.ForEachTile(y,T,C,E,z,D,A,L),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,T){for(var C=0;C<y.length;C++)if(y[C].name===T)return C;return null},getLayer:function(y){var T=this.getLayerIndex(y);return T!==null?this.layers[T]:null},getObjectLayer:function(y){var T=this.getIndex(this.objects,y);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof v&&y.tilemap===this?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.GetTileAt(y,T,C,E)},getTileAtWorldXY:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:f.GetTileAtWorldXY(y,T,C,E,z)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:f.GetTilesWithin(y,T,C,E,z,D)},getTilesWithinShape:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.GetTilesWithinShape(y,T,C,E)},getTilesWithinWorldXY:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:f.GetTilesWithinWorldXY(y,T,C,E,z,D,A)},getTileset:function(y){var T=this.getIndex(this.tilesets,y);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,T,C){return C=this.getLayer(C),C===null?null:f.HasTileAt(y,T,C)},hasTileAtWorldXY:function(y,T,C,E){return E=this.getLayer(E),E===null?null:f.HasTileAtWorldXY(y,T,C,E)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,T,C,E,z){return E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:f.PutTileAt(y,T,C,E,z)},putTileAtWorldXY:function(y,T,C,E,z,D){return E===void 0&&(E=!0),D=this.getLayer(D),D===null?null:f.PutTileAtWorldXY(y,T,C,E,z,D)},putTilesAt:function(y,T,C,E,z){return E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:(f.PutTilesAt(y,T,C,E,z),this)},randomize:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:(f.Randomize(y,T,C,E,z,D),this)},calculateFacesAt:function(y,T,C){return C=this.getLayer(C),C===null?null:(f.CalculateFacesAt(y,T,C),this)},calculateFacesWithin:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:(f.CalculateFacesWithin(y,T,C,E,z),this)},removeLayer:function(y){var T=this.getLayerIndex(y);if(T!==null){l(this.layers,T);for(var C=T;C<this.layers.length;C++)this.layers[C].tilemapLayer&&this.layers[C].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var T=this.getLayerIndex(y);return T!==null?(y=this.layers[T],y.tilemapLayer.destroy(),l(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,T=0;T<y.length;T++)y[T].tilemapLayer&&y[T].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,T,C){T===void 0&&(T=-1),C===void 0&&(C=!0);var E=[];Array.isArray(y)||(y=[y]);for(var z=0;z<y.length;z++){var D=y[z];E.push(this.removeTileAt(D.x,D.y,!0,C,D.tilemapLayer)),T>-1&&this.putTileAt(T,D.x,D.y,C,D.tilemapLayer)}return E},removeTileAt:function(y,T,C,E,z){return C===void 0&&(C=!0),E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:f.RemoveTileAt(y,T,C,E,z)},removeTileAtWorldXY:function(y,T,C,E,z,D){return C===void 0&&(C=!0),E===void 0&&(E=!0),D=this.getLayer(D),D===null?null:f.RemoveTileAtWorldXY(y,T,C,E,z,D)},renderDebug:function(y,T,C){return C=this.getLayer(C),C===null?null:(this.orientation===h.ORTHOGONAL&&f.RenderDebug(y,T,C),this)},renderDebugFull:function(y,T){for(var C=this.layers,E=0;E<C.length;E++)f.RenderDebug(y,T,C[E]);return this},replaceByIndex:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:(f.ReplaceByIndex(y,T,C,E,z,D,A),this)},setCollision:function(y,T,C,E,z){return T===void 0&&(T=!0),C===void 0&&(C=!0),z===void 0&&(z=!0),E=this.getLayer(E),E===null?null:(f.SetCollision(y,T,C,E,z),this)},setCollisionBetween:function(y,T,C,E,z){return C===void 0&&(C=!0),E===void 0&&(E=!0),z=this.getLayer(z),z===null?null:(f.SetCollisionBetween(y,T,C,E,z),this)},setCollisionByProperty:function(y,T,C,E){return T===void 0&&(T=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(f.SetCollisionByProperty(y,T,C,E),this)},setCollisionByExclusion:function(y,T,C,E){return T===void 0&&(T=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(f.SetCollisionByExclusion(y,T,C,E),this)},setCollisionFromCollisionGroup:function(y,T,C){return y===void 0&&(y=!0),T===void 0&&(T=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionFromCollisionGroup(y,T,C),this)},setTileIndexCallback:function(y,T,C,E){return E=this.getLayer(E),E===null?null:(f.SetTileIndexCallback(y,T,C,E),this)},setTileLocationCallback:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:(f.SetTileLocationCallback(y,T,C,E,z,D,A),this)},setLayer:function(y){var T=this.getLayerIndex(y);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(y,T){this.tileWidth=y,this.tileHeight=T,this.widthInPixels=this.width*y,this.heightInPixels=this.height*T;for(var C=0;C<this.layers.length;C++){this.layers[C].baseTileWidth=y,this.layers[C].baseTileHeight=T;for(var E=this.layers[C].data,z=this.layers[C].width,D=this.layers[C].height,A=0;A<D;A++)for(var L=0;L<z;L++){var b=E[A][L];b!==null&&b.setSize(void 0,void 0,y,T)}}return this},setLayerTileSize:function(y,T,C){if(C=this.getLayer(C),C===null)return this;C.tileWidth=y,C.tileHeight=T;for(var E=C.data,z=C.width,D=C.height,A=0;A<D;A++)for(var L=0;L<z;L++){var b=E[A][L];b!==null&&b.setSize(y,T)}return this},shuffle:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:(f.Shuffle(y,T,C,E,z),this)},swapByIndex:function(y,T,C,E,z,D,A){return A=this.getLayer(A),A===null?null:(f.SwapByIndex(y,T,C,E,z,D,A),this)},tileToWorldX:function(y,T,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldX(y,T,C)},tileToWorldY:function(y,T,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldY(y,T,C)},tileToWorldXY:function(y,T,C,E,z){return z=this.getLayer(z),z===null?null:this._convert.TileToWorldXY(y,T,C,E,z)},getTileCorners:function(y,T,C,E){return E=this.getLayer(E),E===null?null:this._convert.GetTileCorners(y,T,C,E)},weightedRandomize:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:(f.WeightedRandomize(T,C,E,z,y,D),this)},worldToTileX:function(y,T,C,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileX(y,T,C,E)},worldToTileY:function(y,T,C,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileY(y,T,C,E)},worldToTileXY:function(y,T,C,E,z,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileXY(y,T,C,E,z,D)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});c.exports=g},45939:(c,x,e)=>{var o=e(44603),p=e(31989);o.register("tilemap",function(a){var r=a!==void 0?a:{};return p(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(c,x,e)=>{var o=e(39429),p=e(31989);o.register("tilemap",function(a,r,s,t,n,h,i){return a===null&&(a=void 0),r===null&&(r=void 0),s===null&&(s=void 0),t===null&&(t=void 0),n===null&&(n=void 0),p(this.scene,a,r,s,t,n,h,i)})},20442:(c,x,e)=>{var o=e(83419),p=e(78389),a=e(31401),r=e(95643),s=e(81086),t=e(19218),n=e(26099),h=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,p,t],initialize:function(l,u,d,f,v,m){r.call(this,l,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=d,this.layer=u.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=s.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new n,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(f),this.setAlpha(this.layer.alpha),this.setPosition(v,m),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var l=[],u=[],d=this.tilemap;Array.isArray(i)||(i=[i]);for(var f=0;f<i.length;f++){var v=i[f];if(typeof v=="string"&&(v=d.getTileset(v)),v){u.push(v);for(var m=v.firstgid,g=0;g<v.total;g++)l[m+g]=v}}this.gidMap=l,this.tileset=u},setRenderOrder:function(i){var l=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=l.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,l){return s.CalculateFacesAt(i,l,this.layer),this},calculateFacesWithin:function(i,l,u,d){return s.CalculateFacesWithin(i,l,u,d,this.layer),this},createFromTiles:function(i,l,u,d,f){return s.CreateFromTiles(i,l,u,d,f,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,l,u,d,f,v,m){return s.Copy(i,l,u,d,f,v,m,this.layer),this},fill:function(i,l,u,d,f,v){return s.Fill(i,l,u,d,f,v,this.layer),this},filterTiles:function(i,l,u,d,f,v,m){return s.FilterTiles(i,l,u,d,f,v,m,this.layer)},findByIndex:function(i,l,u){return s.FindByIndex(i,l,u,this.layer)},findTile:function(i,l,u,d,f,v,m){return s.FindTile(i,l,u,d,f,v,m,this.layer)},forEachTile:function(i,l,u,d,f,v,m){return s.ForEachTile(i,l,u,d,f,v,m,this.layer),this},setTint:function(i,l,u,d,f,v){i===void 0&&(i=16777215);var m=function(g){g.tint=i,g.tintFill=!1};return this.forEachTile(m,this,l,u,d,f,v)},setTintFill:function(i,l,u,d,f,v){i===void 0&&(i=16777215);var m=function(g){g.tint=i,g.tintFill=!0};return this.forEachTile(m,this,l,u,d,f,v)},getTileAt:function(i,l,u){return s.GetTileAt(i,l,u,this.layer)},getTileAtWorldXY:function(i,l,u,d){return s.GetTileAtWorldXY(i,l,u,d,this.layer)},getIsoTileAtWorldXY:function(i,l,u,d,f){u===void 0&&(u=!0);var v=this.tempVec;return s.IsometricWorldToTileXY(i,l,!0,v,f,this.layer,u),this.getTileAt(v.x,v.y,d)},getTilesWithin:function(i,l,u,d,f){return s.GetTilesWithin(i,l,u,d,f,this.layer)},getTilesWithinShape:function(i,l,u){return s.GetTilesWithinShape(i,l,u,this.layer)},getTilesWithinWorldXY:function(i,l,u,d,f,v){return s.GetTilesWithinWorldXY(i,l,u,d,f,v,this.layer)},hasTileAt:function(i,l){return s.HasTileAt(i,l,this.layer)},hasTileAtWorldXY:function(i,l,u){return s.HasTileAtWorldXY(i,l,u,this.layer)},putTileAt:function(i,l,u,d){return s.PutTileAt(i,l,u,d,this.layer)},putTileAtWorldXY:function(i,l,u,d,f){return s.PutTileAtWorldXY(i,l,u,d,f,this.layer)},putTilesAt:function(i,l,u,d){return s.PutTilesAt(i,l,u,d,this.layer),this},randomize:function(i,l,u,d,f){return s.Randomize(i,l,u,d,f,this.layer),this},removeTileAt:function(i,l,u,d){return s.RemoveTileAt(i,l,u,d,this.layer)},removeTileAtWorldXY:function(i,l,u,d,f){return s.RemoveTileAtWorldXY(i,l,u,d,f,this.layer)},renderDebug:function(i,l){return s.RenderDebug(i,l,this.layer),this},replaceByIndex:function(i,l,u,d,f,v){return s.ReplaceByIndex(i,l,u,d,f,v,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=1),this.cullPaddingX=i,this.cullPaddingY=l,this},setCollision:function(i,l,u,d){return s.SetCollision(i,l,u,this.layer,d),this},setCollisionBetween:function(i,l,u,d){return s.SetCollisionBetween(i,l,u,d,this.layer),this},setCollisionByProperty:function(i,l,u){return s.SetCollisionByProperty(i,l,u,this.layer),this},setCollisionByExclusion:function(i,l,u){return s.SetCollisionByExclusion(i,l,u,this.layer),this},setCollisionFromCollisionGroup:function(i,l){return s.SetCollisionFromCollisionGroup(i,l,this.layer),this},setTileIndexCallback:function(i,l,u){return s.SetTileIndexCallback(i,l,u,this.layer),this},setTileLocationCallback:function(i,l,u,d,f,v){return s.SetTileLocationCallback(i,l,u,d,f,v,this.layer),this},shuffle:function(i,l,u,d){return s.Shuffle(i,l,u,d,this.layer),this},swapByIndex:function(i,l,u,d,f,v){return s.SwapByIndex(i,l,u,d,f,v,this.layer),this},tileToWorldX:function(i,l){return this.tilemap.tileToWorldX(i,l,this)},tileToWorldY:function(i,l){return this.tilemap.tileToWorldY(i,l,this)},tileToWorldXY:function(i,l,u,d){return this.tilemap.tileToWorldXY(i,l,u,d,this)},getTileCorners:function(i,l,u){return this.tilemap.getTileCorners(i,l,u,this)},weightedRandomize:function(i,l,u,d,f){return s.WeightedRandomize(l,u,d,f,i,this.layer),this},worldToTileX:function(i,l,u){return this.tilemap.worldToTileX(i,l,u,this)},worldToTileY:function(i,l,u){return this.tilemap.worldToTileY(i,l,u,this)},worldToTileXY:function(i,l,u,d,f){return this.tilemap.worldToTileXY(i,l,u,d,f,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});c.exports=h},16153:(c,x,e)=>{var o=e(61340),p=new o,a=new o,r=new o,s=function(t,n,h,i){var l=n.cull(h),u=l.length,d=h.alpha*n.alpha;if(!(u===0||d<=0)){var f=p,v=a,m=r;v.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),f.copyFrom(h.matrix);var g=t.currentContext,y=n.gidMap;g.save(),i?(f.multiplyWithOffset(i,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),v.e=n.x,v.f=n.y,f.multiply(v,m),m.copyToContext(g)):(v.e-=h.scrollX*n.scrollFactorX,v.f-=h.scrollY*n.scrollFactorY,v.copyToContext(g)),(!t.antialias||n.scaleX>1||n.scaleY>1)&&(g.imageSmoothingEnabled=!1);for(var T=0;T<u;T++){var C=l[T],E=y[C.index];if(E){var z=E.image.getSourceImage(),D=E.getTileTextureCoordinates(C.index),A=E.tileWidth,L=E.tileHeight;if(!(D===null||A===0||L===0)){var b=A*.5,F=L*.5;D.x+=E.tileOffset.x,D.y+=E.tileOffset.y,g.save(),g.translate(C.pixelX+b,C.pixelY+F),C.rotation!==0&&g.rotate(C.rotation),(C.flipX||C.flipY)&&g.scale(C.flipX?-1:1,C.flipY?-1:1),g.globalAlpha=d*C.alpha,g.drawImage(z,D.x,D.y,A,L,-b,-F,A,L),g.restore()}}}g.restore()}};c.exports=s},19218:(c,x,e)=>{var o=e(29747),p=o,a=o;p=e(99558),a=e(16153),c.exports={renderWebGL:p,renderCanvas:a}},99558:(c,x,e)=>{var o=e(70554),p=function(a,r,s){var t=r.cull(s),n=t.length,h=s.alpha*r.alpha;if(!(n===0||h<=0)){var i=r.gidMap,l=a.pipelines.set(r.pipeline,r),u=o.getTintAppendFloatAlpha,d=r.scrollFactorX,f=r.scrollFactorY,v=r.x,m=r.y,g=r.scaleX,y=r.scaleY;a.pipelines.preBatch(r);for(var T=0;T<n;T++){var C=t[T],E=i[C.index];if(E){var z=E.getTileTextureCoordinates(C.index),D=E.tileWidth,A=E.tileHeight;if(!(!z||D===0||A===0)){var L=D*.5,b=A*.5,F=E.glTexture,V=l.setTexture2D(F,r),B=D,N=A,U=z.x,I=z.y,H=E.tileOffset.x,O=E.tileOffset.y,R=u(C.tint,h*C.alpha);l.batchTexture(r,F,F.width,F.height,v+C.pixelX*g+(L*g-H),m+C.pixelY*y+(b*y-O),D,A,g,y,C.rotation,C.flipX,C.flipY,d,f,L,b,U,I,B,N,R,R,R,R,C.tintFill,0,0,s,null,!0,V,!0)}}}a.pipelines.postBatch(r)}};c.exports=p},33629:(c,x,e)=>{var o=e(83419),p=e(26099),a=new o({initialize:function(s,t,n,h,i,l,u,d,f){(n===void 0||n<=0)&&(n=32),(h===void 0||h<=0)&&(h=32),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u={}),d===void 0&&(d={}),this.name=s,this.firstgid=t,this.tileWidth=n,this.tileHeight=h,this.tileMargin=i,this.tileSpacing=l,this.tileProperties=u,this.tileData=d,this.tileOffset=new p,f!==void 0&&this.tileOffset.set(f.x,f.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var s=this.getTileData(r);return s&&s.objectgroup?s.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var s=r.get(),t=r.getFrameBounds();return this.glTexture=s.source.glTexture,s.width>t.width||s.height>t.height?this.updateTileData(s.width,s.height):this.updateTileData(t.width,t.height,t.x,t.y),this},setTileSize:function(r,s){return r!==void 0&&(this.tileWidth=r),s!==void 0&&(this.tileHeight=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,s){return r!==void 0&&(this.tileMargin=r),s!==void 0&&(this.tileSpacing=s),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,s,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var h=(s-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),i=Math.floor(i),this.rows=h,this.columns=i,this.total=h*i,this.texCoordinates.length=0;for(var l=this.tileMargin+t,u=this.tileMargin+n,d=0;d<this.rows;d++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:l,y:u}),l+=this.tileWidth+this.tileSpacing;l=this.tileMargin+t,u+=this.tileHeight+this.tileSpacing}return this}});c.exports=a},72023:(c,x,e)=>{var o=e(7423),p=function(a,r,s){var t=o(a,r,!0,s),n=o(a,r-1,!0,s),h=o(a,r+1,!0,s),i=o(a-1,r,!0,s),l=o(a+1,r,!0,s),u=t&&t.collides;return u&&(t.faceTop=!0,t.faceBottom=!0,t.faceLeft=!0,t.faceRight=!0),n&&n.collides&&(u&&(t.faceTop=!1),n.faceBottom=!u),h&&h.collides&&(u&&(t.faceBottom=!1),h.faceTop=!u),i&&i.collides&&(u&&(t.faceLeft=!1),i.faceRight=!u),l&&l.collides&&(u&&(t.faceRight=!1),l.faceLeft=!u),t&&!t.collides&&t.resetFaces(),t};c.exports=p},42573:(c,x,e)=>{var o=e(7423),p=e(7386),a=function(r,s,t,n,h){for(var i=null,l=null,u=null,d=null,f=p(r,s,t,n,null,h),v=0;v<f.length;v++){var m=f[v];m&&(m.collides?(i=o(m.x,m.y-1,!0,h),l=o(m.x,m.y+1,!0,h),u=o(m.x-1,m.y,!0,h),d=o(m.x+1,m.y,!0,h),m.faceTop=!(i&&i.collides),m.faceBottom=!(l&&l.collides),m.faceLeft=!(u&&u.collides),m.faceRight=!(d&&d.collides)):m.resetFaces())}};c.exports=a},33528:(c,x,e)=>{var o=e(26099),p=new o,a=function(r,s,t,n){var h=t.tilemapLayer,i=h.cullPaddingX,l=h.cullPaddingY,u=h.tilemap.tileToWorldXY(r,s,p,n,h);return u.x>n.worldView.x+h.scaleX*t.tileWidth*(-i-.5)&&u.x<n.worldView.right+h.scaleX*t.tileWidth*(i-.5)&&u.y>n.worldView.y+h.scaleY*t.tileHeight*(-l-1)&&u.y<n.worldView.bottom+h.scaleY*t.tileHeight*(l-.5)};c.exports=a},1785:(c,x,e)=>{var o=e(42573),p=e(7386),a=e(62991),r=e(23029),s=function(t,n,h,i,l,u,d,f){d===void 0&&(d=!0);var v=p(t,n,h,i,null,f),m=[];v.forEach(function(D){var A=new r(D.layer,D.index,D.x,D.y,D.width,D.height,D.baseWidth,D.baseHeight);A.copy(D),m.push(A)});for(var g=l-t,y=u-n,T=0;T<m.length;T++){var C=m[T],E=C.x+g,z=C.y+y;a(E,z,f)&&f.data[z][E]&&(C.x=E,C.y=z,C.updatePixelXY(),f.data[z][E]=C)}d&&o(l-1,u-1,h+2,i+2,f),v.length=0,m.length=0};c.exports=s},78419:(c,x,e)=>{var o=e(62644),p=e(7386),a=e(27987),r=function(s,t,n,h,i,l){n||(n={}),Array.isArray(s)||(s=[s]);var u=l.tilemapLayer;h||(h=u.scene),i||(i=h.cameras.main);var d=l.width,f=l.height,v=p(0,0,d,f,null,l),m=[],g,y=function(z,D,A){for(var L=0;L<A.length;L++){var b=A[L];z.hasOwnProperty(b)||(z[b]=D[b])}};for(g=0;g<v.length;g++){var T=v[g],C=o(n);if(s.indexOf(T.index)!==-1){var E=u.tileToWorldXY(T.x,T.y,void 0,i,l);C.x=E.x,C.y=E.y,y(C,T,["rotation","flipX","flipY","alpha","visible","tint"]),C.hasOwnProperty("origin")||(C.x+=T.width*.5,C.y+=T.height*.5),C.hasOwnProperty("useSpriteSheet")&&(C.key=T.tileset.image,C.frame=T.index-1),m.push(h.make.sprite(C))}}if(Array.isArray(t))for(g=0;g<s.length;g++)a(s[g],t[g],0,0,d,f,l);else if(t!==null)for(g=0;g<s.length;g++)a(s[g],t,0,0,d,f,l);return m};c.exports=r},19545:(c,x,e)=>{var o=e(87841),p=e(63448),a=e(56583),r=new o,s=function(t,n){var h=t.tilemapLayer.tilemap,i=t.tilemapLayer,l=Math.floor(h.tileWidth*i.scaleX),u=Math.floor(h.tileHeight*i.scaleY),d=a(n.worldView.x-i.x,l,0,!0)-i.cullPaddingX,f=p(n.worldView.right-i.x,l,0,!0)+i.cullPaddingX,v=a(n.worldView.y-i.y,u,0,!0)-i.cullPaddingY,m=p(n.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return r.setTo(d,v,f-d,m-v)};c.exports=s},30003:(c,x,e)=>{var o=e(19545),p=e(32483),a=function(r,s,t,n){t===void 0&&(t=[]),n===void 0&&(n=0),t.length=0;var h=r.tilemapLayer,i=o(r,s);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),p(r,i,n,t),t};c.exports=a},35137:(c,x,e)=>{var o=e(7386),p=e(42573),a=e(20576),r=function(s,t,n,h,i,l,u){for(var d=u.collideIndexes.indexOf(s)!==-1,f=o(t,n,h,i,null,u),v=0;v<f.length;v++)f[v].index=s,a(f[v],d);l&&p(t-1,n-1,h+2,i+2,u)};c.exports=r},40253:(c,x,e)=>{var o=e(7386),p=function(a,r,s,t,n,h,i,l){var u=o(s,t,n,h,i,l);return u.filter(a,r)};c.exports=p},52692:c=>{var x=function(e,o,p,a){o===void 0&&(o=0),p===void 0&&(p=!1);var r=0,s,t,n;if(p){for(t=a.height-1;t>=0;t--)for(s=a.width-1;s>=0;s--)if(n=a.data[t][s],n&&n.index===e){if(r===o)return n;r+=1}}else for(t=0;t<a.height;t++)for(s=0;s<a.width;s++)if(n=a.data[t][s],n&&n.index===e){if(r===o)return n;r+=1}return null};c.exports=x},66151:(c,x,e)=>{var o=e(7386),p=function(a,r,s,t,n,h,i,l){var u=o(s,t,n,h,i,l);return u.find(a,r)||null};c.exports=p},97560:(c,x,e)=>{var o=e(7386),p=function(a,r,s,t,n,h,i,l){var u=o(s,t,n,h,i,l);u.forEach(a,r)};c.exports=p},43305:(c,x,e)=>{var o=e(91907),p=e(30003),a=e(9474),r=e(14018),s=e(29747),t=e(54503),n=function(h){return h===o.ORTHOGONAL?p:h===o.HEXAGONAL?a:h===o.STAGGERED?t:h===o.ISOMETRIC?r:s};c.exports=n},7423:(c,x,e)=>{var o=e(62991),p=function(a,r,s,t){if(o(a,r,t)){var n=t.data[r][a]||null;return n?n.index===-1?s?n:null:n:null}else return null};c.exports=p},60540:(c,x,e)=>{var o=e(7423),p=e(26099),a=new p,r=function(s,t,n,h,i){return i.tilemapLayer.worldToTileXY(s,t,!0,a,h),o(a.x,a.y,n,i)};c.exports=r},55826:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t){var n=t.baseTileWidth,h=t.baseTileHeight,i=t.tilemapLayer,l=0,u=0;i&&(s||(s=i.scene.cameras.main),l=i.x+s.scrollX*(1-i.scrollFactorX),u=i.y+s.scrollY*(1-i.scrollFactorY),n*=i.scaleX,h*=i.scaleY);var d=l+a*n,f=u+r*h;return[new o(d,f),new o(d+n,f),new o(d+n,f+h),new o(d,f+h)]};c.exports=p},11758:(c,x,e)=>{var o=e(91907),p=e(27229),a=e(29747),r=e(55826),s=function(t){return t===o.ORTHOGONAL?r:t===o.ISOMETRIC?a:t===o.HEXAGONAL?p:(t===o.STAGGERED,a)};c.exports=s},39167:(c,x,e)=>{var o=e(91907),p=e(29747),a=e(97281),r=function(s){return s===o.ORTHOGONAL?a:p};c.exports=r},62e3:(c,x,e)=>{var o=e(91907),p=e(19951),a=e(14127),r=e(29747),s=e(97202),t=e(70326),n=function(h){return h===o.ORTHOGONAL?t:h===o.ISOMETRIC?a:h===o.HEXAGONAL?p:h===o.STAGGERED?s:r};c.exports=n},5984:(c,x,e)=>{var o=e(91907),p=e(29747),a=e(28054),r=e(29650),s=function(t){return t===o.ORTHOGONAL?r:t===o.STAGGERED?a:p};c.exports=s},7386:(c,x,e)=>{var o=e(95540),p=function(a,r,s,t,n,h){a===void 0&&(a=0),r===void 0&&(r=0),s===void 0&&(s=h.width),t===void 0&&(t=h.height),n||(n={});var i=o(n,"isNotEmpty",!1),l=o(n,"isColliding",!1),u=o(n,"hasInterestingFace",!1);a<0&&(s+=a,a=0),r<0&&(t+=r,r=0),a+s>h.width&&(s=Math.max(h.width-a,0)),r+t>h.height&&(t=Math.max(h.height-r,0));for(var d=[],f=r;f<r+t;f++)for(var v=a;v<a+s;v++){var m=h.data[f][v];if(m!==null){if(i&&m.index===-1||l&&!m.collides||u&&!m.hasInterestingFace)continue;d.push(m)}}return d};c.exports=p},91141:(c,x,e)=>{var o=e(55738),p=e(7386),a=e(91865),r=e(29747),s=e(26099),t=function(u,d){return a.RectangleToTriangle(d,u)},n=new s,h=new s,i=new s,l=function(u,d,f,v){if(u===void 0)return[];var m=r;u instanceof o.Circle?m=a.CircleToRectangle:u instanceof o.Rectangle?m=a.RectangleToRectangle:u instanceof o.Triangle?m=t:u instanceof o.Line&&(m=a.LineToRectangle),v.tilemapLayer.worldToTileXY(u.left,u.top,!0,h,f);var g=h.x,y=h.y;v.tilemapLayer.worldToTileXY(u.right,u.bottom,!1,i,f);var T=Math.ceil(i.x),C=Math.ceil(i.y),E=Math.max(T-g,1),z=Math.max(C-y,1),D=p(g,y,E,z,d,v),A=v.tileWidth,L=v.tileHeight;v.tilemapLayer&&(A*=v.tilemapLayer.scaleX,L*=v.tilemapLayer.scaleY);for(var b=[],F=new o.Rectangle(0,0,A,L),V=0;V<D.length;V++){var B=D[V];v.tilemapLayer.tileToWorldXY(B.x,B.y,n,f),F.x=n.x,F.y=n.y,m(u,F)&&b.push(B)}return b};c.exports=l},96523:(c,x,e)=>{var o=e(7386),p=e(26099),a=new p,r=new p,s=function(t,n,h,i,l,u,d){var f=d.tilemapLayer.tilemap._convert.WorldToTileXY;f(t,n,!0,a,u,d);var v=a.x,m=a.y;f(t+h,n+i,!1,r,u,d);var g=Math.ceil(r.x),y=Math.ceil(r.y);return o(v,m,g-v,y-m,l,d)};c.exports=s},96113:(c,x,e)=>{var o=e(91907),p=e(20242),a=e(10095),r=function(s){return s===o.ORTHOGONAL?a:p};c.exports=r},16926:(c,x,e)=>{var o=e(91907),p=e(86625),a=e(96897),r=e(29747),s=e(15108),t=e(85896),n=function(h){return h===o.ORTHOGONAL?t:h===o.ISOMETRIC?a:h===o.HEXAGONAL?p:h===o.STAGGERED?s:r};c.exports=n},55762:(c,x,e)=>{var o=e(91907),p=e(20242),a=e(51900),r=e(63288),s=function(t){return t===o.ORTHOGONAL?r:t===o.STAGGERED?a:p};c.exports=s},45091:(c,x,e)=>{var o=e(62991),p=function(a,r,s){if(o(a,r,s)){var t=s.data[r][a];return t!==null&&t.index>-1}else return!1};c.exports=p},24152:(c,x,e)=>{var o=e(45091),p=e(26099),a=new p,r=function(s,t,n,h){h.tilemapLayer.worldToTileXY(s,t,!0,a,n);var i=a.x,l=a.y;return o(i,l,h)};c.exports=r},90454:(c,x,e)=>{var o=e(63448),p=e(56583),a=function(r,s){var t=r.tilemapLayer.tilemap,n=r.tilemapLayer,h=Math.floor(t.tileWidth*n.scaleX),i=Math.floor(t.tileHeight*n.scaleY),l=r.hexSideLength,u,d,f,v;if(r.staggerAxis==="y"){var m=(i-l)/2+l;u=p(s.worldView.x-n.x,h,0,!0)-n.cullPaddingX,d=o(s.worldView.right-n.x,h,0,!0)+n.cullPaddingX,f=p(s.worldView.y-n.y,m,0,!0)-n.cullPaddingY,v=o(s.worldView.bottom-n.y,m,0,!0)+n.cullPaddingY}else{var g=(h-l)/2+l;u=p(s.worldView.x-n.x,g,0,!0)-n.cullPaddingX,d=o(s.worldView.right-n.x,g,0,!0)+n.cullPaddingX,f=p(s.worldView.y-n.y,i,0,!0)-n.cullPaddingY,v=o(s.worldView.bottom-n.y,i,0,!0)+n.cullPaddingY}return{left:u,right:d,top:f,bottom:v}};c.exports=a},9474:(c,x,e)=>{var o=e(90454),p=e(32483),a=function(r,s,t,n){t===void 0&&(t=[]),n===void 0&&(n=0),t.length=0;var h=r.tilemapLayer,i=o(r,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),p(r,i,n,t),t};c.exports=a},27229:(c,x,e)=>{var o=e(19951),p=e(26099),a=new p,r=function(s,t,n,h){var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(i*=u.scaleX,l*=u.scaleY);var d=o(s,t,a,n,h),f=[],v=.5773502691896257,m,g;h.staggerAxis==="y"?(m=v*i,g=l/2):(m=i/2,g=v*l);for(var y=0;y<6;y++){var T=2*Math.PI*(.5-y)/6;f.push(new p(d.x+m*Math.cos(T),d.y+g*Math.sin(T)))}return f};c.exports=r},19951:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n){s||(s=new o);var h=n.baseTileWidth,i=n.baseTileHeight,l=n.tilemapLayer,u=0,d=0;l&&(t||(t=l.scene.cameras.main),u=l.x+t.scrollX*(1-l.scrollFactorX),d=l.y+t.scrollY*(1-l.scrollFactorY),h*=l.scaleX,i*=l.scaleY);var f=h/2,v=i/2,m,g,y=n.staggerAxis,T=n.staggerIndex;return y==="y"?(m=u+h*a+h,g=d+1.5*r*v+v,r%2===0&&(T==="odd"?m-=f:m+=f)):y==="x"&&T==="odd"&&(m=u+1.5*a*f+f,g=d+i*a+i,a%2===0&&(T==="odd"?g-=v:g+=v)),s.set(m,g)};c.exports=p},86625:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n,h){t||(t=new o);var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(n||(n=u.scene.cameras.main),a=a-(u.x+n.scrollX*(1-u.scrollFactorX)),r=r-(u.y+n.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var d=.5773502691896257,f=-.3333333333333333,v=0,m=.6666666666666666,g=i/2,y=l/2,T,C,E,z,D;h.staggerAxis==="y"?(T=(a-g)/(d*i),C=(r-y)/y,E=d*T+f*C,z=v*T+m*C):(T=(a-g)/g,C=(r-y)/(d*l),E=f*T+d*C,z=m*T+v*C),D=-E-z;var A=Math.round(E),L=Math.round(z),b=Math.round(D),F=Math.abs(A-E),V=Math.abs(L-z),B=Math.abs(b-D);F>V&&F>B?A=-L-b:V>B&&(L=-A-b);var N,U=L;return h.staggerIndex==="odd"?N=U%2===0?L/2+A:L/2+A-.5:N=U%2===0?L/2+A:L/2+A+.5,t.set(N,U)};c.exports=p},62991:c=>{var x=function(e,o,p){return e>=0&&e<p.width&&o>=0&&o<p.height};c.exports=x},14018:(c,x,e)=>{var o=e(33528),p=function(a,r,s,t){s===void 0&&(s=[]),t===void 0&&(t=0),s.length=0;var n=a.tilemapLayer,h=a.data,i=a.width,l=a.height,u=n.skipCull,d=0,f=i,v=0,m=l,g,y,T;if(t===0)for(y=v;y<m;y++)for(g=d;g<f;g++)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!o(g,y,a,r)||s.push(T));else if(t===1)for(y=v;y<m;y++)for(g=f;g>=d;g--)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!o(g,y,a,r)||s.push(T));else if(t===2)for(y=m;y>=v;y--)for(g=d;g<f;g++)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!o(g,y,a,r)||s.push(T));else if(t===3)for(y=m;y>=v;y--)for(g=f;g>=d;g--)T=h[y][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&(!u&&!o(g,y,a,r)||s.push(T));return n.tilesDrawn=s.length,n.tilesTotal=i*l,s};c.exports=p},14127:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n){s||(s=new o);var h=n.baseTileWidth,i=n.baseTileHeight,l=n.tilemapLayer,u=0,d=0;l&&(t||(t=l.scene.cameras.main),u=l.x+t.scrollX*(1-l.scrollFactorX),h*=l.scaleX,d=l.y+t.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var f=u+(a-r)*(h/2),v=d+(a+r)*(i/2);return s.set(f,v)};c.exports=p},96897:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n,h,i){t||(t=new o);var l=h.baseTileWidth,u=h.baseTileHeight,d=h.tilemapLayer;d&&(n||(n=d.scene.cameras.main),r=r-(d.y+n.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,a=a-(d.x+n.scrollX*(1-d.scrollFactorX)),l*=d.scaleX);var f=l/2,v=u/2;a=a-f,i||(r=r-u);var m=.5*(a/f+r/v),g=.5*(-a/f+r/v);return s&&(m=Math.floor(m),g=Math.floor(g)),t.set(m,g)};c.exports=p},71558:(c,x,e)=>{var o=e(23029),p=e(62991),a=e(72023),r=e(20576),s=function(t,n,h,i,l){if(i===void 0&&(i=!0),!p(n,h,l))return null;var u,d=l.data[h][n],f=d&&d.collides;t instanceof o?(l.data[h][n]===null&&(l.data[h][n]=new o(l,t.index,n,h,l.tileWidth,l.tileHeight)),l.data[h][n].copy(t)):(u=t,l.data[h][n]===null?l.data[h][n]=new o(l,u,n,h,l.tileWidth,l.tileHeight):l.data[h][n].index=u);var v=l.data[h][n],m=l.collideIndexes.indexOf(v.index)!==-1;if(u=t instanceof o?t.index:t,u===-1)v.width=l.tileWidth,v.height=l.tileHeight;else{var g=l.tilemapLayer.tilemap,y=g.tiles,T=y[u][2],C=g.tilesets[T];v.width=C.tileWidth,v.height=C.tileHeight}return r(v,m),i&&f!==v.collides&&a(n,h,l),v};c.exports=s},26303:(c,x,e)=>{var o=e(71558),p=e(26099),a=new p,r=function(s,t,n,h,i,l){return l.tilemapLayer.worldToTileXY(t,n,!0,a,i,l),o(s,a.x,a.y,h,l)};c.exports=r},14051:(c,x,e)=>{var o=e(42573),p=e(71558),a=function(r,s,t,n,h){if(n===void 0&&(n=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,l=r[0].length,u=0;u<i;u++)for(var d=0;d<l;d++){var f=r[u][d];p(f,s+d,t+u,!1,h)}n&&o(s-1,t-1,l+2,i+2,h)};c.exports=a},77389:(c,x,e)=>{var o=e(7386),p=e(26546),a=function(r,s,t,n,h,i){var l,u=o(r,s,t,n,{},i);if(!h)for(h=[],l=0;l<u.length;l++)h.indexOf(u[l].index)===-1&&h.push(u[l].index);for(l=0;l<u.length;l++)u[l].index=p(h)};c.exports=a},63557:(c,x,e)=>{var o=e(23029),p=e(62991),a=e(72023),r=function(s,t,n,h,i){if(n===void 0&&(n=!0),h===void 0&&(h=!0),!p(s,t,i))return null;var l=i.data[t][s];if(l)i.data[t][s]=n?null:new o(i,-1,s,t,i.tileWidth,i.tileHeight);else return null;return h&&l&&l.collides&&a(s,t,i),l};c.exports=r},94178:(c,x,e)=>{var o=e(63557),p=e(26099),a=new p,r=function(s,t,n,h,i,l){return l.tilemapLayer.worldToTileXY(s,t,!0,a,i,l),o(a.x,a.y,n,h,l)};c.exports=r},15533:(c,x,e)=>{var o=e(7386),p=e(3956),a=new p(105,210,231,150),r=new p(243,134,48,200),s=new p(40,39,37,150),t=function(n,h,i){h===void 0&&(h={});var l=h.tileColor!==void 0?h.tileColor:a,u=h.collidingTileColor!==void 0?h.collidingTileColor:r,d=h.faceColor!==void 0?h.faceColor:s,f=o(0,0,i.width,i.height,null,i);n.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),n.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var v=0;v<f.length;v++){var m=f[v],g=m.width,y=m.height,T=m.pixelX,C=m.pixelY,E=m.collides?u:l;E!==null&&(n.fillStyle(E.color,E.alpha/255),n.fillRect(T,C,g,y)),T+=1,C+=1,g-=2,y-=2,d!==null&&(n.lineStyle(1,d.color,d.alpha/255),m.faceTop&&n.lineBetween(T,C,T+g,C),m.faceRight&&n.lineBetween(T+g,C,T+g,C+y),m.faceBottom&&n.lineBetween(T,C+y,T+g,C+y),m.faceLeft&&n.lineBetween(T,C,T,C+y))}};c.exports=t},27987:(c,x,e)=>{var o=e(7386),p=function(a,r,s,t,n,h,i){for(var l=o(s,t,n,h,null,i),u=0;u<l.length;u++)l[u]&&l[u].index===a&&(l[u].index=r)};c.exports=p},32483:c=>{var x=function(e,o,p,a){var r=e.data,s=e.width,t=e.height,n=e.tilemapLayer,h=Math.max(0,o.left),i=Math.min(s,o.right),l=Math.max(0,o.top),u=Math.min(t,o.bottom),d,f,v;if(p===0)for(f=l;f<u;f++)for(d=h;r[f]&&d<i;d++)v=r[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(p===1)for(f=l;f<u;f++)for(d=i;r[f]&&d>=h;d--)v=r[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(p===2)for(f=u;f>=l;f--)for(d=h;r[f]&&d<i;d++)v=r[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);else if(p===3)for(f=u;f>=l;f--)for(d=i;r[f]&&d>=h;d--)v=r[f][d],!(!v||v.index===-1||!v.visible||v.alpha===0)&&a.push(v);return n.tilesDrawn=a.length,n.tilesTotal=s*t,a};c.exports=x},57068:(c,x,e)=>{var o=e(20576),p=e(42573),a=e(9589),r=function(s,t,n,h,i){t===void 0&&(t=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),Array.isArray(s)||(s=[s]);for(var l=0;l<s.length;l++)a(s[l],t,h);if(i)for(var u=0;u<h.height;u++)for(var d=0;d<h.width;d++){var f=h.data[u][d];f&&s.indexOf(f.index)!==-1&&o(f,t)}n&&p(0,0,h.width,h.height,h)};c.exports=r},37266:(c,x,e)=>{var o=e(20576),p=e(42573),a=e(9589),r=function(s,t,n,h,i,l){if(n===void 0&&(n=!0),h===void 0&&(h=!0),l===void 0&&(l=!0),!(s>t)){for(var u=s;u<=t;u++)a(u,n,i);if(l)for(var d=0;d<i.height;d++)for(var f=0;f<i.width;f++){var v=i.data[d][f];v&&v.index>=s&&v.index<=t&&o(v,n)}h&&p(0,0,i.width,i.height,i)}};c.exports=r},75661:(c,x,e)=>{var o=e(20576),p=e(42573),a=e(9589),r=function(s,t,n,h){t===void 0&&(t=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var i=0;i<h.height;i++)for(var l=0;l<h.width;l++){var u=h.data[i][l];u&&s.indexOf(u.index)===-1&&(o(u,t),a(u.index,t,h))}n&&p(0,0,h.width,h.height,h)};c.exports=r},64740:(c,x,e)=>{var o=e(20576),p=e(42573),a=e(97022),r=function(s,t,n,h){t===void 0&&(t=!0),n===void 0&&(n=!0);for(var i=0;i<h.height;i++)for(var l=0;l<h.width;l++){var u=h.data[i][l];if(u){for(var d in s)if(a(u.properties,d)){var f=s[d];Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++)u.properties[d]===f[v]&&o(u,t)}}}n&&p(0,0,h.width,h.height,h)};c.exports=r},63307:(c,x,e)=>{var o=e(20576),p=e(42573),a=function(r,s,t){r===void 0&&(r=!0),s===void 0&&(s=!0);for(var n=0;n<t.height;n++)for(var h=0;h<t.width;h++){var i=t.data[n][h];if(i){var l=i.getCollisionGroup();l&&l.objects&&l.objects.length>0&&o(i,r)}}s&&p(0,0,t.width,t.height,t)};c.exports=a},9589:c=>{var x=function(e,o,p){var a=p.collideIndexes.indexOf(e);o&&a===-1?p.collideIndexes.push(e):!o&&a!==-1&&p.collideIndexes.splice(a,1)};c.exports=x},20576:c=>{var x=function(e,o){o?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};c.exports=x},79583:c=>{var x=function(e,o,p,a){if(typeof e=="number")a.callbacks[e]=o!==null?{callback:o,callbackContext:p}:void 0;else for(var r=0,s=e.length;r<s;r++)a.callbacks[e[r]]=o!==null?{callback:o,callbackContext:p}:void 0};c.exports=x},93254:(c,x,e)=>{var o=e(7386),p=function(a,r,s,t,n,h,i){for(var l=o(a,r,s,t,null,i),u=0;u<l.length;u++)l[u].setCollisionCallback(n,h)};c.exports=p},32903:(c,x,e)=>{var o=e(7386),p=e(33680),a=function(r,s,t,n,h){var i=o(r,s,t,n,null,h),l=i.map(function(d){return d.index});p(l);for(var u=0;u<i.length;u++)i[u].index=l[u]};c.exports=a},61325:(c,x,e)=>{var o=e(63448),p=e(56583),a=function(r,s){var t=r.tilemapLayer.tilemap,n=r.tilemapLayer,h=Math.floor(t.tileWidth*n.scaleX),i=Math.floor(t.tileHeight*n.scaleY),l=p(s.worldView.x-n.x,h,0,!0)-n.cullPaddingX,u=o(s.worldView.right-n.x,h,0,!0)+n.cullPaddingX,d=p(s.worldView.y-n.y,i/2,0,!0)-n.cullPaddingY,f=o(s.worldView.bottom-n.y,i/2,0,!0)+n.cullPaddingY;return{left:l,right:u,top:d,bottom:f}};c.exports=a},54503:(c,x,e)=>{var o=e(61325),p=e(32483),a=function(r,s,t,n){t===void 0&&(t=[]),n===void 0&&(n=0),t.length=0;var h=r.tilemapLayer,i=o(r,s);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),p(r,i,n,t),t};c.exports=a},97202:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n){s||(s=new o);var h=n.baseTileWidth,i=n.baseTileHeight,l=n.tilemapLayer,u=0,d=0;l&&(t||(t=l.scene.cameras.main),u=l.x+t.scrollX*(1-l.scrollFactorX),h*=l.scaleX,d=l.y+t.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var f=u+a*h+r%2*(h/2),v=d+r*(i/2);return s.set(f,v)};c.exports=p},28054:c=>{var x=function(e,o,p){var a=p.baseTileHeight,r=p.tilemapLayer,s=0;return r&&(o===void 0&&(o=r.scene.cameras.main),s=r.y+o.scrollY*(1-r.scrollFactorY),a*=r.scaleY),s+e*(a/2)+a};c.exports=x},15108:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n,h){t||(t=new o);var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(n||(n=u.scene.cameras.main),r=r-(u.y+n.scrollY*(1-u.scrollFactorY)),l*=u.scaleY,a=a-(u.x+n.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var d=s?Math.floor(r/(l/2)):r/(l/2),f=s?Math.floor((a+d%2*.5*i)/i):(a+d%2*.5*i)/i;return t.set(f,d)};c.exports=p},51900:c=>{var x=function(e,o,p,a){var r=a.baseTileHeight,s=a.tilemapLayer;return s&&(p||(p=s.scene.cameras.main),e=e-(s.y+p.scrollY*(1-s.scrollFactorY)),r*=s.scaleY),o?Math.floor(e/(r/2)):e/(r/2)};c.exports=x},86560:(c,x,e)=>{var o=e(7386),p=function(a,r,s,t,n,h,i){for(var l=o(s,t,n,h,null,i),u=0;u<l.length;u++)l[u]&&(l[u].index===a?l[u].index=r:l[u].index===r&&(l[u].index=a))};c.exports=p},97281:c=>{var x=function(e,o,p){var a=p.baseTileWidth,r=p.tilemapLayer,s=0;return r&&(o||(o=r.scene.cameras.main),s=r.x+o.scrollX*(1-r.scrollFactorX),a*=r.scaleX),s+e*a};c.exports=x},70326:(c,x,e)=>{var o=e(97281),p=e(29650),a=e(26099),r=function(s,t,n,h,i){return n||(n=new a(0,0)),n.x=o(s,h,i),n.y=p(t,h,i),n};c.exports=r},29650:c=>{var x=function(e,o,p){var a=p.baseTileHeight,r=p.tilemapLayer,s=0;return r&&(o||(o=r.scene.cameras.main),s=r.y+o.scrollY*(1-r.scrollFactorY),a*=r.scaleY),s+e*a};c.exports=x},77366:(c,x,e)=>{var o=e(7386),p=e(75508),a=function(r,s,t,n,h,i){if(h){var l,u=o(r,s,t,n,null,i),d=0;for(l=0;l<h.length;l++)d+=h[l].weight;if(!(d<=0))for(l=0;l<u.length;l++){for(var f=p.RND.frac()*d,v=0,m=-1,g=0;g<h.length;g++)if(v+=h[g].weight,f<=v){var y=h[g].index;m=Array.isArray(y)?y[Math.floor(p.RND.frac()*y.length)]:y;break}u[l].index=m}}};c.exports=a},10095:(c,x,e)=>{var o=e(85896),p=e(26099),a=new p,r=function(s,t,n,h){return o(s,0,t,a,n,h),a.x};c.exports=r},85896:(c,x,e)=>{var o=e(26099),p=function(a,r,s,t,n,h){s===void 0&&(s=!0),t||(t=new o);var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(n||(n=u.scene.cameras.main),a=a-(u.x+n.scrollX*(1-u.scrollFactorX)),r=r-(u.y+n.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var d=a/i,f=r/l;return s&&(d=Math.floor(d),f=Math.floor(f)),t.set(d,f)};c.exports=p},63288:(c,x,e)=>{var o=e(85896),p=e(26099),a=new p,r=function(s,t,n,h){return o(0,s,t,a,n,h),a.y};c.exports=r},81086:(c,x,e)=>{c.exports={CalculateFacesAt:e(72023),CalculateFacesWithin:e(42573),CheckIsoBounds:e(33528),Copy:e(1785),CreateFromTiles:e(78419),CullBounds:e(19545),CullTiles:e(30003),Fill:e(35137),FilterTiles:e(40253),FindByIndex:e(52692),FindTile:e(66151),ForEachTile:e(97560),GetCullTilesFunction:e(43305),GetTileAt:e(7423),GetTileAtWorldXY:e(60540),GetTileCorners:e(55826),GetTileCornersFunction:e(11758),GetTilesWithin:e(7386),GetTilesWithinShape:e(91141),GetTilesWithinWorldXY:e(96523),GetTileToWorldXFunction:e(39167),GetTileToWorldXYFunction:e(62e3),GetTileToWorldYFunction:e(5984),GetWorldToTileXFunction:e(96113),GetWorldToTileXYFunction:e(16926),GetWorldToTileYFunction:e(55762),HasTileAt:e(45091),HasTileAtWorldXY:e(24152),HexagonalCullBounds:e(90454),HexagonalCullTiles:e(9474),HexagonalGetTileCorners:e(27229),HexagonalTileToWorldXY:e(19951),HexagonalWorldToTileXY:e(86625),IsInLayerBounds:e(62991),IsometricCullTiles:e(14018),IsometricTileToWorldXY:e(14127),IsometricWorldToTileXY:e(96897),PutTileAt:e(71558),PutTileAtWorldXY:e(26303),PutTilesAt:e(14051),Randomize:e(77389),RemoveTileAt:e(63557),RemoveTileAtWorldXY:e(94178),RenderDebug:e(15533),ReplaceByIndex:e(27987),RunCull:e(32483),SetCollision:e(57068),SetCollisionBetween:e(37266),SetCollisionByExclusion:e(75661),SetCollisionByProperty:e(64740),SetCollisionFromCollisionGroup:e(63307),SetLayerCollisionIndex:e(9589),SetTileCollision:e(20576),SetTileIndexCallback:e(79583),SetTileLocationCallback:e(93254),Shuffle:e(32903),StaggeredCullBounds:e(61325),StaggeredCullTiles:e(54503),StaggeredTileToWorldXY:e(97202),StaggeredTileToWorldY:e(28054),StaggeredWorldToTileXY:e(15108),StaggeredWorldToTileY:e(51900),SwapByIndex:e(86560),TileToWorldX:e(97281),TileToWorldXY:e(70326),TileToWorldY:e(29650),WeightedRandomize:e(77366),WorldToTileX:e(10095),WorldToTileXY:e(85896),WorldToTileY:e(63288)}},91907:c=>{c.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(c,x,e)=>{var o={ORIENTATION:e(91907)};c.exports=o},62501:(c,x,e)=>{var o=e(79291),p=e(21829),a={Components:e(81086),Parsers:e(57442),Formats:e(80341),ImageCollection:e(16536),ParseToTilemap:e(31989),Tile:e(23029),Tilemap:e(49075),TilemapCreator:e(45939),TilemapFactory:e(46029),Tileset:e(33629),TilemapLayer:e(20442),Orientation:e(91907),LayerData:e(14977),MapData:e(87010),ObjectLayer:e(48700)};a=o(!1,a,p.ORIENTATION),c.exports=a},14977:(c,x,e)=>{var o=e(83419),p=e(91907),a=e(95540),r=new o({initialize:function(t){t===void 0&&(t={}),this.name=a(t,"name","layer"),this.id=a(t,"id",0),this.x=a(t,"x",0),this.y=a(t,"y",0),this.width=a(t,"width",0),this.height=a(t,"height",0),this.tileWidth=a(t,"tileWidth",0),this.tileHeight=a(t,"tileHeight",0),this.baseTileWidth=a(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(t,"baseTileHeight",this.tileHeight),this.orientation=a(t,"orientation",p.ORTHOGONAL),this.widthInPixels=a(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(t,"alpha",1),this.visible=a(t,"visible",!0),this.properties=a(t,"properties",[]),this.indexes=a(t,"indexes",[]),this.collideIndexes=a(t,"collideIndexes",[]),this.callbacks=a(t,"callbacks",[]),this.bodies=a(t,"bodies",[]),this.data=a(t,"data",[]),this.tilemapLayer=a(t,"tilemapLayer",null),this.hexSideLength=a(t,"hexSideLength",0),this.staggerAxis=a(t,"staggerAxis","y"),this.staggerIndex=a(t,"staggerIndex","odd")}});c.exports=r},87010:(c,x,e)=>{var o=e(83419),p=e(91907),a=e(95540),r=new o({initialize:function(t){t===void 0&&(t={}),this.name=a(t,"name","map"),this.width=a(t,"width",0),this.height=a(t,"height",0),this.infinite=a(t,"infinite",!1),this.tileWidth=a(t,"tileWidth",0),this.tileHeight=a(t,"tileHeight",0),this.widthInPixels=a(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(t,"heightInPixels",this.height*this.tileHeight),this.format=a(t,"format",null),this.orientation=a(t,"orientation",p.ORTHOGONAL),this.renderOrder=a(t,"renderOrder","right-down"),this.version=a(t,"version","1"),this.properties=a(t,"properties",{}),this.layers=a(t,"layers",[]),this.images=a(t,"images",[]),this.objects=a(t,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(t,"collision",{}),this.tilesets=a(t,"tilesets",[]),this.imageCollections=a(t,"imageCollections",[]),this.tiles=a(t,"tiles",[]),this.hexSideLength=a(t,"hexSideLength",0),this.staggerAxis=a(t,"staggerAxis","y"),this.staggerIndex=a(t,"staggerIndex","odd")}});c.exports=r},48700:(c,x,e)=>{var o=e(83419),p=e(95540),a=new o({initialize:function(s){s===void 0&&(s={}),this.name=p(s,"name","object layer"),this.id=p(s,"id",0),this.opacity=p(s,"opacity",1),this.properties=p(s,"properties",{}),this.propertyTypes=p(s,"propertytypes",{}),this.type=p(s,"type","objectgroup"),this.visible=p(s,"visible",!0),this.objects=p(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});c.exports=a},6641:(c,x,e)=>{var o=e(91907),p=function(a){return a=a.toLowerCase(),a==="isometric"?o.ISOMETRIC:a==="staggered"?o.STAGGERED:a==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};c.exports=p},46177:(c,x,e)=>{var o=e(80341),p=e(2342),a=e(82593),r=e(46594),s=e(87021),t=function(n,h,i,l,u,d){var f;switch(h){case o.ARRAY_2D:f=p(n,i,l,u,d);break;case o.CSV:f=a(n,i,l,u,d);break;case o.TILED_JSON:f=r(n,i,d);break;case o.WELTMEISTER:f=s(n,i,d);break;default:console.warn("Unrecognized tilemap data format: "+h),f=null}return f};c.exports=t},2342:(c,x,e)=>{var o=e(80341),p=e(14977),a=e(87010),r=e(23029),s=function(t,n,h,i,l){for(var u=new p({tileWidth:h,tileHeight:i}),d=new a({name:t,tileWidth:h,tileHeight:i,format:o.ARRAY_2D,layers:[u]}),f=[],v=n.length,m=0,g=0;g<n.length;g++){f[g]=[];for(var y=n[g],T=0;T<y.length;T++){var C=parseInt(y[T],10);isNaN(C)||C===-1?f[g][T]=l?null:new r(u,-1,T,g,h,i):f[g][T]=new r(u,C,T,g,h,i)}m===0&&(m=y.length)}return d.width=u.width=m,d.height=u.height=v,d.widthInPixels=u.widthInPixels=m*h,d.heightInPixels=u.heightInPixels=v*i,u.data=f,d};c.exports=s},82593:(c,x,e)=>{var o=e(80341),p=e(2342),a=function(r,s,t,n,h){var i=s.trim().split(`
`).map(function(u){return u.split(",")}),l=p(r,i,t,n,h);return l.format=o.CSV,l};c.exports=a},6656:(c,x,e)=>{var o=e(14977),p=e(23029),a=function(r,s){for(var t=[],n=0;n<r.layer.length;n++){for(var h=r.layer[n],i=new o({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),l=[],u=[],d=0;d<h.data.length;d++){for(var f=0;f<h.data[d].length;f++){var v=h.data[d][f]-1,m;v>-1?m=new p(i,v,f,d,h.tilesize,h.tilesize):m=s?null:new p(i,-1,f,d,h.tilesize,h.tilesize),l.push(m)}u.push(l),l=[]}i.data=u,t.push(i)}return t};c.exports=a},96483:(c,x,e)=>{var o=e(33629),p=function(a){for(var r=[],s=[],t=0;t<a.layer.length;t++){var n=a.layer[t],h=n.tilesetName;h!==""&&s.indexOf(h)===-1&&(s.push(h),r.push(new o(h,0,n.tilesize,n.tilesize,0,0)))}return r};c.exports=p},87021:(c,x,e)=>{var o=e(80341),p=e(87010),a=e(6656),r=e(96483),s=function(t,n,h){if(n.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+t),null;for(var i=0,l=0,u=0;u<n.layer.length;u++)n.layer[u].width>i&&(i=n.layer[u].width),n.layer[u].height>l&&(l=n.layer[u].height);var d=new p({width:i,height:l,name:t,tileWidth:n.layer[0].tilesize,tileHeight:n.layer[0].tilesize,format:o.WELTMEISTER});return d.layers=a(n,h),d.tilesets=r(n),d};c.exports=s},52833:(c,x,e)=>{c.exports={ParseTileLayers:e(6656),ParseTilesets:e(96483),ParseWeltmeister:e(87021)}},57442:(c,x,e)=>{c.exports={FromOrientationString:e(6641),Parse:e(46177),Parse2DArray:e(2342),ParseCSV:e(82593),Impact:e(52833),Tiled:e(96761)}},51233:(c,x,e)=>{var o=e(79291),p=function(a){for(var r,s,t,n,h,i=0;i<a.layers.length;i++){r=a.layers[i],n=null;for(var l=0;l<r.data.length;l++){h=r.data[l];for(var u=0;u<h.length;u++)s=h[u],!(s===null||s.index<0)&&(t=a.tiles[s.index][2],n=a.tilesets[t],s.width=n.tileWidth,s.height=n.tileHeight,n.tileProperties&&n.tileProperties[s.index-n.firstgid]&&(s.properties=o(s.properties,n.tileProperties[s.index-n.firstgid])))}}};c.exports=p},41868:c=>{var x=function(e){for(var o=window.atob(e),p=o.length,a=new Array(p/4),r=0;r<p;r+=4)a[r/4]=(o.charCodeAt(r)|o.charCodeAt(r+1)<<8|o.charCodeAt(r+2)<<16|o.charCodeAt(r+3)<<24)>>>0;return a};c.exports=x},84101:(c,x,e)=>{var o=e(33629),p=function(a){var r,s,t=[];for(r=0;r<a.imageCollections.length;r++)for(var n=a.imageCollections[r],h=n.images,i=0;i<h.length;i++){var l=h[i];s=new o(l.image,l.gid,n.imageWidth,n.imageHeight,0,0),s.updateTileData(n.imageWidth,n.imageHeight),a.tilesets.push(s)}for(r=0;r<a.tilesets.length;r++){s=a.tilesets[r];for(var u=s.tileMargin,d=s.tileMargin,f=0,v=0,m=0,g=s.firstgid;g<s.firstgid+s.total&&(t[g]=[u,d,r],u+=s.tileWidth+s.tileSpacing,f++,!(f===s.total||(v++,v===s.columns&&(u=s.tileMargin,d+=s.tileHeight+s.tileSpacing,v=0,m++,m===s.rows))));g++);}return t};c.exports=p},79677:(c,x,e)=>{var o=e(95540),p=function(a,r,s){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var t=r.x+o(r,"startx",0)*a.tilewidth+o(r,"offsetx",0),n=r.y+o(r,"starty",0)*a.tileheight+o(r,"offsety",0);return{i:0,layers:r.layers,name:s.name+r.name+"/",opacity:s.opacity*r.opacity,visible:s.visible&&r.visible,x:s.x+t,y:s.y+n}};c.exports=p},29920:c=>{var x=2147483648,e=1073741824,o=536870912,p=function(a){var r=!!(a&x),s=!!(a&e),t=!!(a&o);a=a&~(x|e|o);var n=0,h=!1;return r&&s&&t?(n=Math.PI/2,h=!0):r&&s&&!t?(n=Math.PI,h=!1):r&&!s&&t?(n=Math.PI/2,h=!1):r&&!s&&!t?(n=0,h=!0):!r&&s&&t?(n=3*Math.PI/2,h=!1):!r&&s&&!t?(n=Math.PI,h=!0):!r&&!s&&t?(n=3*Math.PI/2,h=!0):!r&&!s&&!t&&(n=0,h=!1),{gid:a,flippedHorizontal:r,flippedVertical:s,flippedAntiDiagonal:t,rotation:n,flipped:h}};c.exports=p},12635:(c,x,e)=>{var o=e(95540),p=e(79677),a=function(r){for(var s=[],t=[],n=p(r);n.i<n.layers.length||t.length>0;){if(n.i>=n.layers.length){if(t.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=t.pop();continue}var h=n.layers[n.i];if(n.i++,h.type!=="imagelayer"){if(h.type==="group"){var i=p(r,h,n);t.push(n),n=i}continue}var l=o(h,"offsetx",0)+o(h,"startx",0),u=o(h,"offsety",0)+o(h,"starty",0);s.push({name:n.name+h.name,image:h.image,x:n.x+l+h.x,y:n.y+u+h.y,alpha:n.opacity*h.opacity,visible:n.visible&&h.visible,properties:o(h,"properties",{})})}return s};c.exports=a},46594:(c,x,e)=>{var o=e(51233),p=e(84101),a=e(91907),r=e(62644),s=e(80341),t=e(6641),n=e(87010),h=e(12635),i=e(22611),l=e(28200),u=e(24619),d=function(f,v,m){var g=r(v),y=new n({width:g.width,height:g.height,name:f,tileWidth:g.tilewidth,tileHeight:g.tileheight,orientation:t(g.orientation),format:s.TILED_JSON,version:g.version,properties:g.properties,renderOrder:g.renderorder,infinite:g.infinite});y.orientation===a.HEXAGONAL&&(y.hexSideLength=g.hexsidelength,y.staggerAxis=g.staggeraxis,y.staggerIndex=g.staggerindex),y.layers=l(g,m),y.images=h(g);var T=u(g);return y.tilesets=T.tilesets,y.imageCollections=T.imageCollections,y.objects=i(g),y.tiles=p(y),o(y),y};c.exports=d},52205:(c,x,e)=>{var o=e(18254),p=e(29920),a=function(t){return{x:t.x,y:t.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(t,n,h){n===void 0&&(n=0),h===void 0&&(h=0);var i=o(t,r);if(i.x+=n,i.y+=h,t.gid){var l=p(t.gid);i.gid=l.gid,i.flippedHorizontal=l.flippedHorizontal,i.flippedVertical=l.flippedVertical,i.flippedAntiDiagonal=l.flippedAntiDiagonal}else t.polyline?i.polyline=t.polyline.map(a):t.polygon?i.polygon=t.polygon.map(a):t.ellipse?i.ellipse=t.ellipse:t.text?i.text=t.text:t.point?i.point=!0:i.rectangle=!0;return i};c.exports=s},22611:(c,x,e)=>{var o=e(95540),p=e(52205),a=e(48700),r=e(79677),s=function(t){for(var n=[],h=[],i=r(t);i.i<i.layers.length||h.length>0;){if(i.i>=i.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=h.pop();continue}var l=i.layers[i.i];if(i.i++,l.opacity*=i.opacity,l.visible=i.visible&&l.visible,l.type!=="objectgroup"){if(l.type==="group"){var u=r(t,l,i);h.push(i),i=u}continue}l.name=i.name+l.name;for(var d=i.x+o(l,"startx",0)+o(l,"offsetx",0),f=i.y+o(l,"starty",0)+o(l,"offsety",0),v=[],m=0;m<l.objects.length;m++){var g=p(l.objects[m],d,f);v.push(g)}var y=new a(l);y.objects=v,n.push(y)}return n};c.exports=s},28200:(c,x,e)=>{var o=e(41868),p=e(91907),a=e(79677),r=e(6641),s=e(95540),t=e(14977),n=e(29920),h=e(23029),i=function(l,u){for(var d=s(l,"infinite",!1),f=[],v=[],m=a(l);m.i<m.layers.length||v.length>0;){if(m.i>=m.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}m=v.pop();continue}var g=m.layers[m.i];if(m.i++,g.type!=="tilelayer"){if(g.type==="group"){var y=a(l,g,m);v.push(m),m=y}continue}if(g.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+g.name+"'");continue}else if(g.encoding&&g.encoding==="base64"){if(g.chunks)for(var T=0;T<g.chunks.length;T++)g.chunks[T].data=o(g.chunks[T].data);g.data&&(g.data=o(g.data)),delete g.encoding}var C,E,z,D,A=[],L=0;if(d){var b=s(g,"startx",0)+g.x,F=s(g,"starty",0)+g.y;C=new t({name:m.name+g.name,id:g.id,x:m.x+s(g,"offsetx",0)+b*l.tilewidth,y:m.y+s(g,"offsety",0)+F*l.tileheight,width:g.width,height:g.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:m.opacity*g.opacity,visible:m.visible&&g.visible,properties:s(g,"properties",[]),orientation:r(l.orientation)}),C.orientation===p.HEXAGONAL&&(C.hexSideLength=l.hexsidelength,C.staggerAxis=l.staggeraxis,C.staggerIndex=l.staggerindex);for(var V=0;V<g.height;V++){A[V]=[null];for(var B=0;B<g.width;B++)A[V][B]=null}for(V=0,X=g.chunks.length;V<X;V++)for(var N=g.chunks[V],U=N.x-b,I=N.y-F,H=0,O=0,R=N.data.length;O<R;O++){var Y=L+U,G=H+I;E=n(N.data[O]),E.gid>0?(z=new h(C,E.gid,Y,G,l.tilewidth,l.tileheight),z.rotation=E.rotation,z.flipX=E.flipped,A[G][Y]=z):(D=u?null:new h(C,-1,Y,G,l.tilewidth,l.tileheight),A[G][Y]=D),L++,L===N.width&&(H++,L=0)}}else{C=new t({name:m.name+g.name,id:g.id,x:m.x+s(g,"offsetx",0)+g.x,y:m.y+s(g,"offsety",0)+g.y,width:g.width,height:g.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:m.opacity*g.opacity,visible:m.visible&&g.visible,properties:s(g,"properties",[]),orientation:r(l.orientation)}),C.orientation===p.HEXAGONAL&&(C.hexSideLength=l.hexsidelength,C.staggerAxis=l.staggeraxis,C.staggerIndex=l.staggerindex);for(var k=[],W=0,X=g.data.length;W<X;W++)E=n(g.data[W]),E.gid>0?(z=new h(C,E.gid,L,A.length,l.tilewidth,l.tileheight),z.rotation=E.rotation,z.flipX=E.flipped,k.push(z)):(D=u?null:new h(C,-1,L,A.length,l.tilewidth,l.tileheight),k.push(D)),L++,L===g.width&&(A.push(k),L=0,k=[])}C.data=A,f.push(C)}return f};c.exports=i},24619:(c,x,e)=>{var o=e(33629),p=e(16536),a=e(52205),r=e(57880),s=function(t){for(var n=[],h=[],i=null,l,u=0;u<t.tilesets.length;u++){var d=t.tilesets[u];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var f=new o(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(t.version>1){var v=void 0,m=void 0;if(Array.isArray(d.tiles)){v=v||{},m=m||{};for(var g=0;g<d.tiles.length;g++){var y=d.tiles[g];if(y.properties){var T={};y.properties.forEach(function(V){T[V.name]=V.value}),m[y.id]=T}if(y.objectgroup&&((v[y.id]||(v[y.id]={})).objectgroup=y.objectgroup,y.objectgroup.objects)){var C=y.objectgroup.objects.map(function(V){return a(V)});v[y.id].objectgroup.objects=C}y.animation&&((v[y.id]||(v[y.id]={})).animation=y.animation),y.type&&((v[y.id]||(v[y.id]={})).type=y.type)}}Array.isArray(d.wangsets)&&(v=v||{},m=m||{},r(d.wangsets,v)),v&&(f.tileData=v,f.tileProperties=m)}else if(d.tileproperties&&(f.tileProperties=d.tileproperties),d.tiles){f.tileData=d.tiles;for(l in f.tileData){var E=f.tileData[l].objectgroup;if(E&&E.objects){var z=E.objects.map(function(V){return a(V)});f.tileData[l].objectgroup.objects=z}}}f.updateTileData(d.imagewidth,d.imageheight),n.push(f)}else{var D=new p(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),A=0;for(g=0;g<d.tiles.length;g++){y=d.tiles[g];var L=y.image,b=parseInt(y.id,10),F=d.firstgid+b;D.addImage(F,L),A=Math.max(b,A)}D.maxId=A,h.push(D)}i&&(i.lastgid=d.firstgid-1),i=d}return{tilesets:n,imageCollections:h}};c.exports=s},57880:c=>{var x=function(e,o){for(var p=0;p<e.length;p++){var a=e[p],r=p;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var s={},t={},n,h,i;if(Array.isArray(a.edgecolors))for(n=0;n<a.edgecolors.length;n++)i=1+n,h=a.edgecolors[n],h.name!==""&&(s[i]=h.name);if(Array.isArray(a.cornercolors))for(n=0;n<a.cornercolors.length;n++)i=1+n,h=a.cornercolors[n],h.name!==""&&(t[i]=h.name);if(Array.isArray(a.colors))for(n=0;n<a.colors.length;n++)h=a.colors[n],i=1+n,h.name!==""&&(s[i]=t[i]=h.name);for(var l=[s,t,s,t,s,t,s,t],u=0;u<a.wangtiles.length;u++){var d=a.wangtiles[u],f=o[d.tileid]||(o[d.tileid]={});f=f.wangid||(f.wangid={});for(var v=[],m=0;m<Math.min(l.length,d.wangid.length);m++){if(h=d.wangid[m],h===0){v.push(void 0);continue}var g=l[m][h];if(g!==void 0){v.push(g);continue}v.push(h)}f[r]=v}}}};c.exports=x},96761:(c,x,e)=>{c.exports={AssignTileProperties:e(51233),Base64Decode:e(41868),BuildTilesetIndex:e(84101),CreateGroupLayer:e(79677),ParseGID:e(29920),ParseImageLayers:e(12635),ParseJSONTiled:e(46594),ParseObject:e(52205),ParseObjectLayers:e(22611),ParseTileLayers:e(28200),ParseTilesets:e(24619)}},33385:(c,x,e)=>{var o=e(83419),p=e(37277),a=e(44594),r=e(94880),s=e(72905),t=new o({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var n=this.systems.events;n.on(a.PRE_UPDATE,this.preUpdate,this),n.on(a.UPDATE,this.update,this),n.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(n){var h;return n instanceof r?(h=n,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat):h=new r(n),this._pendingInsertion.push(h),h},delayedCall:function(n,h,i,l){return this.addEvent({delay:n,callback:h,args:i,callbackScope:l})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var i=n[h];s(this._pendingRemoval,i),s(this._pendingInsertion,i),s(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var n=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(n===0&&h===0)){var i,l;for(i=0;i<n;i++){l=this._pendingRemoval[i];var u=this._active.indexOf(l);u>-1&&this._active.splice(u,1),l.destroy()}for(i=0;i<h;i++)l=this._pendingInsertion[i],this._active.push(l);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(n,h){if(this.now=n,!this.paused){h*=this.timeScale;for(var i=0;i<this._active.length;i++){var l=this._active[i];if(!l.paused&&(l.elapsed+=h*l.timeScale,l.elapsed>=l.delay)){var u=l.elapsed-l.delay;if(l.elapsed=l.delay,!l.hasDispatched&&l.callback&&(l.hasDispatched=!0,l.callback.apply(l.callbackScope,l.args)),l.repeatCount>0){if(l.repeatCount--,u>=l.delay)for(;u>=l.delay&&l.repeatCount>0;)l.callback&&l.callback.apply(l.callbackScope,l.args),u-=l.delay,l.repeatCount--;l.elapsed=u,l.hasDispatched=!1}else l.hasDispatched&&this._pendingRemoval.push(l)}}}},shutdown:function(){var n;for(n=0;n<this._pendingInsertion.length;n++)this._pendingInsertion[n].destroy();for(n=0;n<this._active.length;n++)this._active[n].destroy();for(n=0;n<this._pendingRemoval.length;n++)this._pendingRemoval[n].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(a.PRE_UPDATE,this.preUpdate,this),h.off(a.UPDATE,this.update,this),h.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",t,"time"),c.exports=t},96120:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(39429),r=e(95540),s=e(44594),t=e(89809),n=new o({Extends:p,initialize:function(i,l){p.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(s.PRE_UPDATE,this.preUpdate,this),u.on(s.UPDATE,this.update,this),u.once(s.SHUTDOWN,this.destroy,this),l&&this.add(l)},preUpdate:function(h,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var h,i=this.events,l=!1,u=this.systems,d;for(h=0;h<i.length;h++){var f=i[h];if(!f.complete&&f.time<=this.elapsed){if(f.complete=!0,this.totalComplete++,d=f.target?f.target:this,f.if&&!f.if.call(d,f))continue;if(f.once&&(l=!0),f.set&&f.target)for(var v in f.set)f.target[v]=f.set[v];this.iteration&&f.repeat++,f.loop&&f.repeat&&f.loop.call(d),f.tween&&(f.tweenInstance=u.tweens.add(f.tween)),f.sound&&(typeof f.sound=="string"?u.sound.play(f.sound):u.sound.play(f.sound.key,f.sound.config)),f.event&&this.emit(f.event,d),f.run&&f.run.call(d),f.stop&&this.stop()}}if(l)for(h=0;h<i.length;h++)i[h].complete&&i[h].once&&(i.splice(h,1),h--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(t.COMPLETE,this)}},play:function(h){return h===void 0&&(h=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,h&&this.reset(),this},pause:function(){this.paused=!0;for(var h=this.events,i=0;i<h.length;i++){var l=h[i];l.tweenInstance&&(l.tweenInstance.paused=!0)}return this},repeat:function(h){return(h===void 0||h===!0)&&(h=-1),h===!1&&(h=0),this.loop=h,this},resume:function(){this.paused=!1;for(var h=this.events,i=0;i<h.length;i++){var l=h[i];l.tweenInstance&&(l.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(h){h===void 0&&(h=!1),this.elapsed=0,h||(this.iteration=0);for(var i=this.events,l=0;l<i.length;l++){var u=i[l];u.complete=!1,h||(u.repeat=0),u.tweenInstance&&u.tweenInstance.stop()}return this.play(!1)},add:function(h){Array.isArray(h)||(h=[h]);var i=this.events,l=0;i.length>0&&(l=i[i.length-1].time);for(var u=0;u<h.length;u++){var d=h[u],f=r(d,"at",0),v=r(d,"in",null);v!==null&&(f=this.elapsed+v);var m=r(d,"from",null);m!==null&&(f=l+m),i.push({complete:!1,time:f,repeat:0,if:r(d,"if",null),run:r(d,"run",null),loop:r(d,"loop",null),event:r(d,"event",null),target:r(d,"target",null),set:r(d,"set",null),tween:r(d,"tween",null),sound:r(d,"sound",null),once:r(d,"once",!1),stop:r(d,"stop",!1)}),l=f}return this.complete=!1,this},clear:function(){for(var h=this.events,i=0;i<h.length;i++){var l=h[i];l.tweenInstance&&l.tweenInstance.stop()}return h=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var h=Math.min(this.totalComplete,this.events.length);return h/this.events.length},destroy:function(){var h=this.systems.events;h.off(s.PRE_UPDATE,this.preUpdate,this),h.off(s.UPDATE,this.update,this),h.off(s.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});a.register("timeline",function(h){return new n(this.scene,h)}),c.exports=n},94880:(c,x,e)=>{var o=e(83419),p=e(95540),a=new o({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(r){if(this.delay=p(r,"delay",0),this.repeat=p(r,"repeat",0),this.loop=p(r,"loop",!1),this.callback=p(r,"callback",void 0),this.callbackScope=p(r,"callbackScope",this),this.args=p(r,"args",[]),this.timeScale=p(r,"timeScale",1),this.startAt=p(r,"startAt",0),this.paused=p(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});c.exports=a},35945:c=>{c.exports="complete"},89809:(c,x,e)=>{c.exports={COMPLETE:e(35945)}},90291:(c,x,e)=>{c.exports={Clock:e(33385),Events:e(89809),Timeline:e(96120),TimerEvent:e(94880)}},40382:(c,x,e)=>{var o=e(72905),p=e(83419),a=e(43491),r=e(88032),s=e(37277),t=e(44594),n=e(93109),h=e(86081),i=e(8357),l=e(43960),u=e(26012),d=new p({initialize:function(v){this.scene=v,this.events=v.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(t.BOOT,this.boot,this),this.events.on(t.START,this.start,this)},boot:function(){this.events.once(t.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(t.UPDATE,this.update,this),this.events.once(t.SHUTDOWN,this.shutdown,this)},create:function(f){Array.isArray(f)||(f=[f]);for(var v=[],m=0;m<f.length;m++){var g=f[m];g instanceof h||g instanceof l?v.push(g):Array.isArray(g.tweens)?v.push(u(this,g)):v.push(i(this,g))}return v.length===1?v[0]:v},add:function(f){var v=f,m=this.tweens;return v instanceof h||v instanceof l||(Array.isArray(v.tweens)?v=u(this,v):v=i(this,v)),m.push(v.reset()),v},addMultiple:function(f){for(var v,m=[],g=this.tweens,y=0;y<f.length;y++)v=f[y],v instanceof h||v instanceof l||(Array.isArray(v.tweens)?v=u(this,v):v=i(this,v)),g.push(v.reset()),m.push(v);return m},chain:function(f){var v=u(this,f);return this.tweens.push(v.init()),v},getChainedTweens:function(f){return f.getChainedTweens()},has:function(f){return this.tweens.indexOf(f)>-1},existing:function(f){return this.has(f)||this.tweens.push(f.reset()),this},addCounter:function(f){var v=r(this,f);return this.tweens.push(v.reset()),v},stagger:function(f,v){return n(f,v)},setLagSmooth:function(f,v){return f===void 0&&(f=1/1e-8),v===void 0&&(v=0),this.maxLag=f,this.lagSkip=Math.min(v,this.maxLag),this},setFps:function(f){return f===void 0&&(f=240),this.gap=1e3/f,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(f){var v=Date.now()-this.prevTime;v>this.maxLag&&(this.startTime+=v-this.lagSkip),this.prevTime+=v;var m=this.prevTime-this.startTime,g=m-this.nextTime,y=m-this.time*1e3;return g>0||f?(m/=1e3,this.time=m,this.nextTime+=g+(g>=this.gap?4:this.gap-g)):y=0,y},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(f){f===void 0&&(f=!1);var v=this.getDelta(f);if(!(v<=0)){this.processing=!0;var m,g,y=[],T=this.tweens;for(m=0;m<T.length;m++)g=T[m],g.update(v)&&y.push(g);var C=y.length;if(C&&T.length>0){for(m=0;m<C;m++){g=y[m];var E=T.indexOf(g);E>-1&&(g.isPendingRemove()||g.isDestroyed())&&(T.splice(E,1),g.destroy())}y.length=0}this.processing=!1}},remove:function(f){return this.processing?f.setPendingRemoveState():(o(this.tweens,f),f.setRemovedState()),this},reset:function(f){return this.existing(f),f.seek(),f.setActiveState(),this},makeActive:function(f){return this.existing(f),f.setActiveState(),this},each:function(f,v){var m,g=[null];for(m=1;m<arguments.length;m++)g.push(arguments[m]);return this.tweens.forEach(function(y){g[0]=y,f.apply(v,g)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(f){var v=[],m=this.tweens;Array.isArray(f)?f=a(f):f=[f];for(var g=f.length,y=0;y<m.length;y++)for(var T=m[y],C=0;C<g;C++)!T.isDestroyed()&&T.hasTarget(f[C])&&v.push(T);return v},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(f){return this.timeScale=f,this},isTweening:function(f){for(var v=this.tweens,m,g=0;g<v.length;g++)if(m=v[g],m.isPlaying()&&m.hasTarget(f))return!0;return!1},killAll:function(){for(var f=this.processing?this.getTweens():this.tweens,v=0;v<f.length;v++)f[v].destroy();return this.processing||(f.length=0),this},killTweensOf:function(f){for(var v=this.getTweensOf(f),m=0;m<v.length;m++)v[m].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(t.UPDATE,this.update,this),this.events.off(t.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(t.START,this.start,this),this.scene=null,this.events=null}});s.register("TweenManager",d,"tweens"),c.exports=d},57355:c=>{var x=function(e,o,p){return e&&e.hasOwnProperty(o)?e[o]:p};c.exports=x},6113:(c,x,e)=>{var o=e(62640),p=e(35355),a=function(r,s){var t=o.Power0;if(typeof r=="string")if(o.hasOwnProperty(r))t=o[r];else{var n="";if(r.indexOf(".")){n=r.substring(r.indexOf(".")+1);var h=n.toLowerCase();h==="in"?n="easeIn":h==="out"?n="easeOut":h==="inout"&&(n="easeInOut")}r=p(r.substring(0,r.indexOf(".")+1)+n),o.hasOwnProperty(r)&&(t=o[r])}else typeof r=="function"&&(t=r);if(!s)return t;var i=s.slice(0);return i.unshift(0),function(l){return i[0]=l,t.apply(this,i)}};c.exports=a},91389:(c,x,e)=>{var o=e(89318),p=e(77259),a=e(28392),r={bezier:o,catmull:p,catmullrom:p,linear:a},s=function(t){if(t===null)return null;var n=r.linear;return typeof t=="string"?r.hasOwnProperty(t)&&(n=r[t]):typeof t=="function"&&(n=t),n};c.exports=s},55292:c=>{var x=function(e,o,p){var a;if(e.hasOwnProperty(o)){var r=typeof e[o];r==="function"?a=function(s,t,n,h,i,l){return e[o](s,t,n,h,i,l)}:a=function(){return e[o]}}else typeof p=="function"?a=p:a=function(){return p};return a};c.exports=x},82985:(c,x,e)=>{var o=e(81076),p=function(a){var r,s=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&s.push({key:r,value:a.props[r]});else for(r in a)o.indexOf(r)===-1&&r.substring(0,1)!=="_"&&s.push({key:r,value:a[r]});return s};c.exports=p},62329:(c,x,e)=>{var o=e(35154),p=function(a){var r=o(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};c.exports=p},17777:(c,x,e)=>{var o=e(30976),p=e(99472);function a(h){return!!h.getActive&&typeof h.getActive=="function"}function r(h){return!!h.getStart&&typeof h.getStart=="function"}function s(h){return!!h.getEnd&&typeof h.getEnd=="function"}function t(h){return r(h)||s(h)||a(h)}var n=function(h,i){var l,u=function(N,U,I){return I},d=function(N,U,I){return I},f=null,v=typeof i;if(v==="number")u=function(){return i};else if(Array.isArray(i))d=function(){return i[0]},u=function(){return i[i.length-1]};else if(v==="string"){var m=i.toLowerCase(),g=m.substring(0,6)==="random",y=m.substring(0,3)==="int";if(g||y){var T=m.indexOf("("),C=m.indexOf(")"),E=m.indexOf(",");if(T&&C&&E){var z=parseFloat(m.substring(T+1,E)),D=parseFloat(m.substring(E+1,C));g?u=function(){return p(z,D)}:u=function(){return o(z,D)}}else throw new Error("invalid random() format")}else{m=m[0];var A=parseFloat(i.substr(2));switch(m){case"+":u=function(N,U,I){return I+A};break;case"-":u=function(N,U,I){return I-A};break;case"*":u=function(N,U,I){return I*A};break;case"/":u=function(N,U,I){return I/A};break;default:u=function(){return parseFloat(i)}}}}else if(v==="function")u=i;else if(v==="object")if(t(i))a(i)&&(f=i.getActive),s(i)&&(u=i.getEnd),r(i)&&(d=i.getStart);else if(i.hasOwnProperty("value"))l=n(h,i.value);else{var L=i.hasOwnProperty("to"),b=i.hasOwnProperty("from"),F=i.hasOwnProperty("start");if(L&&(b||F)){if(l=n(h,i.to),F){var V=n(h,i.start);l.getActive=V.getEnd}if(b){var B=n(h,i.from);l.getStart=B.getEnd}}}return l||(l={getActive:f,getEnd:u,getStart:d}),l};c.exports=n},88032:(c,x,e)=>{var o=e(70402),p=e(69902),a=e(23568),r=e(57355),s=e(6113),t=e(55292),n=e(35154),h=e(17777),i=e(269),l=e(86081),u=function(d,f,v){if(f instanceof l)return f.parent=d,f;v===void 0?v=p:v=i(p,v);var m=n(f,"from",0),g=n(f,"to",1),y=[{value:m}],T=n(f,"delay",v.delay),C=n(f,"easeParams",v.easeParams),E=n(f,"ease",v.ease),z=h("value",g),D=new l(d,y),A=D.add(0,"value",z.getEnd,z.getStart,z.getActive,s(n(f,"ease",E),n(f,"easeParams",C)),t(f,"delay",T),n(f,"duration",v.duration),r(f,"yoyo",v.yoyo),n(f,"hold",v.hold),n(f,"repeat",v.repeat),n(f,"repeatDelay",v.repeatDelay),!1,!1);A.start=m,A.current=m,D.completeDelay=a(f,"completeDelay",0),D.loop=Math.round(a(f,"loop",0)),D.loopDelay=Math.round(a(f,"loopDelay",0)),D.paused=r(f,"paused",!1),D.persist=r(f,"persist",!1),D.callbackScope=n(f,"callbackScope",D);for(var L=o.TYPES,b=0;b<L.length;b++){var F=L[b],V=n(f,F,!1);if(V){var B=n(f,F+"Params",[]);D.setCallback(F,V,B)}}return D};c.exports=u},93109:(c,x,e)=>{var o=e(6113),p=e(35154),a=e(36383),r=function(s,t){t===void 0&&(t={});var n,h=p(t,"start",0),i=p(t,"ease",null),l=p(t,"grid",null),u=p(t,"from",0),d=u==="first",f=u==="center",v=u==="last",m=typeof u=="number",g=Array.isArray(s),y=parseFloat(g?s[0]:s),T=g?parseFloat(s[1]):0,C=Math.max(y,T);if(g&&(h+=y),l){var E=l[0],z=l[1],D=0,A=0,L=0,b=0,F=[];v?(D=E-1,A=z-1):m?(D=u%E,A=Math.floor(u/E)):f&&(D=(E-1)/2,A=(z-1)/2);for(var V=a.MIN_SAFE_INTEGER,B=0;B<z;B++){F[B]=[];for(var N=0;N<E;N++){L=D-N,b=A-B;var U=Math.sqrt(L*L+b*b);U>V&&(V=U),F[B][N]=U}}}var I=i?o(i):null;return l?n=function(H,O,R,Y){var G=0,k=Y%E,W=Math.floor(Y/E);k>=0&&k<E&&W>=0&&W<z&&(G=F[W][k]);var X;if(g){var j=T-y;I?X=G/V*j*I(G/V):X=G/V*j}else I?X=G*y*I(G/V):X=G*y;return X+h}:n=function(H,O,R,Y,G){G--;var k;d?k=Y:f?k=Math.abs(G/2-Y):v?k=G-Y:m&&(k=Math.abs(u-Y));var W;if(g){var X;f?X=(T-y)/G*(k*2):X=(T-y)/G*k,I?W=X*I(k/G):W=X}else I?W=G*C*I(k/G):W=k*y;return W+h},n};c.exports=r},8357:(c,x,e)=>{var o=e(70402),p=e(69902),a=e(23568),r=e(57355),s=e(6113),t=e(91389),n=e(55292),h=e(82985),i=e(62329),l=e(35154),u=e(17777),d=e(269),f=e(86081),v=function(m,g,y){if(g instanceof f)return g.parent=m,g;y===void 0?y=p:y=d(p,y);var T=i(g);!T&&y.targets&&(T=y.targets);for(var C=h(g),E=l(g,"delay",y.delay),z=l(g,"duration",y.duration),D=l(g,"easeParams",y.easeParams),A=l(g,"ease",y.ease),L=l(g,"hold",y.hold),b=l(g,"repeat",y.repeat),F=l(g,"repeatDelay",y.repeatDelay),V=r(g,"yoyo",y.yoyo),B=r(g,"flipX",y.flipX),N=r(g,"flipY",y.flipY),U=l(g,"interpolation",y.interpolation),I=function($,Z,J,Q){if(J==="texture"){var _=Q,ae=void 0;Array.isArray(Q)?(_=Q[0],ae=Q[1]):Q.hasOwnProperty("value")?(_=Q.value,Array.isArray(Q.value)?(_=Q.value[0],ae=Q.value[1]):typeof Q.value=="string"&&(_=Q.value)):typeof Q=="string"&&(_=Q),$.addFrame(Z,_,ae,n(Q,"delay",E),l(Q,"duration",z),l(Q,"hold",L),l(Q,"repeat",b),l(Q,"repeatDelay",F),r(Q,"flipX",B),r(Q,"flipY",N))}else{var oe=u(J,Q),le=t(l(Q,"interpolation",U));$.add(Z,J,oe.getEnd,oe.getStart,oe.getActive,s(l(Q,"ease",A),l(Q,"easeParams",D)),n(Q,"delay",E),l(Q,"duration",z),r(Q,"yoyo",V),l(Q,"hold",L),l(Q,"repeat",b),l(Q,"repeatDelay",F),r(Q,"flipX",B),r(Q,"flipY",N),le,le?Q:null)}},H=new f(m,T),O=0;O<C.length;O++)for(var R=C[O].key,Y=C[O].value,G=0;G<T.length;G++)R==="scale"&&!T[G].hasOwnProperty("scale")?(I(H,G,"scaleX",Y),I(H,G,"scaleY",Y)):I(H,G,R,Y);H.completeDelay=a(g,"completeDelay",0),H.loop=Math.round(a(g,"loop",0)),H.loopDelay=Math.round(a(g,"loopDelay",0)),H.paused=r(g,"paused",!1),H.persist=r(g,"persist",!1),H.callbackScope=l(g,"callbackScope",H);for(var k=o.TYPES,W=0;W<k.length;W++){var X=k[W],j=l(g,X,!1);if(j){var K=l(g,X+"Params",[]);H.setCallback(X,j,K)}}return H};c.exports=v},26012:(c,x,e)=>{var o=e(70402),p=e(23568),a=e(57355),r=e(62329),s=e(35154),t=e(8357),n=e(43960),h=function(i,l){if(l instanceof n)return l.parent=i,l;var u=new n(i);u.startDelay=s(l,"delay",0),u.completeDelay=p(l,"completeDelay",0),u.loop=Math.round(p(l,"loop",s(l,"repeat",0))),u.loopDelay=Math.round(p(l,"loopDelay",s(l,"repeatDelay",0))),u.paused=a(l,"paused",!1),u.persist=a(l,"persist",!1),u.callbackScope=s(l,"callbackScope",u);var d,f=o.TYPES;for(d=0;d<f.length;d++){var v=f[d],m=s(l,v,!1);if(m){var g=s(l,v+"Params",[]);u.setCallback(v,m,g)}}var y=s(l,"tweens",null);if(Array.isArray(y)){var T=[],C=r(l),E=void 0;for(C&&(E={targets:C}),d=0;d<y.length;d++)T.push(t(u,y[d],E));u.add(T)}return u};c.exports=h},30231:(c,x,e)=>{c.exports={GetBoolean:e(57355),GetEaseFunction:e(6113),GetInterpolationFunction:e(91389),GetNewValue:e(55292),GetProps:e(82985),GetTargets:e(62329),GetValueOp:e(17777),NumberTweenBuilder:e(88032),StaggerBuilder:e(93109),TweenBuilder:e(8357)}},73685:c=>{c.exports="active"},98540:c=>{c.exports="complete"},67233:c=>{c.exports="loop"},2859:c=>{c.exports="pause"},98336:c=>{c.exports="repeat"},25764:c=>{c.exports="resume"},32193:c=>{c.exports="start"},84371:c=>{c.exports="stop"},70766:c=>{c.exports="update"},55659:c=>{c.exports="yoyo"},842:(c,x,e)=>{c.exports={TWEEN_ACTIVE:e(73685),TWEEN_COMPLETE:e(98540),TWEEN_LOOP:e(67233),TWEEN_PAUSE:e(2859),TWEEN_RESUME:e(25764),TWEEN_REPEAT:e(98336),TWEEN_START:e(32193),TWEEN_STOP:e(84371),TWEEN_UPDATE:e(70766),TWEEN_YOYO:e(55659)}},43066:(c,x,e)=>{var o={States:e(86353),Builders:e(30231),Events:e(842),TweenManager:e(40382),Tween:e(86081),TweenData:e(48177),TweenFrameData:e(42220),BaseTween:e(70402),TweenChain:e(43960)};c.exports=o},70402:(c,x,e)=>{var o=e(83419),p=e(50792),a=e(842),r=e(86353),s=new o({Extends:p,initialize:function(n){p.call(this),this.parent=n,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(t){return t===void 0&&(t=0),t?(this.setCompleteDelayState(),this.countdown=t):this.onCompleteHandler(),this},completeAfterLoop:function(t){return t===void 0&&(t=0),this.loopCounter>t&&(this.loopCounter=t),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(t){this.countdown-=t,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(t){return this.countdown-=t,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),t=0),t},updateCompleteDelay:function(t){this.countdown-=t,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(t,n,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(t)&&(this.callbacks[t]={func:n,params:h}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(t){t.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});s.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],c.exports=s},95042:(c,x,e)=>{var o=e(83419),p=e(842),a=e(86353),r=new o({initialize:function(t,n,h,i,l,u,d,f,v,m){this.tween=t,this.targetIndex=n,this.duration=i,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=l,this.hold=u,this.repeat=d,this.repeatDelay=f,this.repeatCounter=0,this.flipX=v,this.flipY=m,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(s){s===void 0&&(s=this.current),this.tween.targets[this.targetIndex][this.key]=s},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(s){this.yoyo?this.onRepeat(s,!0,!0):this.repeatCounter>0?this.onRepeat(s,!0,!1):this.setCompleteState()},setStateFromStart:function(s){this.repeatCounter>0?this.onRepeat(s,!1):this.setCompleteState()},reset:function(){var s=this.tween,t=s.totalTargets,n=this.targetIndex,h=s.targets[n],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,i,0,n,t,s),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var l=this.duration+this.hold;this.yoyo&&(l+=this.duration);var u=l+this.repeatDelay;this.totalDuration=this.delay+l,this.repeat===-1?(this.totalDuration+=u*a.MAX,s.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>s.duration&&(s.duration=this.totalDuration),this.delay<s.startDelay&&(s.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(s,t,n){var h=this.tween,i=h.totalTargets,l=this.targetIndex,u=h.targets[l],d=this.key,f=d!=="texture";if(this.elapsed=s,this.progress=s/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),f&&(t||n)&&(this.start=this.getStartValue(u,d,this.start,l,i,h)),n){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,f&&(this.end=this.getEndValue(u,d,this.start,l,i,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-s,f&&(this.current=this.start,u[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});c.exports=r},69902:c=>{var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};c.exports=x},81076:c=>{c.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(c,x,e)=>{var o=e(70402),p=e(83419),a=e(842),r=e(44603),s=e(39429),t=e(36383),n=e(86353),h=e(48177),i=e(42220),l=new p({Extends:o,initialize:function(d,f){o.call(this,d),this.targets=f,this.totalTargets=f.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(u,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F){var V=new h(this,u,d,f,v,m,g,y,T,C,E,z,D,A,L,b,F);return this.totalData=this.data.push(V),V},addFrame:function(u,d,f,v,m,g,y,T,C,E){var z=new i(this,u,d,f,v,m,g,y,T,C,E);return this.totalData=this.data.push(z),z},getValue:function(u){u===void 0&&(u=0);var d=null;return this.data&&(d=this.data[u].current),d},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,d,f){if(f===void 0&&(f=!1),u!=="texture")for(var v=0;v<this.totalData;v++){var m=this.data[v];m.key===u&&(m.isPlayingForward()||m.isPlayingBackward())&&(m.end=d,f&&(m.start=m.current))}return this},restart:function(){switch(this.state){case n.REMOVED:case n.FINISHED:this.seek(),this.parent.makeActive(this);break;case n.PENDING:case n.PENDING_REMOVE:this.parent.reset(this);break;case n.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,d,f){if(u===void 0&&(u=0),d===void 0&&(d=16.6),f===void 0&&(f=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;f||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var v=this.paused;if(this.paused=!1,u>0){for(var m=Math.floor(u/d),g=u-m*d,y=0;y<m;y++)this.update(d);g>0&&this.update(g)}return this.paused=v,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=t.MAX_SAFE_INTEGER;for(var d=this.data,f=0;f<this.totalData;f++)d[f].reset(u);this.duration=Math.max(this.duration,.01);var v=this.duration,m=this.completeDelay,g=this.loopCounter,y=this.loopDelay;g>0?this.totalDuration=v+m+(v+y)*g:this.totalDuration=v+m},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=n.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),u=0));var d=!1;if(this.isActive())for(var f=this.data,v=0;v<this.totalData;v++)f[v].update(u)&&(d=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var m=this.isPendingRemove();return m&&this.persist&&(this.setFinishedState(),m=!1),m},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,d){if(!this.isSeeking){this.emit(u,this,this.targets);var f=this.callbacks[d];f&&f.func.apply(this.callbackScope,[this,this.targets].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});s.register("tween",function(u){return this.scene.sys.tweens.add(u)}),r.register("tween",function(u){return this.scene.sys.tweens.create(u)}),c.exports=l},43960:(c,x,e)=>{var o=e(72905),p=e(70402),a=e(83419),r=e(842),s=e(44603),t=e(39429),n=e(86353),h=new a({Extends:p,initialize:function(l){p.call(this,l),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?n.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var l=this.parent.create(i);Array.isArray(l)||(l=[l]);for(var u=this.data,d=0;d<l.length;d++){var f=l[d];f.parent=this,u.push(f.reset())}return this.totalData=u.length,this},remove:function(i){return o(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var l=this.data,u=0;u<this.totalData;u++)if(l[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,l=this.totalData,u=0;u<l;u++)i[u].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;i*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(i):this.isCompleteDelayed()?this.updateCompleteDelay(i):this.isStartDelayed()&&(i=this.updateStartCountdown(i));var l=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),l=this.isPendingRemove(),l&&this.persist&&(this.setFinishedState(),l=!1)),l},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,l){this.emit(i,this);var u=this.callbacks[l];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});t.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),s.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),c.exports=h},48177:(c,x,e)=>{var o=e(95042),p=e(45319),a=e(83419),r=e(842),s=new a({Extends:o,initialize:function(n,h,i,l,u,d,f,v,m,g,y,T,C,E,z,D,A){o.call(this,n,h,v,m,g,y,T,C,E,z),this.key=i,this.getActiveValue=d,this.getEndValue=l,this.getStartValue=u,this.ease=f,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=D,this.interpolationData=A},reset:function(t){o.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex],h=this.key;t&&(n[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(n[h]=this.getActiveValue(n,h,0))},update:function(t){var n=this.tween,h=n.totalTargets,i=this.targetIndex,l=n.targets[i],u=this.key;if(!l)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=t,this.elapsed<=0&&(this.elapsed=0,t=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(l,u,l[u],i,h,n),this.end=this.getEndValue(l,u,this.start,i,h,n),this.current=this.start,l[u]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),f=this.isPlayingBackward();if(d||f){var v=this.elapsed,m=this.duration,g=0,y=!1;v+=t,v>=m?(g=v-m,v=m,y=!0):v<0&&(v=0);var T=p(v/m,0,1);this.elapsed=v,this.progress=T,this.previous=this.current,d||(T=1-T);var C=this.ease(T);this.interpolation?this.current=this.interpolation(this.interpolationData,C):this.current=this.start+(this.end-this.start)*C,l[u]=this.current,y&&(d?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(g):this.setStateFromStart(g)),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,n){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],l=this.key,u=this.current,d=this.previous;h.emit(t,h,l,i,u,d);var f=h.callbacks[n];f&&f.func.apply(h.callbackScope,[h,i,l,u,d].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});c.exports=s},42220:(c,x,e)=>{var o=e(95042),p=e(45319),a=e(83419),r=e(842),s=new a({Extends:o,initialize:function(n,h,i,l,u,d,f,v,m,g,y){o.call(this,n,h,u,d,!1,f,v,m,g,y),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=l,this.yoyo=v!==0},reset:function(t){o.prototype.reset.call(this);var n=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=n.texture.key,this.startFrame=n.frame.name),t&&n.setTexture(this.startTexture,this.startFrame)},update:function(t){var n=this.tween,h=this.targetIndex,i=n.targets[h];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=t,this.elapsed<=0&&(this.elapsed=0,t=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),u=this.isPlayingBackward();if(l||u){var d=this.elapsed,f=this.duration,v=0,m=!1;d+=t,d>=f?(v=d-f,d=f,m=!0):d<0&&(d=0);var g=p(d/f,0,1);this.elapsed=d,this.progress=g,m&&(l?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(v)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(v))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,n){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],l=this.key;h.emit(t,h,l,i);var u=h.callbacks[n];u&&u.func.apply(h.callbackScope,[h,i,l].concat(u.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});c.exports=s},86353:c=>{var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};c.exports=x},83419:c=>{function x(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}function e(s,t,n){var h=n?s[t]:Object.getOwnPropertyDescriptor(s,t);return!n&&h.value&&typeof h.value=="object"&&(h=h.value),h&&x(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function o(s,t){var n=Object.getOwnPropertyDescriptor(s,t);return n?(n.value&&typeof n.value=="object"&&(n=n.value),n.configurable===!1):!1}function p(s,t,n,h){for(var i in t)if(t.hasOwnProperty(i)){var l=e(t,i,n);if(l!==!1){var u=h||s;if(o(u.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,i,l)}else s.prototype[i]=t[i]}}function a(s,t){if(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)p(s,t[n].prototype||t[n])}}function r(s){s||(s={});var t,n;if(s.initialize){if(typeof s.initialize!="function")throw new Error("initialize must be a function");t=s.initialize,delete s.initialize}else if(s.Extends){var h=s.Extends;t=function(){h.apply(this,arguments)}}else t=function(){};s.Extends?(t.prototype=Object.create(s.Extends.prototype),t.prototype.constructor=t,n=s.Extends,delete s.Extends):t.prototype.constructor=t;var i=null;return s.Mixins&&(i=s.Mixins,delete s.Mixins),a(t,i),p(t,s,!0,n),t}r.extend=p,r.mixin=a,r.ignoreFinals=!1,c.exports=r},29747:c=>{var x=function(){};c.exports=x},20242:c=>{var x=function(){return null};c.exports=x},71146:c=>{var x=function(e,o,p,a,r){if(r===void 0&&(r=e),p>0){var s=p-e.length;if(s<=0)return null}if(!Array.isArray(o))return e.indexOf(o)===-1?(e.push(o),a&&a.call(r,o),o):null;for(var t=o.length-1;t>=0;)e.indexOf(o[t])!==-1&&o.splice(t,1),t--;if(t=o.length,t===0)return null;p>0&&t>s&&(o.splice(s),t=s);for(var n=0;n<t;n++){var h=o[n];e.push(h),a&&a.call(r,h)}return o};c.exports=x},51067:c=>{var x=function(e,o,p,a,r,s){if(p===void 0&&(p=0),s===void 0&&(s=e),a>0){var t=a-e.length;if(t<=0)return null}if(!Array.isArray(o))return e.indexOf(o)===-1?(e.splice(p,0,o),r&&r.call(s,o),o):null;for(var n=o.length-1;n>=0;)e.indexOf(o[n])!==-1&&o.pop(),n--;if(n=o.length,n===0)return null;a>0&&n>t&&(o.splice(t),n=t);for(var h=n-1;h>=0;h--){var i=o[h];e.splice(p,0,i),r&&r.call(s,i)}return o};c.exports=x},66905:c=>{var x=function(e,o){var p=e.indexOf(o);return p!==-1&&p<e.length&&(e.splice(p,1),e.push(o)),o};c.exports=x},21612:(c,x,e)=>{var o=e(82011),p=function(a,r,s,t,n){t===void 0&&(t=0),n===void 0&&(n=a.length);var h=0;if(o(a,t,n))for(var i=t;i<n;i++){var l=a[i];l[r]===s&&h++}return h};c.exports=p},95428:c=>{var x=function(e,o,p){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<e.length;a++)r[0]=e[a],o.apply(p,r);return e};c.exports=x},36914:(c,x,e)=>{var o=e(82011),p=function(a,r,s,t,n){if(t===void 0&&(t=0),n===void 0&&(n=a.length),o(a,t,n)){var h,i=[null];for(h=5;h<arguments.length;h++)i.push(arguments[h]);for(h=t;h<n;h++)i[0]=a[h],r.apply(s,i)}return a};c.exports=p},81957:c=>{var x=function(e,o,p){if(o.length){if(o.length===1)return o[0]}else return NaN;var a=1,r,s;if(p){if(e<o[0][p])return o[0];for(;o[a][p]<e;)a++}else for(;o[a]<e;)a++;return a>o.length&&(a=o.length),p?(r=o[a-1][p],s=o[a][p],s-e<=e-r?o[a]:o[a-1]):(r=o[a-1],s=o[a],s-e<=e-r?s:r)};c.exports=x},43491:c=>{var x=function(e,o){o===void 0&&(o=[]);for(var p=0;p<e.length;p++)Array.isArray(e[p])?x(e[p],o):o.push(e[p]);return o};c.exports=x},46710:(c,x,e)=>{var o=e(82011),p=function(a,r,s,t,n){t===void 0&&(t=0),n===void 0&&(n=a.length);var h=[];if(o(a,t,n))for(var i=t;i<n;i++){var l=a[i];(!r||r&&s===void 0&&l.hasOwnProperty(r)||r&&s!==void 0&&l[r]===s)&&h.push(l)}return h};c.exports=p},58731:(c,x,e)=>{var o=e(82011),p=function(a,r,s,t,n){if(t===void 0&&(t=0),n===void 0&&(n=a.length),o(a,t,n))for(var h=t;h<n;h++){var i=a[h];if(!r||r&&s===void 0&&i.hasOwnProperty(r)||r&&s!==void 0&&i[r]===s)return i}return null};c.exports=p},26546:c=>{var x=function(e,o,p){o===void 0&&(o=0),p===void 0&&(p=e.length);var a=o+Math.floor(Math.random()*p);return e[a]===void 0?null:e[a]};c.exports=x},85835:c=>{var x=function(e,o,p){if(o===p)return e;var a=e.indexOf(o),r=e.indexOf(p);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(e.splice(a,1),r=e.indexOf(p),e.splice(r+1,0,o)),e};c.exports=x},83371:c=>{var x=function(e,o,p){if(o===p)return e;var a=e.indexOf(o),r=e.indexOf(p);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(e.splice(a,1),r===0?e.unshift(o):e.splice(r,0,o)),e};c.exports=x},70864:c=>{var x=function(e,o){var p=e.indexOf(o);if(p>0){var a=e[p-1],r=e.indexOf(a);e[p]=a,e[r]=o}return e};c.exports=x},69693:c=>{var x=function(e,o,p){var a=e.indexOf(o);if(a===-1||p<0||p>=e.length)throw new Error("Supplied index out of bounds");return a!==p&&(e.splice(a,1),e.splice(p,0,o)),o};c.exports=x},40853:c=>{var x=function(e,o){var p=e.indexOf(o);if(p!==-1&&p<e.length-1){var a=e[p+1],r=e.indexOf(a);e[p]=a,e[r]=o}return e};c.exports=x},20283:c=>{var x=function(e,o,p,a){var r=[],s,t=!1;if((p||a)&&(t=!0,p||(p=""),a||(a="")),o<e)for(s=e;s>=o;s--)t?r.push(p+s.toString()+a):r.push(s);else for(s=e;s<=o;s++)t?r.push(p+s.toString()+a):r.push(s);return r};c.exports=x},593:(c,x,e)=>{var o=e(2284),p=function(a,r,s){a===void 0&&(a=0),r===void 0&&(r=null),s===void 0&&(s=1),r===null&&(r=a,a=0);for(var t=[],n=Math.max(o((r-a)/(s||1)),0),h=0;h<n;h++)t.push(a),a+=s;return t};c.exports=p},43886:c=>{function x(p,a,r){var s=p[a];p[a]=p[r],p[r]=s}function e(p,a){return p<a?-1:p>a?1:0}var o=function(p,a,r,s,t){for(r===void 0&&(r=0),s===void 0&&(s=p.length-1),t===void 0&&(t=e);s>r;){if(s-r>600){var n=s-r+1,h=a-r+1,i=Math.log(n),l=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*l*(n-l)/n)*(h-n/2<0?-1:1),d=Math.max(r,Math.floor(a-h*l/n+u)),f=Math.min(s,Math.floor(a+(n-h)*l/n+u));o(p,a,d,f,t)}var v=p[a],m=r,g=s;for(x(p,r,a),t(p[s],v)>0&&x(p,r,s);m<g;){for(x(p,m,g),m++,g--;t(p[m],v)<0;)m++;for(;t(p[g],v)>0;)g--}t(p[r],v)===0?x(p,r,g):(g++,x(p,g,s)),g<=a&&(r=g+1),a<=g&&(s=g-1)}};c.exports=o},88492:(c,x,e)=>{var o=e(35154),p=e(33680),a=function(s,t,n){for(var h=[],i=0;i<s.length;i++)for(var l=0;l<t.length;l++)for(var u=0;u<n;u++)h.push({a:s[i],b:t[l]});return h},r=function(s,t,n){var h=o(n,"max",0),i=o(n,"qty",1),l=o(n,"random",!1),u=o(n,"randomB",!1),d=o(n,"repeat",0),f=o(n,"yoyo",!1),v=[];if(u&&p(t),d===-1)if(h===0)d=0;else{var m=s.length*t.length*i;f&&(m*=2),d=Math.ceil(h/m)}for(var g=0;g<=d;g++){var y=a(s,t,i);l&&p(y),v=v.concat(y),f&&(y.reverse(),v=v.concat(y))}return h&&v.splice(h),v};c.exports=r},72905:(c,x,e)=>{var o=e(19133),p=function(a,r,s,t){t===void 0&&(t=a);var n;if(!Array.isArray(r))return n=a.indexOf(r),n!==-1?(o(a,n),s&&s.call(t,r),r):null;for(var h=r.length-1,i=[];h>=0;){var l=r[h];n=a.indexOf(l),n!==-1&&(o(a,n),i.push(l),s&&s.call(t,l)),h--}return i};c.exports=p},60248:(c,x,e)=>{var o=e(19133),p=function(a,r,s,t){if(t===void 0&&(t=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var n=o(a,r);return s&&s.call(t,n),n};c.exports=p},81409:(c,x,e)=>{var o=e(82011),p=function(a,r,s,t,n){if(r===void 0&&(r=0),s===void 0&&(s=a.length),n===void 0&&(n=a),o(a,r,s)){var h=s-r,i=a.splice(r,h);if(t)for(var l=0;l<i.length;l++){var u=i[l];t.call(n,u)}return i}else return[]};c.exports=p},31856:(c,x,e)=>{var o=e(19133),p=function(a,r,s){r===void 0&&(r=0),s===void 0&&(s=a.length);var t=r+Math.floor(Math.random()*s);return o(a,t)};c.exports=p},42169:c=>{var x=function(e,o,p){var a=e.indexOf(o),r=e.indexOf(p);return a!==-1&&r===-1?(e[a]=p,!0):!1};c.exports=x},86003:c=>{var x=function(e,o){o===void 0&&(o=1);for(var p=null,a=0;a<o;a++)p=e.shift(),e.push(p);return p};c.exports=x},49498:c=>{var x=function(e,o){o===void 0&&(o=1);for(var p=null,a=0;a<o;a++)p=e.pop(),e.unshift(p);return p};c.exports=x},82011:c=>{var x=function(e,o,p,a){var r=e.length;if(o<0||o>r||o>=p||p>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};c.exports=x},89545:c=>{var x=function(e,o){var p=e.indexOf(o);return p!==-1&&p>0&&(e.splice(p,1),e.unshift(o)),o};c.exports=x},17810:(c,x,e)=>{var o=e(82011),p=function(a,r,s,t,n){if(t===void 0&&(t=0),n===void 0&&(n=a.length),o(a,t,n))for(var h=t;h<n;h++){var i=a[h];i.hasOwnProperty(r)&&(i[r]=s)}return a};c.exports=p},33680:c=>{var x=function(e){for(var o=e.length-1;o>0;o--){var p=Math.floor(Math.random()*(o+1)),a=e[o];e[o]=e[p],e[p]=a}return e};c.exports=x},90126:c=>{var x=function(e){var o=/\D/g;return e.sort(function(p,a){return parseInt(p.replace(o,""),10)-parseInt(a.replace(o,""),10)}),e};c.exports=x},19133:c=>{var x=function(e,o){if(!(o>=e.length)){for(var p=e.length-1,a=e[o],r=o;r<p;r++)e[r]=e[r+1];return e.length=p,a}};c.exports=x},19186:(c,x,e)=>{var o=e(82264);function p(t,n){return String(t).localeCompare(n)}function a(t,n){var h=t.length;if(h<=1)return t;for(var i=new Array(h),l=1;l<h;l*=2){r(t,n,l,i);var u=t;t=i,i=u}return t}function r(t,n,h,i){var l=t.length,u=0,d=h*2,f,v,m,g,y;for(f=0;f<l;f+=d)for(v=f+h,m=v+h,v>l&&(v=l),m>l&&(m=l),g=f,y=v;;)if(g<v&&y<m)n(t[g],t[y])<=0?i[u++]=t[g++]:i[u++]=t[y++];else if(g<v)i[u++]=t[g++];else if(y<m)i[u++]=t[y++];else break}var s=function(t,n){if(n===void 0&&(n=p),!t||t.length<2)return t;if(o.features.stableSort)return t.sort(n);var h=a(t,n);return h!==t&&r(h,null,t.length,t),t};c.exports=s},25630:c=>{var x=function(e,o,p){if(o===p)return e;var a=e.indexOf(o),r=e.indexOf(p);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return e[a]=p,e[r]=o,e};c.exports=x},37105:(c,x,e)=>{c.exports={Matrix:e(54915),Add:e(71146),AddAt:e(51067),BringToTop:e(66905),CountAllMatching:e(21612),Each:e(95428),EachInRange:e(36914),FindClosestInSorted:e(81957),Flatten:e(43491),GetAll:e(46710),GetFirst:e(58731),GetRandom:e(26546),MoveDown:e(70864),MoveTo:e(69693),MoveUp:e(40853),MoveAbove:e(85835),MoveBelow:e(83371),NumberArray:e(20283),NumberArrayStep:e(593),QuickSelect:e(43886),Range:e(88492),Remove:e(72905),RemoveAt:e(60248),RemoveBetween:e(81409),RemoveRandomElement:e(31856),Replace:e(42169),RotateLeft:e(86003),RotateRight:e(49498),SafeRange:e(82011),SendToBack:e(89545),SetAll:e(17810),Shuffle:e(33680),SortByDigits:e(90126),SpliceOne:e(19133),StableSort:e(19186),Swap:e(25630)}},86922:c=>{var x=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))return!1;for(var o=e[0].length,p=1;p<e.length;p++)if(e[p].length!==o)return!1;return!0};c.exports=x},63362:(c,x,e)=>{var o=e(41836),p=e(86922),a=function(r){var s="";if(!p(r))return s;for(var t=0;t<r.length;t++){for(var n=0;n<r[t].length;n++){var h=r[t][n].toString();h!=="undefined"?s+=o(h,2):s+="?",n<r[t].length-1&&(s+=" |")}if(t<r.length-1){s+=`
`;for(var i=0;i<r[t].length;i++)s+="---",i<r[t].length-1&&(s+="+");s+=`
`}}return s};c.exports=a},92598:c=>{var x=function(e){return e.reverse()};c.exports=x},21224:c=>{var x=function(e){for(var o=0;o<e.length;o++)e[o].reverse();return e};c.exports=x},98717:(c,x,e)=>{var o=e(37829),p=function(a){return o(a,180)};c.exports=p},44657:(c,x,e)=>{var o=e(37829),p=function(a,r){r===void 0&&(r=1);for(var s=0;s<r;s++)a=o(a,90);return a};c.exports=p},37829:(c,x,e)=>{var o=e(86922),p=e(2429),a=function(r,s){if(s===void 0&&(s=90),!o(r))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")r=p(r),r.reverse();else if(s===-90||s===270||s==="rotateRight")r.reverse(),r=p(r);else if(Math.abs(s)===180||s==="rotate180"){for(var t=0;t<r.length;t++)r[t].reverse();r.reverse()}return r};c.exports=a},92632:(c,x,e)=>{var o=e(37829),p=function(a,r){r===void 0&&(r=1);for(var s=0;s<r;s++)a=o(a,-90);return a};c.exports=p},69512:(c,x,e)=>{var o=e(86003),p=e(49498),a=function(r,s,t){if(s===void 0&&(s=0),t===void 0&&(t=0),t!==0&&(t<0?o(r,Math.abs(t)):p(r,t)),s!==0)for(var n=0;n<r.length;n++){var h=r[n];s<0?o(h,Math.abs(s)):p(h,s)}return r};c.exports=a},2429:c=>{var x=function(e){for(var o=e.length,p=e[0].length,a=new Array(p),r=0;r<p;r++){a[r]=new Array(o);for(var s=o-1;s>-1;s--)a[r][s]=e[s][r]}return a};c.exports=x},54915:(c,x,e)=>{c.exports={CheckMatrix:e(86922),MatrixToString:e(63362),ReverseColumns:e(92598),ReverseRows:e(21224),Rotate180:e(98717),RotateLeft:e(44657),RotateMatrix:e(37829),RotateRight:e(92632),Translate:e(69512),TransposeMatrix:e(2429)}},71334:c=>{var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(o,p){for(var a=new Uint8Array(o),r=a.length,s=p?"data:"+p+";base64,":"",t=0;t<r;t+=3)s+=x[a[t]>>2],s+=x[(a[t]&3)<<4|a[t+1]>>4],s+=x[(a[t+1]&15)<<2|a[t+2]>>6],s+=x[a[t+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};c.exports=e},53134:c=>{for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),o=0;o<x.length;o++)e[x.charCodeAt(o)]=o;var p=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,s=r*.75,t=0,n,h,i,l;a[r-1]==="="&&(s--,a[r-2]==="="&&s--);for(var u=new ArrayBuffer(s),d=new Uint8Array(u),f=0;f<r;f+=4)n=e[a.charCodeAt(f)],h=e[a.charCodeAt(f+1)],i=e[a.charCodeAt(f+2)],l=e[a.charCodeAt(f+3)],d[t++]=n<<2|h>>4,d[t++]=(h&15)<<4|i>>2,d[t++]=(i&3)<<6|l&63;return u};c.exports=p},65839:(c,x,e)=>{c.exports={ArrayBufferToBase64:e(71334),Base64ToArrayBuffer:e(53134)}},91799:(c,x,e)=>{c.exports={Array:e(37105),Base64:e(65839),Objects:e(1183),String:e(31749),NOOP:e(29747),NULL:e(20242)}},41786:c=>{var x=function(e){var o={};for(var p in e)Array.isArray(e[p])?o[p]=e[p].slice(0):o[p]=e[p];return o};c.exports=x},62644:c=>{var x=function(e){var o,p,a;if(typeof e!="object"||e===null)return e;o=Array.isArray(e)?[]:{};for(a in e)p=e[a],o[a]=x(p);return o};c.exports=x},79291:(c,x,e)=>{var o=e(41212),p=function(){var a,r,s,t,n,h,i=arguments[0]||{},l=1,u=arguments.length,d=!1;for(typeof i=="boolean"&&(d=i,i=arguments[1]||{},l=2),u===l&&(i=this,--l);l<u;l++)if((a=arguments[l])!=null)for(r in a)s=i[r],t=a[r],i!==t&&(d&&t&&(o(t)||(n=Array.isArray(t)))?(n?(n=!1,h=s&&Array.isArray(s)?s:[]):h=s&&o(s)?s:{},i[r]=p(d,h,t)):t!==void 0&&(i[r]=t));return i};c.exports=p},23568:(c,x,e)=>{var o=e(75508),p=e(35154),a=function(r,s,t){var n=p(r,s,null);if(n===null)return t;if(Array.isArray(n))return o.RND.pick(n);if(typeof n=="object"){if(n.hasOwnProperty("randInt"))return o.RND.integerInRange(n.randInt[0],n.randInt[1]);if(n.hasOwnProperty("randFloat"))return o.RND.realInRange(n.randFloat[0],n.randFloat[1])}else if(typeof n=="function")return n(s);return n};c.exports=a},95540:c=>{var x=function(e,o,p){var a=typeof e;return!e||a==="number"||a==="string"?p:e.hasOwnProperty(o)&&e[o]!==void 0?e[o]:p};c.exports=x},82840:(c,x,e)=>{var o=e(35154),p=e(45319),a=function(r,s,t,n,h){h===void 0&&(h=t);var i=o(r,s,h);return p(i,t,n)};c.exports=a},35154:c=>{var x=function(e,o,p,a){if(!e&&!a||typeof e=="number")return p;if(e&&e.hasOwnProperty(o))return e[o];if(a&&a.hasOwnProperty(o))return a[o];if(o.indexOf(".")!==-1){for(var r=o.split("."),s=e,t=a,n=p,h=p,i=!0,l=!0,u=0;u<r.length;u++)s&&s.hasOwnProperty(r[u])?(n=s[r[u]],s=s[r[u]]):i=!1,t&&t.hasOwnProperty(r[u])?(h=t[r[u]],t=t[r[u]]):l=!1;return i?n:l?h:p}else return p};c.exports=x},69036:c=>{var x=function(e,o){for(var p=0;p<o.length;p++)if(!e.hasOwnProperty(o[p]))return!1;return!0};c.exports=x},1985:c=>{var x=function(e,o){for(var p=0;p<o.length;p++)if(e.hasOwnProperty(o[p]))return!0;return!1};c.exports=x},97022:c=>{var x=function(e,o){return e.hasOwnProperty(o)};c.exports=x},41212:c=>{var x=function(e){if(!e||typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};c.exports=x},46975:(c,x,e)=>{var o=e(41786),p=function(a,r){var s=o(a);for(var t in r)s.hasOwnProperty(t)||(s[t]=r[t]);return s};c.exports=p},269:(c,x,e)=>{var o=e(41786),p=function(a,r){var s=o(a);for(var t in r)s.hasOwnProperty(t)&&(s[t]=r[t]);return s};c.exports=p},18254:(c,x,e)=>{var o=e(97022),p=function(a,r){for(var s={},t=0;t<r.length;t++){var n=r[t];o(a,n)&&(s[n]=a[n])}return s};c.exports=p},61622:c=>{var x=function(e,o,p){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(o))return e[o]=p,!0;if(o.indexOf(".")!==-1){for(var a=o.split("."),r=e,s=e,t=0;t<a.length;t++)if(r.hasOwnProperty(a[t]))s=r,r=r[a[t]];else return!1;return s[a[a.length-1]]=p,!0}return!1};c.exports=x},1183:(c,x,e)=>{c.exports={Clone:e(41786),DeepCopy:e(62644),Extend:e(79291),GetAdvancedValue:e(23568),GetFastValue:e(95540),GetMinMaxValue:e(82840),GetValue:e(35154),HasAll:e(69036),HasAny:e(1985),HasValue:e(97022),IsPlainObject:e(41212),Merge:e(46975),MergeRight:e(269),Pick:e(18254),SetValue:e(61622)}},27902:c=>{var x=function(e,o){return e.replace(/%([0-9]+)/g,function(p,a){return o[Number(a)-1]})};c.exports=x},41836:c=>{var x=function(e,o,p,a){o===void 0&&(o=0),p===void 0&&(p=" "),a===void 0&&(a=3),e=e.toString();var r=0;if(o+1>=e.length)switch(a){case 1:e=new Array(o+1-e.length).join(p)+e;break;case 3:var s=Math.ceil((r=o-e.length)/2),t=r-s;e=new Array(t+1).join(p)+e+new Array(s+1).join(p);break;default:e=e+new Array(o+1-e.length).join(p);break}return e};c.exports=x},33628:c=>{var x=function(e,o){return o===0?e.slice(1):e.slice(0,o)+e.slice(o+1)};c.exports=x},27671:c=>{var x=function(e){return e.split("").reverse().join("")};c.exports=x},45650:c=>{var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=Math.random()*16|0,p=e==="x"?o:o&3|8;return p.toString(16)})};c.exports=x},35355:c=>{var x=function(e){return e&&e[0].toUpperCase()+e.slice(1)};c.exports=x},31749:(c,x,e)=>{c.exports={Format:e(27902),Pad:e(41836),RemoveAt:e(33628),Reverse:e(27671),UppercaseFirst:e(35355),UUID:e(45650)}}},P={};function S(c){var x=P[c];if(x!==void 0)return x.exports;var e=P[c]={exports:{}};return M[c](e,e.exports,S),e.exports}S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var w=S(85454);return w})())});var Cn=class{},ci=class{},Wt=class M{constructor(P){this.normalizedNames=new Map,this.lazyUpdate=null,P?typeof P=="string"?this.lazyInit=()=>{this.headers=new Map,P.split(`
`).forEach(S=>{let w=S.indexOf(":");if(w>0){let c=S.slice(0,w),x=c.toLowerCase(),e=S.slice(w+1).trim();this.maybeSetNormalizedName(c,x),this.headers.has(x)?this.headers.get(x).push(e):this.headers.set(x,[e])}})}:typeof Headers<"u"&&P instanceof Headers?(this.headers=new Map,P.forEach((S,w)=>{this.setHeaderEntries(w,S)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(P).forEach(([S,w])=>{this.setHeaderEntries(S,w)})}:this.headers=new Map}has(P){return this.init(),this.headers.has(P.toLowerCase())}get(P){this.init();let S=this.headers.get(P.toLowerCase());return S&&S.length>0?S[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(P){return this.init(),this.headers.get(P.toLowerCase())||null}append(P,S){return this.clone({name:P,value:S,op:"a"})}set(P,S){return this.clone({name:P,value:S,op:"s"})}delete(P,S){return this.clone({name:P,value:S,op:"d"})}maybeSetNormalizedName(P,S){this.normalizedNames.has(S)||this.normalizedNames.set(S,P)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(P=>this.applyUpdate(P)),this.lazyUpdate=null))}copyFrom(P){P.init(),Array.from(P.headers.keys()).forEach(S=>{this.headers.set(S,P.headers.get(S)),this.normalizedNames.set(S,P.normalizedNames.get(S))})}clone(P){let S=new M;return S.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,S.lazyUpdate=(this.lazyUpdate||[]).concat([P]),S}applyUpdate(P){let S=P.name.toLowerCase();switch(P.op){case"a":case"s":let w=P.value;if(typeof w=="string"&&(w=[w]),w.length===0)return;this.maybeSetNormalizedName(P.name,S);let c=(P.op==="a"?this.headers.get(S):void 0)||[];c.push(...w),this.headers.set(S,c);break;case"d":let x=P.value;if(!x)this.headers.delete(S),this.normalizedNames.delete(S);else{let e=this.headers.get(S);if(!e)return;e=e.filter(o=>x.indexOf(o)===-1),e.length===0?(this.headers.delete(S),this.normalizedNames.delete(S)):this.headers.set(S,e)}break}}setHeaderEntries(P,S){let w=(Array.isArray(S)?S:[S]).map(x=>x.toString()),c=P.toLowerCase();this.headers.set(c,w),this.maybeSetNormalizedName(P,c)}forEach(P){this.init(),Array.from(this.normalizedNames.keys()).forEach(S=>P(this.normalizedNames.get(S),this.headers.get(S)))}};var zr=class{encodeKey(P){return tl(P)}encodeValue(P){return tl(P)}decodeKey(P){return decodeURIComponent(P)}decodeValue(P){return decodeURIComponent(P)}};function S2(M,P){let S=new Map;return M.length>0&&M.replace(/^\?/,"").split("&").forEach(c=>{let x=c.indexOf("="),[e,o]=x==-1?[P.decodeKey(c),""]:[P.decodeKey(c.slice(0,x)),P.decodeValue(c.slice(x+1))],p=S.get(e)||[];p.push(o),S.set(e,p)}),S}var T2=/%(\d[a-f0-9])/gi,C2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tl(M){return encodeURIComponent(M).replace(T2,(P,S)=>C2[S]??P)}function vs(M){return`${M}`}var li=class M{constructor(P={}){if(this.updates=null,this.cloneFrom=null,this.encoder=P.encoder||new zr,P.fromString){if(P.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=S2(P.fromString,this.encoder)}else P.fromObject?(this.map=new Map,Object.keys(P.fromObject).forEach(S=>{let w=P.fromObject[S],c=Array.isArray(w)?w.map(vs):[vs(w)];this.map.set(S,c)})):this.map=null}has(P){return this.init(),this.map.has(P)}get(P){this.init();let S=this.map.get(P);return S?S[0]:null}getAll(P){return this.init(),this.map.get(P)||null}keys(){return this.init(),Array.from(this.map.keys())}append(P,S){return this.clone({param:P,value:S,op:"a"})}appendAll(P){let S=[];return Object.keys(P).forEach(w=>{let c=P[w];Array.isArray(c)?c.forEach(x=>{S.push({param:w,value:x,op:"a"})}):S.push({param:w,value:c,op:"a"})}),this.clone(S)}set(P,S){return this.clone({param:P,value:S,op:"s"})}delete(P,S){return this.clone({param:P,value:S,op:"d"})}toString(){return this.init(),this.keys().map(P=>{let S=this.encoder.encodeKey(P);return this.map.get(P).map(w=>S+"="+this.encoder.encodeValue(w)).join("&")}).filter(P=>P!=="").join("&")}clone(P){let S=new M({encoder:this.encoder});return S.cloneFrom=this.cloneFrom||this,S.updates=(this.updates||[]).concat(P),S}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(P=>this.map.set(P,this.cloneFrom.map.get(P))),this.updates.forEach(P=>{switch(P.op){case"a":case"s":let S=(P.op==="a"?this.map.get(P.param):void 0)||[];S.push(vs(P.value)),this.map.set(P.param,S);break;case"d":if(P.value!==void 0){let w=this.map.get(P.param)||[],c=w.indexOf(vs(P.value));c!==-1&&w.splice(c,1),w.length>0?this.map.set(P.param,w):this.map.delete(P.param)}else{this.map.delete(P.param);break}}}),this.cloneFrom=this.updates=null)}};var Ar=class{constructor(){this.map=new Map}set(P,S){return this.map.set(P,S),this}get(P){return this.map.has(P)||this.map.set(P,P.defaultValue()),this.map.get(P)}delete(P){return this.map.delete(P),this}has(P){return this.map.has(P)}keys(){return this.map.keys()}};function M2(M){switch(M){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function il(M){return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer}function nl(M){return typeof Blob<"u"&&M instanceof Blob}function sl(M){return typeof FormData<"u"&&M instanceof FormData}function E2(M){return typeof URLSearchParams<"u"&&M instanceof URLSearchParams}var Tn=class M{constructor(P,S,w,c){this.url=S,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=P.toUpperCase();let x;if(M2(this.method)||c?(this.body=w!==void 0?w:null,x=c):x=w,x&&(this.reportProgress=!!x.reportProgress,this.withCredentials=!!x.withCredentials,x.responseType&&(this.responseType=x.responseType),x.headers&&(this.headers=x.headers),x.context&&(this.context=x.context),x.params&&(this.params=x.params),this.transferCache=x.transferCache),this.headers??=new Wt,this.context??=new Ar,!this.params)this.params=new li,this.urlWithParams=S;else{let e=this.params.toString();if(e.length===0)this.urlWithParams=S;else{let o=S.indexOf("?"),p=o===-1?"?":o<S.length-1?"&":"";this.urlWithParams=S+p+e}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||il(this.body)||nl(this.body)||sl(this.body)||E2(this.body)?this.body:this.body instanceof li?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sl(this.body)?null:nl(this.body)?this.body.type||null:il(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof li?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(P={}){let S=P.method||this.method,w=P.url||this.url,c=P.responseType||this.responseType,x=P.transferCache??this.transferCache,e=P.body!==void 0?P.body:this.body,o=P.withCredentials??this.withCredentials,p=P.reportProgress??this.reportProgress,a=P.headers||this.headers,r=P.params||this.params,s=P.context??this.context;return P.setHeaders!==void 0&&(a=Object.keys(P.setHeaders).reduce((t,n)=>t.set(n,P.setHeaders[n]),a)),P.setParams&&(r=Object.keys(P.setParams).reduce((t,n)=>t.set(n,P.setParams[n]),r)),new M(S,w,e,{params:r,headers:a,context:s,reportProgress:p,responseType:c,withCredentials:o,transferCache:x})}},hi=function(M){return M[M.Sent=0]="Sent",M[M.UploadProgress=1]="UploadProgress",M[M.ResponseHeader=2]="ResponseHeader",M[M.DownloadProgress=3]="DownloadProgress",M[M.Response=4]="Response",M[M.User=5]="User",M}(hi||{}),Mn=class{constructor(P,S=200,w="OK"){this.headers=P.headers||new Wt,this.status=P.status!==void 0?P.status:S,this.statusText=P.statusText||w,this.url=P.url||null,this.ok=this.status>=200&&this.status<300}},ms=class M extends Mn{constructor(P={}){super(P),this.type=hi.ResponseHeader}clone(P={}){return new M({headers:P.headers||this.headers,status:P.status!==void 0?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}},Fi=class M extends Mn{constructor(P={}){super(P),this.type=hi.Response,this.body=P.body!==void 0?P.body:null}clone(P={}){return new M({body:P.body!==void 0?P.body:this.body,headers:P.headers||this.headers,status:P.status!==void 0?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}},oi=class extends Mn{constructor(P){super(P,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${P.url||"(unknown url)"}`:this.message=`Http failure response for ${P.url||"(unknown url)"}: ${P.status} ${P.statusText}`,this.error=P.error||null}},ml=200,P2=204;function wr(M,P){return{body:P,headers:M.headers,context:M.context,observe:M.observe,params:M.params,reportProgress:M.reportProgress,responseType:M.responseType,withCredentials:M.withCredentials,transferCache:M.transferCache}}var Lr=(()=>{class M{constructor(S){this.handler=S}request(S,w,c={}){let x;if(S instanceof Tn)x=S;else{let p;c.headers instanceof Wt?p=c.headers:p=new Wt(c.headers);let a;c.params&&(c.params instanceof li?a=c.params:a=new li({fromObject:c.params})),x=new Tn(S,w,c.body!==void 0?c.body:null,{headers:p,context:c.context,params:a,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials,transferCache:c.transferCache})}let e=ue(x).pipe(Ci(p=>this.handler.handle(p)));if(S instanceof Tn||c.observe==="events")return e;let o=e.pipe(Je(p=>p instanceof Fi));switch(c.observe||"body"){case"body":switch(x.responseType){case"arraybuffer":return o.pipe(me(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return o.pipe(me(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return o.pipe(me(p=>{if(p.body!==null&&typeof p.body!="string")throw new Error("Response is not a string.");return p.body}));case"json":default:return o.pipe(me(p=>p.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(S,w={}){return this.request("DELETE",S,w)}get(S,w={}){return this.request("GET",S,w)}head(S,w={}){return this.request("HEAD",S,w)}jsonp(S,w){return this.request("JSONP",S,{params:new li().append(w,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(S,w={}){return this.request("OPTIONS",S,w)}patch(S,w,c={}){return this.request("PATCH",S,wr(c,w))}post(S,w,c={}){return this.request("POST",S,wr(c,w))}put(S,w,c={}){return this.request("PUT",S,wr(c,w))}static{this.\u0275fac=function(w){return new(w||M)(ee(Cn))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),w2=/^\)\]\}',?\n/,z2="X-Request-URL";function rl(M){if(M.url)return M.url;let P=z2.toLocaleLowerCase();return M.headers.get(P)}var A2=(()=>{class M{constructor(){this.fetchImpl=te(Dr,{optional:!0})?.fetch??((...S)=>globalThis.fetch(...S)),this.ngZone=te(Ve)}handle(S){return new Si(w=>{let c=new AbortController;return this.doRequest(S,c.signal,w).then(Fr,x=>w.error(new oi({error:x}))),()=>c.abort()})}doRequest(S,w,c){return tr(this,null,function*(){let x=this.createRequestInit(S),e;try{let n=this.ngZone.runOutsideAngular(()=>this.fetchImpl(S.urlWithParams,se({signal:w},x)));D2(n),c.next({type:hi.Sent}),e=yield n}catch(n){c.error(new oi({error:n,status:n.status??0,statusText:n.statusText,url:S.urlWithParams,headers:n.headers}));return}let o=new Wt(e.headers),p=e.statusText,a=rl(e)??S.urlWithParams,r=e.status,s=null;if(S.reportProgress&&c.next(new ms({headers:o,status:r,statusText:p,url:a})),e.body){let n=e.headers.get("content-length"),h=[],i=e.body.getReader(),l=0,u,d,f=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>tr(this,null,function*(){for(;;){let{done:m,value:g}=yield i.read();if(m)break;if(h.push(g),l+=g.length,S.reportProgress){d=S.responseType==="text"?(d??"")+(u??=new TextDecoder).decode(g,{stream:!0}):void 0;let y=()=>c.next({type:hi.DownloadProgress,total:n?+n:void 0,loaded:l,partialText:d});f?f.run(y):y()}}}));let v=this.concatChunks(h,l);try{let m=e.headers.get("Content-Type")??"";s=this.parseBody(S,v,m)}catch(m){c.error(new oi({error:m,headers:new Wt(e.headers),status:e.status,statusText:e.statusText,url:rl(e)??S.urlWithParams}));return}}r===0&&(r=s?ml:0),r>=200&&r<300?(c.next(new Fi({body:s,headers:o,status:r,statusText:p,url:a})),c.complete()):c.error(new oi({error:s,headers:o,status:r,statusText:p,url:a}))})}parseBody(S,w,c){switch(S.responseType){case"json":let x=new TextDecoder().decode(w).replace(w2,"");return x===""?null:JSON.parse(x);case"text":return new TextDecoder().decode(w);case"blob":return new Blob([w],{type:c});case"arraybuffer":return w.buffer}}createRequestInit(S){let w={},c=S.withCredentials?"include":void 0;if(S.headers.forEach((x,e)=>w[x]=e.join(",")),S.headers.has("Accept")||(w.Accept="application/json, text/plain, */*"),!S.headers.has("Content-Type")){let x=S.detectContentTypeHeader();x!==null&&(w["Content-Type"]=x)}return{body:S.serializeBody(),method:S.method,headers:w,credentials:c}}concatChunks(S,w){let c=new Uint8Array(w),x=0;for(let e of S)c.set(e,x),x+=e.length;return c}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),Dr=class{};function Fr(){}function D2(M){M.then(Fr,Fr)}function F2(M,P){return P(M)}function L2(M,P,S){return(w,c)=>Ot(S,()=>P(w,x=>M(x,c)))}var gl=new ve(""),xl=new ve(""),R2=new ve("",{providedIn:"root",factory:()=>!0});var al=(()=>{class M extends Cn{constructor(S,w){super(),this.backend=S,this.injector=w,this.chain=null,this.pendingTasks=te(ns),this.contributeToStability=te(R2)}handle(S){if(this.chain===null){let w=Array.from(new Set([...this.injector.get(gl),...this.injector.get(xl,[])]));this.chain=w.reduceRight((c,x)=>L2(c,x,this.injector),F2)}if(this.contributeToStability){let w=this.pendingTasks.add();return this.chain(S,c=>this.backend.handle(c)).pipe(Nt(()=>this.pendingTasks.remove(w)))}else return this.chain(S,w=>this.backend.handle(w))}static{this.\u0275fac=function(w){return new(w||M)(ee(ci),ee(si))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})();var O2=/^\)\]\}',?\n/;function b2(M){return"responseURL"in M&&M.responseURL?M.responseURL:/^X-Request-URL:/m.test(M.getAllResponseHeaders())?M.getResponseHeader("X-Request-URL"):null}var ol=(()=>{class M{constructor(S){this.xhrFactory=S}handle(S){if(S.method==="JSONP")throw new be(-2800,!1);let w=this.xhrFactory;return(w.\u0275loadImpl?ht(w.\u0275loadImpl()):ue(null)).pipe(dt(()=>new Si(x=>{let e=w.build();if(e.open(S.method,S.urlWithParams),S.withCredentials&&(e.withCredentials=!0),S.headers.forEach((i,l)=>e.setRequestHeader(i,l.join(","))),S.headers.has("Accept")||e.setRequestHeader("Accept","application/json, text/plain, */*"),!S.headers.has("Content-Type")){let i=S.detectContentTypeHeader();i!==null&&e.setRequestHeader("Content-Type",i)}if(S.responseType){let i=S.responseType.toLowerCase();e.responseType=i!=="json"?i:"text"}let o=S.serializeBody(),p=null,a=()=>{if(p!==null)return p;let i=e.statusText||"OK",l=new Wt(e.getAllResponseHeaders()),u=b2(e)||S.url;return p=new ms({headers:l,status:e.status,statusText:i,url:u}),p},r=()=>{let{headers:i,status:l,statusText:u,url:d}=a(),f=null;l!==P2&&(f=typeof e.response>"u"?e.responseText:e.response),l===0&&(l=f?ml:0);let v=l>=200&&l<300;if(S.responseType==="json"&&typeof f=="string"){let m=f;f=f.replace(O2,"");try{f=f!==""?JSON.parse(f):null}catch(g){f=m,v&&(v=!1,f={error:g,text:f})}}v?(x.next(new Fi({body:f,headers:i,status:l,statusText:u,url:d||void 0})),x.complete()):x.error(new oi({error:f,headers:i,status:l,statusText:u,url:d||void 0}))},s=i=>{let{url:l}=a(),u=new oi({error:i,status:e.status||0,statusText:e.statusText||"Unknown Error",url:l||void 0});x.error(u)},t=!1,n=i=>{t||(x.next(a()),t=!0);let l={type:hi.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(l.total=i.total),S.responseType==="text"&&e.responseText&&(l.partialText=e.responseText),x.next(l)},h=i=>{let l={type:hi.UploadProgress,loaded:i.loaded};i.lengthComputable&&(l.total=i.total),x.next(l)};return e.addEventListener("load",r),e.addEventListener("error",s),e.addEventListener("timeout",s),e.addEventListener("abort",s),S.reportProgress&&(e.addEventListener("progress",n),o!==null&&e.upload&&e.upload.addEventListener("progress",h)),e.send(o),x.next({type:hi.Sent}),()=>{e.removeEventListener("error",s),e.removeEventListener("abort",s),e.removeEventListener("load",r),e.removeEventListener("timeout",s),S.reportProgress&&(e.removeEventListener("progress",n),o!==null&&e.upload&&e.upload.removeEventListener("progress",h)),e.readyState!==e.DONE&&e.abort()}})))}static{this.\u0275fac=function(w){return new(w||M)(ee(us))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),yl=new ve(""),V2="XSRF-TOKEN",I2=new ve("",{providedIn:"root",factory:()=>V2}),B2="X-XSRF-TOKEN",H2=new ve("",{providedIn:"root",factory:()=>B2}),gs=class{},Y2=(()=>{class M{constructor(S,w,c){this.doc=S,this.platform=w,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let S=this.doc.cookie||"";return S!==this.lastCookieString&&(this.parseCount++,this.lastToken=cs(S,this.cookieName),this.lastCookieString=S),this.lastToken}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce),ee(Ut),ee(I2))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})();function N2(M,P){let S=M.url.toLowerCase();if(!te(yl)||M.method==="GET"||M.method==="HEAD"||S.startsWith("http://")||S.startsWith("https://"))return P(M);let w=te(gs).getToken(),c=te(H2);return w!=null&&!M.headers.has(c)&&(M=M.clone({headers:M.headers.set(c,w)})),P(M)}function Sl(...M){let P=[Lr,ol,al,{provide:Cn,useExisting:al},{provide:ci,useFactory:()=>te(A2,{optional:!0})??te(ol)},{provide:gl,useValue:N2,multi:!0},{provide:yl,useValue:!0},{provide:gs,useClass:Y2}];for(let S of M)P.push(...S.\u0275providers);return Tt(P)}var U2=new ve(""),ll="b",hl="h",cl="s",ul="st",dl="u",fl="rt",ps=new ve(""),G2=["GET","HEAD"];function k2(M,P){let n=te(ps),{isCacheActive:S}=n,w=co(n,["isCacheActive"]),{transferCache:c,method:x}=M;if(!S||c===!1||x==="POST"&&!w.includePostRequests&&!c||x!=="POST"&&!G2.includes(x)||!w.includeRequestsWithAuthHeaders&&W2(M)||w.filter?.(M)===!1)return P(M);let e=te(cr),o=te(U2,{optional:!0}),p=yn(te(Ut));if(o&&!p)throw new be(2803,!1);let a=p&&o?$2(M.url,o):M.url,r=j2(M,a),s=e.get(r,null),t=w.includeHeaders;if(typeof c=="object"&&c.includeHeaders&&(t=c.includeHeaders),s){let{[ll]:h,[fl]:i,[hl]:l,[cl]:u,[ul]:d,[dl]:f}=s,v=h;switch(i){case"arraybuffer":v=new TextEncoder().encode(h).buffer;break;case"blob":v=new Blob([h]);break}let m=new Wt(l);return ue(new Fi({body:v,headers:m,status:u,statusText:d,url:f}))}return P(M).pipe(qe(h=>{h instanceof Fi&&p&&e.set(r,{[ll]:h.body,[hl]:X2(h.headers,t),[cl]:h.status,[ul]:h.statusText,[dl]:a,[fl]:M.responseType})}))}function W2(M){return M.headers.has("authorization")||M.headers.has("proxy-authorization")}function X2(M,P){if(!P)return{};let S={};for(let w of P){let c=M.getAll(w);c!==null&&(S[w]=c)}return S}function vl(M){return[...M.keys()].sort().map(P=>`${P}=${M.getAll(P)}`).join("&")}function j2(M,P){let{params:S,method:w,responseType:c}=M,x=vl(S),e=M.serializeBody();e instanceof URLSearchParams?e=vl(e):typeof e!="string"&&(e="");let o=[w,c,P,e,x].join("|"),p=K2(o);return p}function K2(M){let P=0;for(let S of M)P=Math.imul(31,P)+S.charCodeAt(0)<<0;return P+=2147483648,P.toString()}function Tl(M){return[{provide:ps,useFactory:()=>(pn("NgHttpTransferCache"),se({isCacheActive:!0},M))},{provide:xl,useValue:k2,multi:!0,deps:[cr,ps]},{provide:os,multi:!0,useFactory:()=>{let P=te(Di),S=te(ps);return()=>{Uo(P).then(()=>{S.isCacheActive=!1})}}}]}function $2(M,P){let S=new URL(M,"resolve://").origin,w=P[S];return w?M.replace(S,w):M}var br=class extends jo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vr=class M extends br{static makeCurrent(){Xo(new M)}onAndCancel(P,S,w){return P.addEventListener(S,w),()=>{P.removeEventListener(S,w)}}dispatchEvent(P,S){P.dispatchEvent(S)}remove(P){P.remove()}createElement(P,S){return S=S||this.getDefaultDocument(),S.createElement(P)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(P){return P.nodeType===Node.ELEMENT_NODE}isShadowRoot(P){return P instanceof DocumentFragment}getGlobalEventTarget(P,S){return S==="window"?window:S==="document"?P:S==="body"?P.body:null}getBaseHref(P){let S=q2();return S==null?null:_2(S)}resetBaseElement(){En=null}getUserAgent(){return window.navigator.userAgent}getCookie(P){return cs(document.cookie,P)}},En=null;function q2(){return En=En||document.querySelector("base"),En?En.getAttribute("href"):null}function _2(M){return new URL(M,document.baseURI).pathname}var ec=(()=>{class M{build(){return new XMLHttpRequest}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),Ir=new ve(""),Pl=(()=>{class M{constructor(S,w){this._zone=w,this._eventNameToPlugin=new Map,S.forEach(c=>{c.manager=this}),this._plugins=S.slice().reverse()}addEventListener(S,w,c){return this._findPluginFor(w).addEventListener(S,w,c)}getZone(){return this._zone}_findPluginFor(S){let w=this._eventNameToPlugin.get(S);if(w)return w;if(w=this._plugins.find(x=>x.supports(S)),!w)throw new be(5101,!1);return this._eventNameToPlugin.set(S,w),w}static{this.\u0275fac=function(w){return new(w||M)(ee(Ir),ee(Ve))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),xs=class{constructor(P){this._doc=P}},Rr="ng-app-id",wl=(()=>{class M{constructor(S,w,c,x={}){this.doc=S,this.appId=w,this.nonce=c,this.platformId=x,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yn(x),this.resetHostNodes()}addStyles(S){for(let w of S)this.changeUsageCount(w,1)===1&&this.onStyleAdded(w)}removeStyles(S){for(let w of S)this.changeUsageCount(w,-1)<=0&&this.onStyleRemoved(w)}ngOnDestroy(){let S=this.styleNodesInDOM;S&&(S.forEach(w=>w.remove()),S.clear());for(let w of this.getAllStyles())this.onStyleRemoved(w);this.resetHostNodes()}addHost(S){this.hostNodes.add(S);for(let w of this.getAllStyles())this.addStyleToHost(S,w)}removeHost(S){this.hostNodes.delete(S)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(S){for(let w of this.hostNodes)this.addStyleToHost(w,S)}onStyleRemoved(S){let w=this.styleRef;w.get(S)?.elements?.forEach(c=>c.remove()),w.delete(S)}collectServerRenderedStyles(){let S=this.doc.head?.querySelectorAll(`style[${Rr}="${this.appId}"]`);if(S?.length){let w=new Map;return S.forEach(c=>{c.textContent!=null&&w.set(c.textContent,c)}),w}return null}changeUsageCount(S,w){let c=this.styleRef;if(c.has(S)){let x=c.get(S);return x.usage+=w,x.usage}return c.set(S,{usage:w,elements:[]}),w}getStyleElement(S,w){let c=this.styleNodesInDOM,x=c?.get(w);if(x?.parentNode===S)return c.delete(w),x.removeAttribute(Rr),x;{let e=this.doc.createElement("style");return this.nonce&&e.setAttribute("nonce",this.nonce),e.textContent=w,this.platformIsServer&&e.setAttribute(Rr,this.appId),S.appendChild(e),e}}addStyleToHost(S,w){let c=this.getStyleElement(S,w),x=this.styleRef,e=x.get(w)?.elements;e?e.push(c):x.set(w,{elements:[c],usage:1})}resetHostNodes(){let S=this.hostNodes;S.clear(),S.add(this.doc.head)}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce),ee(hr),ee(zi,8),ee(Ut))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),Or={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yr=/%COMP%/g,zl="%COMP%",tc=`_nghost-${zl}`,ic=`_ngcontent-${zl}`,nc=!0,sc=new ve("",{providedIn:"root",factory:()=>nc});function rc(M){return ic.replace(Yr,M)}function ac(M){return tc.replace(Yr,M)}function Al(M,P){return P.map(S=>S.replace(Yr,M))}var Qi=(()=>{class M{constructor(S,w,c,x,e,o,p,a=null){this.eventManager=S,this.sharedStylesHost=w,this.appId=c,this.removeStylesOnCompDestroy=x,this.doc=e,this.platformId=o,this.ngZone=p,this.nonce=a,this.rendererByCompId=new Map,this.platformIsServer=yn(o),this.defaultRenderer=new Pn(S,e,p,this.platformIsServer)}createRenderer(S,w){if(!S||!w)return this.defaultRenderer;this.platformIsServer&&w.encapsulation===fn.ShadowDom&&(w=Ge(se({},w),{encapsulation:fn.Emulated}));let c=this.getOrCreateRenderer(S,w);return c instanceof ys?c.applyToHost(S):c instanceof wn&&c.applyStyles(),c}getOrCreateRenderer(S,w){let c=this.rendererByCompId,x=c.get(w.id);if(!x){let e=this.doc,o=this.ngZone,p=this.eventManager,a=this.sharedStylesHost,r=this.removeStylesOnCompDestroy,s=this.platformIsServer;switch(w.encapsulation){case fn.Emulated:x=new ys(p,a,w,this.appId,r,e,o,s);break;case fn.ShadowDom:return new Br(p,a,S,w,e,o,this.nonce,s);default:x=new wn(p,a,w,r,e,o,s);break}c.set(w.id,x)}return x}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(w){return new(w||M)(ee(Pl),ee(wl),ee(hr),ee(sc),ee(Ce),ee(Ut),ee(Ve),ee(zi))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),Pn=class{constructor(P,S,w,c){this.eventManager=P,this.doc=S,this.ngZone=w,this.platformIsServer=c,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(P,S){return S?this.doc.createElementNS(Or[S]||S,P):this.doc.createElement(P)}createComment(P){return this.doc.createComment(P)}createText(P){return this.doc.createTextNode(P)}appendChild(P,S){(Cl(P)?P.content:P).appendChild(S)}insertBefore(P,S,w){P&&(Cl(P)?P.content:P).insertBefore(S,w)}removeChild(P,S){S.remove()}selectRootElement(P,S){let w=typeof P=="string"?this.doc.querySelector(P):P;if(!w)throw new be(-5104,!1);return S||(w.textContent=""),w}parentNode(P){return P.parentNode}nextSibling(P){return P.nextSibling}setAttribute(P,S,w,c){if(c){S=c+":"+S;let x=Or[c];x?P.setAttributeNS(x,S,w):P.setAttribute(S,w)}else P.setAttribute(S,w)}removeAttribute(P,S,w){if(w){let c=Or[w];c?P.removeAttributeNS(c,S):P.removeAttribute(`${w}:${S}`)}else P.removeAttribute(S)}addClass(P,S){P.classList.add(S)}removeClass(P,S){P.classList.remove(S)}setStyle(P,S,w,c){c&(vn.DashCase|vn.Important)?P.style.setProperty(S,w,c&vn.Important?"important":""):P.style[S]=w}removeStyle(P,S,w){w&vn.DashCase?P.style.removeProperty(S):P.style[S]=""}setProperty(P,S,w){P!=null&&(P[S]=w)}setValue(P,S){P.nodeValue=S}listen(P,S,w){if(typeof P=="string"&&(P=Tr().getGlobalEventTarget(this.doc,P),!P))throw new Error(`Unsupported event target ${P} for event ${S}`);return this.eventManager.addEventListener(P,S,this.decoratePreventDefault(w))}decoratePreventDefault(P){return S=>{if(S==="__ngUnwrap__")return P;(this.platformIsServer?this.ngZone.runGuarded(()=>P(S)):P(S))===!1&&S.preventDefault()}}};function Cl(M){return M.tagName==="TEMPLATE"&&M.content!==void 0}var Br=class extends Pn{constructor(P,S,w,c,x,e,o,p){super(P,x,e,p),this.sharedStylesHost=S,this.hostEl=w,this.shadowRoot=w.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let a=Al(c.id,c.styles);for(let r of a){let s=document.createElement("style");o&&s.setAttribute("nonce",o),s.textContent=r,this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(P){return P===this.hostEl?this.shadowRoot:P}appendChild(P,S){return super.appendChild(this.nodeOrShadowRoot(P),S)}insertBefore(P,S,w){return super.insertBefore(this.nodeOrShadowRoot(P),S,w)}removeChild(P,S){return super.removeChild(null,S)}parentNode(P){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(P)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wn=class extends Pn{constructor(P,S,w,c,x,e,o,p){super(P,x,e,o),this.sharedStylesHost=S,this.removeStylesOnCompDestroy=c,this.styles=p?Al(p,w.styles):w.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ys=class extends wn{constructor(P,S,w,c,x,e,o,p){let a=c+"-"+w.id;super(P,S,w,x,e,o,p,a),this.contentAttr=rc(a),this.hostAttr=ac(a)}applyToHost(P){this.applyStyles(),this.setAttribute(P,this.hostAttr,"")}createElement(P,S){let w=super.createElement(P,S);return super.setAttribute(w,this.contentAttr,""),w}},oc=(()=>{class M extends xs{constructor(S){super(S)}supports(S){return!0}addEventListener(S,w,c){return S.addEventListener(w,c,!1),()=>this.removeEventListener(S,w,c)}removeEventListener(S,w,c){return S.removeEventListener(w,c)}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),Ml=["alt","control","meta","shift"],lc={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hc={alt:M=>M.altKey,control:M=>M.ctrlKey,meta:M=>M.metaKey,shift:M=>M.shiftKey},cc=(()=>{class M extends xs{constructor(S){super(S)}supports(S){return M.parseEventName(S)!=null}addEventListener(S,w,c){let x=M.parseEventName(w),e=M.eventCallback(x.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(S,x.domEventName,e))}static parseEventName(S){let w=S.toLowerCase().split("."),c=w.shift();if(w.length===0||!(c==="keydown"||c==="keyup"))return null;let x=M._normalizeKey(w.pop()),e="",o=w.indexOf("code");if(o>-1&&(w.splice(o,1),e="code."),Ml.forEach(a=>{let r=w.indexOf(a);r>-1&&(w.splice(r,1),e+=a+".")}),e+=x,w.length!=0||x.length===0)return null;let p={};return p.domEventName=c,p.fullKey=e,p}static matchEventFullKeyCode(S,w){let c=lc[S.key]||S.key,x="";return w.indexOf("code.")>-1&&(c=S.code,x="code."),c==null||!c?!1:(c=c.toLowerCase(),c===" "?c="space":c==="."&&(c="dot"),Ml.forEach(e=>{if(e!==c){let o=hc[e];o(S)&&(x+=e+".")}}),x+=c,x===w)}static eventCallback(S,w,c){return x=>{M.matchEventFullKeyCode(x,S)&&c.runGuarded(()=>w(x))}}static _normalizeKey(S){return S==="esc"?"escape":S}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})();function Dl(M,P){return ko(se({rootComponent:M},uc(P)))}function uc(M){return{appProviders:[...mc,...M?.providers??[]],platformProviders:pc}}function dc(){Vr.makeCurrent()}function fc(){return new lr}function vc(){return Eo(document),document}var pc=[{provide:Ut,useValue:Zo},{provide:Po,useValue:dc,multi:!0},{provide:Ce,useFactory:vc,deps:[]}];var mc=[{provide:Co,useValue:"root"},{provide:lr,useFactory:fc,deps:[]},{provide:Ir,useClass:oc,multi:!0,deps:[Ce,Ve,Ut]},{provide:Ir,useClass:cc,multi:!0,deps:[Ce]},Qi,wl,Pl,{provide:Ft,useExisting:Qi},{provide:us,useClass:ec,deps:[]},[]];var Fl=(()=>{class M{constructor(S){this._doc=S}getTitle(){return this._doc.title}setTitle(S){this._doc.title=S||""}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var zn=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:function(w){let c=null;return w?c=new(w||M):c=ee(gc),c},providedIn:"root"})}}return M})(),gc=(()=>{class M extends zn{constructor(S){super(),this._doc=S}sanitize(S,w){if(w==null)return null;switch(S){case $t.NONE:return w;case $t.HTML:return ji(w,"HTML")?Xi(w):Ro(this._doc,String(w)).toString();case $t.STYLE:return ji(w,"Style")?Xi(w):w;case $t.SCRIPT:if(ji(w,"Script"))return Xi(w);throw new be(5200,!1);case $t.URL:return ji(w,"URL")?Xi(w):Lo(String(w));case $t.RESOURCE_URL:if(ji(w,"ResourceURL"))return Xi(w);throw new be(5201,!1);default:throw new be(5202,!1)}}bypassSecurityTrustHtml(S){return wo(S)}bypassSecurityTrustStyle(S){return zo(S)}bypassSecurityTrustScript(S){return Ao(S)}bypassSecurityTrustUrl(S){return Do(S)}bypassSecurityTrustResourceUrl(S){return Fo(S)}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Hr=function(M){return M[M.NoHttpTransferCache=0]="NoHttpTransferCache",M[M.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",M[M.I18nSupport=2]="I18nSupport",M[M.EventReplay=3]="EventReplay",M}(Hr||{});function Ll(...M){let P=[],S=new Set,w=S.has(Hr.HttpTransferCacheOptions);for(let{\u0275providers:c,\u0275kind:x}of M)S.add(x),c.length&&P.push(c);return Tt([[],Wo(),S.has(Hr.NoHttpTransferCache)||w?[]:Tl({}),P])}var ge="primary",kn=Symbol("RouteTitle"),Xr=class{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){let S=this.params[P];return Array.isArray(S)?S[0]:S}return null}getAll(P){if(this.has(P)){let S=this.params[P];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}};function nn(M){return new Xr(M)}function xc(M,P,S){let w=S.path.split("/");if(w.length>M.length||S.pathMatch==="full"&&(P.hasChildren()||w.length<M.length))return null;let c={};for(let x=0;x<w.length;x++){let e=w[x],o=M[x];if(e[0]===":")c[e.substring(1)]=o;else if(e!==o.path)return null}return{consumed:M.slice(0,w.length),posParams:c}}function yc(M,P){if(M.length!==P.length)return!1;for(let S=0;S<M.length;++S)if(!Xt(M[S],P[S]))return!1;return!0}function Xt(M,P){let S=M?jr(M):void 0,w=P?jr(P):void 0;if(!S||!w||S.length!=w.length)return!1;let c;for(let x=0;x<S.length;x++)if(c=S[x],!Yl(M[c],P[c]))return!1;return!0}function jr(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function Yl(M,P){if(Array.isArray(M)&&Array.isArray(P)){if(M.length!==P.length)return!1;let S=[...M].sort(),w=[...P].sort();return S.every((c,x)=>w[x]===c)}else return M===P}function Nl(M){return M.length>0?M[M.length-1]:null}function ui(M){return is(M)?M:xr(M)?ht(Promise.resolve(M)):ue(M)}var Sc={exact:Gl,subset:kl},Ul={exact:Tc,subset:Cc,ignored:()=>!0};function Rl(M,P,S){return Sc[S.paths](M.root,P.root,S.matrixParams)&&Ul[S.queryParams](M.queryParams,P.queryParams)&&!(S.fragment==="exact"&&M.fragment!==P.fragment)}function Tc(M,P){return Xt(M,P)}function Gl(M,P,S){if(!Ri(M.segments,P.segments)||!Cs(M.segments,P.segments,S)||M.numberOfChildren!==P.numberOfChildren)return!1;for(let w in P.children)if(!M.children[w]||!Gl(M.children[w],P.children[w],S))return!1;return!0}function Cc(M,P){return Object.keys(P).length<=Object.keys(M).length&&Object.keys(P).every(S=>Yl(M[S],P[S]))}function kl(M,P,S){return Wl(M,P,P.segments,S)}function Wl(M,P,S,w){if(M.segments.length>S.length){let c=M.segments.slice(0,S.length);return!(!Ri(c,S)||P.hasChildren()||!Cs(c,S,w))}else if(M.segments.length===S.length){if(!Ri(M.segments,S)||!Cs(M.segments,S,w))return!1;for(let c in P.children)if(!M.children[c]||!kl(M.children[c],P.children[c],w))return!1;return!0}else{let c=S.slice(0,M.segments.length),x=S.slice(M.segments.length);return!Ri(M.segments,c)||!Cs(M.segments,c,w)||!M.children[ge]?!1:Wl(M.children[ge],P,x,w)}}function Cs(M,P,S){return P.every((w,c)=>Ul[S](M[c].parameters,w.parameters))}var Qt=class{constructor(P=new ze([],{}),S={},w=null){this.root=P,this.queryParams=S,this.fragment=w}get queryParamMap(){return this._queryParamMap??=nn(this.queryParams),this._queryParamMap}toString(){return Pc.serialize(this)}},ze=class{constructor(P,S){this.segments=P,this.children=S,this.parent=null,Object.values(S).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ms(this)}},Li=class{constructor(P,S){this.path=P,this.parameters=S}get parameterMap(){return this._parameterMap??=nn(this.parameters),this._parameterMap}toString(){return jl(this)}};function Mc(M,P){return Ri(M,P)&&M.every((S,w)=>Xt(S.parameters,P[w].parameters))}function Ri(M,P){return M.length!==P.length?!1:M.every((S,w)=>S.path===P[w].path)}function Ec(M,P){let S=[];return Object.entries(M.children).forEach(([w,c])=>{w===ge&&(S=S.concat(P(c,w)))}),Object.entries(M.children).forEach(([w,c])=>{w!==ge&&(S=S.concat(P(c,w)))}),S}var xa=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:()=>new bn,providedIn:"root"})}}return M})(),bn=class{parse(P){let S=new $r(P);return new Qt(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(P){let S=`/${An(P.root,!0)}`,w=Ac(P.queryParams),c=typeof P.fragment=="string"?`#${wc(P.fragment)}`:"";return`${S}${w}${c}`}},Pc=new bn;function Ms(M){return M.segments.map(P=>jl(P)).join("/")}function An(M,P){if(!M.hasChildren())return Ms(M);if(P){let S=M.children[ge]?An(M.children[ge],!1):"",w=[];return Object.entries(M.children).forEach(([c,x])=>{c!==ge&&w.push(`${c}:${An(x,!1)}`)}),w.length>0?`${S}(${w.join("//")})`:S}else{let S=Ec(M,(w,c)=>c===ge?[An(M.children[ge],!1)]:[`${c}:${An(w,!1)}`]);return Object.keys(M.children).length===1&&M.children[ge]!=null?`${Ms(M)}/${S[0]}`:`${Ms(M)}/(${S.join("//")})`}}function Xl(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ss(M){return Xl(M).replace(/%3B/gi,";")}function wc(M){return encodeURI(M)}function Kr(M){return Xl(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Es(M){return decodeURIComponent(M)}function Ol(M){return Es(M.replace(/\+/g,"%20"))}function jl(M){return`${Kr(M.path)}${zc(M.parameters)}`}function zc(M){return Object.entries(M).map(([P,S])=>`;${Kr(P)}=${Kr(S)}`).join("")}function Ac(M){let P=Object.entries(M).map(([S,w])=>Array.isArray(w)?w.map(c=>`${Ss(S)}=${Ss(c)}`).join("&"):`${Ss(S)}=${Ss(w)}`).filter(S=>S);return P.length?`?${P.join("&")}`:""}var Dc=/^[^\/()?;#]+/;function Ur(M){let P=M.match(Dc);return P?P[0]:""}var Fc=/^[^\/()?;=#]+/;function Lc(M){let P=M.match(Fc);return P?P[0]:""}var Rc=/^[^=?&#]+/;function Oc(M){let P=M.match(Rc);return P?P[0]:""}var bc=/^[^&#]+/;function Vc(M){let P=M.match(bc);return P?P[0]:""}var $r=class{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let P={};if(this.consumeOptional("?"))do this.parseQueryParam(P);while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(P.length>0||Object.keys(S).length>0)&&(w[ge]=new ze(P,S)),w}parseSegment(){let P=Ur(this.remaining);if(P===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(P),new Li(Es(P),this.parseMatrixParams())}parseMatrixParams(){let P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){let S=Lc(this.remaining);if(!S)return;this.capture(S);let w="";if(this.consumeOptional("=")){let c=Ur(this.remaining);c&&(w=c,this.capture(w))}P[Es(S)]=Es(w)}parseQueryParam(P){let S=Oc(this.remaining);if(!S)return;this.capture(S);let w="";if(this.consumeOptional("=")){let e=Vc(this.remaining);e&&(w=e,this.capture(w))}let c=Ol(S),x=Ol(w);if(P.hasOwnProperty(c)){let e=P[c];Array.isArray(e)||(e=[e],P[c]=e),e.push(x)}else P[c]=x}parseParens(P){let S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let w=Ur(this.remaining),c=this.remaining[w.length];if(c!=="/"&&c!==")"&&c!==";")throw new be(4010,!1);let x;w.indexOf(":")>-1?(x=w.slice(0,w.indexOf(":")),this.capture(x),this.capture(":")):P&&(x=ge);let e=this.parseChildren();S[x]=Object.keys(e).length===1?e[ge]:new ze([],e),this.consumeOptional("//")}return S}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return this.peekStartsWith(P)?(this.remaining=this.remaining.substring(P.length),!0):!1}capture(P){if(!this.consumeOptional(P))throw new be(4011,!1)}};function Kl(M){return M.segments.length>0?new ze([],{[ge]:M}):M}function $l(M){let P={};for(let[w,c]of Object.entries(M.children)){let x=$l(c);if(w===ge&&x.segments.length===0&&x.hasChildren())for(let[e,o]of Object.entries(x.children))P[e]=o;else(x.segments.length>0||x.hasChildren())&&(P[w]=x)}let S=new ze(M.segments,P);return Ic(S)}function Ic(M){if(M.numberOfChildren===1&&M.children[ge]){let P=M.children[ge];return new ze(M.segments.concat(P.segments),P.children)}return M}function Oi(M){return M instanceof Qt}function Bc(M,P,S=null,w=null){let c=Zl(M);return Ql(c,P,S,w)}function Zl(M){let P;function S(x){let e={};for(let p of x.children){let a=S(p);e[p.outlet]=a}let o=new ze(x.url,e);return x===M&&(P=o),o}let w=S(M.root),c=Kl(w);return P??c}function Ql(M,P,S,w){let c=M;for(;c.parent;)c=c.parent;if(P.length===0)return Gr(c,c,c,S,w);let x=Hc(P);if(x.toRoot())return Gr(c,c,new ze([],{}),S,w);let e=Yc(x,c,M),o=e.processChildren?Ln(e.segmentGroup,e.index,x.commands):ql(e.segmentGroup,e.index,x.commands);return Gr(c,e.segmentGroup,o,S,w)}function Ps(M){return typeof M=="object"&&M!=null&&!M.outlets&&!M.segmentPath}function Vn(M){return typeof M=="object"&&M!=null&&M.outlets}function Gr(M,P,S,w,c){let x={};w&&Object.entries(w).forEach(([p,a])=>{x[p]=Array.isArray(a)?a.map(r=>`${r}`):`${a}`});let e;M===P?e=S:e=Jl(M,P,S);let o=Kl($l(e));return new Qt(o,x,c)}function Jl(M,P,S){let w={};return Object.entries(M.children).forEach(([c,x])=>{x===P?w[c]=S:w[c]=Jl(x,P,S)}),new ze(M.segments,w)}var ws=class{constructor(P,S,w){if(this.isAbsolute=P,this.numberOfDoubleDots=S,this.commands=w,P&&w.length>0&&Ps(w[0]))throw new be(4003,!1);let c=w.find(Vn);if(c&&c!==Nl(w))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Hc(M){if(typeof M[0]=="string"&&M.length===1&&M[0]==="/")return new ws(!0,0,M);let P=0,S=!1,w=M.reduce((c,x,e)=>{if(typeof x=="object"&&x!=null){if(x.outlets){let o={};return Object.entries(x.outlets).forEach(([p,a])=>{o[p]=typeof a=="string"?a.split("/"):a}),[...c,{outlets:o}]}if(x.segmentPath)return[...c,x.segmentPath]}return typeof x!="string"?[...c,x]:e===0?(x.split("/").forEach((o,p)=>{p==0&&o==="."||(p==0&&o===""?S=!0:o===".."?P++:o!=""&&c.push(o))}),c):[...c,x]},[]);return new ws(S,P,w)}var _i=class{constructor(P,S,w){this.segmentGroup=P,this.processChildren=S,this.index=w}};function Yc(M,P,S){if(M.isAbsolute)return new _i(P,!0,0);if(!S)return new _i(P,!1,NaN);if(S.parent===null)return new _i(S,!0,0);let w=Ps(M.commands[0])?0:1,c=S.segments.length-1+w;return Nc(S,c,M.numberOfDoubleDots)}function Nc(M,P,S){let w=M,c=P,x=S;for(;x>c;){if(x-=c,w=w.parent,!w)throw new be(4005,!1);c=w.segments.length}return new _i(w,!1,c-x)}function Uc(M){return Vn(M[0])?M[0].outlets:{[ge]:M}}function ql(M,P,S){if(M??=new ze([],{}),M.segments.length===0&&M.hasChildren())return Ln(M,P,S);let w=Gc(M,P,S),c=S.slice(w.commandIndex);if(w.match&&w.pathIndex<M.segments.length){let x=new ze(M.segments.slice(0,w.pathIndex),{});return x.children[ge]=new ze(M.segments.slice(w.pathIndex),M.children),Ln(x,0,c)}else return w.match&&c.length===0?new ze(M.segments,{}):w.match&&!M.hasChildren()?Zr(M,P,S):w.match?Ln(M,0,c):Zr(M,P,S)}function Ln(M,P,S){if(S.length===0)return new ze(M.segments,{});{let w=Uc(S),c={};if(Object.keys(w).some(x=>x!==ge)&&M.children[ge]&&M.numberOfChildren===1&&M.children[ge].segments.length===0){let x=Ln(M.children[ge],P,S);return new ze(M.segments,x.children)}return Object.entries(w).forEach(([x,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(c[x]=ql(M.children[x],P,e))}),Object.entries(M.children).forEach(([x,e])=>{w[x]===void 0&&(c[x]=e)}),new ze(M.segments,c)}}function Gc(M,P,S){let w=0,c=P,x={match:!1,pathIndex:0,commandIndex:0};for(;c<M.segments.length;){if(w>=S.length)return x;let e=M.segments[c],o=S[w];if(Vn(o))break;let p=`${o}`,a=w<S.length-1?S[w+1]:null;if(c>0&&p===void 0)break;if(p&&a&&typeof a=="object"&&a.outlets===void 0){if(!Vl(p,a,e))return x;w+=2}else{if(!Vl(p,{},e))return x;w++}c++}return{match:!0,pathIndex:c,commandIndex:w}}function Zr(M,P,S){let w=M.segments.slice(0,P),c=0;for(;c<S.length;){let x=S[c];if(Vn(x)){let p=kc(x.outlets);return new ze(w,p)}if(c===0&&Ps(S[0])){let p=M.segments[P];w.push(new Li(p.path,bl(S[0]))),c++;continue}let e=Vn(x)?x.outlets[ge]:`${x}`,o=c<S.length-1?S[c+1]:null;e&&o&&Ps(o)?(w.push(new Li(e,bl(o))),c+=2):(w.push(new Li(e,{})),c++)}return new ze(w,{})}function kc(M){let P={};return Object.entries(M).forEach(([S,w])=>{typeof w=="string"&&(w=[w]),w!==null&&(P[S]=Zr(new ze([],{}),0,w))}),P}function bl(M){let P={};return Object.entries(M).forEach(([S,w])=>P[S]=`${w}`),P}function Vl(M,P,S){return M==S.path&&Xt(P,S.parameters)}var Rn="imperative",at=function(M){return M[M.NavigationStart=0]="NavigationStart",M[M.NavigationEnd=1]="NavigationEnd",M[M.NavigationCancel=2]="NavigationCancel",M[M.NavigationError=3]="NavigationError",M[M.RoutesRecognized=4]="RoutesRecognized",M[M.ResolveStart=5]="ResolveStart",M[M.ResolveEnd=6]="ResolveEnd",M[M.GuardsCheckStart=7]="GuardsCheckStart",M[M.GuardsCheckEnd=8]="GuardsCheckEnd",M[M.RouteConfigLoadStart=9]="RouteConfigLoadStart",M[M.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",M[M.ChildActivationStart=11]="ChildActivationStart",M[M.ChildActivationEnd=12]="ChildActivationEnd",M[M.ActivationStart=13]="ActivationStart",M[M.ActivationEnd=14]="ActivationEnd",M[M.Scroll=15]="Scroll",M[M.NavigationSkipped=16]="NavigationSkipped",M}(at||{}),Rt=class{constructor(P,S){this.id=P,this.url=S}},In=class extends Rt{constructor(P,S,w="imperative",c=null){super(P,S),this.type=at.NavigationStart,this.navigationTrigger=w,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jt=class extends Rt{constructor(P,S,w){super(P,S),this.urlAfterRedirects=w,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(M){return M[M.Redirect=0]="Redirect",M[M.SupersededByNewNavigation=1]="SupersededByNewNavigation",M[M.NoDataFromResolver=2]="NoDataFromResolver",M[M.GuardRejected=3]="GuardRejected",M}(zt||{}),Qr=function(M){return M[M.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",M[M.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",M}(Qr||{}),Zt=class extends Rt{constructor(P,S,w,c){super(P,S),this.reason=w,this.code=c,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bi=class extends Rt{constructor(P,S,w,c){super(P,S),this.reason=w,this.code=c,this.type=at.NavigationSkipped}},Bn=class extends Rt{constructor(P,S,w,c){super(P,S),this.error=w,this.target=c,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zs=class extends Rt{constructor(P,S,w,c){super(P,S),this.urlAfterRedirects=w,this.state=c,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jr=class extends Rt{constructor(P,S,w,c){super(P,S),this.urlAfterRedirects=w,this.state=c,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qr=class extends Rt{constructor(P,S,w,c,x){super(P,S),this.urlAfterRedirects=w,this.state=c,this.shouldActivate=x,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_r=class extends Rt{constructor(P,S,w,c){super(P,S),this.urlAfterRedirects=w,this.state=c,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ea=class extends Rt{constructor(P,S,w,c){super(P,S),this.urlAfterRedirects=w,this.state=c,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ta=class{constructor(P){this.route=P,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ia=class{constructor(P){this.route=P,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},na=class{constructor(P){this.snapshot=P,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sa=class{constructor(P){this.snapshot=P,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ra=class{constructor(P){this.snapshot=P,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aa=class{constructor(P){this.snapshot=P,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Hn=class{},sn=class{constructor(P,S){this.url=P,this.navigationBehaviorOptions=S}};function Wc(M,P){return M.providers&&!M._injector&&(M._injector=Io(M.providers,P,`Route: ${M.path}`)),M._injector??P}function It(M){return M.outlet||ge}function Xc(M,P){let S=M.filter(w=>It(w)===P);return S.push(...M.filter(w=>It(w)!==P)),S}function Wn(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let P=M.parent;P;P=P.parent){let S=P.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}var oa=class{get injector(){return Wn(this.route?.snapshot)??this.rootInjector}set injector(P){}constructor(P){this.rootInjector=P,this.outlet=null,this.route=null,this.children=new bs(this.rootInjector),this.attachRef=null}},bs=(()=>{class M{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,w){let c=this.getOrCreateContext(S);c.outlet=w,this.contexts.set(S,c)}onChildOutletDestroyed(S){let w=this.getContext(S);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){let S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let w=this.getContext(S);return w||(w=new oa(this.rootInjector),this.contexts.set(S,w)),w}getContext(S){return this.contexts.get(S)||null}static{this.\u0275fac=function(w){return new(w||M)(ee(si))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),As=class{constructor(P){this._root=P}get root(){return this._root.value}parent(P){let S=this.pathFromRoot(P);return S.length>1?S[S.length-2]:null}children(P){let S=la(P,this._root);return S?S.children.map(w=>w.value):[]}firstChild(P){let S=la(P,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(P){let S=ha(P,this._root);return S.length<2?[]:S[S.length-2].children.map(c=>c.value).filter(c=>c!==P)}pathFromRoot(P){return ha(P,this._root).map(S=>S.value)}};function la(M,P){if(M===P.value)return P;for(let S of P.children){let w=la(M,S);if(w)return w}return null}function ha(M,P){if(M===P.value)return[P];for(let S of P.children){let w=ha(M,S);if(w.length)return w.unshift(P),w}return[]}var wt=class{constructor(P,S){this.value=P,this.children=S}toString(){return`TreeNode(${this.value})`}};function qi(M){let P={};return M&&M.children.forEach(S=>P[S.value.outlet]=S),P}var Ds=class extends As{constructor(P,S){super(P),this.snapshot=S,ya(this,P)}toString(){return this.snapshot.toString()}};function _l(M){let P=jc(M),S=new Qe([new Li("",{})]),w=new Qe({}),c=new Qe({}),x=new Qe({}),e=new Qe(""),o=new Vi(S,w,x,e,c,ge,M,P.root);return o.snapshot=P.root,new Ds(new wt(o,[]),P)}function jc(M){let P={},S={},w={},c="",x=new en([],P,w,c,S,ge,M,null,{});return new Ls("",new wt(x,[]))}var Vi=class{constructor(P,S,w,c,x,e,o,p){this.urlSubject=P,this.paramsSubject=S,this.queryParamsSubject=w,this.fragmentSubject=c,this.dataSubject=x,this.outlet=e,this.component=o,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(me(a=>a[kn]))??ue(void 0),this.url=P,this.params=S,this.queryParams=w,this.fragment=c,this.data=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(P=>nn(P))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(P=>nn(P))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fs(M,P,S="emptyOnly"){let w,{routeConfig:c}=M;return P!==null&&(S==="always"||c?.path===""||!P.component&&!P.routeConfig?.loadComponent)?w={params:se(se({},P.params),M.params),data:se(se({},P.data),M.data),resolve:se(se(se(se({},M.data),P.data),c?.data),M._resolvedData)}:w={params:se({},M.params),data:se({},M.data),resolve:se(se({},M.data),M._resolvedData??{})},c&&t1(c)&&(w.resolve[kn]=c.title),w}var en=class{get title(){return this.data?.[kn]}constructor(P,S,w,c,x,e,o,p,a){this.url=P,this.params=S,this.queryParams=w,this.fragment=c,this.data=x,this.outlet=e,this.component=o,this.routeConfig=p,this._resolve=a}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nn(this.queryParams),this._queryParamMap}toString(){let P=this.url.map(w=>w.toString()).join("/"),S=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${P}', path:'${S}')`}},Ls=class extends As{constructor(P,S){super(S),this.url=P,ya(this,S)}toString(){return e1(this._root)}};function ya(M,P){P.value._routerState=M,P.children.forEach(S=>ya(M,S))}function e1(M){let P=M.children.length>0?` { ${M.children.map(e1).join(", ")} } `:"";return`${M.value}${P}`}function kr(M){if(M.snapshot){let P=M.snapshot,S=M._futureSnapshot;M.snapshot=S,Xt(P.queryParams,S.queryParams)||M.queryParamsSubject.next(S.queryParams),P.fragment!==S.fragment&&M.fragmentSubject.next(S.fragment),Xt(P.params,S.params)||M.paramsSubject.next(S.params),yc(P.url,S.url)||M.urlSubject.next(S.url),Xt(P.data,S.data)||M.dataSubject.next(S.data)}else M.snapshot=M._futureSnapshot,M.dataSubject.next(M._futureSnapshot.data)}function ca(M,P){let S=Xt(M.params,P.params)&&Mc(M.url,P.url),w=!M.parent!=!P.parent;return S&&!w&&(!M.parent||ca(M.parent,P.parent))}function t1(M){return typeof M.title=="string"||M.title===null}var Sa=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=te(bs),this.location=te(ri),this.changeDetector=te(mt),this.inputBinder=te(Ta,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){let{firstChange:w,previousValue:c}=S.name;if(w)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,w){this.activated=S,this._activatedRoute=w,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){let S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,w){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=S;let c=this.location,e=S.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,p=new ua(S,o,c.injector);this.activated=c.createComponent(e,{index:c.length,injector:p,environmentInjector:w}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275dir=_e({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$e]})}}return M})(),ua=class M{__ngOutletInjector(P){return new M(this.route,this.childContexts,P)}constructor(P,S,w){this.route=P,this.childContexts=S,this.parent=w}get(P,S){return P===Vi?this.route:P===bs?this.childContexts:this.parent.get(P,S)}},Ta=new ve("");function Kc(M,P,S){let w=Yn(M,P._root,S?S._root:void 0);return new Ds(w,P)}function Yn(M,P,S){if(S&&M.shouldReuseRoute(P.value,S.value.snapshot)){let w=S.value;w._futureSnapshot=P.value;let c=$c(M,P,S);return new wt(w,c)}else{if(M.shouldAttach(P.value)){let x=M.retrieve(P.value);if(x!==null){let e=x.route;return e.value._futureSnapshot=P.value,e.children=P.children.map(o=>Yn(M,o)),e}}let w=Zc(P.value),c=P.children.map(x=>Yn(M,x));return new wt(w,c)}}function $c(M,P,S){return P.children.map(w=>{for(let c of S.children)if(M.shouldReuseRoute(w.value,c.value.snapshot))return Yn(M,w,c);return Yn(M,w)})}function Zc(M){return new Vi(new Qe(M.url),new Qe(M.params),new Qe(M.queryParams),new Qe(M.fragment),new Qe(M.data),M.outlet,M.component,M)}var Nn=class{constructor(P,S){this.redirectTo=P,this.navigationBehaviorOptions=S}},i1="ngNavigationCancelingError";function Rs(M,P){let{redirectTo:S,navigationBehaviorOptions:w}=Oi(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,c=n1(!1,zt.Redirect);return c.url=S,c.navigationBehaviorOptions=w,c}function n1(M,P){let S=new Error(`NavigationCancelingError: ${M||""}`);return S[i1]=!0,S.cancellationCode=P,S}function Qc(M){return s1(M)&&Oi(M.url)}function s1(M){return!!M&&M[i1]}var Jc=(M,P,S,w)=>me(c=>(new da(P,c.targetRouterState,c.currentRouterState,S,w).activate(M),c)),da=class{constructor(P,S,w,c,x){this.routeReuseStrategy=P,this.futureState=S,this.currState=w,this.forwardEvent=c,this.inputBindingEnabled=x}activate(P){let S=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,w,P),kr(this.futureState.root),this.activateChildRoutes(S,w,P)}deactivateChildRoutes(P,S,w){let c=qi(S);P.children.forEach(x=>{let e=x.value.outlet;this.deactivateRoutes(x,c[e],w),delete c[e]}),Object.values(c).forEach(x=>{this.deactivateRouteAndItsChildren(x,w)})}deactivateRoutes(P,S,w){let c=P.value,x=S?S.value:null;if(c===x)if(c.component){let e=w.getContext(c.outlet);e&&this.deactivateChildRoutes(P,S,e.children)}else this.deactivateChildRoutes(P,S,w);else x&&this.deactivateRouteAndItsChildren(S,w)}deactivateRouteAndItsChildren(P,S){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,S):this.deactivateRouteAndOutlet(P,S)}detachAndStoreRouteSubtree(P,S){let w=S.getContext(P.value.outlet),c=w&&P.value.component?w.children:S,x=qi(P);for(let e of Object.values(x))this.deactivateRouteAndItsChildren(e,c);if(w&&w.outlet){let e=w.outlet.detach(),o=w.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:e,route:P,contexts:o})}}deactivateRouteAndOutlet(P,S){let w=S.getContext(P.value.outlet),c=w&&P.value.component?w.children:S,x=qi(P);for(let e of Object.values(x))this.deactivateRouteAndItsChildren(e,c);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(P,S,w){let c=qi(S);P.children.forEach(x=>{this.activateRoutes(x,c[x.value.outlet],w),this.forwardEvent(new aa(x.value.snapshot))}),P.children.length&&this.forwardEvent(new sa(P.value.snapshot))}activateRoutes(P,S,w){let c=P.value,x=S?S.value:null;if(kr(c),c===x)if(c.component){let e=w.getOrCreateContext(c.outlet);this.activateChildRoutes(P,S,e.children)}else this.activateChildRoutes(P,S,w);else if(c.component){let e=w.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){let o=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),e.children.onOutletReAttached(o.contexts),e.attachRef=o.componentRef,e.route=o.route.value,e.outlet&&e.outlet.attach(o.componentRef,o.route.value),kr(o.route.value),this.activateChildRoutes(P,null,e.children)}else e.attachRef=null,e.route=c,e.outlet&&e.outlet.activateWith(c,e.injector),this.activateChildRoutes(P,null,e.children)}else this.activateChildRoutes(P,null,w)}},Os=class{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}},tn=class{constructor(P,S){this.component=P,this.route=S}};function qc(M,P,S){let w=M._root,c=P?P._root:null;return Dn(w,c,S,[w.value])}function _c(M){let P=M.routeConfig?M.routeConfig.canActivateChild:null;return!P||P.length===0?null:{node:M,guards:P}}function an(M,P){let S=Symbol(),w=P.get(M,S);return w===S?typeof M=="function"&&!So(M)?M:P.get(M):w}function Dn(M,P,S,w,c={canDeactivateChecks:[],canActivateChecks:[]}){let x=qi(P);return M.children.forEach(e=>{e0(e,x[e.value.outlet],S,w.concat([e.value]),c),delete x[e.value.outlet]}),Object.entries(x).forEach(([e,o])=>On(o,S.getContext(e),c)),c}function e0(M,P,S,w,c={canDeactivateChecks:[],canActivateChecks:[]}){let x=M.value,e=P?P.value:null,o=S?S.getContext(M.value.outlet):null;if(e&&x.routeConfig===e.routeConfig){let p=t0(e,x,x.routeConfig.runGuardsAndResolvers);p?c.canActivateChecks.push(new Os(w)):(x.data=e.data,x._resolvedData=e._resolvedData),x.component?Dn(M,P,o?o.children:null,w,c):Dn(M,P,S,w,c),p&&o&&o.outlet&&o.outlet.isActivated&&c.canDeactivateChecks.push(new tn(o.outlet.component,e))}else e&&On(P,o,c),c.canActivateChecks.push(new Os(w)),x.component?Dn(M,null,o?o.children:null,w,c):Dn(M,null,S,w,c);return c}function t0(M,P,S){if(typeof S=="function")return S(M,P);switch(S){case"pathParamsChange":return!Ri(M.url,P.url);case"pathParamsOrQueryParamsChange":return!Ri(M.url,P.url)||!Xt(M.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ca(M,P)||!Xt(M.queryParams,P.queryParams);case"paramsChange":default:return!ca(M,P)}}function On(M,P,S){let w=qi(M),c=M.value;Object.entries(w).forEach(([x,e])=>{c.component?P?On(e,P.children.getContext(x),S):On(e,null,S):On(e,P,S)}),c.component?P&&P.outlet&&P.outlet.isActivated?S.canDeactivateChecks.push(new tn(P.outlet.component,c)):S.canDeactivateChecks.push(new tn(null,c)):S.canDeactivateChecks.push(new tn(null,c))}function Xn(M){return typeof M=="function"}function i0(M){return typeof M=="boolean"}function n0(M){return M&&Xn(M.canLoad)}function s0(M){return M&&Xn(M.canActivate)}function r0(M){return M&&Xn(M.canActivateChild)}function a0(M){return M&&Xn(M.canDeactivate)}function o0(M){return M&&Xn(M.canMatch)}function r1(M){return M instanceof fo||M?.name==="EmptyError"}var Ts=Symbol("INITIAL_VALUE");function rn(){return dt(M=>ti(M.map(P=>P.pipe(Yt(1),Kt(Ts)))).pipe(me(P=>{for(let S of P)if(S!==!0){if(S===Ts)return Ts;if(S===!1||l0(S))return S}return!0}),Je(P=>P!==Ts),Yt(1)))}function l0(M){return Oi(M)||M instanceof Nn}function h0(M,P){return pt(S=>{let{targetSnapshot:w,currentSnapshot:c,guards:{canActivateChecks:x,canDeactivateChecks:e}}=S;return e.length===0&&x.length===0?ue(Ge(se({},S),{guardsResult:!0})):c0(e,w,c,M).pipe(pt(o=>o&&i0(o)?u0(w,x,M,P):ue(o)),me(o=>Ge(se({},S),{guardsResult:o})))})}function c0(M,P,S,w){return ht(M).pipe(pt(c=>m0(c.component,c.route,S,P,w)),ni(c=>c!==!0,!0))}function u0(M,P,S,w){return ht(P).pipe(Ci(c=>vo(f0(c.route.parent,w),d0(c.route,w),p0(M,c.path,S),v0(M,c.route,S))),ni(c=>c!==!0,!0))}function d0(M,P){return M!==null&&P&&P(new ra(M)),ue(!0)}function f0(M,P){return M!==null&&P&&P(new na(M)),ue(!0)}function v0(M,P,S){let w=P.routeConfig?P.routeConfig.canActivate:null;if(!w||w.length===0)return ue(!0);let c=w.map(x=>sr(()=>{let e=Wn(P)??S,o=an(x,e),p=s0(o)?o.canActivate(P,M):Ot(e,()=>o(P,M));return ui(p).pipe(ni())}));return ue(c).pipe(rn())}function p0(M,P,S){let w=P[P.length-1],x=P.slice(0,P.length-1).reverse().map(e=>_c(e)).filter(e=>e!==null).map(e=>sr(()=>{let o=e.guards.map(p=>{let a=Wn(e.node)??S,r=an(p,a),s=r0(r)?r.canActivateChild(w,M):Ot(a,()=>r(w,M));return ui(s).pipe(ni())});return ue(o).pipe(rn())}));return ue(x).pipe(rn())}function m0(M,P,S,w,c){let x=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!x||x.length===0)return ue(!0);let e=x.map(o=>{let p=Wn(P)??c,a=an(o,p),r=a0(a)?a.canDeactivate(M,P,S,w):Ot(p,()=>a(M,P,S,w));return ui(r).pipe(ni())});return ue(e).pipe(rn())}function g0(M,P,S,w){let c=P.canLoad;if(c===void 0||c.length===0)return ue(!0);let x=c.map(e=>{let o=an(e,M),p=n0(o)?o.canLoad(P,S):Ot(M,()=>o(P,S));return ui(p)});return ue(x).pipe(rn(),a1(w))}function a1(M){return uo(qe(P=>{if(typeof P!="boolean")throw Rs(M,P)}),me(P=>P===!0))}function x0(M,P,S,w){let c=P.canMatch;if(!c||c.length===0)return ue(!0);let x=c.map(e=>{let o=an(e,M),p=o0(o)?o.canMatch(P,S):Ot(M,()=>o(P,S));return ui(p)});return ue(x).pipe(rn(),a1(w))}var Un=class{constructor(P){this.segmentGroup=P||null}},Gn=class extends Error{constructor(P){super(),this.urlTree=P}};function Ji(M){return un(new Un(M))}function y0(M){return un(new be(4e3,!1))}function S0(M){return un(n1(!1,zt.GuardRejected))}var fa=class{constructor(P,S){this.urlSerializer=P,this.urlTree=S}lineralizeSegments(P,S){let w=[],c=S.root;for(;;){if(w=w.concat(c.segments),c.numberOfChildren===0)return ue(w);if(c.numberOfChildren>1||!c.children[ge])return y0(`${P.redirectTo}`);c=c.children[ge]}}applyRedirectCommands(P,S,w,c,x){if(typeof S!="string"){let o=S,{queryParams:p,fragment:a,routeConfig:r,url:s,outlet:t,params:n,data:h,title:i}=c,l=Ot(x,()=>o({params:n,data:h,queryParams:p,fragment:a,routeConfig:r,url:s,outlet:t,title:i}));if(l instanceof Qt)throw new Gn(l);S=l}let e=this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),P,w);if(S[0]==="/")throw new Gn(e);return e}applyRedirectCreateUrlTree(P,S,w,c){let x=this.createSegmentGroup(P,S.root,w,c);return new Qt(x,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(P,S){let w={};return Object.entries(P).forEach(([c,x])=>{if(typeof x=="string"&&x[0]===":"){let o=x.substring(1);w[c]=S[o]}else w[c]=x}),w}createSegmentGroup(P,S,w,c){let x=this.createSegments(P,S.segments,w,c),e={};return Object.entries(S.children).forEach(([o,p])=>{e[o]=this.createSegmentGroup(P,p,w,c)}),new ze(x,e)}createSegments(P,S,w,c){return S.map(x=>x.path[0]===":"?this.findPosParam(P,x,c):this.findOrReturn(x,w))}findPosParam(P,S,w){let c=w[S.path.substring(1)];if(!c)throw new be(4001,!1);return c}findOrReturn(P,S){let w=0;for(let c of S){if(c.path===P.path)return S.splice(w),c;w++}return P}},va={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T0(M,P,S,w,c){let x=o1(M,P,S);return x.matched?(w=Wc(P,w),x0(w,P,S,c).pipe(me(e=>e===!0?x:se({},va)))):ue(x)}function o1(M,P,S){if(P.path==="**")return C0(S);if(P.path==="")return P.pathMatch==="full"&&(M.hasChildren()||S.length>0)?se({},va):{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};let c=(P.matcher||xc)(S,M,P);if(!c)return se({},va);let x={};Object.entries(c.posParams??{}).forEach(([o,p])=>{x[o]=p.path});let e=c.consumed.length>0?se(se({},x),c.consumed[c.consumed.length-1].parameters):x;return{matched:!0,consumedSegments:c.consumed,remainingSegments:S.slice(c.consumed.length),parameters:e,positionalParamSegments:c.posParams??{}}}function C0(M){return{matched:!0,parameters:M.length>0?Nl(M).parameters:{},consumedSegments:M,remainingSegments:[],positionalParamSegments:{}}}function Il(M,P,S,w){return S.length>0&&P0(M,S,w)?{segmentGroup:new ze(P,E0(w,new ze(S,M.children))),slicedSegments:[]}:S.length===0&&w0(M,S,w)?{segmentGroup:new ze(M.segments,M0(M,S,w,M.children)),slicedSegments:S}:{segmentGroup:new ze(M.segments,M.children),slicedSegments:S}}function M0(M,P,S,w){let c={};for(let x of S)if(Vs(M,P,x)&&!w[It(x)]){let e=new ze([],{});c[It(x)]=e}return se(se({},w),c)}function E0(M,P){let S={};S[ge]=P;for(let w of M)if(w.path===""&&It(w)!==ge){let c=new ze([],{});S[It(w)]=c}return S}function P0(M,P,S){return S.some(w=>Vs(M,P,w)&&It(w)!==ge)}function w0(M,P,S){return S.some(w=>Vs(M,P,w))}function Vs(M,P,S){return(M.hasChildren()||P.length>0)&&S.pathMatch==="full"?!1:S.path===""}function z0(M,P,S){return P.length===0&&!M.children[S]}var pa=class{};function A0(M,P,S,w,c,x,e="emptyOnly"){return new ma(M,P,S,w,c,e,x).recognize()}var D0=31,ma=class{constructor(P,S,w,c,x,e,o){this.injector=P,this.configLoader=S,this.rootComponentType=w,this.config=c,this.urlTree=x,this.paramsInheritanceStrategy=e,this.urlSerializer=o,this.applyRedirects=new fa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new be(4002,`'${P.segmentGroup}'`)}recognize(){let P=Il(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe(me(({children:S,rootSnapshot:w})=>{let c=new wt(w,S),x=new Ls("",c),e=Bc(w,[],this.urlTree.queryParams,this.urlTree.fragment);return e.queryParams=this.urlTree.queryParams,x.url=this.urlSerializer.serialize(e),{state:x,tree:e}}))}match(P){let S=new en([],Object.freeze({}),Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,ge,S).pipe(me(w=>({children:w,rootSnapshot:S})),ii(w=>{if(w instanceof Gn)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof Un?this.noMatchError(w):w}))}processSegmentGroup(P,S,w,c,x){return w.segments.length===0&&w.hasChildren()?this.processChildren(P,S,w,x):this.processSegment(P,S,w,w.segments,c,!0,x).pipe(me(e=>e instanceof wt?[e]:[]))}processChildren(P,S,w,c){let x=[];for(let e of Object.keys(w.children))e==="primary"?x.unshift(e):x.push(e);return ht(x).pipe(Ci(e=>{let o=w.children[e],p=Xc(S,e);return this.processSegmentGroup(P,p,o,e,c)}),go((e,o)=>(e.push(...o),e)),rr(null),mo(),pt(e=>{if(e===null)return Ji(w);let o=l1(e);return F0(o),ue(o)}))}processSegment(P,S,w,c,x,e,o){return ht(S).pipe(Ci(p=>this.processSegmentAgainstRoute(p._injector??P,S,p,w,c,x,e,o).pipe(ii(a=>{if(a instanceof Un)return ue(null);throw a}))),ni(p=>!!p),ii(p=>{if(r1(p))return z0(w,c,x)?ue(new pa):Ji(w);throw p}))}processSegmentAgainstRoute(P,S,w,c,x,e,o,p){return It(w)!==e&&(e===ge||!Vs(c,x,w))?Ji(c):w.redirectTo===void 0?this.matchSegmentAgainstRoute(P,c,w,x,e,p):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(P,c,S,w,x,e,p):Ji(c)}expandSegmentAgainstRouteUsingRedirect(P,S,w,c,x,e,o){let{matched:p,parameters:a,consumedSegments:r,positionalParamSegments:s,remainingSegments:t}=o1(S,c,x);if(!p)return Ji(S);typeof c.redirectTo=="string"&&c.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>D0&&(this.allowRedirects=!1));let n=new en(x,a,Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,Bl(c),It(c),c.component??c._loadedComponent??null,c,Hl(c)),h=Fs(n,o,this.paramsInheritanceStrategy);n.params=Object.freeze(h.params),n.data=Object.freeze(h.data);let i=this.applyRedirects.applyRedirectCommands(r,c.redirectTo,s,n,P);return this.applyRedirects.lineralizeSegments(c,i).pipe(pt(l=>this.processSegment(P,w,S,l.concat(t),e,!1,o)))}matchSegmentAgainstRoute(P,S,w,c,x,e){let o=T0(S,w,c,P,this.urlSerializer);return w.path==="**"&&(S.children={}),o.pipe(dt(p=>p.matched?(P=w._injector??P,this.getChildConfig(P,w,c).pipe(dt(({routes:a})=>{let r=w._loadedInjector??P,{parameters:s,consumedSegments:t,remainingSegments:n}=p,h=new en(t,s,Object.freeze(se({},this.urlTree.queryParams)),this.urlTree.fragment,Bl(w),It(w),w.component??w._loadedComponent??null,w,Hl(w)),i=Fs(h,e,this.paramsInheritanceStrategy);h.params=Object.freeze(i.params),h.data=Object.freeze(i.data);let{segmentGroup:l,slicedSegments:u}=Il(S,t,n,a);if(u.length===0&&l.hasChildren())return this.processChildren(r,a,l,h).pipe(me(f=>new wt(h,f)));if(a.length===0&&u.length===0)return ue(new wt(h,[]));let d=It(w)===x;return this.processSegment(r,a,l,u,d?ge:x,!0,h).pipe(me(f=>new wt(h,f instanceof wt?[f]:[])))}))):Ji(S)))}getChildConfig(P,S,w){return S.children?ue({routes:S.children,injector:P}):S.loadChildren?S._loadedRoutes!==void 0?ue({routes:S._loadedRoutes,injector:S._loadedInjector}):g0(P,S,w,this.urlSerializer).pipe(pt(c=>c?this.configLoader.loadChildren(P,S).pipe(qe(x=>{S._loadedRoutes=x.routes,S._loadedInjector=x.injector})):S0(S))):ue({routes:[],injector:P})}};function F0(M){M.sort((P,S)=>P.value.outlet===ge?-1:S.value.outlet===ge?1:P.value.outlet.localeCompare(S.value.outlet))}function L0(M){let P=M.value.routeConfig;return P&&P.path===""}function l1(M){let P=[],S=new Set;for(let w of M){if(!L0(w)){P.push(w);continue}let c=P.find(x=>w.value.routeConfig===x.value.routeConfig);c!==void 0?(c.children.push(...w.children),S.add(c)):P.push(w)}for(let w of S){let c=l1(w.children);P.push(new wt(w.value,c))}return P.filter(w=>!S.has(w))}function Bl(M){return M.data||{}}function Hl(M){return M.resolve||{}}function R0(M,P,S,w,c,x){return pt(e=>A0(M,P,S,w,e.extractedUrl,c,x).pipe(me(({state:o,tree:p})=>Ge(se({},e),{targetSnapshot:o,urlAfterRedirects:p}))))}function O0(M,P){return pt(S=>{let{targetSnapshot:w,guards:{canActivateChecks:c}}=S;if(!c.length)return ue(S);let x=new Set(c.map(p=>p.route)),e=new Set;for(let p of x)if(!e.has(p))for(let a of h1(p))e.add(a);let o=0;return ht(e).pipe(Ci(p=>x.has(p)?b0(p,w,M,P):(p.data=Fs(p,p.parent,M).resolve,ue(void 0))),qe(()=>o++),ar(1),pt(p=>o===e.size?ue(S):ei))})}function h1(M){let P=M.children.map(S=>h1(S)).flat();return[M,...P]}function b0(M,P,S,w){let c=M.routeConfig,x=M._resolve;return c?.title!==void 0&&!t1(c)&&(x[kn]=c.title),V0(x,M,P,w).pipe(me(e=>(M._resolvedData=e,M.data=Fs(M,M.parent,S).resolve,null)))}function V0(M,P,S,w){let c=jr(M);if(c.length===0)return ue({});let x={};return ht(c).pipe(pt(e=>I0(M[e],P,S,w).pipe(ni(),qe(o=>{if(o instanceof Nn)throw Rs(new bn,o);x[e]=o}))),ar(1),ki(x),ii(e=>r1(e)?ei:un(e)))}function I0(M,P,S,w){let c=Wn(P)??w,x=an(M,c),e=x.resolve?x.resolve(P,S):Ot(c,()=>x(P,S));return ui(e)}function Wr(M){return dt(P=>{let S=M(P);return S?ht(S).pipe(me(()=>P)):ue(P)})}var c1=(()=>{class M{buildTitle(S){let w,c=S.root;for(;c!==void 0;)w=this.getResolvedTitleForRoute(c)??w,c=c.children.find(x=>x.outlet===ge);return w}getResolvedTitleForRoute(S){return S.data[kn]}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:()=>te(B0),providedIn:"root"})}}return M})(),B0=(()=>{class M extends c1{constructor(S){super(),this.title=S}updateTitle(S){let w=this.buildTitle(S);w!==void 0&&this.title.setTitle(w)}static{this.\u0275fac=function(w){return new(w||M)(ee(Fl))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Ca=new ve("",{providedIn:"root",factory:()=>({})}),H0=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=Ke({type:M,selectors:[["ng-component"]],standalone:!0,features:[et],decls:1,vars:0,template:function(w,c){w&1&&Ye(0,"router-outlet")},dependencies:[Sa],encapsulation:2})}}return M})();function Ma(M){let P=M.children&&M.children.map(Ma),S=P?Ge(se({},M),{children:P}):se({},M);return!S.component&&!S.loadComponent&&(P||S.loadChildren)&&S.outlet&&S.outlet!==ge&&(S.component=H0),S}var Ea=new ve(""),Y0=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(yr)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return ue(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);let w=ui(S.loadComponent()).pipe(me(u1),qe(x=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=x}),Nt(()=>{this.componentLoaders.delete(S)})),c=new nr(w,()=>new de).pipe(ir());return this.componentLoaders.set(S,c),c}loadChildren(S,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return ue({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);let x=N0(w,this.compiler,S,this.onLoadEndListener).pipe(Nt(()=>{this.childrenLoaders.delete(w)})),e=new nr(x,()=>new de).pipe(ir());return this.childrenLoaders.set(w,e),e}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function N0(M,P,S,w){return ui(M.loadChildren()).pipe(me(u1),pt(c=>c instanceof Vo||Array.isArray(c)?ue(c):ht(P.compileModuleAsync(c))),me(c=>{w&&w(M);let x,e,o=!1;return Array.isArray(c)?(e=c,o=!0):(x=c.create(S).injector,e=x.get(Ea,[],{optional:!0,self:!0}).flat()),{routes:e.map(Ma),injector:x}}))}function U0(M){return M&&typeof M=="object"&&"default"in M}function u1(M){return U0(M)?M.default:M}var Pa=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:()=>te(G0),providedIn:"root"})}}return M})(),G0=(()=>{class M{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,w){return S}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),k0=new ve("");var W0=new ve(""),X0=(()=>{class M{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de,this.transitionAbortSubject=new de,this.configLoader=te(Y0),this.environmentInjector=te(si),this.urlSerializer=te(xa),this.rootContexts=te(bs),this.location=te(Zi),this.inputBindingEnabled=te(Ta,{optional:!0})!==null,this.titleStrategy=te(c1),this.options=te(Ca,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(Pa),this.createViewTransition=te(k0,{optional:!0}),this.navigationErrorHandler=te(W0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let S=c=>this.events.next(new ta(c)),w=c=>this.events.next(new ia(c));this.configLoader.onLoadEndListener=w,this.configLoader.onLoadStartListener=S}complete(){this.transitions?.complete()}handleNavigationRequest(S){let w=++this.navigationId;this.transitions?.next(Ge(se(se({},this.transitions.value),S),{id:w}))}setupNavigations(S,w,c){return this.transitions=new Qe({id:0,currentUrlTree:w,currentRawUrl:w,extractedUrl:this.urlHandlingStrategy.extract(w),urlAfterRedirects:this.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Rn,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(x=>x.id!==0),me(x=>Ge(se({},x),{extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),dt(x=>{let e=!1,o=!1;return ue(x).pipe(dt(p=>{if(this.navigationId>x.id)return this.cancelNavigationTransition(x,"",zt.SupersededByNewNavigation),ei;this.currentTransition=x,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:typeof p.extras.browserUrl=="string"?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Ge(se({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),r=p.extras.onSameUrlNavigation??S.onSameUrlNavigation;if(!a&&r!=="reload"){let s="";return this.events.next(new bi(p.id,this.urlSerializer.serialize(p.rawUrl),s,Qr.IgnoredSameUrlNavigation)),p.resolve(!1),ei}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return ue(p).pipe(dt(s=>{let t=this.transitions?.getValue();return this.events.next(new In(s.id,this.urlSerializer.serialize(s.extractedUrl),s.source,s.restoredState)),t!==this.transitions?.getValue()?ei:Promise.resolve(s)}),R0(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(s=>{x.targetSnapshot=s.targetSnapshot,x.urlAfterRedirects=s.urlAfterRedirects,this.currentNavigation=Ge(se({},this.currentNavigation),{finalUrl:s.urlAfterRedirects});let t=new zs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(t)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:s,extractedUrl:t,source:n,restoredState:h,extras:i}=p,l=new In(s,this.urlSerializer.serialize(t),n,h);this.events.next(l);let u=_l(this.rootComponentType).snapshot;return this.currentTransition=x=Ge(se({},p),{targetSnapshot:u,urlAfterRedirects:t,extras:Ge(se({},i),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=t,ue(x)}else{let s="";return this.events.next(new bi(p.id,this.urlSerializer.serialize(p.extractedUrl),s,Qr.IgnoredByUrlHandlingStrategy)),p.resolve(!1),ei}}),qe(p=>{let a=new Jr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(a)}),me(p=>(this.currentTransition=x=Ge(se({},p),{guards:qc(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),x)),h0(this.environmentInjector,p=>this.events.next(p)),qe(p=>{if(x.guardsResult=p.guardsResult,p.guardsResult&&typeof p.guardsResult!="boolean")throw Rs(this.urlSerializer,p.guardsResult);let a=new qr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(a)}),Je(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",zt.GuardRejected),!1)),Wr(p=>{if(p.guards.canActivateChecks.length)return ue(p).pipe(qe(a=>{let r=new _r(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(r)}),dt(a=>{let r=!1;return ue(a).pipe(O0(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>r=!0,complete:()=>{r||this.cancelNavigationTransition(a,"",zt.NoDataFromResolver)}}))}),qe(a=>{let r=new ea(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(r)}))}),Wr(p=>{let a=r=>{let s=[];r.routeConfig?.loadComponent&&!r.routeConfig._loadedComponent&&s.push(this.configLoader.loadComponent(r.routeConfig).pipe(qe(t=>{r.component=t}),me(()=>{})));for(let t of r.children)s.push(...a(t));return s};return ti(a(p.targetSnapshot.root)).pipe(rr(null),Yt(1))}),Wr(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:p,targetSnapshot:a}=x,r=this.createViewTransition?.(this.environmentInjector,p.root,a.root);return r?ht(r).pipe(me(()=>x)):ue(x)}),me(p=>{let a=Kc(S.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=x=Ge(se({},p),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,x}),qe(()=>{this.events.next(new Hn)}),Jc(this.rootContexts,S.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Yt(1),qe({next:p=>{e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jt(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{e=!0}}),Me(this.transitionAbortSubject.pipe(qe(p=>{throw p}))),Nt(()=>{!e&&!o&&this.cancelNavigationTransition(x,"",zt.SupersededByNewNavigation),this.currentTransition?.id===x.id&&(this.currentNavigation=null,this.currentTransition=null)}),ii(p=>{if(o=!0,s1(p))this.events.next(new Zt(x.id,this.urlSerializer.serialize(x.extractedUrl),p.message,p.cancellationCode)),Qc(p)?this.events.next(new sn(p.url,p.navigationBehaviorOptions)):x.resolve(!1);else{let a=new Bn(x.id,this.urlSerializer.serialize(x.extractedUrl),p,x.targetSnapshot??void 0);try{let r=Ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(r instanceof Nn){let{message:s,cancellationCode:t}=Rs(this.urlSerializer,r);this.events.next(new Zt(x.id,this.urlSerializer.serialize(x.extractedUrl),s,t)),this.events.next(new sn(r.redirectTo,r.navigationBehaviorOptions))}else{this.events.next(a);let s=S.errorHandler(p);x.resolve(!!s)}}catch(r){this.options.resolveNavigationPromiseOnError?x.resolve(!1):x.reject(r)}}return ei}))}))}cancelNavigationTransition(S,w,c){let x=new Zt(S.id,this.urlSerializer.serialize(S.extractedUrl),w,c);this.events.next(x),S.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let S=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),w=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return S.toString()!==w?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function j0(M){return M!==Rn}var K0=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:()=>te($0),providedIn:"root"})}}return M})(),ga=class{shouldDetach(P){return!1}store(P,S){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,S){return P.routeConfig===S.routeConfig}},$0=(()=>{class M extends ga{static{this.\u0275fac=(()=>{let S;return function(c){return(S||(S=Wi(M)))(c||M)}})()}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),d1=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:()=>te(Z0),providedIn:"root"})}}return M})(),Z0=(()=>{class M extends d1{constructor(){super(...arguments),this.location=te(Zi),this.urlSerializer=te(xa),this.options=te(Ca,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(Pa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_l(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(w=>{w.type==="popstate"&&S(w.url,w.state)})}handleRouterEvent(S,w){if(S instanceof In)this.stateMemento=this.createStateMemento();else if(S instanceof bi)this.rawUrlTree=w.initialUrl;else if(S instanceof zs){if(this.urlUpdateStrategy==="eager"&&!w.extras.skipLocationChange){let c=this.urlHandlingStrategy.merge(w.finalUrl,w.initialUrl);this.setBrowserUrl(w.targetBrowserUrl??c,w)}}else S instanceof Hn?(this.currentUrlTree=w.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(w.finalUrl,w.initialUrl),this.routerState=w.targetRouterState,this.urlUpdateStrategy==="deferred"&&!w.extras.skipLocationChange&&this.setBrowserUrl(w.targetBrowserUrl??this.rawUrlTree,w)):S instanceof Zt&&(S.code===zt.GuardRejected||S.code===zt.NoDataFromResolver)?this.restoreHistory(w):S instanceof Bn?this.restoreHistory(w,!0):S instanceof jt&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,w){let c=S instanceof Qt?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(c)||w.extras.replaceUrl){let x=this.browserPageId,e=se(se({},w.extras.state),this.generateNgRouterState(w.id,x));this.location.replaceState(c,"",e)}else{let x=se(se({},w.extras.state),this.generateNgRouterState(w.id,this.browserPageId+1));this.location.go(c,"",x)}}restoreHistory(S,w=!1){if(this.canceledNavigationResolution==="computed"){let c=this.browserPageId,x=this.currentPageId-c;x!==0?this.location.historyGo(x):this.currentUrlTree===S.finalUrl&&x===0&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(w&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,w){return this.canceledNavigationResolution==="computed"?{navigationId:S,\u0275routerPageId:w}:{navigationId:S}}static{this.\u0275fac=(()=>{let S;return function(c){return(S||(S=Wi(M)))(c||M)}})()}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Fn=function(M){return M[M.COMPLETE=0]="COMPLETE",M[M.FAILED=1]="FAILED",M[M.REDIRECTING=2]="REDIRECTING",M}(Fn||{});function Q0(M,P){M.events.pipe(Je(S=>S instanceof jt||S instanceof Zt||S instanceof Bn||S instanceof bi),me(S=>S instanceof jt||S instanceof bi?Fn.COMPLETE:(S instanceof Zt?S.code===zt.Redirect||S.code===zt.SupersededByNewNavigation:!1)?Fn.REDIRECTING:Fn.FAILED),Je(S=>S!==Fn.REDIRECTING),Yt(1)).subscribe(()=>{P()})}function J0(M){throw M}var q0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=te(as),this.stateManager=te(d1),this.options=te(Ca,{optional:!0})||{},this.pendingTasks=te(ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(X0),this.urlSerializer=te(xa),this.location=te(Zi),this.urlHandlingStrategy=te(Pa),this._events=new de,this.errorHandler=this.options.errorHandler||J0,this.navigated=!1,this.routeReuseStrategy=te(K0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(Ea,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(Ta,{optional:!0}),this.eventsSubscription=new Ht,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:S=>{this.console.warn(S)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let S=this.navigationTransitions.events.subscribe(w=>{try{let c=this.navigationTransitions.currentTransition,x=this.navigationTransitions.currentNavigation;if(c!==null&&x!==null){if(this.stateManager.handleRouterEvent(w,x),w instanceof Zt&&w.code!==zt.Redirect&&w.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(w instanceof jt)this.navigated=!0;else if(w instanceof sn){let e=w.navigationBehaviorOptions,o=this.urlHandlingStrategy.merge(w.url,c.currentRawUrl),p=se({browserUrl:c.extras.browserUrl,info:c.extras.info,skipLocationChange:c.extras.skipLocationChange,replaceUrl:c.extras.replaceUrl||this.urlUpdateStrategy==="eager"||j0(c.source)},e);this.scheduleNavigation(o,Rn,null,p,{resolve:c.resolve,reject:c.reject,promise:c.promise})}}t3(w)&&this._events.next(w)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((S,w)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(S,"popstate",w)},0)})}navigateToSyncWithBrowser(S,w,c){let x={replaceUrl:!0},e=c?.navigationId?c:null;if(c){let p=se({},c);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(x.state=p)}let o=this.parseUrl(S);this.scheduleNavigation(o,w,e,x)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(Ma),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,w={}){let{relativeTo:c,queryParams:x,fragment:e,queryParamsHandling:o,preserveFragment:p}=w,a=p?this.currentUrlTree.fragment:e,r=null;switch(o??this.options.defaultQueryParamsHandling){case"merge":r=se(se({},this.currentUrlTree.queryParams),x);break;case"preserve":r=this.currentUrlTree.queryParams;break;default:r=x||null}r!==null&&(r=this.removeEmptyProps(r));let s;try{let t=c?c.snapshot:this.routerState.snapshot.root;s=Zl(t)}catch{(typeof S[0]!="string"||S[0][0]!=="/")&&(S=[]),s=this.currentUrlTree.root}return Ql(s,S,r,a??null)}navigateByUrl(S,w={skipLocationChange:!1}){let c=Oi(S)?S:this.parseUrl(S),x=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(x,Rn,null,w)}navigate(S,w={skipLocationChange:!1}){return e3(S),this.navigateByUrl(this.createUrlTree(S,w),w)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,w){let c;if(w===!0?c=se({},q0):w===!1?c=se({},_0):c=w,Oi(S))return Rl(this.currentUrlTree,S,c);let x=this.parseUrl(S);return Rl(this.currentUrlTree,x,c)}removeEmptyProps(S){return Object.entries(S).reduce((w,[c,x])=>(x!=null&&(w[c]=x),w),{})}scheduleNavigation(S,w,c,x,e){if(this.disposed)return Promise.resolve(!1);let o,p,a;e?(o=e.resolve,p=e.reject,a=e.promise):a=new Promise((s,t)=>{o=s,p=t});let r=this.pendingTasks.add();return Q0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(r))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:x,resolve:o,reject:p,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(s=>Promise.reject(s))}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function e3(M){for(let P=0;P<M.length;P++)if(M[P]==null)throw new be(4008,!1)}function t3(M){return!(M instanceof Hn)&&!(M instanceof sn)}var Kn=(()=>{class M{constructor(S,w,c,x,e,o){this.router=S,this.route=w,this.tabIndexAttribute=c,this.renderer=x,this.el=e,this.locationStrategy=o,this.href=null,this.onChanges=new de,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let p=e.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area",this.isAnchorElement?this.subscription=S.events.subscribe(a=>{a instanceof jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){S==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Oi(S)?this.routerLinkInput=S:this.routerLinkInput=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,w,c,x,e){let o=this.urlTree;if(o===null||this.isAnchorElement&&(S!==0||w||c||x||e||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(o,p),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let S=this.urlTree;this.href=S!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(S)):null;let w=this.href===null?null:Oo(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(S,w){let c=this.renderer,x=this.el.nativeElement;w!==null?c.setAttribute(x,S,w):c.removeAttribute(x,S)}get urlTree(){return this.routerLinkInput===null?null:Oi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(w){return new(w||M)(he(jn),he(Vi),Mo("tabindex"),he(Ct),he(Be),he(Cr))}}static{this.\u0275dir=_e({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,c){w&1&&nt("click",function(e){return c.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),w&2&&ss("target",c.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pe],replaceUrl:[2,"replaceUrl","replaceUrl",Pe],routerLink:"routerLink"},standalone:!0,features:[ft,$e]})}}return M})();var i3=new ve("");function f1(M,...P){return Tt([{provide:Ea,multi:!0,useValue:M},[],{provide:Vi,useFactory:n3,deps:[jn]},{provide:os,multi:!0,useFactory:s3},P.map(S=>S.\u0275providers)])}function n3(M){return M.routerState.root}function s3(){let M=te(wi);return P=>{let S=M.get(Di);if(P!==S.components[0])return;let w=M.get(jn),c=M.get(r3);M.get(a3)===1&&w.initialNavigation(),M.get(o3,null,or.Optional)?.setUpPreloading(),M.get(i3,null,or.Optional)?.init(),w.resetRootComponentType(S.componentTypes[0]),c.closed||(c.next(),c.complete(),c.unsubscribe())}}var r3=new ve("",{factory:()=>new de}),a3=new ve("",{providedIn:"root",factory:()=>1});var o3=new ve("");var di=x2(v1());var on=class{constructor(P,S){this.initialCost=P,this.productionRate=S,this.owned=0,this.cost=P,this.production=S}buy(P){return this.cost<=P?(P-=this.cost,this.owned++,this.cost=Math.ceil(this.cost*1.15),{success:!0,newrecycledWaste:P}):{success:!1,newrecycledWaste:P}}getProduction(){return this.owned*this.production}};var p1=(()=>{class M{constructor(){this.bagOffsetPercentage={x:.1,y:.4},this.WinThreshold=1e4,this.recycledWaste=0,this.recycledWastePerSecond=0,this.UPDATE_INTERVAL_MS=25,this.UPDATES_PER_SECOND=1e3/this.UPDATE_INTERVAL_MS,this.columnWidths=[.2,.5,.3],this.MAX_COLUMN1_WIDTH_RATIO=.2,this.MIN_COLUMN_WIDTH_RATIO=.15,this.columnBackgrounds=[],this.separators=[],this.columnContents=[[],[],[]],this.scrollOffsets=[0,0,0],this.popupVisible=!1,this.column1Images=[],this.chaosMode=!1,this.netsmall=new on(10,10),this.netbig=new on(50,25),this.recyclingFactory=new on(100,50)}ngOnInit(){this.createGame(),window.addEventListener("resize",this.handleResize.bind(this)),setTimeout(()=>{this.updateColumnsAndContents(window.innerWidth)},0),setInterval(this.updateRecycledWaste.bind(this),this.UPDATE_INTERVAL_MS),setInterval(this.updateRecycledWaste.bind(this.updateTint()),this.UPDATE_INTERVAL_MS)}ngOnDestroy(){window.removeEventListener("resize",this.handleResize.bind(this))}updateRecycledWaste(){let S=this.recycledWastePerSecond/this.UPDATES_PER_SECOND;this.recycledWaste=this.recycledWaste+S,this.recycledWaste>=this.WinThreshold&&!this.popupVisible&&(this.phaserGame.scene.pause("default"),this.showCongratsPopup(),this.recycledWastePerSecond=0)}showCongratsPopup(){this.popupVisible=!0;let S=document.createElement("div");S.style.position="fixed",S.style.top="50%",S.style.left="50%",S.style.transform="translate(-50%, -50%)",S.style.padding="20px",S.style.backgroundColor="#fff",S.style.color="#000",S.style.border="2px solid #000",S.style.borderRadius="10px",S.style.zIndex="1000",S.style.textAlign="center",S.innerHTML=`
    <h2>Congratulations, you saved the oceans and yourself!</h2>
    <p>You reached the recycling goal of ${this.WinThreshold}! bags</p>
    <button id="reset-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">Reset</button>
  `,document.body.appendChild(S);let w=document.getElementById("reset-btn");w&&w.addEventListener("click",()=>{this.recycledWaste=0,this.recycledWastePerSecond=0,this.popupVisible=!1,document.body.removeChild(S),this.phaserGame.scene.resume("default")})}updateTint(){this.column1Images.forEach(S=>{if(S.image){let w=Math.min(this.roundedRecycledWaste/this.WinThreshold,1),c=di.default.Display.Color.ValueToColor(3289650),x=di.default.Display.Color.ValueToColor(65280),e=di.default.Display.Color.Interpolate.ColorWithColor(c,x,100,w*100),o=di.default.Display.Color.GetColor(e.r,e.g,e.b);S.image.setTint(o)}})}get roundedRecycledWaste(){return Math.round(this.recycledWaste)}buyBuilding(S){let w=S.buy(this.recycledWaste);w.success&&(this.recycledWaste=w.newrecycledWaste,this.recalculateRecycledWastePerSecond())}recalculateRecycledWastePerSecond(){this.recycledWastePerSecond=this.recyclingFactory.getProduction()+this.netsmall.getProduction()+this.netbig.getProduction()}canAfford(S){return this.recycledWaste>=S.cost}createGame(){let S=document.getElementById("game-container");this.phaserGame=new di.default.Game({type:di.default.AUTO,width:S?.clientWidth||window.innerWidth,height:S?.clientHeight||window.innerHeight,parent:"game-container",backgroundColor:"#1d1d1d",scene:{preload:this.preload.bind(this),create:this.create.bind(this),update:this.update.bind(this)},pixelArt:!0})}preload(){let S=this.phaserGame.scene.getScene("default");S.load.image("column1","/assets/sprites/exports/human/body_healthy_128x64.png"),S.load.image("column1_bckgnd","/assets/sprites/exports/human/human_background.png"),S.load.image("column1_Kidney","/assets/sprites/exports/human/kidney_healthy_64x64.png"),S.load.image("column1_Heart","/assets/sprites/exports/human/heart_healthy_64x64.png"),S.load.image("column1_Lungs","/assets/sprites/exports/human/lungs_healthy_64x64.png"),S.load.image("column1_Stomac","/assets/sprites/exports/human/stomac_healthy_64x64.png"),S.load.image("column2","/assets/sprites/exports/sea/sea_healthy_background_128x192.png"),S.load.image("column3","/assets/sprites/exports/ui/background_upgrades_64x128.png"),S.load.image("separator","/assets/sprites/exports/ui/separator_32x128.png"),S.load.image("bag","/assets/sprites/exports/sea/trashbag_64x64.png"),S.load.spritesheet("shark_saw","/assets/sprites/exports/sea/shark_saw_spreadsheet_48x32.png",{frameWidth:48,frameHeight:32})}create(){let S=this.phaserGame.scene.getScene("default"),w=this.phaserGame.scale.width,c=this.phaserGame.scale.height;this.columnWidths.forEach((x,e)=>{let o=x*w,p=this.calculateColumnX(e,w);if(e===0){let r=S.add.image(p,0,"column1_bckgnd").setOrigin(0,0).setDisplaySize(o,c).setDepth(-1);r.name="column1_bckgnd",this.initialColumn1Width=o,[{name:"column1_Stomac",offset:{x:0,y:-60},scale:.8},{name:"column1_Kidney",offset:{x:5,y:-20},scale:1.25},{name:"column1_Lungs",offset:{x:5,y:-120},scale:1.5},{name:"column1_Heart",offset:{x:10,y:-100},scale:1.2}].forEach(t=>{let n=S.add.image(p+o/2+t.offset.x,c/2+t.offset.y,t.name).setOrigin(.5,.5).setAlpha(1).setTint(16777215).setDepth(1);this.column1Images.push(Ge(se({},t),{image:n})),n.setScale(t.scale)})}if(e===1){let r={x:50,y:210};this.bagImage=S.add.image(p+o/2+this.bagOffsetPercentage.x*o,c/2+this.bagOffsetPercentage.y*c,"bag").setOrigin(.5,.5).setDepth(1).setInteractive().setScale(1),this.bagImage.on("pointerdown",()=>{this.bagImage.setScale(.75)}),this.bagImage.on("pointerup",()=>{this.bagImage.setScale(1),this.recycledWaste+=1}),this.bagImage.on("pointerout",()=>{this.bagImage.setScale(1)}),this.sharkSprite=S.add.sprite(p+o/2,c/2,"shark_saw").setOrigin(.5,.5).setScale(o/500).setDepth(1),S.anims.create({key:"swim",frames:S.anims.generateFrameNumbers("shark_saw",{start:0,end:3}),frameRate:6,repeat:-1}),this.sharkSprite.play("swim")}let a=S.add.image(p,0,`column${e+1}`).setOrigin(0,0).setDisplaySize(o,c);this.columnBackgrounds.push(a)});for(let x=0;x<2;x++){let e=this.calculateSeparatorX(x,w),o=S.add.image(e,c/2,"separator").setInteractive().setOrigin(.5).setDisplaySize(10,c).setDepth(5);S.input.setDraggable(o),o.on("drag",(p,a)=>{this.handleSeparatorDrag(x,a,this.phaserGame.scale.width)}),this.separators.push(o)}}handleSeparatorDrag(S,w,c){let x=this.MIN_COLUMN_WIDTH_RATIO*c,e=this.calculateColumnX(S,c),o=this.calculateColumnX(S+2,c),p=di.default.Math.Clamp(w,e+x,o-x),a=(p-e)/c,r=(o-p)/c;a>=this.MIN_COLUMN_WIDTH_RATIO&&r>=this.MIN_COLUMN_WIDTH_RATIO&&(this.columnWidths[S]=a,this.columnWidths[S+1]=r),this.updateColumnsAndContents(c)}calculateColumnX(S,w){return this.columnWidths.slice(0,S).reduce((c,x)=>c+x*w,0)}calculateSeparatorX(S,w){return this.calculateColumnX(S+1,w)}updateColumnsAndContents(S){let w=this.phaserGame.scale.height;this.columnBackgrounds.forEach((c,x)=>{let e=this.calculateColumnX(x,S),o=this.columnWidths[x]*S;if(c.setPosition(e,0),c.setDisplaySize(o,w),x===0){let p=c.scene.children.getByName("column1_bckgnd");p&&(p.setPosition(e,0),p.setDisplaySize(o,w));let a=o/this.initialColumn1Width;this.column1Images.forEach(({offset:r,image:s,scale:t})=>{let n=t||1;s.setPosition(e+o/2+r.x,w/2+r.y),s.setScale(n*a)})}if(x===1){let p={x:50,y:210};this.bagImage&&(this.bagImage.setPosition(e+o/2+this.bagOffsetPercentage.x*o,w/2+this.bagOffsetPercentage.y*w),this.bagImage.setScale(o/800)),this.sharkSprite&&(this.sharkSprite.setPosition(e+o/2,w/2),this.sharkSprite.setScale(o/500))}if(x===2){let p=document.querySelector(".building-buttons");if(p){let a=this.calculateColumnX(2,S),r=this.columnWidths[2]*S,s=this.phaserGame.scale.height;p.style.left=`${a+r/2}px`,p.style.top=`${s/2}px`,p.style.transform="translate(-50%, -50%)"}}}),this.separators.forEach((c,x)=>{let e=this.calculateSeparatorX(x,S);c.setPosition(e,w/2)})}handleResize(){let S=document.getElementById("game-container");if(!S)return;let w=S.clientWidth,c=S.clientHeight;this.phaserGame.scale.resize(w,c);let x=this.MIN_COLUMN_WIDTH_RATIO*w;this.columnWidths=this.columnWidths.map(o=>o*w<x?x/w:o);let e=this.columnWidths.reduce((o,p)=>o+p,0);if(e>1){let o=e-1;this.columnWidths[1]-=o}this.updateColumnsAndContents(w)}update(){this.chaosMode&&this.resizeColumns(),this.updateTint()}toggleChaosMode(){this.chaosMode=!this.chaosMode,console.log("Chaos mode toggled:",this.chaosMode)}resizeColumns(){let S=this.phaserGame.scale.width,w=this.columnWidths.map(()=>Math.random()),c=w.reduce((x,e)=>x+e,0);this.columnWidths=w.map(x=>x/c),this.updateColumnsAndContents(S)}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=Ke({type:M,selectors:[["app-game"]],decls:17,vars:20,consts:[[1,"game-layout"],[1,"header-row"],[1,"info-container"],[1,"counter-box"],["id","game-container",1,"game-container"],[1,"building-buttons"],["nz-button","","nzType","primary",3,"click","disabled"],[3,"click"]],template:function(w,c){w&1&&(pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Re(4),Se(),pe(5,"div",3),Re(6),Se()()(),pe(7,"div",4)(8,"div",5)(9,"button",6),nt("click",function(){return c.buyBuilding(c.netsmall)}),Re(10),Se(),pe(11,"button",6),nt("click",function(){return c.buyBuilding(c.netbig)}),Re(12),Se(),pe(13,"button",6),nt("click",function(){return c.buyBuilding(c.recyclingFactory)}),Re(14),Se(),pe(15,"button",7),nt("click",function(){return c.toggleChaosMode()}),Re(16,"Toggle Chaos Mode"),Se()()()()),w&2&&(Le(4),$i("Recycled Wastes: ",c.roundedRecycledWaste,""),Le(2),$i("Per Second: ",c.recycledWastePerSecond,""),Le(3),bt("background-color",c.canAfford(c.netsmall)?"#4caf50":"#d9d9d9")("color",c.canAfford(c.netsmall)?"white":"#8c8c8c"),He("disabled",!c.canAfford(c.netsmall)),Le(),$i(" Buy Net - Cost: ",c.netsmall.cost," "),Le(),bt("background-color",c.canAfford(c.netbig)?"#4caf50":"#d9d9d9")("color",c.canAfford(c.netbig)?"white":"#8c8c8c"),He("disabled",!c.canAfford(c.netbig)),Le(),$i(" Buy Bigger Net - Cost: ",c.netbig.cost," "),Le(),bt("background-color",c.canAfford(c.recyclingFactory)?"#4caf50":"#d9d9d9")("color",c.canAfford(c.recyclingFactory)?"white":"#8c8c8c"),He("disabled",!c.canAfford(c.recyclingFactory)),Le(),$i(" Buy recyclingFactory - Cost: ",c.recyclingFactory.cost," "))},styles:[".game-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden}.header-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border:1px solid #ddd;background-color:#f5f5f5;height:10%}.info-container[_ngcontent-%COMP%]{display:flex;gap:50px}.counter-box[_ngcontent-%COMP%]{font-size:16px;font-weight:700}column3[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.game-container[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;justify-content:center;align-items:center;background:#1d1d1d;overflow:hidden}.building-buttons[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;gap:10px;justify-content:center;align-items:center;transform:translate(-50%,-50%);z-index:10;top:50%;left:85%}button[_ngcontent-%COMP%]{width:150%;padding:10px;font-size:14px;border:none;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]   button.affordable[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}button[_ngcontent-%COMP%]   button.unaffordable[_ngcontent-%COMP%]{background-color:#d9d9d9;color:#8c8c8c}"]})}}return M})();var m1=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=Ke({type:M,selectors:[["app-credits"]],standalone:!0,features:[et],decls:30,vars:0,consts:[["href","https://www.raceforwater.org/en/","target","_blank"],[1,"credits-list"],["src","/assets/siteui/water128p.svg","alt","logo"],[1,"footer"]],template:function(w,c){w&1&&(pe(0,"div")(1,"h1"),Re(2,"Credits"),Se(),pe(3,"p"),Re(4,"Projet r\xE9alis\xE9 dans le cadre de la Nuit de l'Info 2024 se d\xE9roulant du 5 au 6 d\xE9cembre"),Se(),pe(5,"p"),Re(6,"Cette ann\xE9e, l'association "),pe(7,"a",0),Re(8,"Race for Water"),Se(),Re(9," est \xE0 l'honneur : "),pe(10,"em"),Re(11,"A foundation to preserve water"),Se()(),pe(12,"h2"),Re(13,"4 Kobolds"),Se(),pe(14,"ul",1)(15,"li"),Ye(16,"img",2),Re(17," Guillaume KELLER "),Se(),pe(18,"li"),Ye(19,"img",2),Re(20," Lucie NAFFIEN "),Se(),pe(21,"li"),Ye(22,"img",2),Re(23," Maxence BOUSQUET-LUCAS "),Se(),pe(24,"li"),Ye(25,"img",2),Re(26," Quentin HEILMANN "),Se()(),pe(27,"div",3)(28,"p"),Re(29,"\xA9 4 Kobolds, Tous droits r\xE9serv\xE9s."),Se()()())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%]{font-size:3em;margin-bottom:.5em}h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:.5em;margin-top:1em}h3[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:.5em}p[_ngcontent-%COMP%]{font-size:1.2em;margin:.5em 0}.credits-list[_ngcontent-%COMP%]{list-style:none;padding:0}.credits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5em 0}.credits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.footer[_ngcontent-%COMP%]{margin-top:20em;font-size:.8em;text-align:center}"]})}}return M})();var g1=[{path:"",pathMatch:"full",redirectTo:"/welcome"},{path:"home",loadChildren:()=>import("./chunk-KFEDAJCR.js").then(M=>M.HOME_ROUTES)},{path:"game",pathMatch:"full",component:p1},{path:"credits",pathMatch:"full",component:m1}];var x1={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var y1={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'};var S1={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},T1={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var C1={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},M1={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var E1={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},P1={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var w1={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'};var z1={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'};var A1={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},D1={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var F1={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var L1={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var R1={name:"dashboard",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z" /></svg>'};var O1={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},b1={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'};var V1={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var I1={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'};var B1={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var H1={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'};var Y1={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var N1={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var U1={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var G1={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var k1={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var W1={name:"form",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" /><path d="M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z" /></svg>'};var X1={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var j1={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var K1={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var $1={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var Z1={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var Q1={name:"menu-fold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z" /></svg>'};var J1={name:"menu-unfold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z" /></svg>'};var q1={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var _1={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var eh={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var th={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var ih={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var za={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var nh={name:"swap",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" /></svg>'},sh={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var rh={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var ah={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var oh={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var lh={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var hh={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},ch={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'};var uh=[Q1,J1,R1,W1];function st(M,P){l3(M)&&(M="100%");var S=h3(M);return M=P===360?M:Math.min(P,Math.max(0,parseFloat(M))),S&&(M=parseInt(String(M*P),10)/100),Math.abs(M-P)<1e-6?1:(P===360?M=(M<0?M%P+P:M%P)/parseFloat(String(P)):M=M%P/parseFloat(String(P)),M)}function Zn(M){return Math.min(1,Math.max(0,M))}function l3(M){return typeof M=="string"&&M.indexOf(".")!==-1&&parseFloat(M)===1}function h3(M){return typeof M=="string"&&M.indexOf("%")!==-1}function Is(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function Qn(M){return M<=1?"".concat(Number(M)*100,"%"):M}function fi(M){return M.length===1?"0"+M:String(M)}function dh(M,P,S){return{r:st(M,255)*255,g:st(P,255)*255,b:st(S,255)*255}}function Da(M,P,S){M=st(M,255),P=st(P,255),S=st(S,255);var w=Math.max(M,P,S),c=Math.min(M,P,S),x=0,e=0,o=(w+c)/2;if(w===c)e=0,x=0;else{var p=w-c;switch(e=o>.5?p/(2-w-c):p/(w+c),w){case M:x=(P-S)/p+(P<S?6:0);break;case P:x=(S-M)/p+2;break;case S:x=(M-P)/p+4;break;default:break}x/=6}return{h:x,s:e,l:o}}function Aa(M,P,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?M+(P-M)*(6*S):S<1/2?P:S<2/3?M+(P-M)*(2/3-S)*6:M}function fh(M,P,S){var w,c,x;if(M=st(M,360),P=st(P,100),S=st(S,100),P===0)c=S,x=S,w=S;else{var e=S<.5?S*(1+P):S+P-S*P,o=2*S-e;w=Aa(o,e,M+1/3),c=Aa(o,e,M),x=Aa(o,e,M-1/3)}return{r:w*255,g:c*255,b:x*255}}function Ii(M,P,S){M=st(M,255),P=st(P,255),S=st(S,255);var w=Math.max(M,P,S),c=Math.min(M,P,S),x=0,e=w,o=w-c,p=w===0?0:o/w;if(w===c)x=0;else{switch(w){case M:x=(P-S)/o+(P<S?6:0);break;case P:x=(S-M)/o+2;break;case S:x=(M-P)/o+4;break;default:break}x/=6}return{h:x,s:p,v:e}}function vh(M,P,S){M=st(M,360)*6,P=st(P,100),S=st(S,100);var w=Math.floor(M),c=M-w,x=S*(1-P),e=S*(1-c*P),o=S*(1-(1-c)*P),p=w%6,a=[S,e,x,x,o,S][p],r=[o,S,S,e,x,x][p],s=[x,x,o,S,S,e][p];return{r:a*255,g:r*255,b:s*255}}function Bi(M,P,S,w){var c=[fi(Math.round(M).toString(16)),fi(Math.round(P).toString(16)),fi(Math.round(S).toString(16))];return w&&c[0].startsWith(c[0].charAt(1))&&c[1].startsWith(c[1].charAt(1))&&c[2].startsWith(c[2].charAt(1))?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0):c.join("")}function ph(M,P,S,w,c){var x=[fi(Math.round(M).toString(16)),fi(Math.round(P).toString(16)),fi(Math.round(S).toString(16)),fi(c3(w))];return c&&x[0].startsWith(x[0].charAt(1))&&x[1].startsWith(x[1].charAt(1))&&x[2].startsWith(x[2].charAt(1))&&x[3].startsWith(x[3].charAt(1))?x[0].charAt(0)+x[1].charAt(0)+x[2].charAt(0)+x[3].charAt(0):x.join("")}function c3(M){return Math.round(parseFloat(M)*255).toString(16)}function Fa(M){return yt(M)/255}function yt(M){return parseInt(M,16)}function mh(M){return{r:M>>16,g:(M&65280)>>8,b:M&255}}var Jn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function St(M){var P={r:0,g:0,b:0},S=1,w=null,c=null,x=null,e=!1,o=!1;return typeof M=="string"&&(M=f3(M)),typeof M=="object"&&(Jt(M.r)&&Jt(M.g)&&Jt(M.b)?(P=dh(M.r,M.g,M.b),e=!0,o=String(M.r).substr(-1)==="%"?"prgb":"rgb"):Jt(M.h)&&Jt(M.s)&&Jt(M.v)?(w=Qn(M.s),c=Qn(M.v),P=vh(M.h,w,c),e=!0,o="hsv"):Jt(M.h)&&Jt(M.s)&&Jt(M.l)&&(w=Qn(M.s),x=Qn(M.l),P=fh(M.h,w,x),e=!0,o="hsl"),Object.prototype.hasOwnProperty.call(M,"a")&&(S=M.a)),S=Is(S),{ok:e,format:M.format||o,r:Math.min(255,Math.max(P.r,0)),g:Math.min(255,Math.max(P.g,0)),b:Math.min(255,Math.max(P.b,0)),a:S}}var u3="[-\\+]?\\d+%?",d3="[-\\+]?\\d*\\.\\d+%?",vi="(?:".concat(d3,")|(?:").concat(u3,")"),La="[\\s|\\(]+(".concat(vi,")[,|\\s]+(").concat(vi,")[,|\\s]+(").concat(vi,")\\s*\\)?"),Ra="[\\s|\\(]+(".concat(vi,")[,|\\s]+(").concat(vi,")[,|\\s]+(").concat(vi,")[,|\\s]+(").concat(vi,")\\s*\\)?"),Bt={CSS_UNIT:new RegExp(vi),rgb:new RegExp("rgb"+La),rgba:new RegExp("rgba"+Ra),hsl:new RegExp("hsl"+La),hsla:new RegExp("hsla"+Ra),hsv:new RegExp("hsv"+La),hsva:new RegExp("hsva"+Ra),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function f3(M){if(M=M.trim().toLowerCase(),M.length===0)return!1;var P=!1;if(Jn[M])M=Jn[M],P=!0;else if(M==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var S=Bt.rgb.exec(M);return S?{r:S[1],g:S[2],b:S[3]}:(S=Bt.rgba.exec(M),S?{r:S[1],g:S[2],b:S[3],a:S[4]}:(S=Bt.hsl.exec(M),S?{h:S[1],s:S[2],l:S[3]}:(S=Bt.hsla.exec(M),S?{h:S[1],s:S[2],l:S[3],a:S[4]}:(S=Bt.hsv.exec(M),S?{h:S[1],s:S[2],v:S[3]}:(S=Bt.hsva.exec(M),S?{h:S[1],s:S[2],v:S[3],a:S[4]}:(S=Bt.hex8.exec(M),S?{r:yt(S[1]),g:yt(S[2]),b:yt(S[3]),a:Fa(S[4]),format:P?"name":"hex8"}:(S=Bt.hex6.exec(M),S?{r:yt(S[1]),g:yt(S[2]),b:yt(S[3]),format:P?"name":"hex"}:(S=Bt.hex4.exec(M),S?{r:yt(S[1]+S[1]),g:yt(S[2]+S[2]),b:yt(S[3]+S[3]),a:Fa(S[4]+S[4]),format:P?"name":"hex8"}:(S=Bt.hex3.exec(M),S?{r:yt(S[1]+S[1]),g:yt(S[2]+S[2]),b:yt(S[3]+S[3]),format:P?"name":"hex"}:!1)))))))))}function Jt(M){return!!Bt.CSS_UNIT.exec(String(M))}var Bs=function(){function M(P,S){P===void 0&&(P=""),S===void 0&&(S={});var w;if(P instanceof M)return P;typeof P=="number"&&(P=mh(P)),this.originalInput=P;var c=St(P);this.originalInput=P,this.r=c.r,this.g=c.g,this.b=c.b,this.a=c.a,this.roundA=Math.round(100*this.a)/100,this.format=(w=S.format)!==null&&w!==void 0?w:c.format,this.gradientType=S.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=c.ok}return M.prototype.isDark=function(){return this.getBrightness()<128},M.prototype.isLight=function(){return!this.isDark()},M.prototype.getBrightness=function(){var P=this.toRgb();return(P.r*299+P.g*587+P.b*114)/1e3},M.prototype.getLuminance=function(){var P=this.toRgb(),S,w,c,x=P.r/255,e=P.g/255,o=P.b/255;return x<=.03928?S=x/12.92:S=Math.pow((x+.055)/1.055,2.4),e<=.03928?w=e/12.92:w=Math.pow((e+.055)/1.055,2.4),o<=.03928?c=o/12.92:c=Math.pow((o+.055)/1.055,2.4),.2126*S+.7152*w+.0722*c},M.prototype.getAlpha=function(){return this.a},M.prototype.setAlpha=function(P){return this.a=Is(P),this.roundA=Math.round(100*this.a)/100,this},M.prototype.isMonochrome=function(){var P=this.toHsl().s;return P===0},M.prototype.toHsv=function(){var P=Ii(this.r,this.g,this.b);return{h:P.h*360,s:P.s,v:P.v,a:this.a}},M.prototype.toHsvString=function(){var P=Ii(this.r,this.g,this.b),S=Math.round(P.h*360),w=Math.round(P.s*100),c=Math.round(P.v*100);return this.a===1?"hsv(".concat(S,", ").concat(w,"%, ").concat(c,"%)"):"hsva(".concat(S,", ").concat(w,"%, ").concat(c,"%, ").concat(this.roundA,")")},M.prototype.toHsl=function(){var P=Da(this.r,this.g,this.b);return{h:P.h*360,s:P.s,l:P.l,a:this.a}},M.prototype.toHslString=function(){var P=Da(this.r,this.g,this.b),S=Math.round(P.h*360),w=Math.round(P.s*100),c=Math.round(P.l*100);return this.a===1?"hsl(".concat(S,", ").concat(w,"%, ").concat(c,"%)"):"hsla(".concat(S,", ").concat(w,"%, ").concat(c,"%, ").concat(this.roundA,")")},M.prototype.toHex=function(P){return P===void 0&&(P=!1),Bi(this.r,this.g,this.b,P)},M.prototype.toHexString=function(P){return P===void 0&&(P=!1),"#"+this.toHex(P)},M.prototype.toHex8=function(P){return P===void 0&&(P=!1),ph(this.r,this.g,this.b,this.a,P)},M.prototype.toHex8String=function(P){return P===void 0&&(P=!1),"#"+this.toHex8(P)},M.prototype.toHexShortString=function(P){return P===void 0&&(P=!1),this.a===1?this.toHexString(P):this.toHex8String(P)},M.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},M.prototype.toRgbString=function(){var P=Math.round(this.r),S=Math.round(this.g),w=Math.round(this.b);return this.a===1?"rgb(".concat(P,", ").concat(S,", ").concat(w,")"):"rgba(".concat(P,", ").concat(S,", ").concat(w,", ").concat(this.roundA,")")},M.prototype.toPercentageRgb=function(){var P=function(S){return"".concat(Math.round(st(S,255)*100),"%")};return{r:P(this.r),g:P(this.g),b:P(this.b),a:this.a}},M.prototype.toPercentageRgbString=function(){var P=function(S){return Math.round(st(S,255)*100)};return this.a===1?"rgb(".concat(P(this.r),"%, ").concat(P(this.g),"%, ").concat(P(this.b),"%)"):"rgba(".concat(P(this.r),"%, ").concat(P(this.g),"%, ").concat(P(this.b),"%, ").concat(this.roundA,")")},M.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var P="#"+Bi(this.r,this.g,this.b,!1),S=0,w=Object.entries(Jn);S<w.length;S++){var c=w[S],x=c[0],e=c[1];if(P===e)return x}return!1},M.prototype.toString=function(P){var S=!!P;P=P??this.format;var w=!1,c=this.a<1&&this.a>=0,x=!S&&c&&(P.startsWith("hex")||P==="name");return x?P==="name"&&this.a===0?this.toName():this.toRgbString():(P==="rgb"&&(w=this.toRgbString()),P==="prgb"&&(w=this.toPercentageRgbString()),(P==="hex"||P==="hex6")&&(w=this.toHexString()),P==="hex3"&&(w=this.toHexString(!0)),P==="hex4"&&(w=this.toHex8String(!0)),P==="hex8"&&(w=this.toHex8String()),P==="name"&&(w=this.toName()),P==="hsl"&&(w=this.toHslString()),P==="hsv"&&(w=this.toHsvString()),w||this.toHexString())},M.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},M.prototype.clone=function(){return new M(this.toString())},M.prototype.lighten=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.l+=P/100,S.l=Zn(S.l),new M(S)},M.prototype.brighten=function(P){P===void 0&&(P=10);var S=this.toRgb();return S.r=Math.max(0,Math.min(255,S.r-Math.round(255*-(P/100)))),S.g=Math.max(0,Math.min(255,S.g-Math.round(255*-(P/100)))),S.b=Math.max(0,Math.min(255,S.b-Math.round(255*-(P/100)))),new M(S)},M.prototype.darken=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.l-=P/100,S.l=Zn(S.l),new M(S)},M.prototype.tint=function(P){return P===void 0&&(P=10),this.mix("white",P)},M.prototype.shade=function(P){return P===void 0&&(P=10),this.mix("black",P)},M.prototype.desaturate=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.s-=P/100,S.s=Zn(S.s),new M(S)},M.prototype.saturate=function(P){P===void 0&&(P=10);var S=this.toHsl();return S.s+=P/100,S.s=Zn(S.s),new M(S)},M.prototype.greyscale=function(){return this.desaturate(100)},M.prototype.spin=function(P){var S=this.toHsl(),w=(S.h+P)%360;return S.h=w<0?360+w:w,new M(S)},M.prototype.mix=function(P,S){S===void 0&&(S=50);var w=this.toRgb(),c=new M(P).toRgb(),x=S/100,e={r:(c.r-w.r)*x+w.r,g:(c.g-w.g)*x+w.g,b:(c.b-w.b)*x+w.b,a:(c.a-w.a)*x+w.a};return new M(e)},M.prototype.analogous=function(P,S){P===void 0&&(P=6),S===void 0&&(S=30);var w=this.toHsl(),c=360/S,x=[this];for(w.h=(w.h-(c*P>>1)+720)%360;--P;)w.h=(w.h+c)%360,x.push(new M(w));return x},M.prototype.complement=function(){var P=this.toHsl();return P.h=(P.h+180)%360,new M(P)},M.prototype.monochromatic=function(P){P===void 0&&(P=6);for(var S=this.toHsv(),w=S.h,c=S.s,x=S.v,e=[],o=1/P;P--;)e.push(new M({h:w,s:c,v:x})),x=(x+o)%1;return e},M.prototype.splitcomplement=function(){var P=this.toHsl(),S=P.h;return[this,new M({h:(S+72)%360,s:P.s,l:P.l}),new M({h:(S+216)%360,s:P.s,l:P.l})]},M.prototype.onBackground=function(P){var S=this.toRgb(),w=new M(P).toRgb(),c=S.a+w.a*(1-S.a);return new M({r:(S.r*S.a+w.r*w.a*(1-S.a))/c,g:(S.g*S.a+w.g*w.a*(1-S.a))/c,b:(S.b*S.a+w.b*w.a*(1-S.a))/c,a:c})},M.prototype.triad=function(){return this.polyad(3)},M.prototype.tetrad=function(){return this.polyad(4)},M.prototype.polyad=function(P){for(var S=this.toHsl(),w=S.h,c=[this],x=360/P,e=1;e<P;e++)c.push(new M({h:(w+e*x)%360,s:S.s,l:S.l}));return c},M.prototype.equals=function(P){return this.toRgbString()===new M(P).toRgbString()},M}();var Hs=2,gh=.16,v3=.05,p3=.05,m3=.15,Ch=5,Mh=4,g3=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function xh(M){var P=M.r,S=M.g,w=M.b,c=Ii(P,S,w);return{h:c.h*360,s:c.s,v:c.v}}function Ys(M){var P=M.r,S=M.g,w=M.b;return"#".concat(Bi(P,S,w,!1))}function x3(M,P,S){var w=S/100,c={r:(P.r-M.r)*w+M.r,g:(P.g-M.g)*w+M.g,b:(P.b-M.b)*w+M.b};return c}function yh(M,P,S){var w;return Math.round(M.h)>=60&&Math.round(M.h)<=240?w=S?Math.round(M.h)-Hs*P:Math.round(M.h)+Hs*P:w=S?Math.round(M.h)+Hs*P:Math.round(M.h)-Hs*P,w<0?w+=360:w>=360&&(w-=360),w}function Sh(M,P,S){if(M.h===0&&M.s===0)return M.s;var w;return S?w=M.s-gh*P:P===Mh?w=M.s+gh:w=M.s+v3*P,w>1&&(w=1),S&&P===Ch&&w>.1&&(w=.1),w<.06&&(w=.06),Number(w.toFixed(2))}function Th(M,P,S){var w;return S?w=M.v+p3*P:w=M.v-m3*P,w>1&&(w=1),Number(w.toFixed(2))}function Ns(M){for(var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=[],w=St(M),c=Ch;c>0;c-=1){var x=xh(w),e=Ys(St({h:yh(x,c,!0),s:Sh(x,c,!0),v:Th(x,c,!0)}));S.push(e)}S.push(Ys(w));for(var o=1;o<=Mh;o+=1){var p=xh(w),a=Ys(St({h:yh(p,o),s:Sh(p,o),v:Th(p,o)}));S.push(a)}return P.theme==="dark"?g3.map(function(r){var s=r.index,t=r.opacity,n=Ys(x3(St(P.backgroundColor||"#141414"),St(S[s]),t*100));return n}):S}var Eh=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Eh.primary=Eh[5];var Ph=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Ph.primary=Ph[5];var wh=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];wh.primary=wh[5];var zh=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];zh.primary=zh[5];var Ah=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Ah.primary=Ah[5];var Dh=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Dh.primary=Dh[5];var Fh=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Fh.primary=Fh[5];var Lh=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Lh.primary=Lh[5];var Rh=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Rh.primary=Rh[5];var Oh=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Oh.primary=Oh[5];var bh=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];bh.primary=bh[5];var Vh=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Vh.primary=Vh[5];var Ih=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Ih.primary=Ih[5];var Bh=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Bh.primary=Bh[5];var Hh=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Hh.primary=Hh[5];var Yh=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Yh.primary=Yh[5];var Nh=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Nh.primary=Nh[5];var Uh=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Uh.primary=Uh[5];var Gh=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Gh.primary=Gh[5];var kh=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];kh.primary=kh[5];var Wh=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Wh.primary=Wh[5];var Xh=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Xh.primary=Xh[5];var jh=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];jh.primary=jh[5];var Kh=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Kh.primary=Kh[5];var $h=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];$h.primary=$h[5];var Zh=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Zh.primary=Zh[5];var qt="[@ant-design/icons-angular]:";function y3(M){console.error(`${qt} ${M}.`)}function qh(M){ls()&&console.warn(`${qt} ${M}.`)}function Qh(M){return Ns(M)[0]}function Us(M,P){switch(P){case"fill":return`${M}-fill`;case"outline":return`${M}-o`;case"twotone":return`${M}-twotone`;case void 0:return M;default:throw new Error(`${qt}Theme "${P}" is not a recognized theme!`)}}function S3(M,P,S,w){return`${Us(M,P)}-${S}-${w}`}function T3(M){return M==="o"?"outline":M}function C3(M){return M.endsWith("-fill")||M.endsWith("-o")||M.endsWith("-twotone")}function _h(M){return typeof M=="object"&&typeof M.name=="string"&&(typeof M.theme=="string"||M.theme===void 0)&&typeof M.icon=="string"}function M3(M){let P=M.split("-"),S=T3(P.splice(P.length-1,1)[0]);return{name:P.join("-"),theme:S,icon:""}}function E3(M){return M.cloneNode(!0)}function P3(M){return M.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function Gs(M){let P=M.split(":");switch(P.length){case 1:return[M,""];case 2:return[P[1],P[0]];default:throw new Error(`${qt}The icon type ${M} is not valid!`)}}function w3(M){return Gs(M)[1]!==""}function z3(){return new Error(`${qt}Type should have a namespace. Try "namespace:${name}".`)}function Jh(M){return new Error(`${qt}the icon ${M} does not exist or is not registered.`)}function A3(){return y3('you need to import "HttpClientModule" to use dynamic importing.'),null}function D3(M){return new Error(`${qt}The url "${M}" is unsafe.`)}function F3(){return new Error(`${qt}<svg> tag not found.`)}function L3(){return new Error(`${qt}Importing timeout error.`)}var R3="__ant_icon_load",O3=new ve("ant_icons"),Oa=(()=>{class M{set twoToneColor({primaryColor:S,secondaryColor:w}){this._twoToneColorPalette.primaryColor=S,this._twoToneColorPalette.secondaryColor=w||Qh(S)}get twoToneColor(){return se({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(S,w,c,x,e){this._rendererFactory=S,this._handler=w,this._document=c,this.sanitizer=x,this._antIcons=e,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new de,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Lr(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?qh("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[R3]=S=>{this._jsonpIconLoad$.next(S)})}changeAssetsSource(S){this._assetsUrlRoot=S.endsWith("/")?S:S+"/"}addIcon(...S){S.forEach(w=>{this._svgDefinitions.set(Us(w.name,w.theme),w)})}addIconLiteral(S,w){let[c,x]=Gs(S);if(!x)throw z3();this.addIcon({name:S,icon:w})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(S,w){let c=_h(S)?S:this._svgDefinitions.get(S)||null;if(!c&&this._disableDynamicLoading)throw Jh(S);return(c?ue(c):this._loadIconDynamically(S)).pipe(me(e=>{if(!e)throw Jh(S);return this._loadSVGFromCacheOrCreateNew(e,w)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(S){if(!this._http&&!this._enableJsonpLoading)return ue(A3());let w=this._inProgressFetches.get(S);if(!w){let[c,x]=Gs(S),e=x?{name:S,icon:""}:M3(c),o=this._enableJsonpLoading?".js":".svg",p=(x?`${this._assetsUrlRoot}assets/${x}/${c}`:`${this._assetsUrlRoot}assets/${e.theme}/${e.name}`)+o,a=this.sanitizer.sanitize($t.URL,p);if(!a)throw D3(p);w=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(e,a):this._http.get(a,{responseType:"text"}).pipe(me(s=>Ge(se({},e),{icon:s})))).pipe(qe(s=>this.addIcon(s)),Nt(()=>this._inProgressFetches.delete(S)),ii(()=>ue(null)),xo()),this._inProgressFetches.set(S,w)}return w}_loadIconDynamicallyWithJsonp(S,w){return new Si(c=>{let x=this._document.createElement("script"),e=setTimeout(()=>{o(),c.error(L3())},6e3);x.src=w;function o(){x.parentNode.removeChild(x),clearTimeout(e)}this._document.body.appendChild(x),this._jsonpIconLoad$.pipe(Je(p=>p.name===S.name&&p.theme===S.theme),Yt(1)).subscribe(p=>{c.next(p),o()})})}_loadSVGFromCacheOrCreateNew(S,w){let c,x=w||this._twoToneColorPalette.primaryColor,e=Qh(x)||this._twoToneColorPalette.secondaryColor,o=S.theme==="twotone"?S3(S.name,S.theme,x,e):S.theme===void 0?S.name:Us(S.name,S.theme),p=this._svgRenderedDefinitions.get(o);return p?c=p.icon:(c=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(w3(S.name)?S.icon:P3(S.icon)),S.theme==="twotone",x,e)),this._svgRenderedDefinitions.set(o,Ge(se({},S),{icon:c}))),E3(c)}_createSVGElementFromString(S){let w=this._document.createElement("div");w.innerHTML=S;let c=w.querySelector("svg");if(!c)throw F3;return c}_setSVGAttribute(S){return this._renderer.setAttribute(S,"width","1em"),this._renderer.setAttribute(S,"height","1em"),S}_colorizeSVGIcon(S,w,c,x){if(w){let e=S.childNodes,o=e.length;for(let p=0;p<o;p++){let a=e[p];a.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute(a,"fill",x):this._renderer.setAttribute(a,"fill",c)}}return this._renderer.setAttribute(S,"fill","currentColor"),S}static{this.\u0275fac=function(w){return new(w||M)(ee(Ft),ee(ci,8),ee(Ce,8),ee(zn),ee(O3,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})();function b3(M,P){return M.type===P.type&&M.theme===P.theme&&M.twoToneColor===P.twoToneColor}var e4=(()=>{class M{constructor(S,w,c){this._iconService=S,this._elementRef=w,this._renderer=c}ngOnChanges(S){(S.type||S.theme||S.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(S=>{if(!this.type){this._clearSVGElement(),S(null);return}let w=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(c=>{let x=this._getSelfRenderMeta();b3(w,x)?(this._setSVGElement(c),S(c)):S(null)})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(S,w){if(_h(S))return S;{let[c,x]=Gs(S);return x?S:C3(c)?(w&&qh(`'type' ${c} already gets a theme inside so 'theme' ${w} would be ignored`),c):Us(c,w||this._iconService.defaultTheme)}}_setSVGElement(S){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,S)}_clearSVGElement(){let S=this._elementRef.nativeElement,w=S.childNodes,c=w.length;for(let x=c-1;x>=0;x--){let e=w[x];e.tagName?.toLowerCase()==="svg"&&this._renderer.removeChild(S,e)}}static{this.\u0275fac=function(w){return new(w||M)(he(Oa),he(Be),he(Ct))}}static{this.\u0275dir=_e({type:M,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[$e]})}}return M})();var t4={isTestMode:!1};var i4={},V3="[NG-ZORRO]:";function I3(...M){let P=M.reduce((S,w)=>S+w.toString(),"");return i4[P]?!1:(i4[P]=!0,!0)}function B3(M,...P){(t4.isTestMode||ls()&&I3(...P))&&M(...P)}var qn=(...M)=>B3((...P)=>console.warn(V3,...P),...M);var ks=2,n4=.16,H3=.05,Y3=.05,N3=.15,l4=5,h4=4,U3=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function s4({r:M,g:P,b:S}){let w=Ii(M,P,S);return{h:w.h*360,s:w.s,v:w.v}}function Ws({r:M,g:P,b:S}){return`#${Bi(M,P,S,!1)}`}function G3(M,P,S){let w=S/100;return{r:(P.r-M.r)*w+M.r,g:(P.g-M.g)*w+M.g,b:(P.b-M.b)*w+M.b}}function r4(M,P,S){let w;return Math.round(M.h)>=60&&Math.round(M.h)<=240?w=S?Math.round(M.h)-ks*P:Math.round(M.h)+ks*P:w=S?Math.round(M.h)+ks*P:Math.round(M.h)-ks*P,w<0?w+=360:w>=360&&(w-=360),w}function a4(M,P,S){if(M.h===0&&M.s===0)return M.s;let w;return S?w=M.s-n4*P:P===h4?w=M.s+n4:w=M.s+H3*P,w>1&&(w=1),S&&P===l4&&w>.1&&(w=.1),w<.06&&(w=.06),Number(w.toFixed(2))}function o4(M,P,S){let w;return S?w=M.v+Y3*P:w=M.v-N3*P,w>1&&(w=1),Number(w.toFixed(2))}function ba(M,P={}){let S=[],w=St(M);for(let c=l4;c>0;c-=1){let x=s4(w),e=Ws(St({h:r4(x,c,!0),s:a4(x,c,!0),v:o4(x,c,!0)}));S.push(e)}S.push(Ws(w));for(let c=1;c<=h4;c+=1){let x=s4(w),e=Ws(St({h:r4(x,c),s:a4(x,c),v:o4(x,c)}));S.push(e)}return P.theme==="dark"?U3.map(({index:c,opacity:x})=>Ws(G3(St(P.backgroundColor||"#141414"),St(S[c]),x*100))):S}function Va(M){return Array.isArray(M)?M:[M]}function Xe(M){return M==null?"":typeof M=="string"?M:`${M}px`}function c4(M){return M instanceof Be?M.nativeElement:M}function d4(M){return hs(M,0)}function f4(M){return Xe(M)}var W3=typeof window<"u",Hd=W3&&window.mozInnerScreenX!=null;function v4(){let M=new de;return Promise.resolve().then(()=>M.next()),M.pipe(Yt(1))}function Ba(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var X3="rc-util-key";function p4({mark:M}={}){return M?M.startsWith("data-")?M:`data-${M}`:X3}function Ha(M){return M.attachTo?M.attachTo:document.querySelector("head")||document.body}function u4(M,P={}){if(!Ba())return null;let S=document.createElement("style");P.cspNonce&&(S.nonce=P.cspNonce),S.innerHTML=M;let w=Ha(P),{firstChild:c}=w;return P.prepend&&w.prepend?w.prepend(S):P.prepend&&c?w.insertBefore(S,c):w.appendChild(S),S}var Ia=new Map;function j3(M,P={}){let S=Ha(P);return Array.from(Ia.get(S)?.children||[]).find(w=>w.tagName==="STYLE"&&w.getAttribute(p4(P))===M)}function m4(M,P,S={}){let w=Ha(S);if(!Ia.has(w)){let e=u4("",S),{parentNode:o}=e;Ia.set(w,o),o.removeChild(e)}let c=j3(P,S);if(c)return S.cspNonce&&c.nonce!==S.cspNonce&&(c.nonce=S.cspNonce),c.innerHTML!==M&&(c.innerHTML=M),c;let x=u4(M,S);return x?.setAttribute(p4(S),P),x}var K3=new ve("nz-config");var $3=`-ant-${Date.now()}-${Math.random()}`;function Z3(M,P){let S={},w=(e,o)=>{let p=e.clone();return p=o?.(p)||p,p.toRgbString()},c=(e,o)=>{let p=new Bs(e),a=ba(p.toRgbString());S[`${o}-color`]=w(p),S[`${o}-color-disabled`]=a[1],S[`${o}-color-hover`]=a[4],S[`${o}-color-active`]=a[7],S[`${o}-color-outline`]=p.clone().setAlpha(.2).toRgbString(),S[`${o}-color-deprecated-bg`]=a[1],S[`${o}-color-deprecated-border`]=a[3]};if(P.primaryColor){c(P.primaryColor,"primary");let e=new Bs(P.primaryColor),o=ba(e.toRgbString());o.forEach((a,r)=>{S[`primary-${r+1}`]=a}),S["primary-color-deprecated-l-35"]=w(e,a=>a.lighten(35)),S["primary-color-deprecated-l-20"]=w(e,a=>a.lighten(20)),S["primary-color-deprecated-t-20"]=w(e,a=>a.tint(20)),S["primary-color-deprecated-t-50"]=w(e,a=>a.tint(50)),S["primary-color-deprecated-f-12"]=w(e,a=>a.setAlpha(a.getAlpha()*.12));let p=new Bs(o[0]);S["primary-color-active-deprecated-f-30"]=w(p,a=>a.setAlpha(a.getAlpha()*.3)),S["primary-color-active-deprecated-d-02"]=w(p,a=>a.darken(2))}return P.successColor&&c(P.successColor,"success"),P.warningColor&&c(P.warningColor,"warning"),P.errorColor&&c(P.errorColor,"error"),P.infoColor&&c(P.infoColor,"info"),`
  :root {
    ${Object.keys(S).map(e=>`--${M}-${e}: ${S[e]};`).join(`
`)}
  }
  `.trim()}function g4(M,P,S){let w=Z3(M,P);Ba()?m4(w,`${$3}-dynamic-theme`,{cspNonce:S}):qn("NzConfigService: SSR do not support dynamic theme with css variables.")}var x4="ant",y4=(()=>{class M{constructor(){this.configUpdated$=new de,this.config=te(K3,{optional:!0})||{},this.cspNonce=te(zi,{optional:!0}),this.config.theme&&g4(this.getConfig().prefixCls?.prefixCls||x4,this.config.theme,this.cspNonce)}getConfig(){return this.config}getConfigForComponent(S){return this.config[S]}getConfigChangeEventForComponent(S){return this.configUpdated$.pipe(Je(w=>w===S),ki(void 0))}set(S,w){this.config[S]=se(se({},this.config[S]),w),S==="theme"&&this.config.theme&&g4(this.getConfig().prefixCls?.prefixCls||x4,this.config.theme,this.cspNonce),this.configUpdated$.next(S)}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var Ya;try{Ya=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ya=!1}var vt=(()=>{class M{constructor(S){this._platformId=S,this.isBrowser=this._platformId?Qo(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ya)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(w){return new(w||M)(ee(Ut))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var Hi;function S4(){if(Hi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Hi=!1,Hi;if("scrollBehavior"in document.documentElement.style)Hi=!0;else{let M=Element.prototype.scrollTo;M?Hi=!/\{\s*\[native code\]\s*\}/.test(M.toString()):Hi=!1}}return Hi}function Xs(M){return M.composedPath?M.composedPath()[0]:M.target}function Na(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var J3=[x1,y1,C1,M1,S1,T1,E1,P1,A1,D1,w1,I1,z1,F1,L1,O1,b1,V1,H1,B1,Y1,j1,N1,U1,G1,k1,X1,K1,$1,Z1,q1,_1,th,eh,ah,za,ih,za,ch,oh,rh,nh,sh,lh,hh],C4=new ve("nz_icons"),ff=new ve("nz_icon_default_twotone_color"),T4="#1890ff",M4=(()=>{class M extends Oa{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(S){S.getAttribute("viewBox")||this._renderer.setAttribute(S,"viewBox","0 0 1024 1024"),(!S.getAttribute("width")||!S.getAttribute("height"))&&(this._renderer.setAttribute(S,"width","1em"),this._renderer.setAttribute(S,"height","1em")),S.getAttribute("fill")||this._renderer.setAttribute(S,"fill","currentColor")}fetchFromIconfont(S){let{scriptUrl:w}=S;if(this._document&&!this.iconfontCache.has(w)){let c=this._renderer.createElement("script");this._renderer.setAttribute(c,"src",w),this._renderer.setAttribute(c,"data-namespace",w.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,c),this.iconfontCache.add(w)}}createIconfontIcon(S){return this._createSVGElementFromString(`<svg><use xlink:href="${S}"></svg>`)}constructor(S,w,c,x){super(S,te(ci,{optional:!0}),te(Ce),w,[...J3,...te(C4,{optional:!0})||[]]),this.nzConfigService=c,this.platform=x,this.configUpdated$=new de,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let S=this.getConfig();this.defaultTheme=S.nzTheme||"outline"}configDefaultTwotoneColor(){let w=this.getConfig().nzTwotoneColor||T4,c=T4;w&&(w.startsWith("#")?c=w:qn("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:c}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static{this.\u0275fac=function(w){return new(w||M)(ee(Ft),ee(zn),ee(y4),ee(vt))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),E4=new ve("nz_icons_patch"),P4=(()=>{class M{constructor(S){this.rootIconService=S,this.patched=!1,this.extraIcons=te(E4,{self:!0})}doPatch(){this.patched||(this.extraIcons.forEach(S=>this.rootIconService.addIcon(S)),this.patched=!0)}static{this.\u0275fac=function(w){return new(w||M)(ee(M4))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),hn=(()=>{class M extends e4{set nzSpin(S){this.spin=S}set nzType(S){this.type=S}set nzTheme(S){this.theme=S}set nzTwotoneColor(S){this.twoToneColor=S}set nzIconfont(S){this.iconfont=S}constructor(S,w,c,x,e){super(x,c,e),this.ngZone=S,this.changeDetectorRef=w,this.iconService=x,this.renderer=e,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new de;let o=te(P4,{optional:!0});o&&o.doPatch(),this.el=c.nativeElement}ngOnChanges(S){let{nzType:w,nzTwotoneColor:c,nzSpin:x,nzTheme:e,nzRotate:o}=S;w||c||x||e?this.changeIcon2():o?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){let S=this.el.children,w=S.length;if(!this.type&&S.length)for(;w--;){let c=S[w];c.tagName.toLowerCase()==="svg"&&this.iconService.normalizeSvgElement(c)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{ht(this._changeIcon()).pipe(Me(this.destroy$)).subscribe({next:S=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),S&&(this.setSVGData(S),this.handleSpin(S),this.handleRotate(S))})},error:qn})})}handleSpin(S){this.spin||this.type==="loading"?this.renderer.addClass(S,"anticon-spin"):this.renderer.removeClass(S,"anticon-spin")}handleRotate(S){this.nzRotate?this.renderer.setAttribute(S,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(S,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(S){this.renderer.setAttribute(S,"data-icon",this.type),this.renderer.setAttribute(S,"aria-hidden","true")}static{this.\u0275fac=function(w){return new(w||M)(he(Ve),he(mt),he(Be),he(M4),he(Ct))}}static{this.\u0275dir=_e({type:M,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(w,c){w&2&&it("anticon",!0)},inputs:{nzSpin:[2,"nzSpin","nzSpin",Pe],nzRotate:[2,"nzRotate","nzRotate",hs],nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],standalone:!0,features:[ft,mn,$e]})}}return M})(),Ua=M=>Tt([{provide:C4,useValue:M}]),q3=M=>[P4,{provide:E4,useValue:M}],cn=(()=>{class M{static forRoot(S){return{ngModule:M,providers:[Ua(S)]}}static forChild(S){return{ngModule:M,providers:[q3(S)]}}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({})}}return M})();var _3=new ve("nz-i18n");function w4(M){return Tt([{provide:_3,useValue:M}])}var xf=new ve("nz-date-locale");var yf=new ve("date-config");var z4={locale:"fr",Pagination:{items_per_page:"/ page",jump_to:"Aller \xE0",jump_to_confirm:"confirmer",page:"Page",prev_page:"Page pr\xE9c\xE9dente",next_page:"Page suivante",prev_5:"5 Pages pr\xE9c\xE9dentes",next_5:"5 Pages suivantes",prev_3:"3 Pages pr\xE9c\xE9dentes",next_3:"3 Pages suivantes",page_size:"taille de la page"},DatePicker:{lang:{placeholder:"S\xE9lectionner une date",yearPlaceholder:"S\xE9lectionner une ann\xE9e",quarterPlaceholder:"S\xE9lectionner un trimestre",monthPlaceholder:"S\xE9lectionner un mois",weekPlaceholder:"S\xE9lectionner une semaine",rangePlaceholder:["Date de d\xE9but","Date de fin"],rangeYearPlaceholder:["Ann\xE9e de d\xE9but","Ann\xE9e de fin"],rangeMonthPlaceholder:["Mois de d\xE9but","Mois de fin"],rangeWeekPlaceholder:["Semaine de d\xE9but","Semaine de fin"],locale:"fr_FR",today:"Aujourd'hui",now:"Maintenant",backToToday:"Aujourd'hui",ok:"Ok",clear:"R\xE9tablir",month:"Mois",year:"Ann\xE9e",timeSelect:"S\xE9lectionner l'heure",dateSelect:"S\xE9lectionner la date",weekSelect:"Choisissez une semaine",monthSelect:"Choisissez un mois",yearSelect:"Choisissez une ann\xE9e",decadeSelect:"Choisissez une d\xE9cennie",yearFormat:"YYYY",dateFormat:"DD/MM/YYYY",dayFormat:"DD",dateTimeFormat:"DD/MM/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mois pr\xE9c\xE9dent (PageUp)",nextMonth:"Mois suivant (PageDown)",previousYear:"Ann\xE9e pr\xE9c\xE9dente (Ctrl + gauche)",nextYear:"Ann\xE9e prochaine (Ctrl + droite)",previousDecade:"D\xE9cennie pr\xE9c\xE9dente",nextDecade:"D\xE9cennie suivante",previousCentury:"Si\xE8cle pr\xE9c\xE9dent",nextCentury:"Si\xE8cle suivant"},timePickerLocale:{placeholder:"S\xE9lectionner l'heure",rangePlaceholder:["Heure de d\xE9but","Heure de fin"]}},TimePicker:{placeholder:"S\xE9lectionner l'heure",rangePlaceholder:["Heure de d\xE9but","Heure de fin"]},Calendar:{lang:{placeholder:"S\xE9lectionner une date",yearPlaceholder:"S\xE9lectionner une ann\xE9e",quarterPlaceholder:"S\xE9lectionner un trimestre",monthPlaceholder:"S\xE9lectionner un mois",weekPlaceholder:"S\xE9lectionner une semaine",rangePlaceholder:["Date de d\xE9but","Date de fin"],rangeYearPlaceholder:["Ann\xE9e de d\xE9but","Ann\xE9e de fin"],rangeMonthPlaceholder:["Mois de d\xE9but","Mois de fin"],rangeWeekPlaceholder:["Semaine de d\xE9but","Semaine de fin"],locale:"fr_FR",today:"Aujourd'hui",now:"Maintenant",backToToday:"Aujourd'hui",ok:"Ok",clear:"R\xE9tablir",month:"Mois",year:"Ann\xE9e",timeSelect:"S\xE9lectionner l'heure",dateSelect:"S\xE9lectionner la date",monthSelect:"Choisissez un mois",yearSelect:"Choisissez une ann\xE9e",decadeSelect:"Choisissez une d\xE9cennie",yearFormat:"YYYY",dateFormat:"DD/MM/YYYY",dayFormat:"DD",dateTimeFormat:"DD/MM/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mois pr\xE9c\xE9dent (PageUp)",nextMonth:"Mois suivant (PageDown)",previousYear:"Ann\xE9e pr\xE9c\xE9dente (Ctrl + gauche)",nextYear:"Ann\xE9e prochaine (Ctrl + droite)",previousDecade:"D\xE9cennie pr\xE9c\xE9dente",nextDecade:"D\xE9cennie suivante",previousCentury:"Si\xE8cle pr\xE9c\xE9dent",nextCentury:"Si\xE8cle suivant"},timePickerLocale:{placeholder:"S\xE9lectionner l'heure",rangePlaceholder:["Heure de d\xE9but","Heure de fin"]}},global:{placeholder:"S\xE9lectionner"},Table:{filterTitle:"Filtrer",filterConfirm:"OK",filterReset:"R\xE9initialiser",selectAll:"S\xE9lectionner la page actuelle",selectInvert:"Inverser la s\xE9lection de la page actuelle",selectionAll:"S\xE9lectionner toutes les donn\xE9es",sortTitle:"Trier",expand:"D\xE9velopper la ligne",collapse:"R\xE9duire la ligne",triggerDesc:"Trier par ordre d\xE9croissant",triggerAsc:"Trier par ordre croissant",cancelSort:"Annuler le tri",filterEmptyText:"Aucun filtre",emptyText:"Aucune donn\xE9e",selectNone:"D\xE9s\xE9lectionner toutes les donn\xE9es"},Modal:{okText:"OK",cancelText:"Annuler",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Annuler"},Transfer:{searchPlaceholder:"Rechercher",itemUnit:"\xE9l\xE9ment",itemsUnit:"\xE9l\xE9ments",titles:["",""],remove:"D\xE9s\xE9lectionner",selectCurrent:"S\xE9lectionner la page actuelle",removeCurrent:"D\xE9s\xE9lectionner la page actuelle",selectAll:"S\xE9lectionner toutes les donn\xE9es",removeAll:"D\xE9s\xE9lectionner toutes les donn\xE9es",selectInvert:"Inverser la s\xE9lection de la page actuelle"},Empty:{description:"Aucune donn\xE9e"},Upload:{uploading:"T\xE9l\xE9chargement...",removeFile:"Effacer le fichier",uploadError:"Erreur de t\xE9l\xE9chargement",previewFile:"Fichier de pr\xE9visualisation",downloadFile:"T\xE9l\xE9charger un fichier"},Text:{edit:"\xC9diter",copy:"Copier",copied:"Copie effectu\xE9e",expand:"D\xE9velopper"},PageHeader:{back:"Retour"},Icon:{icon:"ic\xF4ne"},Image:{preview:"Aper\xE7u"},CronExpression:{cronError:"Expression CRON invalide",second:"seconde",minute:"minute",hour:"heure",day:"jour",month:"mois",week:"semaine"},QRCode:{expired:"QR code expir\xE9",refresh:"Rafra\xEEchir",scanned:"Scann\xE9"}};function eu(M){let P=M,S=Math.floor(Math.abs(M)),w=M.toString().replace(/^[^.]*\.?/,"").length,c=parseInt(M.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return S===0||S===1?1:c===0&&S!==0&&S%1e6===0&&w===0||!(c>=0&&c<=5)?4:5}var A4=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",eu];var tu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Hf=Ge(se({},tu),{"[class.ng-submitted]":"isSubmitted"});var iu=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>D4}),D4="always";var nu=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({})}}return M})();var F4=(()=>{class M{static withConfig(S){return{ngModule:M,providers:[{provide:iu,useValue:S.callSetDisabledState??D4}]}}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({imports:[nu]})}}return M})();var su="@",ru=(()=>{class M{constructor(S,w,c,x,e){this.doc=S,this.delegate=w,this.zone=c,this.animationType=x,this.moduleImpl=e,this._rendererFactoryPromise=null,this.scheduler=te(bo,{optional:!0}),this.loadingSchedulerFn=te(au,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let S=()=>this.moduleImpl??import("./chunk-4H2TXWXL.js").then(c=>c),w;return this.loadingSchedulerFn?w=this.loadingSchedulerFn(S):w=S(),w.catch(c=>{throw new be(5300,!1)}).then(({\u0275createEngine:c,\u0275AnimationRendererFactory:x})=>{this._engine=c(this.animationType,this.doc);let e=new x(this.delegate,this._engine,this.zone);return this.delegate=e,e})}createRenderer(S,w){let c=this.delegate.createRenderer(S,w);if(c.\u0275type===0)return c;typeof c.throwOnSyntheticProps=="boolean"&&(c.throwOnSyntheticProps=!1);let x=new ka(c);return w?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(e=>{let o=e.createRenderer(S,w);x.use(o),this.scheduler?.notify(10)}).catch(e=>{x.use(c)}),x}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(w){ur()}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),ka=class{constructor(P){this.delegate=P,this.replay=[],this.\u0275type=1}use(P){if(this.delegate=P,this.replay!==null){for(let S of this.replay)S(P);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(P,S){return this.delegate.createElement(P,S)}createComment(P){return this.delegate.createComment(P)}createText(P){return this.delegate.createText(P)}get destroyNode(){return this.delegate.destroyNode}appendChild(P,S){this.delegate.appendChild(P,S)}insertBefore(P,S,w,c){this.delegate.insertBefore(P,S,w,c)}removeChild(P,S,w){this.delegate.removeChild(P,S,w)}selectRootElement(P,S){return this.delegate.selectRootElement(P,S)}parentNode(P){return this.delegate.parentNode(P)}nextSibling(P){return this.delegate.nextSibling(P)}setAttribute(P,S,w,c){this.delegate.setAttribute(P,S,w,c)}removeAttribute(P,S,w){this.delegate.removeAttribute(P,S,w)}addClass(P,S){this.delegate.addClass(P,S)}removeClass(P,S){this.delegate.removeClass(P,S)}setStyle(P,S,w,c){this.delegate.setStyle(P,S,w,c)}removeStyle(P,S,w){this.delegate.removeStyle(P,S,w)}setProperty(P,S,w){this.shouldReplay(S)&&this.replay.push(c=>c.setProperty(P,S,w)),this.delegate.setProperty(P,S,w)}setValue(P,S){this.delegate.setValue(P,S)}listen(P,S,w){return this.shouldReplay(S)&&this.replay.push(c=>c.listen(P,S,w)),this.delegate.listen(P,S,w)}shouldReplay(P){return this.replay!==null&&P.startsWith(su)}},au=new ve("");function L4(M="animations"){return pn("NgAsyncAnimations"),Tt([{provide:Ft,useFactory:(P,S,w)=>new ru(P,S,w,M),deps:[Ce,Qi,Ve]},{provide:Gt,useValue:M==="noop"?"NoopAnimations":"BrowserAnimations"}])}Ko(A4);var R4={providers:[Go({eventCoalescing:!0}),f1(g1),Ll(),Ua(uh),w4(z4),To(F4),L4(),Sl()]};var O4=new Set,Yi,b4=(()=>{class M{constructor(S,w){this._platform=S,this._nonce=w,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lu}matchMedia(S){return(this._platform.WEBKIT||this._platform.BLINK)&&ou(S,this._nonce),this._matchMedia(S)}static{this.\u0275fac=function(w){return new(w||M)(ee(vt),ee(zi,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function ou(M,P){if(!O4.has(M))try{Yi||(Yi=document.createElement("style"),P&&Yi.setAttribute("nonce",P),Yi.setAttribute("type","text/css"),document.head.appendChild(Yi)),Yi.sheet&&(Yi.sheet.insertRule(`@media ${M} {body{ }}`,0),O4.add(M))}catch(S){console.error(S)}}function lu(M){return{matches:M==="all"||M==="",media:M,addListener:()=>{},removeListener:()=>{}}}var Wa=()=>{},cu=(()=>{class M{constructor(S,w){this.ngZone=S,this.rendererFactory2=w,this.resizeSource$=new de,this.listeners=0,this.disposeHandle=Wa,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=Wa}subscribe(){return this.registerListener(),this.resizeSource$.pipe(Ti(16),Nt(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){this.listeners===0&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,this.listeners===0&&(this.disposeHandle(),this.disposeHandle=Wa)}static{this.\u0275fac=function(w){return new(w||M)(ee(Ve),ee(Ft))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var V4=function(M){return M.xxl="xxl",M.xl="xl",M.lg="lg",M.md="md",M.sm="sm",M.xs="xs",M}(V4||{}),uu={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},I4={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"},B4=(()=>{class M{constructor(S,w){this.resizeService=S,this.mediaMatcher=w,this.destroy$=new de,this.resizeService.subscribe().pipe(Me(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(S,w){if(w){let c=()=>this.matchMedia(S,!0);return this.resizeService.subscribe().pipe(me(c),Kt(c()),Mi((x,e)=>x[0]===e[0]),me(x=>x[1]))}else{let c=()=>this.matchMedia(S);return this.resizeService.subscribe().pipe(me(c),Kt(c()),Mi())}}matchMedia(S,w){let c=V4.md,x={};return Object.keys(S).map(e=>{let o=e,p=this.mediaMatcher.matchMedia(uu[o]).matches;x[e]=p,p&&(c=o)}),w?[c,x]:c}static{this.\u0275fac=function(w){return new(w||M)(ee(cu),ee(b4))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var fu=new ve("cdk-dir-doc",{providedIn:"root",factory:vu});function vu(){return te(Ce)}var pu=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function mu(M){let P=M?.toLowerCase()||"";return P==="auto"&&typeof navigator<"u"&&navigator?.language?pu.test(navigator.language)?"rtl":"ltr":P==="rtl"?"rtl":"ltr"}var At=(()=>{class M{constructor(S){if(this.value="ltr",this.change=new ke,S){let w=S.body?S.body.dir:null,c=S.documentElement?S.documentElement.dir:null;this.value=mu(w||c||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(w){return new(w||M)(ee(fu,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var _n=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({})}}return M})();var gu=20,Y4=(()=>{class M{constructor(S,w,c){this._ngZone=S,this._platform=w,this._scrolled=new de,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(S){this.scrollContainers.has(S)||this.scrollContainers.set(S,S.elementScrolled().subscribe(()=>this._scrolled.next(S)))}deregister(S){let w=this.scrollContainers.get(S);w&&(w.unsubscribe(),this.scrollContainers.delete(S))}scrolled(S=gu){return this._platform.isBrowser?new Si(w=>{this._globalSubscription||this._addGlobalListener();let c=S>0?this._scrolled.pipe(Ti(S)).subscribe(w):this._scrolled.subscribe(w);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ue()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((S,w)=>this.deregister(w)),this._scrolled.complete()}ancestorScrolled(S,w){let c=this.getAncestorScrollContainers(S);return this.scrolled(w).pipe(Je(x=>!x||c.indexOf(x)>-1))}getAncestorScrollContainers(S){let w=[];return this.scrollContainers.forEach((c,x)=>{this._scrollableContainsElement(x,S)&&w.push(x)}),w}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(S,w){let c=c4(w),x=S.getElementRef().nativeElement;do if(c==x)return!0;while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let S=this._getWindow();return po(S.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(w){return new(w||M)(ee(Ve),ee(vt),ee(Ce,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var xu=20,ja=(()=>{class M{constructor(S,w,c){this._platform=S,this._change=new de,this._changeListener=x=>{this._change.next(x)},this._document=c,w.runOutsideAngular(()=>{if(S.isBrowser){let x=this._getWindow();x.addEventListener("resize",this._changeListener),x.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let S=this._getWindow();S.removeEventListener("resize",this._changeListener),S.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let S={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),S}getViewportRect(){let S=this.getViewportScrollPosition(),{width:w,height:c}=this.getViewportSize();return{top:S.top,left:S.left,bottom:S.top+c,right:S.left+w,height:c,width:w}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let S=this._document,w=this._getWindow(),c=S.documentElement,x=c.getBoundingClientRect(),e=-x.top||S.body.scrollTop||w.scrollY||c.scrollTop||0,o=-x.left||S.body.scrollLeft||w.scrollX||c.scrollLeft||0;return{top:e,left:o}}change(S=xu){return S>0?this._change.pipe(Ti(S)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let S=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:S.innerWidth,height:S.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(w){return new(w||M)(ee(vt),ee(Ve),ee(Ce,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();var H4=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({})}}return M})(),Ka=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({imports:[_n,H4,_n,H4]})}}return M})();var es=class{attach(P){return this._attachedHost=P,P.attach(this)}detach(){let P=this._attachedHost;P!=null&&(this._attachedHost=null,P.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(P){this._attachedHost=P}},$a=class extends es{constructor(P,S,w,c,x){super(),this.component=P,this.viewContainerRef=S,this.injector=w,this.componentFactoryResolver=c,this.projectableNodes=x}},ts=class extends es{constructor(P,S,w,c){super(),this.templateRef=P,this.viewContainerRef=S,this.context=w,this.injector=c}get origin(){return this.templateRef.elementRef}attach(P,S=this.context){return this.context=S,super.attach(P)}detach(){return this.context=void 0,super.detach()}},Za=class extends es{constructor(P){super(),this.element=P instanceof Be?P.nativeElement:P}},Qa=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(P){if(P instanceof $a)return this._attachedPortal=P,this.attachComponentPortal(P);if(P instanceof ts)return this._attachedPortal=P,this.attachTemplatePortal(P);if(this.attachDomPortal&&P instanceof Za)return this._attachedPortal=P,this.attachDomPortal(P)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(P){this._disposeFn=P}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var js=class extends Qa{constructor(P,S,w,c,x){super(),this.outletElement=P,this._componentFactoryResolver=S,this._appRef=w,this._defaultInjector=c,this.attachDomPortal=e=>{this._document;let o=e.element;o.parentNode;let p=this._document.createComment("dom-portal");o.parentNode.insertBefore(p,o),this.outletElement.appendChild(o),this._attachedPortal=e,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(o,p)})},this._document=x}attachComponentPortal(P){let w=(P.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(P.component),c;return P.viewContainerRef?(c=P.viewContainerRef.createComponent(w,P.viewContainerRef.length,P.injector||P.viewContainerRef.injector,P.projectableNodes||void 0),this.setDisposeFn(()=>c.destroy())):(c=w.create(P.injector||this._defaultInjector||wi.NULL),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(c.hostView),c.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(c)),this._attachedPortal=P,c}attachTemplatePortal(P){let S=P.viewContainerRef,w=S.createEmbeddedView(P.templateRef,P.context,{injector:P.injector});return w.rootNodes.forEach(c=>this.outletElement.appendChild(c)),w.detectChanges(),this.setDisposeFn(()=>{let c=S.indexOf(w);c!==-1&&S.remove(c)}),this._attachedPortal=P,w}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(P){return P.hostView.rootNodes[0]}};var N4=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({})}}return M})();function U4(M,...P){return P.length?P.some(S=>M[S]):M.altKey||M.shiftKey||M.ctrlKey||M.metaKey}var G4=S4(),Ja=class{constructor(P,S){this._viewportRuler=P,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=S}attach(){}enable(){if(this._canBeEnabled()){let P=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=P.style.left||"",this._previousHTMLStyles.top=P.style.top||"",P.style.left=Xe(-this._previousScrollPosition.left),P.style.top=Xe(-this._previousScrollPosition.top),P.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let P=this._document.documentElement,S=this._document.body,w=P.style,c=S.style,x=w.scrollBehavior||"",e=c.scrollBehavior||"";this._isEnabled=!1,w.left=this._previousHTMLStyles.left,w.top=this._previousHTMLStyles.top,P.classList.remove("cdk-global-scrollblock"),G4&&(w.scrollBehavior=c.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),G4&&(w.scrollBehavior=x,c.scrollBehavior=e)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let S=this._document.body,w=this._viewportRuler.getViewportSize();return S.scrollHeight>w.height||S.scrollWidth>w.width}};var qa=class{constructor(P,S,w,c){this._scrollDispatcher=P,this._ngZone=S,this._viewportRuler=w,this._config=c,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(P){this._overlayRef,this._overlayRef=P}enable(){if(this._scrollSubscription)return;let P=this._scrollDispatcher.scrolled(0).pipe(Je(S=>!S||!this._overlayRef.overlayElement.contains(S.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=P.subscribe(()=>{let S=this._viewportRuler.getViewportScrollPosition().top;Math.abs(S-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=P.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ks=class{enable(){}disable(){}attach(){}};function _a(M,P){return P.some(S=>{let w=M.bottom<S.top,c=M.top>S.bottom,x=M.right<S.left,e=M.left>S.right;return w||c||x||e})}function k4(M,P){return P.some(S=>{let w=M.top<S.top,c=M.bottom>S.bottom,x=M.left<S.left,e=M.right>S.right;return w||c||x||e})}var eo=class{constructor(P,S,w,c){this._scrollDispatcher=P,this._viewportRuler=S,this._ngZone=w,this._config=c,this._scrollSubscription=null}attach(P){this._overlayRef,this._overlayRef=P}enable(){if(!this._scrollSubscription){let P=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(P).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let S=this._overlayRef.overlayElement.getBoundingClientRect(),{width:w,height:c}=this._viewportRuler.getViewportSize();_a(S,[{width:w,height:c,bottom:c,right:w,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Tu=(()=>{class M{constructor(S,w,c,x){this._scrollDispatcher=S,this._viewportRuler=w,this._ngZone=c,this.noop=()=>new Ks,this.close=e=>new qa(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new Ja(this._viewportRuler,this._document),this.reposition=e=>new eo(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=x}static{this.\u0275fac=function(w){return new(w||M)(ee(Y4),ee(ja),ee(Ve),ee(Ce))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),$s=class{constructor(P){if(this.scrollStrategy=new Ks,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,P){let S=Object.keys(P);for(let w of S)P[w]!==void 0&&(this[w]=P[w])}}},We=class{constructor(P,S,w,c,x){this.offsetX=w,this.offsetY=c,this.panelClass=x,this.originX=P.originX,this.originY=P.originY,this.overlayX=S.overlayX,this.overlayY=S.overlayY}};var to=class{constructor(P,S){this.connectionPair=P,this.scrollableViewProperties=S}};var Z4=(()=>{class M{constructor(S){this._attachedOverlays=[],this._document=S}ngOnDestroy(){this.detach()}add(S){this.remove(S),this._attachedOverlays.push(S)}remove(S){let w=this._attachedOverlays.indexOf(S);w>-1&&this._attachedOverlays.splice(w,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Cu=(()=>{class M extends Z4{constructor(S,w){super(S),this._ngZone=w,this._keydownListener=c=>{let x=this._attachedOverlays;for(let e=x.length-1;e>-1;e--)if(x[e]._keydownEvents.observers.length>0){let o=x[e]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(c)):o.next(c);break}}}add(S){super.add(S),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce),ee(Ve,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Mu=(()=>{class M extends Z4{constructor(S,w,c){super(S),this._platform=w,this._ngZone=c,this._cursorStyleIsSet=!1,this._pointerDownListener=x=>{this._pointerDownEventTarget=Xs(x)},this._clickListener=x=>{let e=Xs(x),o=x.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;let p=this._attachedOverlays.slice();for(let a=p.length-1;a>-1;a--){let r=p[a];if(r._outsidePointerEvents.observers.length<1||!r.hasAttached())continue;if(W4(r.overlayElement,e)||W4(r.overlayElement,o))break;let s=r._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>s.next(x)):s.next(x)}}}add(S){if(super.add(S),!this._isAttached){let w=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(w)):this._addEventListeners(w),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=w.style.cursor,w.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let S=this._document.body;S.removeEventListener("pointerdown",this._pointerDownListener,!0),S.removeEventListener("click",this._clickListener,!0),S.removeEventListener("auxclick",this._clickListener,!0),S.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(S.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(S){S.addEventListener("pointerdown",this._pointerDownListener,!0),S.addEventListener("click",this._clickListener,!0),S.addEventListener("auxclick",this._clickListener,!0),S.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce),ee(vt),ee(Ve,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function W4(M,P){let S=typeof ShadowRoot<"u"&&ShadowRoot,w=P;for(;w;){if(w===M)return!0;w=S&&w instanceof ShadowRoot?w.host:w.parentNode}return!1}var Q4=(()=>{class M{constructor(S,w){this._platform=w,this._document=S}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let S="cdk-overlay-container";if(this._platform.isBrowser||Na()){let c=this._document.querySelectorAll(`.${S}[platform="server"], .${S}[platform="test"]`);for(let x=0;x<c.length;x++)c[x].remove()}let w=this._document.createElement("div");w.classList.add(S),Na()?w.setAttribute("platform","test"):this._platform.isBrowser||w.setAttribute("platform","server"),this._document.body.appendChild(w),this._containerElement=w}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce),ee(vt))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),io=class{constructor(P,S,w,c,x,e,o,p,a,r=!1,s){this._portalOutlet=P,this._host=S,this._pane=w,this._config=c,this._ngZone=x,this._keyboardDispatcher=e,this._document=o,this._location=p,this._outsideClickDispatcher=a,this._animationsDisabled=r,this._injector=s,this._backdropElement=null,this._backdropClick=new de,this._attachments=new de,this._detachments=new de,this._locationChanges=Ht.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._backdropTransitionendHandler=t=>{this._disposeBackdrop(t.target)},this._keydownEvents=new de,this._outsidePointerEvents=new de,this._renders=new de,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy,this._afterRenderRef=Sr(()=>Bo(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(P){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let S=this._portalOutlet.attach(P);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=fr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof S?.onDestroy=="function"&&S.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),S}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let P=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),P}dispose(){let P=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,P&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(P){P!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=P,this.hasAttached()&&(P.attach(this),this.updatePosition()))}updateSize(P){this._config=se(se({},this._config),P),this._updateElementSize()}setDirection(P){this._config=Ge(se({},this._config),{direction:P}),this._updateElementDirection()}addPanelClass(P){this._pane&&this._toggleClasses(this._pane,P,!0)}removePanelClass(P){this._pane&&this._toggleClasses(this._pane,P,!1)}getDirection(){let P=this._config.direction;return P?typeof P=="string"?P:P.value:"ltr"}updateScrollStrategy(P){P!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=P,this.hasAttached()&&(P.attach(this),P.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let P=this._pane.style;P.width=Xe(this._config.width),P.height=Xe(this._config.height),P.minWidth=Xe(this._config.minWidth),P.minHeight=Xe(this._config.minHeight),P.maxWidth=Xe(this._config.maxWidth),P.maxHeight=Xe(this._config.maxHeight)}_togglePointerEvents(P){this._pane.style.pointerEvents=P?"":"none"}_attachBackdrop(){let P="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(P)})}):this._backdropElement.classList.add(P)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let P=this._backdropElement;if(P){if(this._animationsDisabled){this._disposeBackdrop(P);return}P.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{P.addEventListener("transitionend",this._backdropTransitionendHandler)}),P.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(P)},500))}}_toggleClasses(P,S,w){let c=Va(S||[]).filter(x=>!!x);c.length&&(w?P.classList.add(...c):P.classList.remove(...c))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let P=this._renders.pipe(Me(dn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),P.unsubscribe())})})}_disposeScrollStrategy(){let P=this._scrollStrategy;P&&(P.disable(),P.detach&&P.detach())}_disposeBackdrop(P){P&&(P.removeEventListener("click",this._backdropClickHandler),P.removeEventListener("transitionend",this._backdropTransitionendHandler),P.remove(),this._backdropElement===P&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},X4="cdk-overlay-connected-position-bounding-box",Eu=/([A-Za-z%]+)$/,no=class{get positions(){return this._preferredPositions}constructor(P,S,w,c,x){this._viewportRuler=S,this._document=w,this._platform=c,this._overlayContainer=x,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de,this._resizeSubscription=Ht.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(P)}attach(P){this._overlayRef&&this._overlayRef,this._validatePositions(),P.hostElement.classList.add(X4),this._overlayRef=P,this._boundingBox=P.hostElement,this._pane=P.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let P=this._originRect,S=this._overlayRect,w=this._viewportRect,c=this._containerRect,x=[],e;for(let o of this._preferredPositions){let p=this._getOriginPoint(P,c,o),a=this._getOverlayPoint(p,S,o),r=this._getOverlayFit(a,S,w,o);if(r.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(o,p);return}if(this._canFitWithFlexibleDimensions(r,a,w)){x.push({position:o,origin:p,overlayRect:S,boundingBoxRect:this._calculateBoundingBoxRect(p,o)});continue}(!e||e.overlayFit.visibleArea<r.visibleArea)&&(e={overlayFit:r,overlayPoint:a,originPoint:p,position:o,overlayRect:S})}if(x.length){let o=null,p=-1;for(let a of x){let r=a.boundingBoxRect.width*a.boundingBoxRect.height*(a.position.weight||1);r>p&&(p=r,o=a)}this._isPushed=!1,this._applyPosition(o.position,o.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(e.position,e.originPoint);return}this._applyPosition(e.position,e.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ni(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(X4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let P=this._lastPosition;if(P){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let S=this._getOriginPoint(this._originRect,this._containerRect,P);this._applyPosition(P,S)}else this.apply()}withScrollableContainers(P){return this._scrollables=P,this}withPositions(P){return this._preferredPositions=P,P.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(P){return this._viewportMargin=P,this}withFlexibleDimensions(P=!0){return this._hasFlexibleDimensions=P,this}withGrowAfterOpen(P=!0){return this._growAfterOpen=P,this}withPush(P=!0){return this._canPush=P,this}withLockedPosition(P=!0){return this._positionLocked=P,this}setOrigin(P){return this._origin=P,this}withDefaultOffsetX(P){return this._offsetX=P,this}withDefaultOffsetY(P){return this._offsetY=P,this}withTransformOriginOn(P){return this._transformOriginSelector=P,this}_getOriginPoint(P,S,w){let c;if(w.originX=="center")c=P.left+P.width/2;else{let e=this._isRtl()?P.right:P.left,o=this._isRtl()?P.left:P.right;c=w.originX=="start"?e:o}S.left<0&&(c-=S.left);let x;return w.originY=="center"?x=P.top+P.height/2:x=w.originY=="top"?P.top:P.bottom,S.top<0&&(x-=S.top),{x:c,y:x}}_getOverlayPoint(P,S,w){let c;w.overlayX=="center"?c=-S.width/2:w.overlayX==="start"?c=this._isRtl()?-S.width:0:c=this._isRtl()?0:-S.width;let x;return w.overlayY=="center"?x=-S.height/2:x=w.overlayY=="top"?0:-S.height,{x:P.x+c,y:P.y+x}}_getOverlayFit(P,S,w,c){let x=K4(S),{x:e,y:o}=P,p=this._getOffset(c,"x"),a=this._getOffset(c,"y");p&&(e+=p),a&&(o+=a);let r=0-e,s=e+x.width-w.width,t=0-o,n=o+x.height-w.height,h=this._subtractOverflows(x.width,r,s),i=this._subtractOverflows(x.height,t,n),l=h*i;return{visibleArea:l,isCompletelyWithinViewport:x.width*x.height===l,fitsInViewportVertically:i===x.height,fitsInViewportHorizontally:h==x.width}}_canFitWithFlexibleDimensions(P,S,w){if(this._hasFlexibleDimensions){let c=w.bottom-S.y,x=w.right-S.x,e=j4(this._overlayRef.getConfig().minHeight),o=j4(this._overlayRef.getConfig().minWidth),p=P.fitsInViewportVertically||e!=null&&e<=c,a=P.fitsInViewportHorizontally||o!=null&&o<=x;return p&&a}return!1}_pushOverlayOnScreen(P,S,w){if(this._previousPushAmount&&this._positionLocked)return{x:P.x+this._previousPushAmount.x,y:P.y+this._previousPushAmount.y};let c=K4(S),x=this._viewportRect,e=Math.max(P.x+c.width-x.width,0),o=Math.max(P.y+c.height-x.height,0),p=Math.max(x.top-w.top-P.y,0),a=Math.max(x.left-w.left-P.x,0),r=0,s=0;return c.width<=x.width?r=a||-e:r=P.x<this._viewportMargin?x.left-w.left-P.x:0,c.height<=x.height?s=p||-o:s=P.y<this._viewportMargin?x.top-w.top-P.y:0,this._previousPushAmount={x:r,y:s},{x:P.x+r,y:P.y+s}}_applyPosition(P,S){if(this._setTransformOrigin(P),this._setOverlayElementStyles(S,P),this._setBoundingBoxStyles(S,P),P.panelClass&&this._addPanelClasses(P.panelClass),this._positionChanges.observers.length){let w=this._getScrollVisibility();if(P!==this._lastPosition||!this._lastScrollVisibility||!Pu(this._lastScrollVisibility,w)){let c=new to(P,w);this._positionChanges.next(c)}this._lastScrollVisibility=w}this._lastPosition=P,this._isInitialRender=!1}_setTransformOrigin(P){if(!this._transformOriginSelector)return;let S=this._boundingBox.querySelectorAll(this._transformOriginSelector),w,c=P.overlayY;P.overlayX==="center"?w="center":this._isRtl()?w=P.overlayX==="start"?"right":"left":w=P.overlayX==="start"?"left":"right";for(let x=0;x<S.length;x++)S[x].style.transformOrigin=`${w} ${c}`}_calculateBoundingBoxRect(P,S){let w=this._viewportRect,c=this._isRtl(),x,e,o;if(S.overlayY==="top")e=P.y,x=w.height-e+this._viewportMargin;else if(S.overlayY==="bottom")o=w.height-P.y+this._viewportMargin*2,x=w.height-o+this._viewportMargin;else{let n=Math.min(w.bottom-P.y+w.top,P.y),h=this._lastBoundingBoxSize.height;x=n*2,e=P.y-n,x>h&&!this._isInitialRender&&!this._growAfterOpen&&(e=P.y-h/2)}let p=S.overlayX==="start"&&!c||S.overlayX==="end"&&c,a=S.overlayX==="end"&&!c||S.overlayX==="start"&&c,r,s,t;if(a)t=w.width-P.x+this._viewportMargin*2,r=P.x-this._viewportMargin;else if(p)s=P.x,r=w.right-P.x;else{let n=Math.min(w.right-P.x+w.left,P.x),h=this._lastBoundingBoxSize.width;r=n*2,s=P.x-n,r>h&&!this._isInitialRender&&!this._growAfterOpen&&(s=P.x-h/2)}return{top:e,left:s,bottom:o,right:t,width:r,height:x}}_setBoundingBoxStyles(P,S){let w=this._calculateBoundingBoxRect(P,S);!this._isInitialRender&&!this._growAfterOpen&&(w.height=Math.min(w.height,this._lastBoundingBoxSize.height),w.width=Math.min(w.width,this._lastBoundingBoxSize.width));let c={};if(this._hasExactPosition())c.top=c.left="0",c.bottom=c.right=c.maxHeight=c.maxWidth="",c.width=c.height="100%";else{let x=this._overlayRef.getConfig().maxHeight,e=this._overlayRef.getConfig().maxWidth;c.height=Xe(w.height),c.top=Xe(w.top),c.bottom=Xe(w.bottom),c.width=Xe(w.width),c.left=Xe(w.left),c.right=Xe(w.right),S.overlayX==="center"?c.alignItems="center":c.alignItems=S.overlayX==="end"?"flex-end":"flex-start",S.overlayY==="center"?c.justifyContent="center":c.justifyContent=S.overlayY==="bottom"?"flex-end":"flex-start",x&&(c.maxHeight=Xe(x)),e&&(c.maxWidth=Xe(e))}this._lastBoundingBoxSize=w,Ni(this._boundingBox.style,c)}_resetBoundingBoxStyles(){Ni(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ni(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(P,S){let w={},c=this._hasExactPosition(),x=this._hasFlexibleDimensions,e=this._overlayRef.getConfig();if(c){let r=this._viewportRuler.getViewportScrollPosition();Ni(w,this._getExactOverlayY(S,P,r)),Ni(w,this._getExactOverlayX(S,P,r))}else w.position="static";let o="",p=this._getOffset(S,"x"),a=this._getOffset(S,"y");p&&(o+=`translateX(${p}px) `),a&&(o+=`translateY(${a}px)`),w.transform=o.trim(),e.maxHeight&&(c?w.maxHeight=Xe(e.maxHeight):x&&(w.maxHeight="")),e.maxWidth&&(c?w.maxWidth=Xe(e.maxWidth):x&&(w.maxWidth="")),Ni(this._pane.style,w)}_getExactOverlayY(P,S,w){let c={top:"",bottom:""},x=this._getOverlayPoint(S,this._overlayRect,P);if(this._isPushed&&(x=this._pushOverlayOnScreen(x,this._overlayRect,w)),P.overlayY==="bottom"){let e=this._document.documentElement.clientHeight;c.bottom=`${e-(x.y+this._overlayRect.height)}px`}else c.top=Xe(x.y);return c}_getExactOverlayX(P,S,w){let c={left:"",right:""},x=this._getOverlayPoint(S,this._overlayRect,P);this._isPushed&&(x=this._pushOverlayOnScreen(x,this._overlayRect,w));let e;if(this._isRtl()?e=P.overlayX==="end"?"left":"right":e=P.overlayX==="end"?"right":"left",e==="right"){let o=this._document.documentElement.clientWidth;c.right=`${o-(x.x+this._overlayRect.width)}px`}else c.left=Xe(x.x);return c}_getScrollVisibility(){let P=this._getOriginRect(),S=this._pane.getBoundingClientRect(),w=this._scrollables.map(c=>c.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:k4(P,w),isOriginOutsideView:_a(P,w),isOverlayClipped:k4(S,w),isOverlayOutsideView:_a(S,w)}}_subtractOverflows(P,...S){return S.reduce((w,c)=>w-Math.max(c,0),P)}_getNarrowedViewportRect(){let P=this._document.documentElement.clientWidth,S=this._document.documentElement.clientHeight,w=this._viewportRuler.getViewportScrollPosition();return{top:w.top+this._viewportMargin,left:w.left+this._viewportMargin,right:w.left+P-this._viewportMargin,bottom:w.top+S-this._viewportMargin,width:P-2*this._viewportMargin,height:S-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(P,S){return S==="x"?P.offsetX==null?this._offsetX:P.offsetX:P.offsetY==null?this._offsetY:P.offsetY}_validatePositions(){}_addPanelClasses(P){this._pane&&Va(P).forEach(S=>{S!==""&&this._appliedPanelClasses.indexOf(S)===-1&&(this._appliedPanelClasses.push(S),this._pane.classList.add(S))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(P=>{this._pane.classList.remove(P)}),this._appliedPanelClasses=[])}_getOriginRect(){let P=this._origin;if(P instanceof Be)return P.nativeElement.getBoundingClientRect();if(P instanceof Element)return P.getBoundingClientRect();let S=P.width||0,w=P.height||0;return{top:P.y,bottom:P.y+w,left:P.x,right:P.x+S,height:w,width:S}}};function Ni(M,P){for(let S in P)P.hasOwnProperty(S)&&(M[S]=P[S]);return M}function j4(M){if(typeof M!="number"&&M!=null){let[P,S]=M.split(Eu);return!S||S==="px"?parseFloat(P):null}return M||null}function K4(M){return{top:Math.floor(M.top),right:Math.floor(M.right),bottom:Math.floor(M.bottom),left:Math.floor(M.left),width:Math.floor(M.width),height:Math.floor(M.height)}}function Pu(M,P){return M===P?!0:M.isOriginClipped===P.isOriginClipped&&M.isOriginOutsideView===P.isOriginOutsideView&&M.isOverlayClipped===P.isOverlayClipped&&M.isOverlayOutsideView===P.isOverlayOutsideView}var $4="cdk-global-overlay-wrapper",so=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(P){let S=P.getConfig();this._overlayRef=P,this._width&&!S.width&&P.updateSize({width:this._width}),this._height&&!S.height&&P.updateSize({height:this._height}),P.hostElement.classList.add($4),this._isDisposed=!1}top(P=""){return this._bottomOffset="",this._topOffset=P,this._alignItems="flex-start",this}left(P=""){return this._xOffset=P,this._xPosition="left",this}bottom(P=""){return this._topOffset="",this._bottomOffset=P,this._alignItems="flex-end",this}right(P=""){return this._xOffset=P,this._xPosition="right",this}start(P=""){return this._xOffset=P,this._xPosition="start",this}end(P=""){return this._xOffset=P,this._xPosition="end",this}width(P=""){return this._overlayRef?this._overlayRef.updateSize({width:P}):this._width=P,this}height(P=""){return this._overlayRef?this._overlayRef.updateSize({height:P}):this._height=P,this}centerHorizontally(P=""){return this.left(P),this._xPosition="center",this}centerVertically(P=""){return this.top(P),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let P=this._overlayRef.overlayElement.style,S=this._overlayRef.hostElement.style,w=this._overlayRef.getConfig(),{width:c,height:x,maxWidth:e,maxHeight:o}=w,p=(c==="100%"||c==="100vw")&&(!e||e==="100%"||e==="100vw"),a=(x==="100%"||x==="100vh")&&(!o||o==="100%"||o==="100vh"),r=this._xPosition,s=this._xOffset,t=this._overlayRef.getConfig().direction==="rtl",n="",h="",i="";p?i="flex-start":r==="center"?(i="center",t?h=s:n=s):t?r==="left"||r==="end"?(i="flex-end",n=s):(r==="right"||r==="start")&&(i="flex-start",h=s):r==="left"||r==="start"?(i="flex-start",n=s):(r==="right"||r==="end")&&(i="flex-end",h=s),P.position=this._cssPosition,P.marginLeft=p?"0":n,P.marginTop=a?"0":this._topOffset,P.marginBottom=this._bottomOffset,P.marginRight=p?"0":h,S.justifyContent=i,S.alignItems=a?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let P=this._overlayRef.overlayElement.style,S=this._overlayRef.hostElement,w=S.style;S.classList.remove($4),w.justifyContent=w.alignItems=P.marginTop=P.marginBottom=P.marginLeft=P.marginRight=P.position="",this._overlayRef=null,this._isDisposed=!0}},wu=(()=>{class M{constructor(S,w,c,x){this._viewportRuler=S,this._document=w,this._platform=c,this._overlayContainer=x}global(){return new so}flexibleConnectedTo(S){return new no(S,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(w){return new(w||M)(ee(ja),ee(Ce),ee(vt),ee(Q4))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),zu=0,Zs=(()=>{class M{constructor(S,w,c,x,e,o,p,a,r,s,t,n){this.scrollStrategies=S,this._overlayContainer=w,this._componentFactoryResolver=c,this._positionBuilder=x,this._keyboardDispatcher=e,this._injector=o,this._ngZone=p,this._document=a,this._directionality=r,this._location=s,this._outsideClickDispatcher=t,this._animationsModuleType=n}create(S){let w=this._createHostElement(),c=this._createPaneElement(w),x=this._createPortalOutlet(c),e=new $s(S);return e.direction=e.direction||this._directionality.value,new io(x,w,c,e,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(si))}position(){return this._positionBuilder}_createPaneElement(S){let w=this._document.createElement("div");return w.id=`cdk-overlay-${zu++}`,w.classList.add("cdk-overlay-pane"),S.appendChild(w),w}_createHostElement(){let S=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(S),S}_createPortalOutlet(S){return this._appRef||(this._appRef=this._injector.get(Di)),new js(S,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(w){return new(w||M)(ee(Tu),ee(Q4),ee(dr),ee(wu),ee(Cu),ee(wi),ee(Ve),ee(Ce),ee(At),ee(Zi),ee(Mu),ee(Gt,8))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),Au=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],J4=new ve("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let M=te(Zs);return()=>M.scrollStrategies.reposition()}}),Ui=(()=>{class M{constructor(S){this.elementRef=S}static{this.\u0275fac=function(w){return new(w||M)(he(Be))}}static{this.\u0275dir=_e({type:M,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return M})(),q4=(()=>{class M{get offsetX(){return this._offsetX}set offsetX(S){this._offsetX=S,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(S){this._offsetY=S,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(S){this._disposeOnNavigation=S}constructor(S,w,c,x,e){this._overlay=S,this._dir=e,this._backdropSubscription=Ht.EMPTY,this._attachSubscription=Ht.EMPTY,this._detachSubscription=Ht.EMPTY,this._positionSubscription=Ht.EMPTY,this._disposeOnNavigation=!1,this._ngZone=te(Ve),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new ke,this.positionChange=new ke,this.attach=new ke,this.detach=new ke,this.overlayKeydown=new ke,this.overlayOutsideClick=new ke,this._templatePortal=new ts(w,c),this._scrollStrategyFactory=x,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(S){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),S.origin&&this.open&&this._position.apply()),S.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Au);let S=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=S.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=S.detachments().subscribe(()=>this.detach.emit()),S.keydownEvents().subscribe(w=>{this.overlayKeydown.next(w),w.keyCode===27&&!this.disableClose&&!U4(w)&&(w.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(w=>{let c=this._getOriginElement(),x=Xs(w);(!c||c!==x&&!c.contains(x))&&this.overlayOutsideClick.next(w)})}_buildConfig(){let S=this._position=this.positionStrategy||this._createPositionStrategy(),w=new $s({direction:this._dir,positionStrategy:S,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(w.width=this.width),(this.height||this.height===0)&&(w.height=this.height),(this.minWidth||this.minWidth===0)&&(w.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(w.minHeight=this.minHeight),this.backdropClass&&(w.backdropClass=this.backdropClass),this.panelClass&&(w.panelClass=this.panelClass),w}_updatePositionStrategy(S){let w=this.positions.map(c=>({originX:c.originX,originY:c.originY,overlayX:c.overlayX,overlayY:c.overlayY,offsetX:c.offsetX||this.offsetX,offsetY:c.offsetY||this.offsetY,panelClass:c.panelClass||void 0}));return S.setOrigin(this._getOrigin()).withPositions(w).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let S=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(S),S}_getOrigin(){return this.origin instanceof Ui?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ui?this.origin.elementRef.nativeElement:this.origin instanceof Be?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(S=>{this.backdropClick.emit(S)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(yo(()=>this.positionChange.observers.length>0)).subscribe(S=>{this._ngZone.run(()=>this.positionChange.emit(S)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(w){return new(w||M)(he(Zs),he(Dt),he(ri),he(J4),he(At,8))}}static{this.\u0275dir=_e({type:M,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Pe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Pe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Pe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Pe],push:[2,"cdkConnectedOverlayPush","push",Pe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Pe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ft,$e]})}}return M})();function Du(M){return()=>M.scrollStrategies.reposition()}var Fu={provide:J4,deps:[Zs],useFactory:Du},_4=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({providers:[Zs,Fu],imports:[_n,N4,Ka,Ka]})}}return M})();var Ru=(()=>{class M extends fs{constructor(S,w,c){super(S,w,c)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(w){return new(w||M)(ee(Ce),ee(Sn),ee(ds))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})();function Ou(){return new qo}function bu(M,P,S){return new el(M,P,S)}var e2=[{provide:ds,useFactory:Ou},{provide:fs,useClass:Ru},{provide:Ft,useFactory:bu,deps:[Qi,fs,Ve]}],dv=[{provide:Sn,useFactory:()=>new _o},{provide:Gt,useValue:"BrowserAnimations"},...e2],fv=[{provide:Sn,useClass:Jo},{provide:Gt,useValue:"NoopAnimations"},...e2];var ro=(()=>{class M{constructor(){this.animationType=te(Gt,{optional:!0}),this.nzNoAnimation=!1}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275dir=_e({type:M,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(w,c){w&2&&it("nz-animate-disabled",c.nzNoAnimation||c.animationType==="NoopAnimations")},inputs:{nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",Pe]},exportAs:["nzNoAnimation"],standalone:!0,features:[ft]})}}return M})();var Oe={top:new We({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new We({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new We({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new We({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new We({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new We({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new We({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new We({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new We({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new We({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new We({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new We({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new We({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new We({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},Mv=[Oe.top,Oe.right,Oe.bottom,Oe.left],Ev=[Oe.bottomLeft,Oe.bottomRight,Oe.topLeft,Oe.topRight,Oe.topCenter,Oe.bottomCenter],Pv=[new We({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new We({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})],wv=[Oe.bottomLeft,new We({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})];function t2(M){for(let P in Oe)if(M.connectionPair.originX===Oe[P].originX&&M.connectionPair.originY===Oe[P].originY&&M.connectionPair.overlayX===Oe[P].overlayX&&M.connectionPair.overlayY===Oe[P].overlayY)return P}var Qs={bottomLeft:new We({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new We({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new We({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new We({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},zv=[Qs.bottomLeft,Qs.topLeft,Qs.bottomRight,Qs.topRight];var ot=(()=>{class M{static{this.SLOW="0.3s"}static{this.BASE="0.2s"}static{this.FAST="0.1s"}}return M})(),ut=(()=>{class M{static{this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)"}static{this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)"}static{this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)"}static{this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)"}static{this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)"}static{this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)"}static{this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)"}static{this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)"}static{this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)"}static{this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)"}static{this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)"}static{this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)"}static{this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)"}static{this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}}return M})(),i2=gt("collapseMotion",[xt("expanded",ce({height:"*"})),xt("collapsed",ce({height:0,overflow:"hidden"})),xt("hidden",ce({height:0,overflow:"hidden",borderTopWidth:"0"})),Ae("expanded => collapsed",we(`150ms ${ut.EASE_IN_OUT}`)),Ae("expanded => hidden",we(`150ms ${ut.EASE_IN_OUT}`)),Ae("collapsed => expanded",we(`150ms ${ut.EASE_IN_OUT}`)),Ae("hidden => expanded",we(`150ms ${ut.EASE_IN_OUT}`))]),Fv=gt("treeCollapseMotion",[Ae("* => *",[Er("nz-tree-node:leave,nz-tree-builtin-node:leave",[ce({overflow:"hidden"}),Pr(0,[we(`150ms ${ut.EASE_IN_OUT}`,ce({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Er("nz-tree-node:enter,nz-tree-builtin-node:enter",[ce({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),Pr(0,[we(`150ms ${ut.EASE_IN_OUT}`,ce({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),Lv=gt("drawerMaskMotion",[Ae(":enter",[ce({opacity:0}),we(`${ot.SLOW}`,ce({opacity:1}))]),Ae(":leave",[ce({opacity:1}),we(`${ot.SLOW}`,ce({opacity:0}))])]),Rv=gt("fadeMotion",[Ae("* => enter",[ce({opacity:0}),we(`${ot.BASE}`,ce({opacity:1}))]),Ae("* => leave, :leave",[ce({opacity:1}),we(`${ot.BASE}`,ce({opacity:0}))])]),Ov=gt("helpMotion",[Ae(":enter",[ce({opacity:0,transform:"translateY(-5px)"}),we(`${ot.SLOW} ${ut.EASE_IN_OUT}`,ce({opacity:1,transform:"translateY(0)"}))]),Ae(":leave",[ce({opacity:1,transform:"translateY(0)"}),we(`${ot.SLOW} ${ut.EASE_IN_OUT}`,ce({opacity:0,transform:"translateY(-5px)"}))])]),bv=gt("moveUpMotion",[Ae("* => enter",[ce({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),we(`${ot.BASE}`,ce({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Ae("* => leave",[ce({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),we(`${ot.BASE}`,ce({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Vv=gt("notificationMotion",[xt("enterRight",ce({opacity:1,transform:"translateX(0)"})),Ae("* => enterRight",[ce({opacity:0,transform:"translateX(5%)"}),we("100ms linear")]),xt("enterLeft",ce({opacity:1,transform:"translateX(0)"})),Ae("* => enterLeft",[ce({opacity:0,transform:"translateX(-5%)"}),we("100ms linear")]),xt("enterTop",ce({opacity:1,transform:"translateY(0)"})),Ae("* => enterTop",[ce({opacity:0,transform:"translateY(-5%)"}),we("100ms linear")]),xt("enterBottom",ce({opacity:1,transform:"translateY(0)"})),Ae("* => enterBottom",[ce({opacity:0,transform:"translateY(5%)"}),we("100ms linear")]),xt("leave",ce({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),Ae("* => leave",[ce({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),we("100ms linear")])]),Vu=`${ot.BASE} ${ut.EASE_OUT_QUINT}`,Iu=`${ot.BASE} ${ut.EASE_IN_QUINT}`,n2=gt("slideMotion",[xt("void",ce({opacity:0,transform:"scaleY(0.8)"})),xt("enter",ce({opacity:1,transform:"scaleY(1)"})),Ae("void => *",[we(Vu)]),Ae("* => void",[we(Iu)])]),Iv=gt("slideAlertMotion",[Ae(":leave",[ce({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),we(`${ot.SLOW} ${ut.EASE_IN_OUT_CIRC}`,ce({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Bv=gt("tabSwitchMotion",[xt("leave",ce({display:"none"})),Ae("* => enter",[ce({display:"block",opacity:0}),we(ot.SLOW)]),Ae("* => leave, :leave",[ce({position:"absolute",top:0,left:0,width:"100%"}),we(ot.SLOW,ce({opacity:0})),ce({display:"none"})])]),Hv=gt("thumbMotion",[xt("from",ce({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),xt("to",ce({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),Ae("from => to",we(`300ms ${ut.EASE_IN_OUT}`))]),s2=gt("zoomBigMotion",[Ae("void => active",[ce({opacity:0,transform:"scale(0.8)"}),we(`${ot.BASE} ${ut.EASE_OUT_CIRC}`,ce({opacity:1,transform:"scale(1)"}))]),Ae("active => void",[ce({opacity:1,transform:"scale(1)"}),we(`${ot.BASE} ${ut.EASE_IN_OUT_CIRC}`,ce({opacity:0,transform:"scale(0.8)"}))])]),Yv=gt("zoomBadgeMotion",[Ae(":enter",[ce({opacity:0,transform:"scale(0) translate(50%, -50%)"}),we(`${ot.SLOW} ${ut.EASE_OUT_BACK}`,ce({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),Ae(":leave",[ce({opacity:1,transform:"scale(1) translate(50%, -50%)"}),we(`${ot.SLOW} ${ut.EASE_IN_BACK}`,ce({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);var oo=(()=>{class M{static ngTemplateContextGuard(S,w){return!0}recreateView(){this.viewContainer.clear();let S=this.nzStringTemplateOutlet instanceof Dt,w=S?this.nzStringTemplateOutlet:this.templateRef;this.embeddedViewRef=this.viewContainer.createEmbeddedView(w,S?this.nzStringTemplateOutletContext:this.context)}updateContext(){let w=this.nzStringTemplateOutlet instanceof Dt?this.nzStringTemplateOutletContext:this.context,c=this.embeddedViewRef.context;if(w)for(let x of Object.keys(w))c[x]=w[x]}constructor(S,w){this.viewContainer=S,this.templateRef=w,this.embeddedViewRef=null,this.context=new ao,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(S){let{nzStringTemplateOutletContext:w,nzStringTemplateOutlet:c}=S,x=()=>{let o=!1;if(c)if(c.firstChange)o=!0;else{let r=c.previousValue instanceof Dt,s=c.currentValue instanceof Dt;o=r||s}return w&&(r=>{let s=Object.keys(r.previousValue||{}),t=Object.keys(r.currentValue||{});if(s.length===t.length){for(let n of t)if(s.indexOf(n)===-1)return!0;return!1}else return!0})(w)||o};c&&(this.context.$implicit=c.currentValue),x()?this.recreateView():this.updateContext()}static{this.\u0275fac=function(w){return new(w||M)(he(ri),he(Dt))}}static{this.\u0275dir=_e({type:M,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[$e]})}}return M})(),ao=class{},lo=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({})}}return M})();var Hu=["nz-menu-item",""],a2=["*"],Yu=["nz-submenu-inline-child",""];function Nu(M,P){}var Uu=["nz-submenu-none-inline-child",""];function Gu(M,P){}var ku=["nz-submenu-title",""];function Wu(M,P){if(M&1&&Ye(0,"span",0),M&2){let S=rt();He("nzType",S.nzIcon)}}function Xu(M,P){if(M&1&&(vr(0),pe(1,"span",4),Re(2),Se(),pr()),M&2){let S=rt();Le(2),gr(S.nzTitle)}}function ju(M,P){M&1&&Ye(0,"span",5)}function Ku(M,P){M&1&&Ye(0,"span",6)}function $u(M,P){if(M&1&&(pe(0,"span",2),ct(1,ju,1,0,"span",5)(2,Ku,1,0,"span",6),Se()),M&2){let S,w=rt();Le(),Lt((S=w.dir)==="rtl"?1:2)}}function Zu(M,P){M&1&&Ye(0,"span",3)}var Qu=["nz-submenu",""],Ju=[[["","title",""]],"*"],qu=["[title]","*"];function _u(M,P){M&1&&Mt(0)}function e8(M,P){if(M&1&&Ye(0,"div",3),M&2){let S=rt(),w=Ai(6);He("mode",S.mode)("nzOpen",S.nzOpen)("@.disabled",!!(S.noAnimation!=null&&S.noAnimation.nzNoAnimation))("nzNoAnimation",S.noAnimation==null?null:S.noAnimation.nzNoAnimation)("menuClass",S.nzMenuClassName)("templateOutlet",w)}}function t8(M,P){if(M&1){let S=Ki();pe(0,"div",6),nt("subMenuMouseState",function(c){Ei(S);let x=rt(2);return Pi(x.setMouseEnterState(c))}),Se()}if(M&2){let S=rt(2),w=Ai(6);He("theme",S.theme)("mode",S.mode)("nzOpen",S.nzOpen)("position",S.position)("nzDisabled",S.nzDisabled)("isMenuInsideDropDown",S.isMenuInsideDropDown)("templateOutlet",w)("menuClass",S.nzMenuClassName)("@.disabled",!!(S.noAnimation!=null&&S.noAnimation.nzNoAnimation))("nzNoAnimation",S.noAnimation==null?null:S.noAnimation.nzNoAnimation)}}function i8(M,P){if(M&1){let S=Ki();ct(0,t8,1,10,"ng-template",5),nt("positionChange",function(c){Ei(S);let x=rt();return Pi(x.onPositionChange(c))})}if(M&2){let S=rt(),w=Ai(1);He("cdkConnectedOverlayPositions",S.overlayPositions)("cdkConnectedOverlayOrigin",w)("cdkConnectedOverlayWidth",S.triggerWidth)("cdkConnectedOverlayOpen",S.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function n8(M,P){M&1&&Mt(0,1)}var s8=["titleElement"],r8=["nz-menu-group",""],a8=["*",[["","title",""]]],o8=["*","[title]"];function l8(M,P){if(M&1&&(vr(0),Re(1),pr()),M&2){let S=rt();Le(),gr(S.nzTitle)}}function h8(M,P){M&1&&Mt(0,1)}var _t=new ve("NzIsInDropDownMenuToken"),o2=new ve("NzMenuServiceLocalToken"),Gi=(()=>{class M{constructor(){this.descendantMenuItemClick$=new de,this.childMenuItemClick$=new de,this.theme$=new Qe("light"),this.mode$=new Qe("vertical"),this.inlineIndent$=new Qe(24),this.isChildSubMenuOpen$=new Qe(!1)}onDescendantMenuItemClick(S){this.descendantMenuItemClick$.next(S)}onChildMenuItemClick(S){this.childMenuItemClick$.next(S)}setMode(S){this.mode$.next(S)}setTheme(S){this.theme$.next(S)}setInlineIndent(S){this.inlineIndent$.next(S)}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),ho=(()=>{class M{onChildMenuItemClick(S){this.childMenuItemClick$.next(S)}setOpenStateWithoutDebounce(S){this.isCurrentSubMenuOpen$.next(S)}setMouseEnterTitleOrOverlayState(S){this.isMouseEnterTitleOrOverlay$.next(S)}constructor(S){this.nzMenuService=S,this.mode$=this.nzMenuService.mode$.pipe(me(e=>e==="inline"?"inline":e==="vertical"||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isMenuInsideDropDown=te(_t),this.isCurrentSubMenuOpen$=new Qe(!1),this.isChildSubMenuOpen$=new Qe(!1),this.isMouseEnterTitleOrOverlay$=new de,this.childMenuItemClick$=new de,this.destroy$=new de,this.nzHostSubmenuService=te(M,{optional:!0,skipSelf:!0}),this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);let w=this.childMenuItemClick$.pipe(pt(()=>this.mode$),Je(e=>e!=="inline"||this.isMenuInsideDropDown),ki(!1)),c=dn(this.isMouseEnterTitleOrOverlay$,w);ti([this.isChildSubMenuOpen$,c]).pipe(me(([e,o])=>e||o),Ti(150),Mi(),Me(this.destroy$)).pipe(Mi()).subscribe(e=>{this.setOpenStateWithoutDebounce(e),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(e):this.nzMenuService.isChildSubMenuOpen$.next(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(ee(Gi))}}static{this.\u0275prov=re({token:M,factory:M.\u0275fac})}}return M})(),Js=(()=>{class M{clickMenuItem(S){this.nzDisabled?(S.preventDefault(),S.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(S){this.nzSelected=S,this.selected$.next(S)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{let S=this.hasActiveLinks();this.nzSelected!==S&&(this.nzSelected=S,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){let S=this.isLinkActive(this.router);return this.routerLink&&S(this.routerLink)||this.listOfRouterLink.some(S)}isLinkActive(S){return w=>S.isActive(w.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(S,w){this.nzMenuService=S,this.cdr=w,this.destroy$=new de,this.nzSubmenuService=te(ho,{optional:!0}),this.directionality=te(At),this.routerLink=te(Kn,{optional:!0}),this.router=te(jn,{optional:!0}),this.isMenuInsideDropDown=te(_t),this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new de,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,this.router&&this.router.events.pipe(Me(this.destroy$),Je(c=>c instanceof jt)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){ti([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(Me(this.destroy$)).subscribe(([S,w])=>{this.inlinePaddingLeft=S==="inline"?this.level*w:null}),this.dir=this.directionality.value,this.directionality.change?.pipe(Me(this.destroy$)).subscribe(S=>{this.dir=S})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(Me(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(S){S.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Gi),he(mt))}}static{this.\u0275cmp=Ke({type:M,selectors:[["","nz-menu-item",""]],contentQueries:function(w,c,x){if(w&1&&kt(x,Kn,5),w&2){let e;Et(e=Pt())&&(c.listOfRouterLink=e)}},hostVars:20,hostBindings:function(w,c){w&1&&nt("click",function(e){return c.clickMenuItem(e)}),w&2&&(bt("padding-left",c.dir==="rtl"?null:c.nzPaddingLeft||c.inlinePaddingLeft,"px")("padding-right",c.dir==="rtl"?c.nzPaddingLeft||c.inlinePaddingLeft:null,"px"),it("ant-dropdown-menu-item",c.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",c.isMenuInsideDropDown&&c.nzSelected)("ant-dropdown-menu-item-danger",c.isMenuInsideDropDown&&c.nzDanger)("ant-dropdown-menu-item-disabled",c.isMenuInsideDropDown&&c.nzDisabled)("ant-menu-item",!c.isMenuInsideDropDown)("ant-menu-item-selected",!c.isMenuInsideDropDown&&c.nzSelected)("ant-menu-item-danger",!c.isMenuInsideDropDown&&c.nzDanger)("ant-menu-item-disabled",!c.isMenuInsideDropDown&&c.nzDisabled))},inputs:{nzPaddingLeft:[2,"nzPaddingLeft","nzPaddingLeft",d4],nzDisabled:[2,"nzDisabled","nzDisabled",Pe],nzSelected:[2,"nzSelected","nzSelected",Pe],nzDanger:[2,"nzDanger","nzDanger",Pe],nzMatchRouterExact:[2,"nzMatchRouterExact","nzMatchRouterExact",Pe],nzMatchRouter:[2,"nzMatchRouter","nzMatchRouter",Pe]},exportAs:["nzMenuItem"],standalone:!0,features:[ft,$e,et],attrs:Hu,ngContentSelectors:a2,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(w,c){w&1&&(Vt(),pe(0,"span",0),Mt(1),Se())},encapsulation:2,changeDetection:0})}}return M})(),c8=(()=>{class M{constructor(S,w,c){this.elementRef=S,this.renderer=w,this.directionality=c,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new de}calcMotionState(){this.nzOpen?this.expandState="expanded":this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(Me(this.destroy$)).subscribe(S=>{this.dir=S})}ngOnChanges(S){let{mode:w,nzOpen:c,menuClass:x}=S;(w||c)&&this.calcMotionState(),x&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(e=>!!e).forEach(e=>{this.renderer.removeClass(this.elementRef.nativeElement,e)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(e=>!!e).forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Be),he(Ct),he(At))}}static{this.\u0275cmp=Ke({type:M,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(w,c){w&2&&(mr("@collapseMotion",c.expandState),it("ant-menu-rtl",c.dir==="rtl"))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],standalone:!0,features:[$e,et],attrs:Yu,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(w,c){w&1&&ct(0,Nu,0,0,"ng-template",0),w&2&&He("ngTemplateOutlet",c.templateOutlet)},dependencies:[xn],encapsulation:2,data:{animation:[i2]},changeDetection:0})}}return M})(),u8=(()=>{class M{constructor(S){this.directionality=S,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new ke,this.expandState="collapsed",this.dir="ltr",this.destroy$=new de}setMouseState(S){this.nzDisabled||this.subMenuMouseState.next(S)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?this.mode==="horizontal"?this.expandState="bottom":this.mode==="vertical"&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe(Me(this.destroy$)).subscribe(S=>{this.dir=S})}ngOnChanges(S){let{mode:w,nzOpen:c}=S;(w||c)&&this.calcMotionState()}static{this.\u0275fac=function(w){return new(w||M)(he(At))}}static{this.\u0275cmp=Ke({type:M,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(w,c){w&1&&nt("mouseenter",function(){return c.setMouseState(!0)})("mouseleave",function(){return c.setMouseState(!1)}),w&2&&(mr("@slideMotion",c.expandState)("@zoomBigMotion",c.expandState),it("ant-menu-light",c.theme==="light")("ant-menu-dark",c.theme==="dark")("ant-menu-submenu-placement-bottom",c.mode==="horizontal")("ant-menu-submenu-placement-right",c.mode==="vertical"&&c.position==="right")("ant-menu-submenu-placement-left",c.mode==="vertical"&&c.position==="left")("ant-menu-submenu-rtl",c.dir==="rtl"))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],standalone:!0,features:[$e,et],attrs:Uu,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(w,c){w&1&&(pe(0,"div",0),ct(1,Gu,0,0,"ng-template",1),Se()),w&2&&(it("ant-dropdown-menu",c.isMenuInsideDropDown)("ant-menu",!c.isMenuInsideDropDown)("ant-dropdown-menu-vertical",c.isMenuInsideDropDown)("ant-menu-vertical",!c.isMenuInsideDropDown)("ant-dropdown-menu-sub",c.isMenuInsideDropDown)("ant-menu-sub",!c.isMenuInsideDropDown)("ant-menu-rtl",c.dir==="rtl"),He("ngClass",c.menuClass),Le(),He("ngTemplateOutlet",c.templateOutlet))},dependencies:[$o,xn],encapsulation:2,data:{animation:[s2,n2]},changeDetection:0})}}return M})(),l2=(()=>{class M{constructor(S,w){this.cdr=S,this.directionality=w,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new ke,this.subMenuMouseState=new ke,this.dir="ltr",this.destroy$=new de}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Me(this.destroy$)).subscribe(S=>{this.dir=S,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(S){this.nzDisabled||this.subMenuMouseState.next(S)}clickTitle(){this.mode==="inline"&&!this.nzDisabled&&this.toggleSubMenu.emit()}static{this.\u0275fac=function(w){return new(w||M)(he(mt),he(At))}}static{this.\u0275cmp=Ke({type:M,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(w,c){w&1&&nt("click",function(){return c.clickTitle()})("mouseenter",function(){return c.setMouseState(!0)})("mouseleave",function(){return c.setMouseState(!1)}),w&2&&(bt("padding-left",c.dir==="rtl"?null:c.paddingLeft,"px")("padding-right",c.dir==="rtl"?c.paddingLeft:null,"px"),it("ant-dropdown-menu-submenu-title",c.isMenuInsideDropDown)("ant-menu-submenu-title",!c.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],standalone:!0,features:[et],attrs:ku,ngContentSelectors:a2,decls:5,vars:3,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"],[1,"ant-dropdown-menu-submenu-expand-icon"],[1,"ant-menu-submenu-arrow"],[1,"ant-menu-title-content"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"]],template:function(w,c){w&1&&(Vt(),ct(0,Wu,1,1,"span",0)(1,Xu,3,1,"ng-container",1),Mt(2),ct(3,$u,3,1,"span",2)(4,Zu,1,0,"span",3)),w&2&&(Lt(c.nzIcon?0:-1),Le(),He("nzStringTemplateOutlet",c.nzTitle),Le(2),Lt(c.isMenuInsideDropDown?3:4))},dependencies:[cn,hn,lo,oo],encapsulation:2,changeDetection:0})}}return M})(),r2=[Oe.rightTop,Oe.right,Oe.rightBottom,Oe.leftTop,Oe.left,Oe.leftBottom],d8=[Oe.bottomLeft,Oe.bottomRight,Oe.topRight,Oe.topLeft],h2=(()=>{class M{setOpenStateWithoutDebounce(S){this.nzSubmenuService.setOpenStateWithoutDebounce(S)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(S){this.isActive=S,this.mode!=="inline"&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(S)}setTriggerWidth(){this.mode==="horizontal"&&this.platform.isBrowser&&this.cdkOverlayOrigin&&this.nzPlacement==="bottomLeft"&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(S){let w=t2(S);w==="rightTop"||w==="rightBottom"||w==="right"?this.position="right":(w==="leftTop"||w==="leftBottom"||w==="left")&&(this.position="left")}constructor(S,w,c,x){this.nzMenuService=S,this.cdr=w,this.nzSubmenuService=c,this.platform=x,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new ke,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new de,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=r2,this.isSelected=!1,this.isActive=!1,this.dir="ltr",this.isMenuInsideDropDown=te(_t),this.noAnimation=te(ro,{optional:!0,host:!0}),this.directionality=te(At)}ngOnInit(){this.nzMenuService.theme$.pipe(Me(this.destroy$)).subscribe(S=>{this.theme=S,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(Me(this.destroy$)).subscribe(S=>{this.mode=S,S==="horizontal"?this.overlayPositions=[Oe[this.nzPlacement],...d8]:S==="vertical"&&(this.overlayPositions=r2),this.cdr.markForCheck()}),ti([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(Me(this.destroy$)).subscribe(([S,w])=>{this.inlinePaddingLeft=S==="inline"?this.level*w:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(Me(this.destroy$)).subscribe(S=>{this.isActive=S,S!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=S,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe(Me(this.destroy$)).subscribe(S=>{this.dir=S,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();let S=this.listOfNzMenuItemDirective,w=S.changes,c=dn(w,...S.map(x=>x.selected$));w.pipe(Kt(S),dt(()=>c),Kt(!0),me(()=>S.some(x=>x.nzSelected)),Me(this.destroy$)).subscribe(x=>{this.isSelected=x,this.cdr.markForCheck()})}ngOnChanges(S){let{nzOpen:w}=S;w&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Gi),he(mt),he(ho),he(vt))}}static{this.\u0275cmp=Ke({type:M,selectors:[["","nz-submenu",""]],contentQueries:function(w,c,x){if(w&1&&(kt(x,M,5),kt(x,Js,5)),w&2){let e;Et(e=Pt())&&(c.listOfNzSubMenuComponent=e),Et(e=Pt())&&(c.listOfNzMenuItemDirective=e)}},viewQuery:function(w,c){if(w&1&&rs(Ui,7,Be),w&2){let x;Et(x=Pt())&&(c.cdkOverlayOrigin=x.first)}},hostVars:34,hostBindings:function(w,c){w&2&&it("ant-dropdown-menu-submenu",c.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",c.isMenuInsideDropDown&&c.nzDisabled)("ant-dropdown-menu-submenu-open",c.isMenuInsideDropDown&&c.nzOpen)("ant-dropdown-menu-submenu-selected",c.isMenuInsideDropDown&&c.isSelected)("ant-dropdown-menu-submenu-vertical",c.isMenuInsideDropDown&&c.mode==="vertical")("ant-dropdown-menu-submenu-horizontal",c.isMenuInsideDropDown&&c.mode==="horizontal")("ant-dropdown-menu-submenu-inline",c.isMenuInsideDropDown&&c.mode==="inline")("ant-dropdown-menu-submenu-active",c.isMenuInsideDropDown&&c.isActive)("ant-menu-submenu",!c.isMenuInsideDropDown)("ant-menu-submenu-disabled",!c.isMenuInsideDropDown&&c.nzDisabled)("ant-menu-submenu-open",!c.isMenuInsideDropDown&&c.nzOpen)("ant-menu-submenu-selected",!c.isMenuInsideDropDown&&c.isSelected)("ant-menu-submenu-vertical",!c.isMenuInsideDropDown&&c.mode==="vertical")("ant-menu-submenu-horizontal",!c.isMenuInsideDropDown&&c.mode==="horizontal")("ant-menu-submenu-inline",!c.isMenuInsideDropDown&&c.mode==="inline")("ant-menu-submenu-active",!c.isMenuInsideDropDown&&c.isActive)("ant-menu-submenu-rtl",c.dir==="rtl")},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:[2,"nzOpen","nzOpen",Pe],nzDisabled:[2,"nzDisabled","nzDisabled",Pe],nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],standalone:!0,features:[ai([ho]),ft,$e,et],attrs:Qu,ngContentSelectors:qu,decls:7,vars:8,consts:[["origin","cdkOverlayOrigin"],["subMenuTemplate",""],["nz-submenu-title","","cdkOverlayOrigin","",3,"subMenuMouseState","toggleSubMenu","nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["cdkConnectedOverlay","",3,"positionChange","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-submenu-none-inline-child","",3,"subMenuMouseState","theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation"]],template:function(w,c){if(w&1){let x=Ki();Vt(Ju),pe(0,"div",2,0),nt("subMenuMouseState",function(o){return Ei(x),Pi(c.setMouseEnterState(o))})("toggleSubMenu",function(){return Ei(x),Pi(c.toggleSubMenu())}),ct(2,_u,1,0),Se(),ct(3,e8,1,6,"div",3)(4,i8,1,5,null,4)(5,n8,1,0,"ng-template",null,1,gn)}w&2&&(He("nzIcon",c.nzIcon)("nzTitle",c.nzTitle)("mode",c.mode)("nzDisabled",c.nzDisabled)("isMenuInsideDropDown",c.isMenuInsideDropDown)("paddingLeft",c.nzPaddingLeft||c.inlinePaddingLeft),Le(2),Lt(c.nzTitle?-1:2),Le(),Lt(c.mode==="inline"?3:4))},dependencies:[l2,c8,ro,u8,_4,q4,Ui],encapsulation:2,changeDetection:0})}}return M})();function f8(){let M=te(Gi,{skipSelf:!0,optional:!0}),P=te(o2);return M??P}function v8(){return te(_t,{skipSelf:!0,optional:!0})??!1}var qs=(()=>{class M{setInlineCollapsed(S){this.nzInlineCollapsed=S,this.inlineCollapsed$.next(S)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(S=>S.nzOpen),this.listOfNzSubMenuComponent.forEach(S=>S.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(S=>S.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(S,w){this.nzMenuService=S,this.cdr=w,this.isMenuInsideDropDown=te(_t),this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new ke,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new Qe(this.nzInlineCollapsed),this.mode$=new Qe(this.nzMode),this.destroy$=new de,this.listOfOpenedNzSubMenuComponent=[],this.directionality=te(At)}ngOnInit(){ti([this.inlineCollapsed$,this.mode$]).pipe(Me(this.destroy$)).subscribe(([S,w])=>{this.actualMode=S?"vertical":w,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(Me(this.destroy$)).subscribe(S=>{this.nzClick.emit(S),this.nzSelectable&&!S.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(w=>w.setSelectedState(w===S))}),this.dir=this.directionality.value,this.directionality.change?.pipe(Me(this.destroy$)).subscribe(S=>{this.dir=S,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(Me(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(S){let{nzInlineCollapsed:w,nzInlineIndent:c,nzTheme:x,nzMode:e}=S;w&&this.inlineCollapsed$.next(this.nzInlineCollapsed),c&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),x&&this.nzMenuService.setTheme(this.nzTheme),e&&(this.mode$.next(this.nzMode),!S.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(o=>o.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(Gi),he(mt))}}static{this.\u0275dir=_e({type:M,selectors:[["","nz-menu",""]],contentQueries:function(w,c,x){if(w&1&&(kt(x,Js,5),kt(x,h2,5)),w&2){let e;Et(e=Pt())&&(c.listOfNzMenuItemDirective=e),Et(e=Pt())&&(c.listOfNzSubMenuComponent=e)}},hostVars:34,hostBindings:function(w,c){w&2&&it("ant-dropdown-menu",c.isMenuInsideDropDown)("ant-dropdown-menu-root",c.isMenuInsideDropDown)("ant-dropdown-menu-light",c.isMenuInsideDropDown&&c.nzTheme==="light")("ant-dropdown-menu-dark",c.isMenuInsideDropDown&&c.nzTheme==="dark")("ant-dropdown-menu-vertical",c.isMenuInsideDropDown&&c.actualMode==="vertical")("ant-dropdown-menu-horizontal",c.isMenuInsideDropDown&&c.actualMode==="horizontal")("ant-dropdown-menu-inline",c.isMenuInsideDropDown&&c.actualMode==="inline")("ant-dropdown-menu-inline-collapsed",c.isMenuInsideDropDown&&c.nzInlineCollapsed)("ant-menu",!c.isMenuInsideDropDown)("ant-menu-root",!c.isMenuInsideDropDown)("ant-menu-light",!c.isMenuInsideDropDown&&c.nzTheme==="light")("ant-menu-dark",!c.isMenuInsideDropDown&&c.nzTheme==="dark")("ant-menu-vertical",!c.isMenuInsideDropDown&&c.actualMode==="vertical")("ant-menu-horizontal",!c.isMenuInsideDropDown&&c.actualMode==="horizontal")("ant-menu-inline",!c.isMenuInsideDropDown&&c.actualMode==="inline")("ant-menu-inline-collapsed",!c.isMenuInsideDropDown&&c.nzInlineCollapsed)("ant-menu-rtl",c.dir==="rtl")},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:[2,"nzInlineCollapsed","nzInlineCollapsed",Pe],nzSelectable:[2,"nzSelectable","nzSelectable",Pe]},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],standalone:!0,features:[ai([{provide:o2,useClass:Gi},{provide:Gi,useFactory:f8},{provide:_t,useFactory:v8}]),ft,$e]})}}return M})();function p8(){return te(_t,{optional:!0,skipSelf:!0})??!1}var m8=(()=>{class M{constructor(S,w){this.elementRef=S,this.renderer=w,this.isMenuInsideDropDown=te(_t);let c=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group":"ant-menu-item-group";this.renderer.addClass(S.nativeElement,c)}ngAfterViewInit(){let S=this.titleElement.nativeElement.nextElementSibling;if(S){let w=this.isMenuInsideDropDown?"ant-dropdown-menu-item-group-list":"ant-menu-item-group-list";this.renderer.addClass(S,w)}}static{this.\u0275fac=function(w){return new(w||M)(he(Be),he(Ct))}}static{this.\u0275cmp=Ke({type:M,selectors:[["","nz-menu-group",""]],viewQuery:function(w,c){if(w&1&&rs(s8,5),w&2){let x;Et(x=Pt())&&(c.titleElement=x.first)}},inputs:{nzTitle:"nzTitle"},exportAs:["nzMenuGroup"],standalone:!0,features:[ai([{provide:_t,useFactory:p8}]),et],attrs:r8,ngContentSelectors:o8,decls:5,vars:6,consts:[["titleElement",""],[4,"nzStringTemplateOutlet"]],template:function(w,c){w&1&&(Vt(a8),pe(0,"div",null,0),ct(2,l8,2,1,"ng-container",1)(3,h8,1,0),Se(),Mt(4)),w&2&&(it("ant-menu-item-group-title",!c.isMenuInsideDropDown)("ant-dropdown-menu-item-group-title",c.isMenuInsideDropDown),Le(2),He("nzStringTemplateOutlet",c.nzTitle),Le(),Lt(c.nzTitle?-1:3))},dependencies:[lo,oo],encapsulation:2,changeDetection:0})}}return M})();var c2=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({imports:[h2,m8,l2]})}}return M})();var _s=["*"],x8=["nz-sider-trigger",""];function y8(M,P){}function S8(M,P){if(M&1&&ct(0,y8,0,0,"ng-template",2),M&2){let S=rt(),w=Ai(5);He("ngTemplateOutlet",S.nzZeroTrigger||w)}}function T8(M,P){}function C8(M,P){if(M&1&&ct(0,T8,0,0,"ng-template",2),M&2){let S=rt(),w=Ai(3);He("ngTemplateOutlet",S.nzTrigger||w)}}function M8(M,P){if(M&1&&Ye(0,"span",3),M&2){let S=rt(2);He("nzType",S.nzCollapsed?"left":"right")}}function E8(M,P){if(M&1&&Ye(0,"span",3),M&2){let S=rt(2);He("nzType",S.nzCollapsed?"right":"left")}}function P8(M,P){if(M&1&&ct(0,M8,1,1,"span",3)(1,E8,1,1,"span",3),M&2){let S=rt();Lt(S.nzReverseArrow?0:1)}}function w8(M,P){M&1&&Ye(0,"span",4)}function z8(M,P){if(M&1){let S=Ki();pe(0,"div",2),nt("click",function(){Ei(S);let c=rt();return Pi(c.setCollapsed(!c.nzCollapsed))}),Se()}if(M&2){let S=rt();He("matchBreakPoint",S.matchBreakPoint)("nzCollapsedWidth",S.nzCollapsedWidth)("nzCollapsed",S.nzCollapsed)("nzBreakpoint",S.nzBreakpoint)("nzReverseArrow",S.nzReverseArrow)("nzTrigger",S.nzTrigger)("nzZeroTrigger",S.nzZeroTrigger)("siderWidth",S.widthSetting)}}var u2=(()=>{class M{constructor(S,w){this.elementRef=S,this.renderer=w,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}static{this.\u0275fac=function(w){return new(w||M)(he(Be),he(Ct))}}static{this.\u0275cmp=Ke({type:M,selectors:[["nz-content"]],exportAs:["nzContent"],standalone:!0,features:[et],ngContentSelectors:_s,decls:1,vars:0,template:function(w,c){w&1&&(Vt(),Mt(0))},encapsulation:2,changeDetection:0})}}return M})();var d2=(()=>{class M{constructor(S,w){this.elementRef=S,this.renderer=w,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}static{this.\u0275fac=function(w){return new(w||M)(he(Be),he(Ct))}}static{this.\u0275cmp=Ke({type:M,selectors:[["nz-header"]],exportAs:["nzHeader"],standalone:!0,features:[et],ngContentSelectors:_s,decls:1,vars:0,template:function(w,c){w&1&&(Vt(),Mt(0))},encapsulation:2,changeDetection:0})}}return M})(),f2=(()=>{class M{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=Ke({type:M,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(w,c){w&2&&(bt("width",c.isNormalTrigger?c.siderWidth:null),it("ant-layout-sider-trigger",c.isNormalTrigger)("ant-layout-sider-zero-width-trigger",c.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",c.isZeroTrigger&&c.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",c.isZeroTrigger&&!c.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[$e,et],attrs:x8,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(w,c){w&1&&ct(0,S8,1,1,null,2)(1,C8,1,1,null,2)(2,P8,2,1,"ng-template",null,0,gn)(4,w8,1,0,"ng-template",null,1,gn),w&2&&(Lt(c.isZeroTrigger?0:-1),Le(),Lt(c.isNormalTrigger?1:-1))},dependencies:[xn,cn,hn],encapsulation:2,changeDetection:0})}}return M})(),er=(()=>{class M{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:f4(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(S){S!==this.nzCollapsed&&(this.nzCollapsed=S,this.nzCollapsedChange.emit(S),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(S,w,c){this.platform=S,this.cdr=w,this.breakpointService=c,this.destroy$=new de,this.nzMenuDirective=null,this.nzCollapsedChange=new ke,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(I4,!0).pipe(Me(this.destroy$)).subscribe(S=>{let w=this.nzBreakpoint;w&&v4().subscribe(()=>{this.matchBreakPoint=!S[w],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(S){let{nzCollapsed:w,nzCollapsedWidth:c,nzWidth:x}=S;(w||c||x)&&this.updateStyleMap(),w&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(vt),he(mt),he(B4))}}static{this.\u0275cmp=Ke({type:M,selectors:[["nz-sider"]],contentQueries:function(w,c,x){if(w&1&&kt(x,qs,5),w&2){let e;Et(e=Pt())&&(c.nzMenuDirective=e.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(w,c){w&2&&(bt("flex",c.flexSetting)("max-width",c.widthSetting)("min-width",c.widthSetting)("width",c.widthSetting),it("ant-layout-sider-zero-width",c.nzCollapsed&&c.nzCollapsedWidth===0)("ant-layout-sider-light",c.nzTheme==="light")("ant-layout-sider-dark",c.nzTheme==="dark")("ant-layout-sider-collapsed",c.nzCollapsed)("ant-layout-sider-has-trigger",c.nzCollapsible&&c.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:[2,"nzReverseArrow","nzReverseArrow",Pe],nzCollapsible:[2,"nzCollapsible","nzCollapsible",Pe],nzCollapsed:[2,"nzCollapsed","nzCollapsed",Pe]},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[ft,$e,et],ngContentSelectors:_s,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(w,c){w&1&&(Vt(),pe(0,"div",0),Mt(1),Se(),ct(2,z8,1,8,"div",1)),w&2&&(Le(2),Lt(c.nzCollapsible&&c.nzTrigger!==null?2:-1))},dependencies:[f2],encapsulation:2,changeDetection:0})}}return M})(),v2=(()=>{class M{constructor(S){this.directionality=S,this.dir="ltr",this.destroy$=new de}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Me(this.destroy$)).subscribe(S=>{this.dir=S})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||M)(he(At))}}static{this.\u0275cmp=Ke({type:M,selectors:[["nz-layout"]],contentQueries:function(w,c,x){if(w&1&&kt(x,er,4),w&2){let e;Et(e=Pt())&&(c.listOfNzSiderComponent=e)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(w,c){w&2&&it("ant-layout-rtl",c.dir==="rtl")("ant-layout-has-sider",c.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],standalone:!0,features:[et],ngContentSelectors:_s,decls:1,vars:0,template:function(w,c){w&1&&(Vt(),Mt(0))},encapsulation:2,changeDetection:0})}}return M})(),p2=(()=>{class M{static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275mod=Fe({type:M})}static{this.\u0275inj=De({imports:[er,f2]})}}return M})();var m2=(()=>{class M{constructor(){this.isCollapsed=!1}static{this.\u0275fac=function(w){return new(w||M)}}static{this.\u0275cmp=Ke({type:M,selectors:[["app-root"]],standalone:!0,features:[et],decls:27,vars:4,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsedChange","nzCollapsed","nzTrigger"],[1,"sidebar-logo"],["src","/assets/siteui/water128p.svg","alt","logo"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"sidebar-items",3,"nzInlineCollapsed"],["nz-menu-item","","nzMatchRouter",""],["src","/assets/siteui/home128p_white.svg","alt","logo"],["routerLink","/home"],["src","/assets/siteui/game128px_white.svg","alt","logo"],["routerLink","/game"],["nz-menu-item","","nzMatchRouter","",1,"menu-item-bottom"],["src","/assets/siteui/credits128p_white.svg","alt","logo"],["routerLink","/credits"],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"inner-content"]],template:function(w,c){w&1&&(pe(0,"nz-layout",0)(1,"nz-sider",1),No("nzCollapsedChange",function(e){return Yo(c.isCollapsed,e)||(c.isCollapsed=e),e}),pe(2,"div",2),Ye(3,"img",3),pe(4,"h1"),Re(5,"4 Kobolds"),Se()(),pe(6,"ul",4)(7,"li",5),Ye(8,"img",6),pe(9,"a",7),Re(10,"Home"),Se()(),pe(11,"li",5),Ye(12,"img",8),pe(13,"a",9),Re(14,"Game"),Se()(),pe(15,"li",10),Ye(16,"img",11),pe(17,"a",12),Re(18,"Cr\xE9dits"),Se()()()(),pe(19,"nz-layout")(20,"nz-header")(21,"div",13)(22,"span",14),nt("click",function(){return c.isCollapsed=!c.isCollapsed}),Ye(23,"span",15),Se()()(),pe(24,"nz-content")(25,"div",16),Ye(26,"router-outlet"),Se()()()()),w&2&&(Le(),Ho("nzCollapsed",c.isCollapsed),He("nzTrigger",null),Le(5),He("nzInlineCollapsed",c.isCollapsed),Le(17),He("nzType",c.isCollapsed?"menu-unfold":"menu-fold"))},dependencies:[Mr,Kn,Sa,cn,hn,p2,v2,d2,u2,er,c2,qs,Js],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px #00152959}.menu-item-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.header-trigger[_ngcontent-%COMP%]{height:64px;padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 20px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}.sidebar-items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-right:16px;vertical-align:middle;fill:#fff;display:inline-block}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px #00152914}nz-content[_ngcontent-%COMP%]{margin:24px}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}"]})}}return M})();Dl(m2,R4).catch(M=>console.error(M));
